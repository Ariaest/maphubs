webpackJsonp([6],[function(e,t,n){"use strict";var r=n(1),i=n(28),o=n(941);n(300),n(168),n(596),n(843),n(845),n(924),document.addEventListener("DOMContentLoaded",function(){localStorage.debug="*";var e=window.__appData;i.render(r.createElement(o,e),document.querySelector("#app"))})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(169),s=n(170),a=n(189)(s),l=n(194),c=n(274),u=n(282),h=n(286),d=n(287),p=n(266),f=n(268),g=n(290),m=r.createClass({displayName:"Header",mixins:[a.connect(l),a.connect(p)],__:function(e){return f.getLocaleString(this.state.locale,e)},propTypes:{activePage:r.PropTypes.string},componentDidMount:function(){i(this.refs.sideNav).sideNav(),i(".nav-tooltip").tooltip(),i(this.refs.explore).dropdown({inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!0,alignment:"right"}),this.detectIE()&&h.showMessage({title:this.__("Unsupported Browser"),message:this.__("Unable to support Internet Explorer. Please use Firefox or Chrome.")})},detectIE:function(){if(void 0===window)return!1;if(this.getCookie("iecheck"))return!1;this.setCookie("iecheck",!0,1);var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}return!1},setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="expires="+r.toUTCString();document.cookie=e+"="+t+"; "+i},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},render:function(){var e="nav-link-item",t="nav-link-item active",n="explore-dropdown-button nav-dropdown-button",i=e;if(this.props.activePage){var s=this.props.activePage;"map"==s?i=t:"explore"==s&&(n=t+" explore-dropdown-button nav-dropdown-button")}var a="";return MAPHUBS_CONFIG.mapHubsPro||(a=r.createElement("li",{className:"nav-link-wrapper nav-tooltip","data-position":"bottom","data-delay":"50","data-tooltip":this.__("Help us map in OpenStreetMap")},r.createElement("a",{className:i,href:"https://osm.mapforenvironment.org"},this.__("OpenStreetMap")))),r.createElement("header",null,r.createElement("nav",{style:{boxShadow:"0 0 1px rgba(0,0,0,0.7)"}},r.createElement("div",{className:"nav-wrapper z-depth-0"},r.createElement("a",{className:"brand-logo valign-wrapper",href:"/"},r.createElement("img",{className:"valign",width:MAPHUBS_CONFIG.logoWidth,height:MAPHUBS_CONFIG.logoHeight,style:{margin:"5px"},src:MAPHUBS_CONFIG.logo,alt:MAPHUBS_CONFIG.productName+" "+this.__("Logo")}),r.createElement("small",{id:"beta-text",style:{position:"absolute",top:"12px",left:MAPHUBS_CONFIG.logoWidth+5+"px",fontSize:"12px"}},MAPHUBS_CONFIG.betaText)),r.createElement("a",{ref:"sideNav",className:"button-collapse grey-text text-darken-4","data-activates":"side-nav-menu",href:"#"},r.createElement("i",{className:"material-icons"},"menu")),r.createElement("ul",{className:"right hide-on-med-and-down"},r.createElement("li",{className:"nav-link-wrapper"},r.createElement("a",{className:i,href:"/map/new"},this.__("Make a Map"))),r.createElement("li",{className:"nav-dropdown-link-wrapper nav-link-wrapper"},r.createElement("a",{className:n,ref:"explore",href:"#!","data-activates":"explore-dropdown",style:{paddingRight:0}},this.__("Explore"),r.createElement("i",{className:"material-icons right",style:{marginLeft:0}},"arrow_drop_down")),r.createElement("ul",{id:"explore-dropdown",className:"dropdown-content"},r.createElement("li",null,r.createElement("a",{href:"/explore",className:"nav-hover-menu-item"},this.__("Explore"))),r.createElement("li",{className:"divider"}),r.createElement("li",null,r.createElement("a",{href:"/maps",className:"nav-hover-menu-item"},this.__("Maps"))),r.createElement("li",null,r.createElement("a",{href:"/stories",className:"nav-hover-menu-item"},this.__("Stories"))),r.createElement("li",null,r.createElement("a",{href:"/layers",className:"nav-hover-menu-item"},this.__("Layers"))),r.createElement("li",null,r.createElement("a",{href:"/hubs",className:"nav-hover-menu-item"},this.__("Hubs"))),r.createElement("li",null,r.createElement("a",{href:"/groups",className:"nav-hover-menu-item"},this.__("Groups"))))),a,r.createElement(g,null),r.createElement("li",{className:"nav-link-wrapper nav-tooltip","data-position":"bottom","data-delay":"50","data-tooltip":this.__("Search")},r.createElement("a",{className:"nav-link-item",href:"/search"},r.createElement("i",{className:"material-icons"},"search"))),r.createElement(o,{id:"user-menu-header"})),r.createElement("ul",{className:"side-nav",id:"side-nav-menu"},r.createElement(o,{id:"user-menu-sidenav",sideNav:!0}),r.createElement(g,{id:"locale-sidenav"}),r.createElement("li",{className:"nav-link-wrapper"},r.createElement("a",{className:i,href:"/map/new"},this.__("Make a Map"))),r.createElement("li",{className:"nav-link-wrapper"},r.createElement("a",{className:n,href:"/explore"},this.__("Explore"))),a,r.createElement("li",{className:"nav-link-wrapper"},r.createElement("a",{href:"/search",className:"nav-link-item"},r.createElement("i",{className:"material-icons"},"search"),this.__("Search")))))),r.createElement(c,null),r.createElement(u,null),r.createElement(d,null))}});e.exports=m},,function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(170),s=n(189)(o),a=n(194),l=n(195),c=n(206),u=n(266),h=n(268),d=r.createClass({displayName:"UserMenu",mixins:[s.connect(a),s.connect(u)],__:function(e){return h.getLocaleString(this.state.locale,e)},propTypes:{id:r.PropTypes.string,sideNav:r.PropTypes.bool},getDefaultProps:function(){return{id:"user-menu",sideNav:!1}},componentDidMount:function(){l.getUser(function(){})},componentDidUpdate:function(e){this.state.loggedIn&&!e.loggedIn&&i(this.refs.userButton).dropdown({inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!0,alignment:"right"})},loginClick:function(){window.location="/login?returnTo="+window.location},logoutClick:function(){window.location="/logout?returnTo="+window.location},render:function(){var e=r.createElement("div",{style:{width:"194px"}});if(!this.state.loaded)return e;if(this.state.loggedIn&&this.state.user){var t="";this.state.user.admin&&(t=r.createElement("li",{className:"usermenu-wrapper"},r.createElement("a",{href:"/admin/invite"},this.__("Invite Users")))),e=r.createElement("li",null,r.createElement("div",{ref:"userButton",className:"chip user-dropdown-button omh-btn",style:{marginRight:"5px",marginLeft:"5px",backgroundColor:"#FFF"},"data-activates":this.props.id},r.createElement(c,{email:this.state.user.email}),this.state.user.display_name,r.createElement("i",{className:"material-icons right",style:{marginLeft:0,color:"#212121",height:"30px",lineHeight:"30px",width:"15px"}},"arrow_drop_down")),r.createElement("ul",{id:this.props.id,className:"dropdown-content",style:{top:"100px"}},r.createElement("li",{className:"usermenu-wrapper"},r.createElement("a",{href:"/user/"+this.state.user.display_name+"/maps"},this.__("My Maps"))),r.createElement("li",{className:"divider"}),r.createElement("li",{className:"usermenu-wrapper"},r.createElement("a",{href:"/user/"+this.state.user.display_name+"/stories"},this.__("My Stories"))),r.createElement("li",{className:"divider"}),r.createElement("li",{className:"usermenu-wrapper"},r.createElement("a",{href:"/user/"+this.state.user.display_name+"/groups"},this.__("My Groups"))),r.createElement("li",{className:"divider"}),r.createElement("li",{className:"usermenu-wrapper"},r.createElement("a",{href:"/user/"+this.state.user.display_name+"/hubs"},this.__("My Hubs"))),r.createElement("li",{className:"divider"}),r.createElement("li",{className:"usermenu-wrapper"},r.createElement("a",{href:"/user/settings"},this.__("Settings"))),t,r.createElement("li",{className:"divider"}),r.createElement("li",{className:"usermenu-wrapper"},r.createElement("a",{href:"/logout"},this.__("Logout")))))}else{var n="",i={};this.props.sideNav||(i={marginLeft:"1px",marginRight:"5px"}),MAPHUBS_CONFIG.mapHubsPro||(n=r.createElement("a",{className:"btn",style:i,href:"/signup"},this.__("Sign Up"))),e=r.createElement("span",null,r.createElement("li",{className:"nav-link-wrapper"},r.createElement("a",{className:"nav-link-item",style:{float:this.props.sideNav?"inherit":"left"},href:"#",onClick:this.loginClick},this.__("Login"))),n)}return e}});e.exports=d},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(195),s=n(196),a=n(201)("stores/user-store"),l=n(205).checkClientError;e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return{user:{},loggedIn:!1,loaded:!1}},reset:function(){this.setState(this.getInitialState())},storeDidUpdate:function(){a("store updated")},login:function(e){this.setState({user:e,loggedIn:!0,loaded:!0})},getUser:function(e){var t=this;s.post("/api/user/details/json").type("json").accept("json").end(function(n,r){l(r,n,e,function(e){n?e(n):r.body&&r.body.loggedIn?(t.login(r.body.user),e()):(t.setState({loaded:!0}),e(JSON.stringify(r.body)))})})},logout:function(){this.setState(this.getInitialState()),this.trigger(this.state)},register:function(){},updatePassword:function(e,t,n,r,i){return this.state.loggedIn&&this.state.user.id!==e?(a("User ID mismatch, will not send request"),void i("User session error, please clear browser sessions/cache and try again.")):void(this.state.loggedIn||n?s.post("/api/user/updatepassword").type("json").accept("json").send({user_id:e,password:t,pass_reset:n,_csrf:r}).end(function(e,t){l(t,e,i,function(t){t(e)})}):(a("Pass reset key not found"),i("User session error, please clear browser sessions/cache and try again.")))},forgotPassword:function(e,t,n){s.post("/api/user/forgotpassword").type("json").accept("json").send({email:e,_csrf:t}).end(function(e,t){l(t,e,n,function(t){t(e)})})},signup:function(e,t,n,r,i,o,a,c){s.post("/api/user/signup").type("json").accept("json").send({username:e,name:t,email:n,password:r,joinmailinglist:i,inviteKey:o,_csrf:a}).end(function(e,t){l(t,e,c,function(t){t(e)})})},joinMailingList:function(e,t,n){s.post("/api/user/mailinglistsignup").type("json").accept("json").send({email:e,_csrf:t}).end(function(e,t){l(t,e,n,function(t){t(e)})})},resendConfirmation:function(e,t){s.post("/api/user/resendconfirmation").type("json").accept("json").send({_csrf:e}).end(function(e,n){l(n,e,t,function(t){t(e)})})},checkUserNameAvailable:function(e,t){}})},function(e,t,n){"use strict";var r=n(170),i=r.createActions({login:{},logout:{},register:{},getUser:{},updatePassword:{},forgotPassword:{},checkUserNameAvailable:{},signup:{},resendConfirmation:{},joinMailingList:{}});e.exports=i},,,,,,function(e,t,n){"use strict";var r=n(202);e.exports=function(e){return r("maphubs:"+e)}},,,,function(e,t,n){"use strict";var r=n(201)("clientError");e.exports={checkClientError:function(e,t,n,i){t&&e&&e.body&&e.body.error?(r(e.body.error),n(e.body.error)):t?(r(t.message),n(t.message)):e&&e.body&&void 0!==e.body.success&&0==e.body.success?e.body.error?(r(e.body.error),n(e.body.error)):(r("unknown error"),n("unknown error")):e.body.error?(r(e.body.error),n(e.body.error)):i(e.body.success?n:n)}}},function(e,t,n){"use strict";var r=n(1),i=n(207),o=r.createClass({displayName:"Gravatar",propTypes:{email:r.PropTypes.string,emailHash:r.PropTypes.string,size:r.PropTypes.number},getDefaultProps:function(){return{size:30}},render:function(){var e=null;e=this.props.emailHash?this.props.emailHash:i.createHash("md5").update(this.props.email.trim().toLowerCase()).digest("hex");var t="https://www.gravatar.com/avatar/"+e;return t+=this.props.size?"?s="+2*this.props.size+"&d=mm":"?d=mm",r.createElement("img",{className:"circle",height:this.props.size,width:this.props.size,style:{height:this.props.size+"px",width:this.props.size+"px",border:"1px solid #bbbbbb"},src:t,alt:"User Profile Photo"})}});e.exports=o},function(e,t,n){(function(r){function i(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function o(e,t){for(var n in e)t(e[n],n)}var s=n(212);t.createHash=n(214),t.createHmac=n(226),t.randomBytes=function(e,t){if(!t||!t.call)return new r(s(e));try{t.call(this,void 0,new r(s(e)))}catch(e){t(e)}},t.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var a=n(227)(t);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync,n(229)(t,e.exports),o(["createCredentials","createSign","createVerify","createDiffieHellman"],function(e){t[e]=function(){i("sorry,",e,"is not implemented yet")}})}).call(t,n(208).Buffer)},function(e,t,n){(function(e){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=s.prototype):(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?h(e,t,n):f(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return l(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function u(e,t){if(l(t),e=o(e,t<0?0:0|g(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=o(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function d(e,t){var n=t.length<0?0:0|g(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),s.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=s.prototype):e=d(e,t),e}function f(e,t){if(s.isBuffer(t)){var n=0|g(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&Q(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),s.alloc(+e)}function v(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return F(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}var c;if(i){var u=-1;for(c=n;c<a;c++)if(o(e,c)===o(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===l)return u*s}else u!==-1&&(c-=c-u),u=-1}else for(n+l>a&&(n=a-l),c=n;c>=0;c--){for(var h=!0,d=0;d<l;d++)if(o(e,c+d)!==o(t,d)){h=!1;break}if(h)return c}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function E(e,t,n,r){return Y(q(t,e.length-n),e,n,r)}function C(e,t,n,r){return Y(H(t),e,n,r)}function S(e,t,n,r){return C(e,t,n,r)}function k(e,t,n,r){return Y(K(t),e,n,r)}function A(e,t,n,r){return Y(G(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function F(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var l,c,u,h;switch(a){case 1:o<128&&(s=o);break;case 2:l=e[i+1],128===(192&l)&&(h=(31&o)<<6|63&l,h>127&&(s=h));break;case 3:l=e[i+1],c=e[i+2],128===(192&l)&&128===(192&c)&&(h=(15&o)<<12|(63&l)<<6|63&c,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(h=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u,h>65535&&h<1114112&&(s=h))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return L(r)}function L(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=W(e[o]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function $(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return i||$(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return i||$(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,r,52,8),n+8}function U(e){if(e=V(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function K(e){return J.toByteArray(U(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e){return e!==e}var J=n(209),Z=n(210),Q=n(211);t.Buffer=s,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),t.kMaxLength=i(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return a(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return c(null,e,t,n)},s.allocUnsafe=function(e){return u(null,e)},s.allocUnsafeSlow=function(e){return u(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?F(this,0,e):y.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,l=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),h=0;h<l;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},s.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(s.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=s.prototype;else{var i=t-e;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;P(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;P(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:q(new s(e,r).toString()),l=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,r,i,o,s,a,l=e.length;s=n(e),a=new u(3*l/4-s),i=s>0?l-4:l;var h=0;for(t=0,r=0;t<i;t+=4,r+=3)o=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[h++]=o>>16&255,a[h++]=o>>8&255,a[h++]=255&o;return 2===s?(o=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[h++]=255&o):1===s&&(o=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[h++]=o>>8&255,a[h++]=255&o),a}function o(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(o(r));return i.join("")}function a(e){for(var t,n=e.length,r=n%3,i="",o=[],a=16383,c=0,u=n-r;c<u;c+=a)o.push(s(e,c,c+a>u?u:c+a));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=a;for(var l=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)l[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=f,s/=256,c-=8);e[n+p-f]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t,r){!function(){var i=("undefined"==typeof window?t:window)||{};_crypto=i.crypto||i.msCrypto||n(213),e.exports=function(e){if(_crypto.getRandomValues){var t=new r(e);return _crypto.getRandomValues(t),t}if(_crypto.randomBytes)return _crypto.randomBytes(e);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(t,function(){return this}(),n(208).Buffer)},function(e,t){},function(e,t,n){(function(t){function r(e){return function(){var n=[],r={update:function(e,r){return t.isBuffer(e)||(e=new t(e,r)),n.push(e),this},digest:function(r){var i=t.concat(n),o=e(i);return n=null,r?o.toString(r):o}};return r}}var i=n(215),o=r(n(223)),s=r(n(225));e.exports=function(e){return"md5"===e?new o:"rmd160"===e?new s:i(e)}}).call(t,n(208).Buffer)},function(e,t,n){var t=e.exports=function(e){var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n},r=n(208).Buffer,i=n(216)(r);t.sha1=n(217)(r,i),t.sha256=n(221)(r,i),t.sha512=n(222)(r,i)},function(e,t){e.exports=function(e){function t(t,n){this._block=new e(t),this._finalSize=n,this._blockSize=t,this._len=0,this._s=0}return t.prototype.init=function(){this._s=0,this._len=0},t.prototype.update=function(t,n){"string"==typeof t&&(n=n||"utf8",t=new e(t,n));for(var r=this._len+=t.length,i=this._s=this._s||0,o=0,s=this._block;i<r;){for(var a=Math.min(t.length,o+this._blockSize-i%this._blockSize),l=a-o,c=0;c<l;c++)s[i%this._blockSize+c]=t[c+o];i+=l,o+=l,i%this._blockSize===0&&this._update(s)}return this._s=i,this},t.prototype.digest=function(e){var t=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),t%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(t,this._blockSize-4);var n=this._update(this._block)||this._hash();return e?n.toString(e):n},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t}},function(e,t,n){var r=n(218).inherits;e.exports=function(e,t){function n(){return f.length?f.pop().init():this instanceof n?(this._w=p,t.call(this,64,56),this._h=null,void this.init()):new n}function i(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function o(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function s(e,t){return e+t|0}function a(e,t){return e<<t|e>>>32-t}var l=0,c=4,u=8,h=12,d=16,p=new("undefined"==typeof Int32Array?Array:Int32Array)(80),f=[];return r(n,t),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,t.prototype.init.call(this),this},n.prototype._POOL=f,n.prototype._update=function(e){var t,n,r,l,c,u,h,d,p,f;t=u=this._a,n=h=this._b,r=d=this._c,l=p=this._d,c=f=this._e;for(var g=this._w,m=0;m<80;m++){var v=g[m]=m<16?e.readInt32BE(4*m):a(g[m-3]^g[m-8]^g[m-14]^g[m-16],1),y=s(s(a(t,5),i(m,n,r,l)),s(s(c,v),o(m)));c=l,l=r,r=a(n,30),n=t,t=y}this._a=s(t,u),this._b=s(n,h),this._c=s(r,d),this._d=s(l,p),this._e=s(c,f)},n.prototype._hash=function(){f.length<100&&f.push(this);var t=new e(20);return t.writeInt32BE(0|this._a,l),t.writeInt32BE(0|this._b,c),t.writeInt32BE(0|this._c,u),t.writeInt32BE(0|this._d,h),t.writeInt32BE(0|this._e,d),t},n}},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=c(e,n);if(o)return o;var s=Object.keys(n),g=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(k(n)){var m=n.name?": "+n.name:"";return e.stylize("[Function"+m+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return u(n)}var v="",y=!1,w=["{","}"];if(f(n)&&(y=!0,w=["[","]"]),k(n)){var x=n.name?": "+n.name:"";v=" [Function"+x+"]"}if(_(n)&&(v=" "+RegExp.prototype.toString.call(n)),C(n)&&(v=" "+Date.prototype.toUTCString.call(n)),S(n)&&(v=" "+u(n)),0===s.length&&(!y||0==n.length))return w[0]+v+w[1];if(r<0)return _(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var E;return E=y?h(e,n,r,g,s):s.map(function(t){return d(e,n,r,g,t,y)}),e.seen.pop(),p(E,v,w)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)R(t,String(s))?o.push(d(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?l(e,c.value,null):l(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function p(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return E(e)&&"[object RegExp]"===T(e)}function E(e){return"object"==typeof e&&null!==e}function C(e){return E(e)&&"[object Date]"===T(e)}function S(e){return E(e)&&("[object Error]"===T(e)||e instanceof Error)}function k(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function T(e){return Object.prototype.toString.call(e)}function F(e){return e<10?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[F(e.getHours()),F(e.getMinutes()),F(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(M,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])s+=m(a)||!E(a)?" "+a:" "+i(a);return s},t.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return o};var I,D={};t.debuglog=function(e){if(x(I)&&(I={APP_ENV:"browser",NODE_ENV:"production"}.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var n=r.pid;D[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else D[e]=function(){};return D[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=v,t.isNumber=y,t.isString=b,t.isSymbol=w,t.isUndefined=x,t.isRegExp=_,t.isObject=E,t.isDate=C,t.isError=S,t.isFunction=k,t.isPrimitive=A,t.isBuffer=n(219);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",L(),t.format.apply(t,arguments))},t.inherits=n(220),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(109))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(218).inherits;e.exports=function(e,t){function n(){this.init(),this._w=p,t.call(this,64,56)}function i(e,t){return e>>>t|e<<32-t}function o(e,t){return e>>>t}function s(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function l(e){return i(e,2)^i(e,13)^i(e,22)}function c(e){return i(e,6)^i(e,11)^i(e,25)}function u(e){return i(e,7)^i(e,18)^o(e,3)}function h(e){return i(e,17)^i(e,19)^o(e,10)}var d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);return r(n,t),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(e){var t,n,r,i,o,p,f,g,m,v,y=this._w;t=0|this._a,n=0|this._b,r=0|this._c,i=0|this._d,o=0|this._e,p=0|this._f,f=0|this._g,g=0|this._h;for(var b=0;b<64;b++){var w=y[b]=b<16?e.readInt32BE(4*b):h(y[b-2])+y[b-7]+u(y[b-15])+y[b-16];m=g+c(o)+s(o,p,f)+d[b]+w,v=l(t)+a(t,n,r),g=f,f=p,p=o,o=i+m,i=r,r=n,n=t,t=m+v}this._a=t+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=p+this._f|0,this._g=f+this._g|0,this._h=g+this._h|0},n.prototype._hash=function(){var t=new e(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},n}},function(e,t,n){var r=n(218).inherits;e.exports=function(e,t){function n(){this.init(),this._w=l,t.call(this,128,112)}function i(e,t,n){return e>>>n|t<<32-n}function o(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}var a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);return r(n,t),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(e){var t,n,r,l,c,u,h,d,p,f,g,m,v,y,b,w,x=this._w;t=0|this._a,n=0|this._b,r=0|this._c,l=0|this._d,c=0|this._e,u=0|this._f,h=0|this._g,d=0|this._h,p=0|this._al,f=0|this._bl,g=0|this._cl,m=0|this._dl,v=0|this._el,y=0|this._fl,b=0|this._gl,w=0|this._hl;for(var _=0;_<80;_++){var E,C,S=2*_;if(_<16)E=x[S]=e.readInt32BE(4*S),C=x[S+1]=e.readInt32BE(4*S+4);else{var k=x[S-30],A=x[S-30+1],T=i(k,A,1)^i(k,A,8)^k>>>7,F=i(A,k,1)^i(A,k,8)^i(A,k,7);k=x[S-4],A=x[S-4+1];var L=i(k,A,19)^i(A,k,29)^k>>>6,R=i(A,k,19)^i(k,A,29)^i(A,k,6),M=x[S-14],I=x[S-14+1],D=x[S-32],N=x[S-32+1];C=F+I,E=T+M+(C>>>0<F>>>0?1:0),C+=R,E=E+L+(C>>>0<R>>>0?1:0),C+=N,E=E+D+(C>>>0<N>>>0?1:0),x[S]=E,x[S+1]=C}var P=s(t,n,r),O=s(p,f,g),B=i(t,p,28)^i(p,t,2)^i(p,t,7),$=i(p,t,28)^i(t,p,2)^i(t,p,7),j=i(c,v,14)^i(c,v,18)^i(v,c,9),z=i(v,c,14)^i(v,c,18)^i(c,v,9),U=a[S],V=a[S+1],W=o(c,u,h),q=o(v,y,b),H=w+z,G=d+j+(H>>>0<w>>>0?1:0);H+=q,G=G+W+(H>>>0<q>>>0?1:0),H+=V,G=G+U+(H>>>0<V>>>0?1:0),H+=C,G=G+E+(H>>>0<C>>>0?1:0);var K=$+O,Y=B+P+(K>>>0<$>>>0?1:0);d=h,w=b,h=u,b=y,u=c,y=v,v=m+H|0,c=l+G+(v>>>0<m>>>0?1:0)|0,l=r,m=g,r=n,g=f,n=t,f=p,p=H+K|0,t=G+Y+(p>>>0<H>>>0?1:0)|0}this._al=this._al+p|0,this._bl=this._bl+f|0,this._cl=this._cl+g|0,this._dl=this._dl+m|0,this._el=this._el+v|0,this._fl=this._fl+y|0,this._gl=this._gl+b|0,this._hl=this._hl+w|0,this._a=this._a+t+(this._al>>>0<p>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<f>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<g>>>0?1:0)|0,this._d=this._d+l+(this._dl>>>0<m>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<v>>>0?1:0)|0,this._f=this._f+u+(this._fl>>>0<y>>>0?1:0)|0,this._g=this._g+h+(this._gl>>>0<b>>>0?1:0)|0,this._h=this._h+d+(this._hl>>>0<w>>>0?1:0)|0},n.prototype._hash=function(){function t(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}var n=new e(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),n},n}},function(e,t,n){function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,i=-1732584194,u=271733878,h=0;h<e.length;h+=16){var d=n,p=r,f=i,g=u;n=o(n,r,i,u,e[h+0],7,-680876936),u=o(u,n,r,i,e[h+1],12,-389564586),i=o(i,u,n,r,e[h+2],17,606105819),r=o(r,i,u,n,e[h+3],22,-1044525330),n=o(n,r,i,u,e[h+4],7,-176418897),u=o(u,n,r,i,e[h+5],12,1200080426),i=o(i,u,n,r,e[h+6],17,-1473231341),r=o(r,i,u,n,e[h+7],22,-45705983),n=o(n,r,i,u,e[h+8],7,1770035416),u=o(u,n,r,i,e[h+9],12,-1958414417),i=o(i,u,n,r,e[h+10],17,-42063),r=o(r,i,u,n,e[h+11],22,-1990404162),n=o(n,r,i,u,e[h+12],7,1804603682),u=o(u,n,r,i,e[h+13],12,-40341101),i=o(i,u,n,r,e[h+14],17,-1502002290),r=o(r,i,u,n,e[h+15],22,1236535329),n=s(n,r,i,u,e[h+1],5,-165796510),u=s(u,n,r,i,e[h+6],9,-1069501632),i=s(i,u,n,r,e[h+11],14,643717713),r=s(r,i,u,n,e[h+0],20,-373897302),n=s(n,r,i,u,e[h+5],5,-701558691),u=s(u,n,r,i,e[h+10],9,38016083),i=s(i,u,n,r,e[h+15],14,-660478335),r=s(r,i,u,n,e[h+4],20,-405537848),n=s(n,r,i,u,e[h+9],5,568446438),u=s(u,n,r,i,e[h+14],9,-1019803690),i=s(i,u,n,r,e[h+3],14,-187363961),r=s(r,i,u,n,e[h+8],20,1163531501),n=s(n,r,i,u,e[h+13],5,-1444681467),u=s(u,n,r,i,e[h+2],9,-51403784),i=s(i,u,n,r,e[h+7],14,1735328473),r=s(r,i,u,n,e[h+12],20,-1926607734),n=a(n,r,i,u,e[h+5],4,-378558),u=a(u,n,r,i,e[h+8],11,-2022574463),i=a(i,u,n,r,e[h+11],16,1839030562),r=a(r,i,u,n,e[h+14],23,-35309556),n=a(n,r,i,u,e[h+1],4,-1530992060),u=a(u,n,r,i,e[h+4],11,1272893353),i=a(i,u,n,r,e[h+7],16,-155497632),r=a(r,i,u,n,e[h+10],23,-1094730640),n=a(n,r,i,u,e[h+13],4,681279174),u=a(u,n,r,i,e[h+0],11,-358537222),i=a(i,u,n,r,e[h+3],16,-722521979),r=a(r,i,u,n,e[h+6],23,76029189),n=a(n,r,i,u,e[h+9],4,-640364487),u=a(u,n,r,i,e[h+12],11,-421815835),i=a(i,u,n,r,e[h+15],16,530742520),r=a(r,i,u,n,e[h+2],23,-995338651),n=l(n,r,i,u,e[h+0],6,-198630844),u=l(u,n,r,i,e[h+7],10,1126891415),i=l(i,u,n,r,e[h+14],15,-1416354905),r=l(r,i,u,n,e[h+5],21,-57434055),n=l(n,r,i,u,e[h+12],6,1700485571),u=l(u,n,r,i,e[h+3],10,-1894986606),i=l(i,u,n,r,e[h+10],15,-1051523),r=l(r,i,u,n,e[h+1],21,-2054922799),n=l(n,r,i,u,e[h+8],6,1873313359),u=l(u,n,r,i,e[h+15],10,-30611744),i=l(i,u,n,r,e[h+6],15,-1560198380),r=l(r,i,u,n,e[h+13],21,1309151649),n=l(n,r,i,u,e[h+4],6,-145523070),u=l(u,n,r,i,e[h+11],10,-1120210379),i=l(i,u,n,r,e[h+2],15,718787259),r=l(r,i,u,n,e[h+9],21,-343485551),n=c(n,d),r=c(r,p),i=c(i,f),u=c(u,g)}return Array(n,r,i,u)}function i(e,t,n,r,i,o){return c(u(c(c(t,e),c(r,o)),i),n)}function o(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function s(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function a(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function l(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}function c(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}var h=n(224);e.exports=function(e){return h.hash(e,r,16)}},function(e,t,n){(function(t){function n(e,n){if(e.length%o!==0){var r=e.length+(o-e.length%o);e=t.concat([e,s],r)}for(var i=[],a=n?e.readInt32BE:e.readInt32LE,l=0;l<e.length;l+=o)i.push(a.call(e,l));return i}function r(e,n,r){for(var i=new t(n),o=r?i.writeInt32BE:i.writeInt32LE,s=0;s<e.length;s++)o.call(i,e[s],4*s,!0);return i}function i(e,i,o,s){t.isBuffer(e)||(e=new t(e));var l=i(n(e,s),e.length*a);return r(l,o,s)}var o=4,s=new t(o);s.fill(0);var a=8;e.exports={hash:i}}).call(t,n(208).Buffer)},function(e,t,n){(function(t){function n(e,t,n){return e^t^n}function r(e,t,n){return e&t|~e&n}function i(e,t,n){return(e|~t)^n}function o(e,t,n){return e&n|t&~n}function s(e,t,n){return e^(t|~n)}function a(e,t){return e<<t|e>>>32-t}function l(e){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof e&&(e=new t(e,"utf8"));var r=g(e),i=8*e.length,o=8*e.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var s=0;s<r.length;s+=16)v(n,r,s);for(var s=0;s<5;s++){var a=n[s];n[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var l=m(n);return new t(l)}e.exports=l;/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0],g=function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},m=function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},v=function(e,t,l){for(var g=0;g<16;g++){var m=l+g,v=t[m];t[m]=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8)}var y,b,w,x,_,E,C,S,k,A;E=y=e[0],C=b=e[1],S=w=e[2],k=x=e[3],A=_=e[4];for(var T,g=0;g<80;g+=1)T=y+t[l+c[g]]|0,T+=g<16?n(b,w,x)+p[0]:g<32?r(b,w,x)+p[1]:g<48?i(b,w,x)+p[2]:g<64?o(b,w,x)+p[3]:s(b,w,x)+p[4],T|=0,T=a(T,h[g]),T=T+_|0,y=_,_=x,x=a(w,10),w=b,b=T,T=E+t[l+u[g]]|0,T+=g<16?s(C,S,k)+f[0]:g<32?o(C,S,k)+f[1]:g<48?i(C,S,k)+f[2]:g<64?r(C,S,k)+f[3]:n(C,S,k)+f[4],T|=0,T=a(T,d[g]),T=T+A|0,E=A,A=k,k=a(S,10),S=C,C=T;T=e[1]+w+k|0,e[1]=e[2]+x+A|0,e[2]=e[3]+_+E|0,e[3]=e[4]+y+C|0,e[4]=e[0]+b+S|0,e[0]=T}}).call(t,n(208).Buffer)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);this._opad=l,this._alg=e;var s="sha512"===e?128:64;n=this._key=t.isBuffer(n)?n:new t(n),n.length>s?n=i(e).update(n).digest():n.length<s&&(n=t.concat([n,o],s));for(var a=this._ipad=new t(s),l=this._opad=new t(s),c=0;c<s;c++)a[c]=54^n[c],l[c]=92^n[c];this._hash=i(e).update(a)}var i=n(214),o=new t(128);o.fill(0),e.exports=r,r.prototype.update=function(e,t){return this._hash.update(e,t),this},r.prototype.digest=function(e){var t=this._hash.digest();return i(this._alg).update(this._opad).update(t).digest(e)}}).call(t,n(208).Buffer)},function(e,t,n){var r=n(228);e.exports=function(e,t){t=t||{};var n=r(e);return t.pbkdf2=n.pbkdf2,t.pbkdf2Sync=n.pbkdf2Sync,t}},function(e,t,n){(function(t){e.exports=function(e){function n(e,t,n,i,o,s){if("function"==typeof o&&(s=o,o=void 0),"function"!=typeof s)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var a;try{a=r(e,t,n,i,o)}catch(e){return s(e)}s(void 0,a)})}function r(n,r,i,o,s){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0)throw new TypeError("Bad key length");s=s||"sha1",t.isBuffer(n)||(n=new t(n)),t.isBuffer(r)||(r=new t(r));var a,l,c,u=1,h=new t(o),d=new t(r.length+4);r.copy(d,0,0,r.length);for(var p=1;p<=u;p++){d.writeUInt32BE(p,r.length);var f=e.createHmac(s,n).update(d).digest();if(!a&&(a=f.length,c=new t(a),u=Math.ceil(o/a),l=o-(u-1)*a,o>(Math.pow(2,32)-1)*a))throw new TypeError("keylen exceeds maximum length");f.copy(c,0,0,a);for(var g=1;g<i;g++){f=e.createHmac(s,n).update(f).digest();for(var m=0;m<a;m++)c[m]^=f[m]}var v=(p-1)*a,y=p==u?l:a;c.copy(h,v,0,y)}return h}return{pbkdf2:n,pbkdf2Sync:r}}}).call(t,n(208).Buffer)},function(e,t,n){e.exports=function(e,t){function r(){return Object.keys(s)}t=t||{};var i=n(230)(e);t.createCipher=i.createCipher,t.createCipheriv=i.createCipheriv;var o=n(265)(e);t.createDecipher=o.createDecipher,t.createDecipheriv=o.createDecipheriv;var s=n(256);t.listCiphers=r}},function(e,t,n){(function(t){function r(e,n,a){return this instanceof r?(s.call(this),this._cache=new i,this._cipher=new o.AES(n),this._prev=new t(a.length),a.copy(this._prev),void(this._mode=e)):new r(e,n,a)}function i(){return this instanceof i?void(this.cache=new t("")):new i}var o=n(231),s=n(232),a=n(235),l=n(256),c=n(257),u=n(258);a(r,s),r.prototype._transform=function(e,t,n){this._cache.add(e);for(var r,i;r=this._cache.get();)i=this._mode.encrypt(this,r),this.push(i);n()},r.prototype._flush=function(e){var t=this._cache.flush();this.push(this._mode.encrypt(this,t)),this._cipher.scrub(),e()},i.prototype.add=function(e){this.cache=t.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){for(var e=16-this.cache.length,n=new t(e),r=-1;++r<e;)n.writeUInt8(e,r);var i=t.concat([this.cache,n]);return i};var h={ECB:n(259),CBC:n(260),CFB:n(262),OFB:n(263),CTR:n(264)};e.exports=function(e){function n(e,n,i){var o=l[e];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new t(i)),"string"==typeof n&&(n=new t(n)),n.length!==o.key/8)throw new TypeError("invalid key length "+n.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new u(h[o.mode],n,i):new r(h[o.mode],n,i)}function i(t,r){var i=l[t];if(!i)throw new TypeError("invalid suite type");var o=c(e,r,i.key,i.iv);return n(t,o.key,o.iv)}return{createCipher:i,createCipheriv:n}}}).call(t,n(208).Buffer)},function(e,t,n){(function(e){function n(e){var t,n;return t=e>a||e<0?(n=Math.abs(e)%a,e<0?a-n:n):e}function r(e){var t,n,r;for(t=n=0,r=e.length;0<=r?n<r:n>r;t=0<=r?++n:--n)e[t]=0;return!1}function i(){var e;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var t,n;for(n=[],e=t=0;t<4;e=++t)n.push([]);return n}(),this.INV_SUB_MIX=function(){var t,n;for(n=[],e=t=0;t<4;e=++t)n.push([]);return n}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function o(e){for(var t=e.length/4,n=new Array(t),r=-1;++r<t;)n[r]=e.readUInt32BE(4*r);return n}function s(e){this._key=o(e),this._doReset()}var a=Math.pow(2,32);i.prototype.init=function(){var e,t,n,r,i,o,s,a,l,c;for(e=function(){var e,n;for(n=[],t=e=0;e<256;t=++e)t<128?n.push(t<<1):n.push(t<<1^283);return n}(),i=0,l=0,t=c=0;c<256;t=++c)n=l^l<<1^l<<2^l<<3^l<<4,n=n>>>8^255&n^99,this.SBOX[i]=n,this.INV_SBOX[n]=i,o=e[i],s=e[o],a=e[s],r=257*e[n]^16843008*n,this.SUB_MIX[0][i]=r<<24|r>>>8,this.SUB_MIX[1][i]=r<<16|r>>>16,this.SUB_MIX[2][i]=r<<8|r>>>24,this.SUB_MIX[3][i]=r,r=16843009*a^65537*s^257*o^16843008*i,this.INV_SUB_MIX[0][n]=r<<24|r>>>8,this.INV_SUB_MIX[1][n]=r<<16|r>>>16,this.INV_SUB_MIX[2][n]=r<<8|r>>>24,this.INV_SUB_MIX[3][n]=r,0===i?i=l=1:(i=o^e[e[e[a^o]]],l^=e[e[l]]);return!0};var l=new i;s.blockSize=16,s.prototype.blockSize=s.blockSize,s.keySize=32,s.prototype.keySize=s.keySize,s.ivSize=s.blockSize,s.prototype.ivSize=s.ivSize,s.prototype._doReset=function(){var e,t,n,r,i,o,s,a;for(n=this._key,t=n.length,this._nRounds=t+6,i=4*(this._nRounds+1),this._keySchedule=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)this._keySchedule[r]=r<t?n[r]:(o=this._keySchedule[r-1],r%t===0?(o=o<<8|o>>>24,o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o],o^=l.RCON[r/t|0]<<24):t>6&&r%t===4?o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o]:void 0,this._keySchedule[r-t]^o);for(this._invKeySchedule=[],e=a=0;0<=i?a<i:a>i;e=0<=i?++a:--a)r=i-e,o=this._keySchedule[r-(e%4?0:4)],this._invKeySchedule[e]=e<4||r<=4?o:l.INV_SUB_MIX[0][l.SBOX[o>>>24]]^l.INV_SUB_MIX[1][l.SBOX[o>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[o>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&o]];return!0},s.prototype.encryptBlock=function(t){t=o(new e(t));var n=this._doCryptBlock(t,this._keySchedule,l.SUB_MIX,l.SBOX),r=new e(16);return r.writeUInt32BE(n[0],0),r.writeUInt32BE(n[1],4),r.writeUInt32BE(n[2],8),r.writeUInt32BE(n[3],12),r},s.prototype.decryptBlock=function(t){t=o(new e(t));var n=[t[3],t[1]];t[1]=n[0],t[3]=n[1];var r=this._doCryptBlock(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX),i=new e(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i},s.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},s.prototype._doCryptBlock=function(e,t,r,i){var o,s,a,l,c,u,h,d,p,f,g,m;for(a=e[0]^t[0],l=e[1]^t[1],c=e[2]^t[2],u=e[3]^t[3],o=4,s=g=1,m=this._nRounds;1<=m?g<m:g>m;s=1<=m?++g:--g)h=r[0][a>>>24]^r[1][l>>>16&255]^r[2][c>>>8&255]^r[3][255&u]^t[o++],d=r[0][l>>>24]^r[1][c>>>16&255]^r[2][u>>>8&255]^r[3][255&a]^t[o++],p=r[0][c>>>24]^r[1][u>>>16&255]^r[2][a>>>8&255]^r[3][255&l]^t[o++],f=r[0][u>>>24]^r[1][a>>>16&255]^r[2][l>>>8&255]^r[3][255&c]^t[o++],a=h,l=d,c=p,u=f;return h=(i[a>>>24]<<24|i[l>>>16&255]<<16|i[c>>>8&255]<<8|i[255&u])^t[o++],d=(i[l>>>24]<<24|i[c>>>16&255]<<16|i[u>>>8&255]<<8|i[255&a])^t[o++],p=(i[c>>>24]<<24|i[u>>>16&255]<<16|i[a>>>8&255]<<8|i[255&l])^t[o++],f=(i[u>>>24]<<24|i[a>>>16&255]<<16|i[l>>>8&255]<<8|i[255&c])^t[o++],[n(h),n(d),n(p),n(f)]},t.AES=s}).call(t,n(208).Buffer)},function(e,t,n){(function(t){function r(){i.call(this)}var i=n(233).Transform,o=n(235);e.exports=r,o(r,i),r.prototype.update=function(e,n,r){this.write(e,n);for(var i,o=new t("");i=this.read();)o=t.concat([o,i]);return r&&(o=o.toString(r)),o},r.prototype.final=function(e){this.end();for(var n,r=new t("");n=this.read();)r=t.concat([r,n]);return e&&(r=r.toString(e)),r}}).call(t,n(208).Buffer)},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(234).EventEmitter,o=n(235);o(r,i),r.Readable=n(236),r.Writable=n(252),r.Duplex=n(253),r.Transform=n(254),r.PassThrough=n(255),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){u||(u=!0,e.end())}function s(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),e.removeListener("error",a),c.removeListener("end",l),c.removeListener("close",l),e.removeListener("close",l)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",s));var u=!1;return c.on("error",a),e.on("error",a),c.on("end",l),c.on("close",l),e.on("close",l),e.emit("pipe",c),e}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,l=0;l<i;l++)c[l].apply(this,a);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){var i=function(){try{return n(233)}catch(e){}}();t=e.exports=n(237),t.Stream=i||t,t.Readable=t,t.Writable=n(245),t.Duplex=n(244),t.Transform=n(250),t.PassThrough=n(251),!r.browser&&"disable"==={APP_ENV:"browser",NODE_ENV:"production"}.READABLE_STREAM&&i&&(e.exports=i)}).call(t,n(109))},function(e,t,n){(function(t){"use strict";function r(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?R(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function i(e,t){F=F||n(244),e=e||{},this.objectMode=!!e.objectMode,t instanceof F&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&($||($=n(249).StringDecoder),this.decoder=new $(e.encoding),this.encoding=e.encoding)}function o(e){return F=F||n(244),this instanceof o?(this._readableState=new i(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void M.call(this)):new o(e)}function s(e,t,n,r,i){var o=u(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,h(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var l=new Error("stream.unshift() after end event");e.emit("error",l)}else{var c;!t.decoder||i||r||(n=t.decoder.write(n),c=!t.objectMode&&0===n.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e))),f(e,t)}else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function l(e){return e>=z?e=z:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function c(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=l(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function u(e,t){var n=null;return D.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(B("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?L(p,e):p(e))}function p(e){B("emit readable"),e.emit("readable"),w(e)}function f(e,t){t.readingMore||(t.readingMore=!0,L(g,e,t))}function g(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(B("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;B("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&I(e,"data")&&(t.flowing=!0,w(e))}}function v(e){B("readable nexttick read 0"),e.read(0)}function y(e,t){t.resumeScheduled||(t.resumeScheduled=!0,L(b,e,t))}function b(e,t){t.reading||(B("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),w(e),t.flowing&&!t.reading&&e.read(0)}function w(e){var t=e._readableState;for(B("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=_(e,t.buffer,t.decoder),n}function _(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?E(e,t):C(e,t),r}function E(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(i+=s===o.length?o:o.slice(0,e),e-=s,0===e){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}function C(e,t){var n=N.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),e-=s,0===e){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}function S(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,L(k,t,e))}function k(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function T(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}e.exports=o;var F,L=n(238),R=n(239);o.ReadableState=i;var M,I=(n(234).EventEmitter,function(e,t){return e.listeners(t).length});!function(){try{M=n(233)}catch(e){}finally{M||(M=n(234).EventEmitter)}}();var D=n(208).Buffer,N=n(240),P=n(241);P.inherits=n(235);var O=n(242),B=void 0;B=O&&O.debuglog?O.debuglog("stream"):function(){};var $,j=n(243);P.inherits(o,M),o.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding,t!==n.encoding&&(e=N.from(e,t),t="")),s(this,n,e,t,!1)},o.prototype.unshift=function(e){var t=this._readableState;return s(this,t,e,"",!0)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(e){return $||($=n(249).StringDecoder),this._readableState.decoder=new $(e),this._readableState.encoding=e,this};var z=8388608;o.prototype.read=function(e){B("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return B("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?S(this):d(this),null;if(e=c(e,t),0===e&&t.ended)return 0===t.length&&S(this),null;var r=t.needReadable;B("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,B("length less than watermark",r)),t.ended||t.reading?(r=!1,B("reading or ended",r)):r&&(B("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=c(n,t)));var i;return i=e>0?x(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&S(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,n){function i(e){B("onunpipe"),e===d&&s()}function o(){B("onend"),e.end()}function s(){B("cleanup"),e.removeListener("close",c),e.removeListener("finish",u),e.removeListener("drain",v),e.removeListener("error",l),e.removeListener("unpipe",i),d.removeListener("end",o),d.removeListener("end",s),d.removeListener("data",a),y=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function a(t){B("ondata"),b=!1;var n=e.write(t);!1!==n||b||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&T(p.pipes,e)!==-1)&&!y&&(B("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,b=!0),d.pause())}function l(t){B("onerror",t),h(),e.removeListener("error",l),0===I(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",u),h()}function u(){B("onfinish"),e.removeListener("close",c),h()}function h(){B("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,B("pipe count=%d opts=%j",p.pipesCount,n);var f=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,g=f?o:s;p.endEmitted?L(g):d.once("end",g),e.on("unpipe",i);var v=m(d);e.on("drain",v);var y=!1,b=!1;return d.on("data",a),r(e,"error",l),e.once("close",c),e.once("finish",u),e.emit("pipe",d),p.flowing||(B("pipe resume"),d.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=T(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},o.prototype.on=function(e,t){var n=M.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&d(this,r):L(v,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(B("resume"),e.flowing=!0,y(this,e)),this},o.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(B("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(B("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return A(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){B("wrapped _read",t),n&&(n=!1,e.resume())},r},o._fromList=x}).call(t,n(109))},function(e,t,n){(function(t){"use strict";function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(109))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){"use strict";var r=n(208),i=r.Buffer,o=r.SlowBuffer,s=r.kMaxLength||2147483647;t.alloc=function(e,t,n){if("function"==typeof i.alloc)return i.alloc(e,t,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>s)throw new RangeError("size is too large");var r=n,o=t;void 0===o&&(r=void 0,o=0);var a=new i(e);if("string"==typeof o)for(var l=new i(o,r),c=l.length,u=-1;++u<e;)a[u]=l[u%c];else a.fill(o);return a},t.allocUnsafe=function(e){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>s)throw new RangeError("size is too large");return new i(e)},t.from=function(t,n,r){if("function"==typeof i.from&&(!e.Uint8Array||Uint8Array.from!==i.from))return i.from(t,n,r);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new i(t,n);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new i(t);"undefined"==typeof o&&(o=0);var s=r;if("undefined"==typeof s&&(s=t.byteLength-o),o>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(s>t.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(t.slice(o,o+s))}if(i.isBuffer(t)){var a=new i(t.length);return t.copy(a,0,0,t.length),a}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new i(t);if("Buffer"===t.type&&Array.isArray(t.data))return new i(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},t.allocUnsafeSlow=function(e){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=s)throw new RangeError("size is too large");return new o(e)}}).call(t,function(){return this}())},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===m(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function u(e){return"[object RegExp]"===m(e)}function h(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===m(e)}function p(e){return"[object Error]"===m(e)||e instanceof Error}function f(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function m(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=s,t.isString=a,t.isSymbol=l,t.isUndefined=c,t.isRegExp=u,t.isObject=h,t.isDate=d,t.isError=p,t.isFunction=f,t.isPrimitive=g,t.isBuffer=e.isBuffer}).call(t,n(208).Buffer)},function(e,t){},function(e,t,n){"use strict";function r(){this.head=null,this.tail=null,this.length=0}var i=(n(208).Buffer,n(240));e.exports=r,r.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},r.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},r.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},r.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t}},function(e,t,n){"use strict";function r(e){return this instanceof r?(c.call(this,e),u.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var a=n(238),l=n(241);l.inherits=n(235);var c=n(237),u=n(245);l.inherits(r,c);for(var h=s(u.prototype),d=0;d<h.length;d++){var p=h[d];r.prototype[p]||(r.prototype[p]=u.prototype[p])}},function(e,t,n){(function(t,r){"use strict";function i(){}function o(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function s(e,t){C=C||n(244),e=e||{},this.objectMode=!!e.objectMode,t instanceof C&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}function a(e){return C=C||n(244),M.call(a,this)||this instanceof C?(this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void T.call(this)):new a(e)}function l(e,t){var n=new Error("write after end");e.emit("error",n),S(t,n)}function c(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):L.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),S(r,o),i=!1),i}function u(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=R.from(t,n)),t}function h(e,t,n,r,i){n=u(t,n,r),L.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest=new o(n,r,i),l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else d(e,t,!1,s,n,r,i);return a}function d(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function p(e,t,n,r,i){--t.pendingcb,n?S(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(e,t){var n=e._writableState,r=n.sync,i=n.writecb;
if(f(n),t)p(e,n,r,t,i);else{var o=b(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?k(m,e,n,o,i):m(e,n,o,i)}}function m(e,t,n,r){n||v(e,t),t.pendingcb--,r(),x(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0;n;)i[s]=n,n=n.next,s+=1;d(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new E(t)}else{for(;n;){var a=n.chunk,l=n.encoding,c=n.callback,u=t.objectMode?1:a.length;if(d(e,t,!1,u,a,l,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function x(e,t){var n=b(t);return n&&(0===t.pendingcb?(w(e,t),t.finished=!0,e.emit("finish")):w(e,t)),n}function _(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?S(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function E(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}e.exports=a;var C,S=n(238),k=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:S;a.WritableState=s;var A=n(241);A.inherits=n(235);var T,F={deprecate:n(248)};!function(){try{T=n(233)}catch(e){}finally{T||(T=n(234).EventEmitter)}}();var L=n(208).Buffer,R=n(240);A.inherits(a,T),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:F.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var M;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(e){return!!M.call(this,e)||e&&e._writableState instanceof s}})):M=function(e){return e instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(e,t,n){var r=this._writableState,o=!1;return"function"==typeof t&&(n=t,t=null),L.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=i),r.ended?l(this,n):c(this,r,e,n)&&(r.pendingcb++,o=h(this,r,e,t,n)),o},a.prototype.cork=function(){var e=this._writableState;e.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},a.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},a.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||_(this,r,n)}}).call(t,n(109),n(246).setImmediate)},,,function(e,t){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=n(208).Buffer,l=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(t)})}function s(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var a=n(244),l=n(241);l.inherits=n(235),l.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){"use strict";function r(e){return this instanceof r?void i.call(this,e):new r(e)}e.exports=r;var i=n(250),o=n(241);o.inherits=n(235),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(245)},function(e,t,n){e.exports=n(244)},function(e,t,n){e.exports=n(250)},function(e,t,n){e.exports=n(251)},function(e,t){t["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},t["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},t["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},t["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},t["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},t["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},t.aes128=t["aes-128-cbc"],t.aes192=t["aes-192-cbc"],t.aes256=t["aes-256-cbc"],t["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},t["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},t["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},t["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},t["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},t["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},t["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},t["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},t["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"}},function(e,t,n){(function(t){e.exports=function(e,n,r,i){r/=8,i=i||0;for(var o,s,a,l=0,c=0,u=new t(r),h=new t(i),d=0;;){if(o=e.createHash("md5"),d++>0&&o.update(s),o.update(n),s=o.digest(),a=0,r>0)for(;;){if(0===r)break;if(a===s.length)break;u[l++]=s[a],r--,a++}if(i>0&&a!==s.length)for(;;){if(0===i)break;if(a===s.length)break;h[c++]=s[a],i--,a++}if(0===r&&0===i)break}for(a=0;a<s.length;a++)s[a]=0;return{key:u,iv:h}}}).call(t,n(208).Buffer)},function(e,t,n){(function(t){function r(e,n,s,a){return this instanceof r?(o.call(this),this._cipher=new i.AES(n),this._prev=new t(s.length),this._cache=new t(""),this._secCache=new t(""),this._decrypt=a,s.copy(this._prev),void(this._mode=e)):new r(e,n,s)}var i=n(231),o=n(232),s=n(235);s(r,o),e.exports=r,r.prototype._transform=function(e,t,n){n(null,this._mode.encrypt(this,e,this._decrypt))},r.prototype._flush=function(e){this._cipher.scrub(),e()}}).call(t,n(208).Buffer)},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(261);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){(function(t){function n(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=-1;++o<r;)i.writeUInt8(e[o]^n[o],o);return i}e.exports=n}).call(t,n(208).Buffer)},function(e,t,n){(function(e){function r(t,n,r){var o=n.length,s=i(n,t._cache);return t._cache=t._cache.slice(o),t._prev=e.concat([t._prev,r?n:s]),s}var i=n(261);t.encrypt=function(t,n,i){for(var o,s=new e("");n.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=new e("")),!(t._cache.length<=n.length)){s=e.concat([s,r(t,n,i)]);break}o=t._cache.length,s=e.concat([s,r(t,n.slice(0,o),i)]),n=n.slice(o)}return s}}).call(t,n(208).Buffer)},function(e,t,n){(function(e){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var i=n(261);t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(t,n(208).Buffer)},function(e,t,n){(function(e){function r(e){var t=e._cipher.encryptBlock(e._prev);return i(e._prev),t}function i(e){for(var t,n=e.length;n--;){if(t=e.readUInt8(n),255!==t){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}var o=n(261);t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var i=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),o(n,i)}}).call(t,n(208).Buffer)},function(e,t,n){(function(t){function r(e,n,o){return this instanceof r?(a.call(this),this._cache=new i,this._last=void 0,this._cipher=new s.AES(n),this._prev=new t(o.length),o.copy(this._prev),void(this._mode=e)):new r(e,n,o)}function i(){return this instanceof i?void(this.cache=new t("")):new i}function o(e){var t=e[15];if(16!==t)return e.slice(0,16-t)}var s=n(231),a=n(232),l=n(235),c=n(256),u=n(258),h=n(257);l(r,a),r.prototype._transform=function(e,t,n){this._cache.add(e);for(var r,i;r=this._cache.get();)i=this._mode.decrypt(this,r),this.push(i);n()},r.prototype._flush=function(e){var t=this._cache.flush();return t?(this.push(o(this._mode.decrypt(this,t))),void e()):e},i.prototype.add=function(e){this.cache=t.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>16){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){if(this.cache.length)return this.cache};var d={ECB:n(259),CBC:n(260),CFB:n(262),OFB:n(263),CTR:n(264)};e.exports=function(e){function n(e,n,i){var o=c[e];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new t(i)),"string"==typeof n&&(n=new t(n)),n.length!==o.key/8)throw new TypeError("invalid key length "+n.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new u(d[o.mode],n,i,!0):new r(d[o.mode],n,i)}function i(t,r){var i=c[t];if(!i)throw new TypeError("invalid suite type");var o=h(e,r,i.key,i.iv);return n(t,o.key,o.iv)}return{createDecipher:i,createDecipheriv:n}}}).call(t,n(208).Buffer)},function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(267),s=n(196),a=n(201)("stores/local-store"),l=n(205).checkClientError;e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return{locale:"en",_csrf:null}},reset:function(){this.setState(this.getInitialState())},storeDidUpdate:function(){a("store updated")},changeLocale:function(e){var t=this;s.post("/api/user/setlocale").type("json").accept("json").send({locale:e}).end(function(n,r){l(r,n,function(n){n?a(n):(a("changed locale to: "+e),t.setState({locale:e}),t.trigger(t.state))},function(e){e()})})}})},function(e,t,n){"use strict";var r=n(170),i=r.createActions({changeLocale:{}});e.exports=i},,,,,,,function(e,t,n){"use strict";var r=n(275),i=n(1),o=n(170),s=n(189)(o),a=n(280),l=n(281),c=i.createClass({displayName:"MapHubsNotification",mixins:[s.connect(a)],onDismiss:function(){l.dismissNotification()},render:function(){var e={};switch(this.state.position){case"topright":e={top:"60px",right:"20px",bottom:void 0,left:void 0};break;case"bottomright":e={top:void 0,right:"20px",bottom:"60px",left:void 0};break;case"topleft":e={top:"60px",right:void 0,bottom:void 0,left:"20px"};break;case"bottomleft":e={top:void 0,right:void 0,bottom:"60px",left:"20px"}}return i.createElement(r.Notification,{id:"omh-notification",isActive:this.state.isActive,message:this.state.message,action:this.state.action,onClick:this.state.onClick,dismissAfter:this.state.dismissAfter,onDismiss:this.onDismiss,barStyle:{background:this.state.backgroundColor},activeBarStyle:e,actionStyle:{color:this.state.color}})}});e.exports=c},,,,,,function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(281),s=n(201)("stores/notification-store"),a=n(168);e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return{isActive:!1,message:"",action:null,onClick:function(){},backgroundColor:MAPHUBS_CONFIG.primaryColor,color:"white",position:"topright",dismissAfter:3e3,onDismiss:function(){}}},reset:function(){this.setState(this.getInitialState()),this.trigger(this.state)},storeDidUpdate:function(){s("store updated")},showNotification:function(e){if(e){var t=a.extend(this.getInitialState(),e);this.setState(t),this.setState({isActive:!0})}},dismissNotification:function(){this.state.onDismiss(),this.reset()}})},function(e,t,n){"use strict";var r=n(170),i=r.createActions({showNotification:{},dismissNotification:{}});e.exports=i},function(e,t,n){"use strict";var r=n(283),i=n(1),o=n(170),s=n(189)(o),a=n(285),l=n(286),c=n(266),u=n(268),h=i.createClass({displayName:"Message",mixins:[s.connect(a),s.connect(c)],__:function(e){return u.getLocaleString(this.state.locale,e)},onDismiss:function(){l.dismissMessage()},render:function(){return i.createElement(r.Modal,{id:"message-modal",show:this.state.show,fixedFooter:!1},i.createElement(r.ModalContent,null,i.createElement("h4",null,this.state.title),i.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.message.toString()}})),i.createElement(r.ModalFooter,null,i.createElement("a",{href:"#!",className:" modal-action modal-close waves-effect waves-light btn-flat",onClick:this.onDismiss},this.__("Okay"))))}});e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(284),s=r.createClass({displayName:"ModalContent",propTypes:{className:r.PropTypes.string,style:r.PropTypes.object,children:r.PropTypes.any},getDefaultProps:function(){return{style:{}}},render:function(){var e=o("modal-content",this.props.className);return r.createElement("div",{className:e,style:this.props.style},this.props.children)}}),a=r.createClass({displayName:"ModalFooter",propTypes:{className:r.PropTypes.string,children:r.PropTypes.any},render:function(){var e=o("modal-footer",this.props.className);return r.createElement("div",{className:e},this.props.children)}}),l=r.createClass({displayName:"Modal",propTypes:{id:r.PropTypes.string,show:r.PropTypes.bool.isRequired,className:r.PropTypes.string,fixedFooter:r.PropTypes.bool,dismissible:r.PropTypes.bool,in_duration:r.PropTypes.number,out_duration:r.PropTypes.number,opacity:r.PropTypes.number,ready:r.PropTypes.func,complete:r.PropTypes.func,children:r.PropTypes.any},getDefaultProps:function(){return{id:"modal",show:!1,fixedFooter:!1,className:"",dismissible:!0,opacity:.5,in_duration:300,out_duration:200,ready:function(){},complete:function(){}}},componentDidMount:function(){i(this.refs.modal).modal({dismissible:this.props.dismissible,opacity:this.props.opacity,in_duration:this.props.in_duration,out_duration:this.props.out_duration,ready:this.props.ready,complete:this.props.complete})},componentDidUpdate:function(e){if(this.props.show&&!e.show){i(this.refs.modal).modal("open");var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}else e.show&&!this.props.show&&i(this.refs.modal).modal("close")},render:function(){var e="";return e=this.props.fixedFooter?o("modal","modal-fixed-footer",this.props.className):o("modal",this.props.className),r.createElement("div",{ref:"modal",id:this.props.id,className:e},this.props.children)}});e.exports={Modal:l,ModalContent:s,ModalFooter:a}},,function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(286),s=n(201)("stores/message-store"),a=n(168);e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return{show:!1,title:"Message",message:"",onDismiss:null}},reset:function(){this.setState(this.getInitialState()),this.trigger(this.state)},storeDidUpdate:function(){s("store updated")},showMessage:function(e){if(e){var t=a.extend(this.getInitialState(),e);this.setState(t),this.setState({show:!0})}},dismissMessage:function(){this.state.onDismiss&&this.state.onDismiss(),this.reset()}})},function(e,t,n){"use strict";var r=n(170),i=r.createActions({showMessage:{},dismissMessage:{}});e.exports=i},function(e,t,n){"use strict";var r=n(283),i=n(1),o=n(170),s=n(189)(o),a=n(288),l=n(289),c=i.createClass({displayName:"Confirmation",mixins:[s.connect(a)],hide:function(){l.reset()},onNegativeResponse:function(){this.state.onNegativeResponse(),this.hide()},onPositiveResponse:function(){this.state.onPositiveResponse(),this.hide()},render:function(){return i.createElement(r.Modal,{id:"confirmation",show:this.state.show,fixedFooter:!1,dismissible:!1},i.createElement(r.ModalContent,null,i.createElement("h5",null,this.state.title),i.createElement("p",null,this.state.message)),i.createElement(r.ModalFooter,null,i.createElement("div",{className:"right"},i.createElement("a",{className:"waves-effect waves-light btn",style:{float:"none",marginRight:"15px"},onClick:this.onNegativeResponse},this.state.negativeButtonText),i.createElement("a",{className:"waves-effect waves-light btn",style:{float:"none"},onClick:this.onPositiveResponse},this.state.postitiveButtonText))))}});e.exports=c},function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(289),s=n(201)("stores/confirmation-store"),a=n(168),l=n(266),c=n(268);e.exports=r.createStore({mixins:[i,r.ListenerMixin],listenables:o,__:function(e){var t="en";return this.state&&this.state.locale&&(t=this.state.locale),c.getLocaleString(t,e)},getInitialState:function(){return this.listenTo(l.locale,this.updateLocale),this.getEmptyState()},getEmptyState:function(){return{show:!1,locale:l.state.locale,title:this.__("Confirmation"),message:this.__("Please confirm"),postitiveButtonText:this.__("Okay"),negativeButtonText:this.__("Cancel"),onPositiveResponse:function(){},onNegativeResponse:function(){}}},reset:function(){this.setState(this.getEmptyState())},updateLocale:function(e){this.setState({locale:e})},storeDidUpdate:function(){s("store updated")},showConfirmation:function(e){if(e){var t=a.extend(this.getInitialState(),e);this.setState(t),this.setState({show:!0})}}})},function(e,t,n){"use strict";var r=n(170),i=r.createActions({showConfirmation:{},positiveResponse:{},negativeResponse:{},reset:{}});e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(170),o=n(189)(i),s=n(194),a=n(267),l=n(266),c=n(268),u=n(168),h=r.createClass({displayName:"LocaleChooser",mixins:[o.connect(s),o.connect(l)],__:function(e){return c.getLocaleString(this.state.locale,e)},propTypes:{id:r.PropTypes.string},getDefaultProps:function(){return{id:"locale-dropdown"}},componentDidMount:function(){u(".locale-tooltip").tooltip(),u(this.refs.dropdownButton).dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!1,gutter:0,belowOrigin:!0,alignment:"right"})},shouldComponentUpdate:function(e,t){return this.state.locale!=t.locale},onChange:function(e){a.changeLocale(e),u(this.refs.dropdownMenu).hide()},render:function(){var e=this,t={en:{label:"EN"},fr:{label:"FR"},es:{label:"ES"},it:{label:"IT"}};return r.createElement("li",{className:"nav-link-wrapper nav-dropdown-link-wrapper locale-tooltip","data-position":"bottom","data-delay":"50","data-tooltip":this.__("Change Language")},r.createElement("a",{ref:"dropdownButton",className:"locale-dropdown-button nav-dropdown-button",href:"#!","data-activates":this.props.id,style:{paddingRight:0}},t[this.state.locale].label,r.createElement("i",{className:"material-icons right",style:{marginLeft:0}},"arrow_drop_down")),r.createElement("ul",{ref:"dropdownMenu",id:this.props.id,className:"dropdown-content"},r.createElement("li",null,r.createElement("a",{href:"#!",onClick:function(){e.onChange("en")},className:"nav-hover-menu-item"},"English (EN)")),r.createElement("li",null,r.createElement("a",{href:"#!",onClick:function(){e.onChange("fr")},className:"nav-hover-menu-item"},"Français (FR)")),r.createElement("li",null,r.createElement("a",{href:"#!",onClick:function(){e.onChange("es")},className:"nav-hover-menu-item"},"Español (ES)")),r.createElement("li",null,r.createElement("a",{href:"#!",onClick:function(){e.onChange("it")},className:"nav-hover-menu-item"},"Italiano (IT)"))))}});e.exports=h},,,,,,,,,,function(e,t,n){(function(e){"use strict";function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(301),n(592),n(593),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,function(){return this}())},function(e,t,n){n(302),n(351),n(352),n(353),n(354),n(356),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(369),n(371),n(373),n(375),n(378),n(379),n(380),n(384),n(386),n(388),n(391),n(392),n(393),n(394),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(404),n(405),n(406),n(408),n(409),n(410),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(430),n(431),n(435),n(436),n(437),n(438),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(458),n(459),n(465),n(466),n(468),n(469),n(470),n(474),n(475),n(476),n(477),n(478),n(480),n(481),n(482),n(483),n(486),n(488),n(489),n(490),n(492),n(494),n(496),n(497),n(498),n(500),n(501),n(502),n(503),n(510),n(513),n(514),n(516),n(517),n(520),n(521),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(543),n(544),n(545),n(546),n(547),n(548),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(559),n(560),n(562),n(563),n(564),n(565),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(590),n(591),e.exports=n(308)},function(e,t,n){"use strict";var r=n(303),i=n(304),o=n(305),s=n(307),a=n(317),l=n(321).KEY,c=n(306),u=n(322),h=n(323),d=n(318),p=n(324),f=n(325),g=n(326),m=n(328),v=n(341),y=n(344),b=n(311),w=n(331),x=n(315),_=n(316),E=n(345),C=n(348),S=n(350),k=n(310),A=n(329),T=S.f,F=k.f,L=C.f,R=r.Symbol,M=r.JSON,I=M&&M.stringify,D="prototype",N=p("_hidden"),P=p("toPrimitive"),O={}.propertyIsEnumerable,B=u("symbol-registry"),$=u("symbols"),j=u("op-symbols"),z=Object[D],U="function"==typeof R,V=r.QObject,W=!V||!V[D]||!V[D].findChild,q=o&&c(function(){return 7!=E(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(z,t);r&&delete z[t],F(e,t,n),r&&e!==z&&F(z,t,r)}:F,H=function(e){var t=$[e]=E(R[D]);return t._k=e,t},G=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},K=function(e,t,n){return e===z&&K(j,t,n),b(e),t=x(t,!0),b(n),i($,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=E(n,{enumerable:_(0,!1)})):(i(e,N)||F(e,N,_(1,{})),e[N][t]=!0),q(e,t,n)):F(e,t,n)},Y=function(e,t){b(e);for(var n,r=v(t=w(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},X=function(e,t){return void 0===t?E(e):Y(E(e),t)},J=function(e){var t=O.call(this,e=x(e,!0));return!(this===z&&i($,e)&&!i(j,e))&&(!(t||!i(this,e)||!i($,e)||i(this,N)&&this[N][e])||t)},Z=function(e,t){if(e=w(e),t=x(t,!0),e!==z||!i($,t)||i(j,t)){var n=T(e,t);return!n||!i($,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=L(w(e)),r=[],o=0;n.length>o;)i($,t=n[o++])||t==N||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===z,r=L(n?j:w(e)),o=[],s=0;r.length>s;)!i($,t=r[s++])||n&&!i(z,t)||o.push($[t]);return o};U||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(j,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),q(this,e,_(1,n))};return o&&W&&q(z,e,{configurable:!0,set:t}),H(e)},a(R[D],"toString",function(){return this._k}),S.f=Z,k.f=K,n(349).f=C.f=Q,n(343).f=J,n(342).f=ee,o&&!n(327)&&a(z,"propertyIsEnumerable",J,!0),f.f=function(e){return H(p(e))}),s(s.G+s.W+s.F*!U,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var te=A(p.store),ne=0;te.length>ne;)g(te[ne++]);s(s.S+s.F*!U,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=R(e)},keyFor:function(e){if(G(e))return m(B,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!U,"Object",{create:X,defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:ee}),M&&s(s.S+s.F*(!U||c(function(){var e=R();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!G(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,I.apply(M,r)}}}),R[D][P]||n(309)(R[D],P,R[D].valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(306)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(303),i=n(308),o=n(309),s=n(317),a=n(319),l="prototype",c=function(e,t,n){var u,h,d,p,f=e&c.F,g=e&c.G,m=e&c.S,v=e&c.P,y=e&c.B,b=g?r:m?r[t]||(r[t]={}):(r[t]||{})[l],w=g?i:i[t]||(i[t]={}),x=w[l]||(w[l]={});g&&(n=t);for(u in n)h=!f&&b&&void 0!==b[u],d=(h?b:n)[u],p=y&&h?a(d,r):v&&"function"==typeof d?a(Function.call,d):d,b&&s(b,u,d,e&c.U),w[u]!=d&&o(w,u,p),v&&x[u]!=d&&(x[u]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(310),i=n(316);e.exports=n(305)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(311),i=n(313),o=n(315),s=Object.defineProperty;t.f=n(305)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(312);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(305)&&!n(306)(function(){return 7!=Object.defineProperty(n(314)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(312),i=n(303).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(312);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(303),i=n(309),o=n(304),s=n(318)("src"),a="toString",l=Function[a],c=(""+l).split(a);n(308).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,s)||i(n,s,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||l.call(this)})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(320);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){
return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(318)("meta"),i=n(312),o=n(304),s=n(310).f,a=0,l=Object.isExtensible||function(){return!0},c=!n(306)(function(){return l(Object.preventExtensions({}))}),u=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},p=function(e){return c&&f.NEED&&l(e)&&!o(e,r)&&u(e),e},f=e.exports={KEY:r,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(303),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(310).f,i=n(304),o=n(324)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(322)("wks"),i=n(318),o=n(303).Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},function(e,t,n){t.f=n(324)},function(e,t,n){var r=n(303),i=n(308),o=n(327),s=n(325),a=n(310).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){e.exports=!1},function(e,t,n){var r=n(329),i=n(331);e.exports=function(e,t){for(var n,o=i(e),s=r(o),a=s.length,l=0;a>l;)if(o[n=s[l++]]===t)return n}},function(e,t,n){var r=n(330),i=n(340);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(304),i=n(331),o=n(335)(!1),s=n(339)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(332),i=n(334);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(333);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(331),i=n(336),o=n(338);e.exports=function(e){return function(t,n,s){var a,l=r(t),c=i(l.length),u=o(s,c);if(e&&n!=n){for(;c>u;)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(337),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(337),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(322)("keys"),i=n(318);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(329),i=n(342),o=n(343);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),l=o.f,c=0;a.length>c;)l.call(e,s=a[c++])&&t.push(s);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(333);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(311),i=n(346),o=n(340),s=n(339)("IE_PROTO"),a=function(){},l="prototype",c=function(){var e,t=n(314)("iframe"),r=o.length,i="<",s=">";for(t.style.display="none",n(347).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),c=e.F;r--;)delete c[l][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[l]=r(e),n=new a,a[l]=null,n[s]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(310),i=n(311),o=n(329);e.exports=n(305)?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,l=0;a>l;)r.f(e,n=s[l++],t[n]);return e}},function(e,t,n){e.exports=n(303).document&&document.documentElement},function(e,t,n){var r=n(331),i=n(349).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},function(e,t,n){var r=n(330),i=n(340).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(343),i=n(316),o=n(331),s=n(315),a=n(304),l=n(313),c=Object.getOwnPropertyDescriptor;t.f=n(305)?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(307);r(r.S,"Object",{create:n(345)})},function(e,t,n){var r=n(307);r(r.S+r.F*!n(305),"Object",{defineProperty:n(310).f})},function(e,t,n){var r=n(307);r(r.S+r.F*!n(305),"Object",{defineProperties:n(346)})},function(e,t,n){var r=n(331),i=n(350).f;n(355)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(307),i=n(308),o=n(306);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){var r=n(357),i=n(358);n(355)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(334);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(304),i=n(357),o=n(339)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(357),i=n(329);n(355)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(355)("getOwnPropertyNames",function(){return n(348).f})},function(e,t,n){var r=n(312),i=n(321).onFreeze;n(355)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(312),i=n(321).onFreeze;n(355)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(312),i=n(321).onFreeze;n(355)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(312);n(355)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(312);n(355)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(312);n(355)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(307);r(r.S+r.F,"Object",{assign:n(368)})},function(e,t,n){"use strict";var r=n(329),i=n(342),o=n(343),s=n(357),a=n(332),l=Object.assign;e.exports=!l||n(306)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,c=1,u=i.f,h=o.f;l>c;)for(var d,p=a(arguments[c++]),f=u?r(p).concat(u(p)):r(p),g=f.length,m=0;g>m;)h.call(p,d=f[m++])&&(n[d]=p[d]);return n}:l},function(e,t,n){var r=n(307);r(r.S,"Object",{is:n(370)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},function(e,t,n){var r=n(307);r(r.S,"Object",{setPrototypeOf:n(372).set})},function(e,t,n){var r=n(312),i=n(311),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(319)(Function.call,n(350).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){"use strict";var r=n(374),i={};i[n(324)("toStringTag")]="z",i+""!="[object z]"&&n(317)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(333),i=n(324)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(307);r(r.P,"Function",{bind:n(376)})},function(e,t,n){"use strict";var r=n(320),i=n(312),o=n(377),s=[].slice,a={},l=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("F,a","return new F("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?l(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(310).f,i=n(316),o=n(304),s=Function.prototype,a=/^\s*function ([^ (]*)/,l="name",c=Object.isExtensible||function(){return!0};l in s||n(305)&&r(s,l,{configurable:!0,get:function(){try{var e=this,t=(""+e).match(a)[1];return o(e,l)||!c(e)||r(e,l,i(5,t)),t}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(312),i=n(358),o=n(324)("hasInstance"),s=Function.prototype;o in s||n(310).f(s,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(307),i=n(381);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(303).parseInt,i=n(382).trim,o=n(383),s=/^[\-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(s.test(n)?16:10))}:r},function(e,t,n){var r=n(307),i=n(334),o=n(306),s=n(383),a="["+s+"]",l="​",c=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),h=function(e,t,n){var i={},a=o(function(){return!!s[e]()||l[e]()!=l}),c=i[e]=a?t(d):s[e];n&&(i[n]=c),r(r.P+r.F*a,"String",i)},d=h.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=h},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(307),i=n(385);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){var r=n(303).parseFloat,i=n(382).trim;e.exports=1/r(n(383)+"-0")!==-(1/0)?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";var r=n(303),i=n(304),o=n(333),s=n(387),a=n(315),l=n(306),c=n(349).f,u=n(350).f,h=n(310).f,d=n(382).trim,p="Number",f=r[p],g=f,m=f.prototype,v=o(n(345)(m))==p,y="trim"in String.prototype,b=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var s,l=t.slice(2),c=0,u=l.length;c<u;c++)if(s=l.charCodeAt(c),s<48||s>i)return NaN;return parseInt(l,r)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(v?l(function(){m.valueOf.call(n)}):o(n)!=p)?s(new g(b(t)),n,f):b(t)};for(var w,x=n(305)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)i(g,w=x[_])&&!i(f,w)&&h(f,w,u(g,w));f.prototype=m,m.constructor=f,n(317)(r,p,f)}},function(e,t,n){var r=n(312),i=n(372).set;e.exports=function(e,t,n){var o,s=t.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(307),i=n(337),o=n(389),s=n(390),a=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h="0",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=l(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=l(n/e),n=n%e*1e7},f=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+s.call(h,7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2===1?g(e,t-1,n*e):g(e*e,t/2,n)},m=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(306)(function(){a.call({})})),"Number",{toFixed:function(e){var t,n,r,a,l=o(this,u),c=i(e),v="",y=h;if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(t=m(l*g(2,69,1))-69,n=t<0?l*g(2,-t,1):l/g(2,t,1),n*=4503599627370496,t=52-t,t>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(g(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),d(1,1),p(2),y=f()}else d(0,n),d(1<<-t,0),y=f()+s.call(h,c);return c>0?(a=y.length,y=v+(a<=c?"0."+s.call(h,c-a)+y:y.slice(0,a-c)+"."+y.slice(a-c))):y=v+y,y}})},function(e,t,n){var r=n(333);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var r=n(337),i=n(334);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(307),i=n(306),o=n(389),s=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==s.call(1,void 0)})||!i(function(){s.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},function(e,t,n){var r=n(307);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(307),i=n(303).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(307);r(r.S,"Number",{isInteger:n(395)})},function(e,t,n){var r=n(312),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(307);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(307),i=n(395),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(307);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(307);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(307),i=n(385);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(307),i=n(381);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(307),i=n(403),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(307),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(307),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(307),i=n(407);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(307);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(307),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(307),i=n(411);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||n(-2e-17)!=-2e-17?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(307),i=n(407),o=Math.pow,s=o(2,-52),a=o(2,-23),l=o(2,127)*(2-a),c=o(2,-126),u=function(e){return e+1/s-1/s};r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),o=i(e);return r<c?o*u(r/c/a)*c*a:(t=(1+a/s)*r,n=t-(t-r),n>l||n!=n?o*(1/0):o*n)}})},function(e,t,n){var r=n(307),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,s=0,a=arguments.length,l=0;s<a;)n=i(arguments[s++]),l<n?(r=l/n,o=o*r*r+1,l=n):n>0?(r=n/l,o+=r*r):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,n){var r=n(307),i=Math.imul;r(r.S+r.F*n(306)(function(){return i(4294967295,5)!=-5||2!=i.length}),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(e,t,n){var r=n(307);r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},function(e,t,n){var r=n(307);r(r.S,"Math",{log1p:n(403)})},function(e,t,n){var r=n(307);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(307);r(r.S,"Math",{sign:n(407)})},function(e,t,n){var r=n(307),i=n(411),o=Math.exp;r(r.S+r.F*n(306)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(307),i=n(411),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(307);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(307),i=n(338),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,s=0;r>s;){if(t=+arguments[s++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(307),i=n(331),o=n(336);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,s=[],a=0;n>a;)s.push(String(t[a++])),a<r&&s.push(String(arguments[a]));return s.join("")}})},function(e,t,n){"use strict";n(382)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(426)(!0);n(427)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(337),i=n(334);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):(o-55296<<10)+(s-56320)+65536)}}},function(e,t,n){"use strict";var r=n(327),i=n(307),o=n(317),s=n(309),a=n(304),l=n(428),c=n(429),u=n(323),h=n(358),d=n(324)("iterator"),p=!([].keys&&"next"in[].keys()),f="@@iterator",g="keys",m="values",v=function(){return this};e.exports=function(e,t,n,y,b,w,x){c(n,t,y);var _,E,C,S=function(e){if(!p&&e in F)return F[e];switch(e){case g:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",A=b==m,T=!1,F=e.prototype,L=F[d]||F[f]||b&&F[b],R=L||S(b),M=b?A?S("entries"):R:void 0,I="Array"==t?F.entries||L:L;if(I&&(C=h(I.call(new e)),C!==Object.prototype&&(u(C,k,!0),r||a(C,d)||s(C,d,v))),A&&L&&L.name!==m&&(T=!0,R=function(){return L.call(this)}),r&&!x||!p&&!T&&F[d]||s(F,d,R),l[t]=R,l[k]=v,b)if(_={values:A?R:S(m),keys:w?R:S(g),entries:M},x)for(E in _)E in F||o(F,E,_[E]);else i(i.P+i.F*(p||T),t,_);return _}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(345),i=n(316),o=n(323),s={};n(309)(s,n(324)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(307),i=n(426)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(307),i=n(336),o=n(432),s="endsWith",a=""[s];r(r.P+r.F*n(434)(s),"String",{endsWith:function(e){var t=o(this,e,s),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),l=void 0===n?r:Math.min(i(n),r),c=String(e);return a?a.call(t,c,l):t.slice(l-c.length,l)===c}})},function(e,t,n){var r=n(433),i=n(334);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(312),i=n(333),o=n(324)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(324)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(307),i=n(432),o="includes";r(r.P+r.F*n(434)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(307);r(r.P,"String",{repeat:n(390)})},function(e,t,n){"use strict";var r=n(307),i=n(336),o=n(432),s="startsWith",a=""[s];r(r.P+r.F*n(434)(s),"String",{startsWith:function(e){var t=o(this,e,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(439)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){var r=n(307),i=n(306),o=n(334),s=/"/g,a=function(e,t,n,r){var i=String(o(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(a),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";n(439)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(439)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(439)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(439)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(439)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(439)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(439)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(439)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(439)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(439)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(439)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(439)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(307);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(307),i=n(357),o=n(315);r(r.P+r.F*n(306)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){"use strict";var r=n(307),i=n(306),o=Date.prototype.getTime,s=function(e){return e>9?e:"0"+e};r(r.P+r.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}})},function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(317)(r,o,function(){var e=a.call(this);return e===e?s.call(this):i})},function(e,t,n){var r=n(324)("toPrimitive"),i=Date.prototype;r in i||n(309)(i,r,n(457))},function(e,t,n){"use strict";var r=n(311),i=n(315),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},function(e,t,n){var r=n(307);r(r.S,"Array",{isArray:n(344)})},function(e,t,n){"use strict";var r=n(319),i=n(307),o=n(357),s=n(460),a=n(461),l=n(336),c=n(462),u=n(463);i(i.S+i.F*!n(464)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,h,d=o(e),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(d);if(m&&(g=r(g,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(t=l(d.length),n=new p(t);t>v;v++)c(n,v,m?g(d[v],v):d[v]);else for(h=y.call(d),n=new p;!(i=h.next()).done;v++)c(n,v,m?s(h,g,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){var r=n(311);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(428),i=n(324)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(310),i=n(316);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(374),i=n(324)("iterator"),o=n(428);e.exports=n(308).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(324)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(307),i=n(462);r(r.S+r.F*n(306)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(307),i=n(331),o=[].join;r(r.P+r.F*(n(332)!=Object||!n(467)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){var r=n(306);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(307),i=n(347),o=n(333),s=n(338),a=n(336),l=[].slice;r(r.P+r.F*n(306)(function(){i&&l.call(i)}),"Array",{slice:function(e,t){var n=a(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return l.call(this,e,t);for(var i=s(e,n),c=s(t,n),u=a(c-i),h=Array(u),d=0;d<u;d++)h[d]="String"==r?this.charAt(i+d):this[i+d];return h}})},function(e,t,n){"use strict";var r=n(307),i=n(320),o=n(357),s=n(306),a=[].sort,l=[1,2,3];r(r.P+r.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n(467)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(307),i=n(471)(0),o=n(467)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(319),i=n(332),o=n(357),s=n(336),a=n(472);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h,p=t||a;return function(t,a,f){for(var g,m,v=o(t),y=i(v),b=r(a,f,3),w=s(y.length),x=0,_=n?p(t,w):l?p(t,0):void 0;w>x;x++)if((d||x in y)&&(g=y[x],m=b(g,x,v),e))if(n)_[x]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:_.push(g)}else if(u)return!1;return h?-1:c||u?u:_}}},function(e,t,n){var r=n(473);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(312),i=n(344),o=n(324)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(307),i=n(471)(1);r(r.P+r.F*!n(467)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(307),i=n(471)(2);r(r.P+r.F*!n(467)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(307),i=n(471)(3);r(r.P+r.F*!n(467)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(307),i=n(471)(4);r(r.P+r.F*!n(467)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(307),i=n(479);r(r.P+r.F*!n(467)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(320),i=n(357),o=n(332),s=n(336);e.exports=function(e,t,n,a,l){r(t);var c=i(e),u=o(c),h=s(c.length),d=l?h-1:0,p=l?-1:1;if(n<2)for(;;){if(d in u){a=u[d],d+=p;break}if(d+=p,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=p)d in u&&(a=t(a,u[d],d,c));return a}},function(e,t,n){"use strict";var r=n(307),i=n(479);r(r.P+r.F*!n(467)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(307),i=n(335)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(467)(o)),"Array",{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(307),i=n(331),o=n(337),s=n(336),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(467)(a)),"Array",{lastIndexOf:function(e){if(l)return a.apply(this,arguments)||0;var t=i(this),n=s(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(307);r(r.P,"Array",{copyWithin:n(484)}),n(485)("copyWithin")},function(e,t,n){"use strict";var r=n(357),i=n(338),o=n(336);e.exports=[].copyWithin||function(e,t){var n=r(this),s=o(n.length),a=i(e,s),l=i(t,s),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?s:i(c,s))-l,s-a),h=1;for(l<a&&a<l+u&&(h=-1,l+=u-1,a+=u-1);u-- >0;)l in n?n[a]=n[l]:delete n[a],a+=h,l+=h;return n}},function(e,t,n){var r=n(324)("unscopables"),i=Array.prototype;void 0==i[r]&&n(309)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(307);r(r.P,"Array",{fill:n(487)}),n(485)("fill")},function(e,t,n){"use strict";var r=n(357),i=n(338),o=n(336);e.exports=function(e){for(var t=r(this),n=o(t.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>a;)t[a++]=e;return t}},function(e,t,n){"use strict";var r=n(307),i=n(471)(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(485)(o)},function(e,t,n){"use strict";var r=n(307),i=n(471)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(485)(o)},function(e,t,n){n(491)("Array")},function(e,t,n){"use strict";var r=n(303),i=n(310),o=n(305),s=n(324)("species");e.exports=function(e){var t=r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(485),i=n(493),o=n(428),s=n(331);e.exports=n(427)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(e,t){return{value:t,
done:!!e}}},function(e,t,n){var r=n(303),i=n(387),o=n(310).f,s=n(349).f,a=n(433),l=n(495),c=r.RegExp,u=c,h=c.prototype,d=/a/g,p=/a/g,f=new c(d)!==d;if(n(305)&&(!f||n(306)(function(){return p[n(324)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")}))){c=function(e,t){var n=this instanceof c,r=a(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(f?new u(r&&!o?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&o?l.call(e):t),n?this:h,c)};for(var g=(function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})}),m=s(u),v=0;m.length>v;)g(m[v++]);h.constructor=c,c.prototype=h,n(317)(r,"RegExp",c)}n(491)("RegExp")},function(e,t,n){"use strict";var r=n(311);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n(497);var r=n(311),i=n(495),o=n(305),s="toString",a=/./[s],l=function(e){n(317)(RegExp.prototype,s,e,!0)};n(306)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?l(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):a.name!=s&&l(function(){return a.call(this)})},function(e,t,n){n(305)&&"g"!=/./g.flags&&n(310).f(RegExp.prototype,"flags",{configurable:!0,get:n(495)})},function(e,t,n){n(499)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(309),i=n(317),o=n(306),s=n(334),a=n(324);e.exports=function(e,t,n){var l=a(e),c=n(s,l,""[e]),u=c[0],h=c[1];o(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,u),r(RegExp.prototype,l,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)}))}},function(e,t,n){n(499)("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){n(499)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(499)("split",2,function(e,t,r){"use strict";var i=n(433),o=r,s=[].push,a="split",l="length",c="lastIndex";if("c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[l]||2!="ab"[a](/(?:ab)*/)[l]||4!="."[a](/(.?)(.?)/)[l]||"."[a](/()()/)[l]>1||""[a](/.?/)[l]){var u=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,a,h,d,p,f=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,g+"g");for(u||(r=new RegExp("^"+y.source+"$(?!\\s)",g));(a=y.exec(n))&&(h=a.index+a[0][l],!(h>m&&(f.push(n.slice(m,a.index)),!u&&a[l]>1&&a[0].replace(r,function(){for(p=1;p<arguments[l]-2;p++)void 0===arguments[p]&&(a[p]=void 0)}),a[l]>1&&a.index<n[l]&&s.apply(f,a.slice(1)),d=a[0][l],m=h,f[l]>=v)));)y[c]===a.index&&y[c]++;return m===n[l]?!d&&y.test("")||f.push(""):f.push(n.slice(m)),f[l]>v?f.slice(0,v):f}}else"0"[a](void 0,0)[l]&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";var r,i,o,s=n(327),a=n(303),l=n(319),c=n(374),u=n(307),h=n(312),d=n(320),p=n(504),f=n(505),g=n(506),m=n(507).set,v=n(508)(),y="Promise",b=a.TypeError,w=a.process,x=a[y],w=a.process,_="process"==c(w),E=function(){},C=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(324)("species")]=function(e){e(E,E)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}(),S=function(e,t){return e===t||e===x&&t===o},k=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},A=function(e){return S(x,e)?new T(e):new i(e)},T=i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw b("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},F=function(e){try{e()}catch(e){return{error:e}}},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s=i?t.ok:t.fail,a=t.resolve,l=t.reject,c=t.domain;try{s?(i||(2==e._h&&I(e),e._h=1),s===!0?n=r:(c&&c.enter(),n=s(r),c&&c.exit()),n===t.promise?l(b("Promise-chain cycle")):(o=k(n))?o.call(n,a,l):a(n)):l(r)}catch(e){l(e)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){m.call(a,function(){var t,n,r,i=e._v;if(M(e)&&(t=F(function(){_?w.emit("unhandledRejection",i,e):(n=a.onunhandledrejection)?n({promise:e,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=_||M(e)?2:1),e._a=void 0,t)throw t.error})},M=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!M(t.promise))return!1;return!0},I=function(e){m.call(a,function(){var t;_?w.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw b("Promise can't be resolved itself");(t=k(e))?v(function(){var r={_w:n,_d:!1};try{t.call(e,l(N,r,1),l(D,r,1))}catch(e){D.call(r,e)}}):(n._v=e,n._s=1,L(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};C||(x=function(e){p(this,x,y,"_h"),d(e),r.call(this);try{e(l(N,this,1),l(D,this,1))}catch(e){D.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(509)(x.prototype,{then:function(e,t){var n=A(g(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=_?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),T=function(){var e=new r;this.promise=e,this.resolve=l(N,e,1),this.reject=l(D,e,1)}),u(u.G+u.W+u.F*!C,{Promise:x}),n(323)(x,y),n(491)(y),o=n(308)[y],u(u.S+u.F*!C,y,{reject:function(e){var t=A(this),n=t.reject;return n(e),t.promise}}),u(u.S+u.F*(s||!C),y,{resolve:function(e){if(e instanceof x&&S(e.constructor,this))return e;var t=A(this),n=t.resolve;return n(e),t.promise}}),u(u.S+u.F*!(C&&n(464)(function(e){x.all(e).catch(E)})),y,{all:function(e){var t=this,n=A(t),r=n.resolve,i=n.reject,o=F(function(){var n=[],o=0,s=1;f(e,!1,function(e){var a=o++,l=!1;n.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,n[a]=e,--s||r(n))},i)}),--s||r(n)});return o&&i(o.error),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,i=F(function(){f(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(319),i=n(460),o=n(461),s=n(311),a=n(336),l=n(463),c={},u={},t=e.exports=function(e,t,n,h,d){var p,f,g,m,v=d?function(){return e}:l(e),y=r(n,h,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=a(e.length);p>b;b++)if(m=t?y(s(f=e[b])[0],f[1]):y(e[b]),m===c||m===u)return m}else for(g=v.call(e);!(f=g.next()).done;)if(m=i(g,y,f.value,t),m===c||m===u)return m};t.BREAK=c,t.RETURN=u},function(e,t,n){var r=n(311),i=n(320),o=n(324)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s=n(319),a=n(377),l=n(347),c=n(314),u=n(303),h=u.process,d=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,g=0,m={},v="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){a("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete m[e]},"process"==n(333)(h)?r=function(e){h.nextTick(s(y,e,1))}:f?(i=new f,o=i.port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r=v in c("script")?function(e){l.appendChild(c("script"))[v]=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(303),i=n(507).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,l="process"==n(333)(s);e.exports=function(){var e,t,n,c=function(){var r,i;for(l&&(r=s.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){s.nextTick(c)};else if(o){var u=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=u=!u}}else if(a&&a.resolve){var d=a.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(317);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(511);e.exports=n(512)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(310).f,i=n(345),o=n(509),s=n(319),a=n(504),l=n(334),c=n(505),u=n(427),h=n(493),d=n(491),p=n(305),f=n(321).fastKey,g=p?"_s":"size",m=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var h=e(function(e,r){a(e,h,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=r&&c(r,n,e[u],e)});return o(h.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var t=this,n=m(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[g]--}return!!n},forEach:function(e){a(this,h,"forEach");for(var t,n=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!m(this,e)}}),p&&r(h.prototype,"size",{get:function(){return l(this[g])}}),h},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){u(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?h(0,n.k):"values"==t?h(0,n.v):h(0,[n.k,n.v]):(e._t=void 0,h(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(303),i=n(307),o=n(317),s=n(509),a=n(321),l=n(505),c=n(504),u=n(312),h=n(306),d=n(464),p=n(323),f=n(387);e.exports=function(e,t,n,g,m,v){var y=r[e],b=y,w=m?"set":"add",x=b&&b.prototype,_={},E=function(e){var t=x[e];o(x,e,"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||x.forEach&&!h(function(){(new b).entries().next()}))){var C=new b,S=C[w](v?{}:-0,1)!=C,k=h(function(){C.has(1)}),A=d(function(e){new b(e)}),T=!v&&h(function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)});A||(b=t(function(t,n){c(t,b,e);var r=f(new y,t,b);return void 0!=n&&l(n,m,r[w],r),r}),b.prototype=x,x.constructor=b),(k||T)&&(E("delete"),E("has"),m&&E("get")),(T||S)&&E(w),v&&x.clear&&delete x.clear}else b=g.getConstructor(t,e,m,w),s(b.prototype,n),a.NEED=!0;return p(b,e),_[e]=b,i(i.G+i.W+i.F*(b!=y),_),v||g.setStrong(b,e,m),b}},function(e,t,n){"use strict";var r=n(511);e.exports=n(512)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(471)(0),o=n(317),s=n(321),a=n(368),l=n(515),c=n(312),u=s.getWeak,h=Object.isExtensible,d=l.ufstore,p={},f=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(c(e)){var t=u(e);return t===!0?d(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(this,e,t)}},m=e.exports=n(512)("WeakMap",f,g,l,!0,!0);7!=(new m).set((Object.freeze||Object)(p),7).get(p)&&(r=l.getConstructor(f),a(r.prototype,g),s.NEED=!0,i(["delete","has","get","set"],function(e){var t=m.prototype,n=t[e];o(t,e,function(t,i){if(c(t)&&!h(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(509),i=n(321).getWeak,o=n(311),s=n(312),a=n(504),l=n(505),c=n(471),u=n(304),h=c(5),d=c(6),p=0,f=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},m=function(e,t){return h(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,r){a(e,c,t,"_i"),e._i=p++,e._l=void 0,void 0!=r&&l(r,n,e[o],e)});return r(c.prototype,{delete:function(e){if(!s(e))return!1;var t=i(e);return t===!0?f(this).delete(e):t&&u(t,this._i)&&delete t[this._i]},has:function(e){if(!s(e))return!1;var t=i(e);return t===!0?f(this).has(e):t&&u(t,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return r===!0?f(e).set(t,n):r[e._i]=n,e},ufstore:f}},function(e,t,n){"use strict";var r=n(515);n(512)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(307),i=n(518),o=n(519),s=n(311),a=n(338),l=n(336),c=n(312),u=n(303).ArrayBuffer,h=n(506),d=o.ArrayBuffer,p=o.DataView,f=i.ABV&&u.isView,g=d.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(u!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,v,{isView:function(e){return f&&f(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(306)(function(){return!new d(2).slice(1,void 0).byteLength}),v,{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(s(this),e);for(var n=s(this).byteLength,r=a(e,n),i=a(void 0===t?n:t,n),o=new(h(this,d))(l(i-r)),c=new p(this),u=new p(o),f=0;r<i;)u.setUint8(f++,c.getUint8(r++));return o}}),n(491)(v)},function(e,t,n){for(var r,i=n(303),o=n(309),s=n(318),a=s("typed_array"),l=s("view"),c=!(!i.ArrayBuffer||!i.DataView),u=c,h=0,d=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<d;)(r=i[p[h++]])?(o(r.prototype,a,!0),o(r.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:a,VIEW:l}},function(e,t,n){"use strict";var r=n(303),i=n(305),o=n(327),s=n(518),a=n(309),l=n(509),c=n(306),u=n(504),h=n(337),d=n(336),p=n(349).f,f=n(310).f,g=n(487),m=n(323),v="ArrayBuffer",y="DataView",b="prototype",w="Wrong length!",x="Wrong index!",_=r[v],E=r[y],C=r.Math,S=r.RangeError,k=r.Infinity,A=_,T=C.abs,F=C.pow,L=C.floor,R=C.log,M=C.LN2,I="buffer",D="byteLength",N="byteOffset",P=i?"_b":I,O=i?"_l":D,B=i?"_o":N,$=function(e,t,n){var r,i,o,s=Array(n),a=8*n-t-1,l=(1<<a)-1,c=l>>1,u=23===t?F(2,-24)-F(2,-77):0,h=0,d=e<0||0===e&&1/e<0?1:0;for(e=T(e),e!=e||e===k?(i=e!=e?1:0,r=l):(r=L(R(e)/M),e*(o=F(2,-r))<1&&(r--,o*=2),e+=r+c>=1?u/o:u*F(2,1-c),e*o>=2&&(r++,o/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*o-1)*F(2,t),r+=c):(i=e*F(2,c-1)*F(2,t),r=0));t>=8;s[h++]=255&i,i/=256,t-=8);for(r=r<<t|i,a+=t;a>0;s[h++]=255&r,r/=256,a-=8);return s[--h]|=128*d,s},j=function(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,s=o>>1,a=i-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;a>0;u=256*u+e[l],l--,a-=8);for(r=u&(1<<-a)-1,u>>=-a,a+=t;a>0;r=256*r+e[l],l--,a-=8);if(0===u)u=1-s;else{if(u===o)return r?NaN:c?-k:k;r+=F(2,t),u-=s}return(c?-1:1)*r*F(2,u-t)},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},U=function(e){return[255&e]},V=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},q=function(e){return $(e,52,8)},H=function(e){return $(e,23,4)},G=function(e,t,n){f(e[b],t,{get:function(){return this[n]}})},K=function(e,t,n,r){var i=+n,o=h(i);if(i!=o||o<0||o+t>e[O])throw S(x);var s=e[P]._b,a=o+e[B],l=s.slice(a,a+t);return r?l:l.reverse()},Y=function(e,t,n,r,i,o){var s=+n,a=h(s);if(s!=a||a<0||a+t>e[O])throw S(x);for(var l=e[P]._b,c=a+e[B],u=r(+i),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]},X=function(e,t){u(e,_,v);var n=+t,r=d(n);if(n!=r)throw S(w);return r};if(s.ABV){if(!c(function(){new _})||!c(function(){new _(.5)})){_=function(e){return new A(X(this,e))};for(var J,Z=_[b]=A[b],Q=p(A),ee=0;Q.length>ee;)(J=Q[ee++])in _||a(_,J,A[J]);o||(Z.constructor=_)}var te=new E(new _(2)),ne=E[b].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||l(E[b],{setInt8:function(e,t){ne.call(this,e,t<<24>>24)},setUint8:function(e,t){ne.call(this,e,t<<24>>24)}},!0)}else _=function(e){var t=X(this,e);this._b=g.call(Array(t),0),this[O]=t},E=function(e,t,n){u(this,E,y),u(e,_,y);var r=e[O],i=h(t);if(i<0||i>r)throw S("Wrong offset!");if(n=void 0===n?r-i:d(n),i+n>r)throw S(w);this[P]=e,this[B]=i,this[O]=n},i&&(G(_,D,"_l"),G(E,I,"_b"),G(E,D,"_l"),G(E,N,"_o")),l(E[b],{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return z(K(this,4,e,arguments[1]))},getUint32:function(e){return z(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return j(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return j(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Y(this,1,e,U,t)},setUint8:function(e,t){Y(this,1,e,U,t)},setInt16:function(e,t){Y(this,2,e,V,t,arguments[2])},setUint16:function(e,t){Y(this,2,e,V,t,arguments[2])},setInt32:function(e,t){Y(this,4,e,W,t,arguments[2])},setUint32:function(e,t){Y(this,4,e,W,t,arguments[2])},setFloat32:function(e,t){Y(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){Y(this,8,e,q,t,arguments[2])}});m(_,v),m(E,y),a(E[b],s.VIEW,!0),t[v]=_,t[y]=E},function(e,t,n){var r=n(307);r(r.G+r.W+r.F*!n(518).ABV,{DataView:n(519).DataView})},function(e,t,n){n(522)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";if(n(305)){var r=n(327),i=n(303),o=n(306),s=n(307),a=n(518),l=n(519),c=n(319),u=n(504),h=n(316),d=n(309),p=n(509),f=n(337),g=n(336),m=n(338),v=n(315),y=n(304),b=n(370),w=n(374),x=n(312),_=n(357),E=n(461),C=n(345),S=n(358),k=n(349).f,A=n(463),T=n(318),F=n(324),L=n(471),R=n(335),M=n(506),I=n(492),D=n(428),N=n(464),P=n(491),O=n(487),B=n(484),$=n(310),j=n(350),z=$.f,U=j.f,V=i.RangeError,W=i.TypeError,q=i.Uint8Array,H="ArrayBuffer",G="Shared"+H,K="BYTES_PER_ELEMENT",Y="prototype",X=Array[Y],J=l.ArrayBuffer,Z=l.DataView,Q=L(0),ee=L(2),te=L(3),ne=L(4),re=L(5),ie=L(6),oe=R(!0),se=R(!1),ae=I.values,le=I.keys,ce=I.entries,ue=X.lastIndexOf,he=X.reduce,de=X.reduceRight,pe=X.join,fe=X.sort,ge=X.slice,me=X.toString,ve=X.toLocaleString,ye=F("iterator"),be=F("toStringTag"),we=T("typed_constructor"),xe=T("def_constructor"),_e=a.CONSTR,Ee=a.TYPED,Ce=a.VIEW,Se="Wrong length!",ke=L(1,function(e,t){return Me(M(e,e[xe]),t)}),Ae=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Te=!!q&&!!q[Y].set&&o(function(){new q(1).set({})}),Fe=function(e,t){if(void 0===e)throw W(Se);var n=+e,r=g(e);if(t&&!b(n,r))throw V(Se);return r},Le=function(e,t){var n=f(e);if(n<0||n%t)throw V("Wrong offset!");return n},Re=function(e){if(x(e)&&Ee in e)return e;throw W(e+" is not a typed array!")},Me=function(e,t){if(!(x(e)&&we in e))throw W("It is not a typed array constructor!");return new e(t)},Ie=function(e,t){return De(M(e,e[xe]),t)},De=function(e,t){for(var n=0,r=t.length,i=Me(e,r);r>n;)i[n]=t[n++];return i},Ne=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,i,o,s,a=_(e),l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,d=A(a);if(void 0!=d&&!E(d)){for(s=d.call(a),r=[],t=0;!(o=s.next()).done;t++)r.push(o.value);a=r}for(h&&l>2&&(u=c(u,arguments[2],2)),t=0,n=g(a.length),i=Me(this,n);n>t;t++)i[t]=h?u(a[t],t):a[t];return i},Oe=function(){for(var e=0,t=arguments.length,n=Me(this,t);t>e;)n[e]=arguments[e++];return n},Be=!!q&&o(function(){ve.call(new q(1))}),$e=function(){return ve.apply(Be?ge.call(Re(this)):Re(this),arguments)},je={copyWithin:function(e,t){return B.call(Re(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Re(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return O.apply(Re(this),arguments)},filter:function(e){return Ie(this,ee(Re(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(Re(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Re(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Re(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return se(Re(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Re(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(Re(this),arguments)},lastIndexOf:function(e){return ue.apply(Re(this),arguments)},map:function(e){return ke(Re(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return he.apply(Re(this),arguments)},reduceRight:function(e){return de.apply(Re(this),arguments)},reverse:function(){for(var e,t=this,n=Re(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Re(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return fe.call(Re(this),e)},subarray:function(e,t){var n=Re(this),r=n.length,i=m(e,r);return new(M(n,n[xe]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?r:m(t,r))-i))}},ze=function(e,t){return Ie(this,ge.call(Re(this),e,t))},Ue=function(e){Re(this);var t=Le(arguments[1],1),n=this.length,r=_(e),i=g(r.length),o=0;if(i+t>n)throw V(Se);for(;o<i;)this[t+o]=r[o++]},Ve={entries:function(){return ce.call(Re(this))},keys:function(){return le.call(Re(this))},values:function(){return ae.call(Re(this))}},We=function(e,t){return x(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return We(e,t=v(t,!0))?h(2,e[t]):U(e,t)},He=function(e,t,n){return!(We(e,t=v(t,!0))&&x(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};_e||(j.f=qe,$.f=He),s(s.S+s.F*!_e,"Object",{getOwnPropertyDescriptor:qe,defineProperty:He}),o(function(){me.call({})})&&(me=ve=function(){return pe.call(this)});var Ge=p({},je);p(Ge,Ve),d(Ge,ye,Ve.values),p(Ge,{slice:ze,set:Ue,constructor:function(){},toString:me,toLocaleString:$e}),Ne(Ge,"buffer","b"),Ne(Ge,"byteOffset","o"),Ne(Ge,"byteLength","l"),Ne(Ge,"length","e"),z(Ge,be,{get:function(){return this[Ee]}}),e.exports=function(e,t,n,l){l=!!l;var c=e+(l?"Clamped":"")+"Array",h="Uint8Array"!=c,p="get"+e,f="set"+e,m=i[c],v=m||{},y=m&&S(m),b=!m||!a.ABV,_={},E=m&&m[Y],A=function(e,n){var r=e._d;return r.v[p](n*t+r.o,Ae)},T=function(e,n,r){var i=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*t+i.o,r,Ae)},F=function(e,t){z(e,t,{get:function(){return A(this,t)},set:function(e){return T(this,t,e)},enumerable:!0})};b?(m=n(function(e,n,r,i){u(e,m,c,"_d");var o,s,a,l,h=0,p=0;if(x(n)){if(!(n instanceof J||(l=w(n))==H||l==G))return Ee in n?De(m,n):Pe.call(m,n);o=n,p=Le(r,t);var f=n.byteLength;if(void 0===i){if(f%t)throw V(Se);if(s=f-p,s<0)throw V(Se)}else if(s=g(i)*t,s+p>f)throw V(Se);a=s/t}else a=Fe(n,!0),s=a*t,o=new J(s);for(d(e,"_d",{b:o,o:p,l:s,e:a,v:new Z(o)});h<a;)F(e,h++)}),E=m[Y]=C(Ge),d(E,"constructor",m)):N(function(e){new m(null),new m(e)},!0)||(m=n(function(e,n,r,i){u(e,m,c);var o;return x(n)?n instanceof J||(o=w(n))==H||o==G?void 0!==i?new v(n,Le(r,t),i):void 0!==r?new v(n,Le(r,t)):new v(n):Ee in n?De(m,n):Pe.call(m,n):new v(Fe(n,h))}),Q(y!==Function.prototype?k(v).concat(k(y)):k(v),function(e){e in m||d(m,e,v[e])}),m[Y]=E,r||(E.constructor=m));var L=E[ye],R=!!L&&("values"==L.name||void 0==L.name),M=Ve.values;d(m,we,!0),d(E,Ee,c),d(E,Ce,!0),d(E,xe,m),(l?new m(1)[be]==c:be in E)||z(E,be,{get:function(){return c}}),_[c]=m,s(s.G+s.W+s.F*(m!=v),_),s(s.S,c,{BYTES_PER_ELEMENT:t,from:Pe,of:Oe}),K in E||d(E,K,t),s(s.P,c,je),P(c),s(s.P+s.F*Te,c,{set:Ue}),s(s.P+s.F*!R,c,Ve),s(s.P+s.F*(E.toString!=me),c,{toString:me}),s(s.P+s.F*o(function(){new m(1).slice()}),c,{slice:ze}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new m([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),c,{toLocaleString:$e}),D[c]=R?L:M,r||R||d(E,ye,M)}}else e.exports=function(){}},function(e,t,n){n(522)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(522)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(522)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(522)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(522)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(522)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(522)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(522)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(307),i=n(320),o=n(311),s=(n(303).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(306)(function(){s(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),l=o(n);return s?s(r,t,l):a.call(r,t,l)}})},function(e,t,n){var r=n(307),i=n(345),o=n(320),s=n(311),a=n(312),l=n(306),c=n(376),u=(n(303).Reflect||{}).construct,h=l(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),d=!l(function(){u(function(){})});r(r.S+r.F*(h||d),"Reflect",{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!h)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=n.prototype,p=i(a(l)?l:Object.prototype),f=Function.apply.call(e,p,t);return a(f)?f:p}})},function(e,t,n){var r=n(310),i=n(307),o=n(311),s=n(315);i(i.S+i.F*n(306)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=s(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(307),i=n(350).f,o=n(311);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(307),i=n(311),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(429)(o,"Object",function(){var e,t=this,n=t._k;do if(t._i>=n.length)return{value:void 0,done:!0};while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){function r(e,t){var n,a,u=arguments.length<3?e:arguments[2];return c(e)===u?e[t]:(n=i.f(e,t))?s(n,"value")?n.value:void 0!==n.get?n.get.call(u):void 0:l(a=o(e))?r(a,t,u):void 0}var i=n(350),o=n(358),s=n(304),a=n(307),l=n(312),c=n(311);a(a.S,"Reflect",{get:r})},function(e,t,n){var r=n(350),i=n(307),o=n(311);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(307),i=n(358),o=n(311);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(307);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(307),i=n(311),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(307);r(r.S,"Reflect",{ownKeys:n(542)})},function(e,t,n){var r=n(349),i=n(342),o=n(311),s=n(303).Reflect;e.exports=s&&s.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(307),i=n(311),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var l,d,p=arguments.length<4?e:arguments[3],f=o.f(u(e),t);if(!f){if(h(d=s(e)))return r(d,t,n,p);f=c(0)}return a(f,"value")?!(f.writable===!1||!h(p))&&(l=o.f(p,t)||c(0),l.value=n,i.f(p,t,l),!0):void 0!==f.set&&(f.set.call(p,n),!0)}var i=n(310),o=n(350),s=n(358),a=n(304),l=n(307),c=n(316),u=n(311),h=n(312);l(l.S,"Reflect",{set:r})},function(e,t,n){var r=n(307),i=n(372);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(307),i=n(335)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(485)("includes")},function(e,t,n){"use strict";var r=n(307),i=n(426)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(307),i=n(549);r(r.P,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){var r=n(336),i=n(390),o=n(334);e.exports=function(e,t,n,s){var a=String(o(e)),l=a.length,c=void 0===n?" ":String(n),u=r(t);if(u<=l||""==c)return a;var h=u-l,d=i.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),s?d+a:a+d}},function(e,t,n){"use strict";var r=n(307),i=n(549);r(r.P,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(382)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(382)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(307),i=n(334),o=n(336),s=n(433),a=n(495),l=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(429)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!s(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in l?String(e.flags):a.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new c(r,t)}})},function(e,t,n){n(326)("asyncIterator")},function(e,t,n){n(326)("observable")},function(e,t,n){var r=n(307),i=n(542),o=n(331),s=n(350),a=n(462);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n=o(e),r=s.f,l=i(n),c={},u=0;l.length>u;)a(c,t=l[u++],r(n,t));return c}})},function(e,t,n){var r=n(307),i=n(558)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(329),i=n(331),o=n(343).f;e.exports=function(e){return function(t){for(var n,s=i(t),a=r(s),l=a.length,c=0,u=[];l>c;)o.call(s,n=a[c++])&&u.push(e?[n,s[n]]:s[n]);return u}}},function(e,t,n){var r=n(307),i=n(558)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(307),i=n(357),o=n(320),s=n(310);n(305)&&r(r.P+n(561),"Object",{__defineGetter__:function(e,t){s.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){e.exports=n(327)||!n(306)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(303)[e]})},function(e,t,n){"use strict";var r=n(307),i=n(357),o=n(320),s=n(310);n(305)&&r(r.P+n(561),"Object",{__defineSetter__:function(e,t){s.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(307),i=n(357),o=n(315),s=n(358),a=n(350).f;n(305)&&r(r.P+n(561),"Object",{__lookupGetter__:function(e){
var t,n=i(this),r=o(e,!0);do if(t=a(n,r))return t.get;while(n=s(n))}})},function(e,t,n){"use strict";var r=n(307),i=n(357),o=n(315),s=n(358),a=n(350).f;n(305)&&r(r.P+n(561),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do if(t=a(n,r))return t.set;while(n=s(n))}})},function(e,t,n){var r=n(307);r(r.P+r.R,"Map",{toJSON:n(566)("Map")})},function(e,t,n){var r=n(374),i=n(567);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(505);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){var r=n(307);r(r.P+r.R,"Set",{toJSON:n(566)("Set")})},function(e,t,n){var r=n(307);r(r.S,"System",{global:n(303)})},function(e,t,n){var r=n(307),i=n(333);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(307);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,s=n>>>0;return o+(r>>>0)+((i&s|(i|s)&~(i+s>>>0))>>>31)|0}})},function(e,t,n){var r=n(307);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,s=n>>>0;return o-(r>>>0)-((~i&s|~(i^s)&i-s>>>0)>>>31)|0}})},function(e,t,n){var r=n(307);r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,s=i&n,a=r>>16,l=i>>16,c=(a*s>>>0)+(o*s>>>16);return a*l+(c>>16)+((o*l>>>0)+(c&n)>>16)}})},function(e,t,n){var r=n(307);r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,s=i&n,a=r>>>16,l=i>>>16,c=(a*s>>>0)+(o*s>>>16);return a*l+(c>>>16)+((o*l>>>0)+(c&n)>>>16)}})},function(e,t,n){var r=n(576),i=n(311),o=r.key,s=r.set;r.exp({defineMetadata:function(e,t,n,r){s(e,t,i(n),o(r))}})},function(e,t,n){var r=n(510),i=n(307),o=n(322)("metadata"),s=o.store||(o.store=new(n(514))),a=function(e,t,n){var i=s.get(e);if(!i){if(!n)return;s.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o},l=function(e,t,n){var r=a(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=a(t,n,!1);return void 0===r?void 0:r.get(e)},u=function(e,t,n,r){a(n,r,!0).set(e,t)},h=function(e,t){var n=a(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){i(i.S,"Reflect",e)};e.exports={store:s,map:a,has:l,get:c,set:u,keys:h,key:d,exp:p}},function(e,t,n){var r=n(576),i=n(311),o=r.key,s=r.map,a=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=s(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var l=a.get(t);return l.delete(n),!!l.size||a.delete(t)}})},function(e,t,n){var r=n(576),i=n(311),o=n(358),s=r.has,a=r.get,l=r.key,c=function(e,t,n){var r=s(e,t,n);if(r)return a(e,t,n);var i=o(t);return null!==i?c(e,i,n):void 0};r.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,n){var r=n(513),i=n(567),o=n(576),s=n(311),a=n(358),l=o.keys,c=o.key,u=function(e,t){var n=l(e,t),o=a(e);if(null===o)return n;var s=u(o,t);return s.length?n.length?i(new r(n.concat(s))):s:n};o.exp({getMetadataKeys:function(e){return u(s(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var r=n(576),i=n(311),o=r.get,s=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(576),i=n(311),o=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:s(arguments[1]))}})},function(e,t,n){var r=n(576),i=n(311),o=n(358),s=r.has,a=r.key,l=function(e,t,n){var r=s(e,t,n);if(r)return!0;var i=o(t);return null!==i&&l(e,i,n)};r.exp({hasMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(576),i=n(311),o=r.has,s=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(576),i=n(311),o=n(320),s=r.key,a=r.set;r.exp({metadata:function(e,t){return function(n,r){a(e,t,(void 0!==r?i:o)(n),s(r))}}})},function(e,t,n){var r=n(307),i=n(508)(),o=n(303).process,s="process"==n(333)(o);r(r.G,{asap:function(e){var t=s&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(307),i=n(303),o=n(308),s=n(508)(),a=n(324)("observable"),l=n(320),c=n(311),u=n(504),h=n(509),d=n(309),p=n(505),f=p.RETURN,g=function(e){return null==e?void 0:l(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,m(e))},b=function(e,t){c(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:l(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};b.prototype=h({},{unsubscribe:function(){y(this)}});var w=function(e){this._s=e};w.prototype=h({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var r=g(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var x=function(e){u(this,x,"Observable","_f")._f=l(e)};h(x.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){l(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),h(x,{from:function(e){var t="function"==typeof this?this:x,n=g(c(e)[a]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return s(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return f})===f)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:x)(function(e){var t=!1;return s(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(x.prototype,a,function(){return this}),r(r.G,{Observable:x}),n(491)("Observable")},function(e,t,n){var r=n(303),i=n(307),o=n(377),s=n(588),a=r.navigator,l=!!a&&/MSIE .\./.test(a.userAgent),c=function(e){return l?function(t,n){return e(o(s,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};i(i.G+i.B+i.F*l,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){"use strict";var r=n(589),i=n(377),o=n(320);e.exports=function(){for(var e=o(this),t=arguments.length,n=Array(t),s=0,a=r._,l=!1;t>s;)(n[s]=arguments[s++])===a&&(l=!0);return function(){var r,o=this,s=arguments.length,c=0,u=0;if(!l&&!s)return i(e,n,o);if(r=n.slice(),l)for(;t>c;c++)r[c]===a&&(r[c]=arguments[u++]);for(;s>u;)r.push(arguments[u++]);return i(e,r,o)}}},function(e,t,n){e.exports=n(303)},function(e,t,n){var r=n(307),i=n(507);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(492),i=n(317),o=n(303),s=n(309),a=n(428),l=n(324),c=l("iterator"),u=l("toStringTag"),h=a.Array,d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var f,g=d[p],m=o[g],v=m&&m.prototype;if(v){v[c]||s(v,c,h),v[u]||s(v,u,g),a[g]=h;for(f in r)v[f]||i(v,f,r[f],!0)}}},function(e,t,n){(function(t,n){!function(t){"use strict";function r(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,s=Object.create(i.prototype),a=new p(r||[]);return s._invoke=u(e,n,a),s}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function s(){}function a(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(n,r,o,s){var a=i(e[n],e,r);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},s)}s(a.arg)}function r(e,n){function r(){return new Promise(function(r,i){t(e,n,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var o;this._invoke=r}function u(e,t,n){var r=C;return function(o,s){if(r===k)throw new Error("Generator is already running");if(r===A){if("throw"===o)throw s;return g()}for(;;){var a=n.delegate;if(a){if("return"===o||"throw"===o&&a.iterator[o]===m){n.delegate=null;var l=a.iterator.return;if(l){var c=i(l,a.iterator,s);if("throw"===c.type){o="throw",s=c.arg;continue}}if("return"===o)continue}var c=i(a.iterator[o],a.iterator,s);if("throw"===c.type){n.delegate=null,o="throw",s=c.arg;continue}o="next",s=m;var u=c.arg;if(!u.done)return r=S,u;n[a.resultName]=u.value,n.next=a.nextLoc,n.delegate=null}if("next"===o)n.sent=n._sent=s;else if("throw"===o){if(r===C)throw r=A,s;n.dispatchException(s)&&(o="next",s=m)}else"return"===o&&n.abrupt("return",s);r=k;var c=i(e,t,n);if("normal"===c.type){r=n.done?A:S;var u={value:c.arg,done:n.done};if(c.arg!==T)return u;n.delegate&&"next"===o&&(s=m)}else"throw"===c.type&&(r=A,o="throw",s=c.arg)}}}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function f(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",x=b.toStringTag||"@@toStringTag",_="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(_&&(e.exports=E));E=t.regeneratorRuntime=_?e.exports:{},E.wrap=r;var C="suspendedStart",S="suspendedYield",k="executing",A="completed",T={},F={};F[w]=function(){return this};var L=Object.getPrototypeOf,R=L&&L(L(f([])));R&&R!==v&&y.call(R,w)&&(F=R);var M=a.prototype=o.prototype=Object.create(F);s.prototype=M.constructor=a,a.constructor=s,a[x]=s.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(M),e},E.awrap=function(e){return{__await:e}},l(c.prototype),E.AsyncIterator=c,E.async=function(e,t,n,i){var o=new c(r(e,t,n,i));return E.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},l(M),M[x]="Generator",M.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=f,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=y.call(i,"catchLoc"),a=y.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),T},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),n(109))},function(e,t,n){n(594),e.exports=n(308).RegExp.escape},function(e,t,n){var r=n(307),i=n(595)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},,,,,,,,,function(e,t,n){"use strict";var r=n(283),i=n(1),o=i.createClass({displayName:"Progress",propTypes:{id:i.PropTypes.string,message:i.PropTypes.string,onClose:i.PropTypes.func,show:i.PropTypes.bool,title:i.PropTypes.string,subTitle:i.PropTypes.string},getDefaultProps:function(){return{id:"progress",show:!1,message:"",onClose:null}},getInitialState:function(){return{show:this.props.show}},componentWillReceiveProps:function(e){this.props.show!=e.show&&this.setState({show:e.show})},onClose:function(){this.setState({show:!1}),this.props.onClose&&this.props.onClose()},render:function(){var e="";return this.props.subTitle&&(e=i.createElement("div",{className:"row"},i.createElement("p",{className:"center"},this.props.subTitle))),i.createElement(r.Modal,{id:this.props.id,show:this.state.show,dismissible:!1,fixedFooter:!1},i.createElement(r.ModalContent,{className:"valign-wrapper"},i.createElement("div",{className:"container"},i.createElement("div",{className:"row"},i.createElement("h4",{className:"center"},this.props.title)),e,i.createElement("div",{className:"row"},i.createElement("div",{className:"progress"},i.createElement("div",{className:"indeterminate"}))))))}});e.exports=o},function(e,t,n){"use strict";var r=n(1),i=n(284),o=n(606),s=n(201)("map"),a=n(610),l=n(612),c=n(168),u=n(170),h=n(189)(u),d=n(648),p=n(649),f=n(608),g=n(266),m=n(660),v=n(268),y=n(610),b=n(664),w=n(665),x=n(681),_=n(685),E=n(687),C=n(688),S=n(694),k=n(695),A=n(700),T=n(701),F=n(713),L=n(714),R=n(715),M=n(716),I={};"undefined"!=typeof window&&(I=n(684));var D=r.createClass({displayName:"Map",mixins:[_,E,k,C,S,A,R,h.connect(m),h.connect(M),h.connect(p,{initWithProps:["baseMap"]}),h.connect(g)],__:function(e){return v.getLocaleString(this.state.locale,e)},propTypes:{className:r.PropTypes.string,id:r.PropTypes.string,maxBounds:r.PropTypes.object,maxZoom:r.PropTypes.number,minZoom:r.PropTypes.number,height:r.PropTypes.string,style:r.PropTypes.object,glStyle:r.PropTypes.object,features:r.PropTypes.array,tileJSONType:r.PropTypes.string,tileJSONUrl:r.PropTypes.string,data:r.PropTypes.object,interactive:r.PropTypes.bool,showPlayButton:r.PropTypes.bool,showLogo:r.PropTypes.bool,showFeatureInfoEditButtons:r.PropTypes.bool,fitBounds:r.PropTypes.array,disableScrollZoom:r.PropTypes.bool,enableRotation:r.PropTypes.bool,navPosition:r.PropTypes.string,baseMap:r.PropTypes.string,onChangeBaseMap:r.PropTypes.func,insetMap:r.PropTypes.bool,hoverInteraction:r.PropTypes.bool,interactionBufferSize:r.PropTypes.number,hash:r.PropTypes.bool,gpxLink:r.PropTypes.string,attributionControl:r.PropTypes.bool,allowLayerOrderOptimization:r.PropTypes.bool,children:r.PropTypes.any},getDefaultProps:function(){return{maxZoom:18,minZoom:5,className:"",interactive:!0,showFeatureInfoEditButtons:!0,showPlayButton:!0,navPosition:"top-right",baseMap:"default",showLogo:!0,insetMap:!0,hoverInteraction:!1,interactionBufferSize:10,hash:!0,attributionControl:!1,style:{},allowLayerOrderOptimization:!0}},getInitialState:function(){var e=null;this.props.fitBounds&&(e=this.props.fitBounds);var t=null,n=[];return this.props.glStyle&&(t=JSON.parse(JSON.stringify(this.props.glStyle)),n=this.getInteractiveLayers(t)),{id:this.props.id?this.props.id:"map",selectedFeatures:null,selected:!1,interactive:this.props.interactive,glStyle:t,interactiveLayers:n,mapLoaded:!1,restoreBounds:e,allowLayersToMoveMap:!e}},componentWillMount:function(){if(this.state.glStyle){var e=this.getInteractiveLayers(this.state.glStyle);this.setState({interactiveLayers:e})}},componentDidMount:function(){this.createMap()},shouldComponentUpdate:function(e,t){return!!(this.state.selected||t.selected||this.state.selectedFeatures||t.selectedFeatures)||(!y(this.props,e)||!y(this.state,t))},optimizeLayerOrder:function(e){var t=[],n=[];return this.props.allowLayerOrderOptimization?(e.layers.forEach(function(e){"symbol"===e.type?n.push(e):t.push(e)}),t.concat(n)):e.layers},addLayers:function(e,t){var n=this,r=this.optimizeLayerOrder(t);r.forEach(function(r){try{var i=t.sources[r.source];"osm"==r.source||"vector"!==i.type||i.url.startsWith("mapbox://")?"geojson"===i.type&&i.data?T["maphubs-vector"].addLayer(r,i,e,n):T[i.type]&&T[i.type].addLayer?T[i.type].addLayer(r,i,e):"raster"===i.type&&r.metadata&&r.metadata["maphubs:showBehindBaseMapLabels"]?e.addLayer(r,"water"):n.state.editing?e.addLayer(r,n.getFirstDrawLayerID()):e.addLayer(r):T["maphubs-vector"].addLayer(r,i,e,n)}catch(e){s("("+n.state.id+") Failed to add layer: "+r.id),s("("+n.state.id+") "+e)}})},removeAllLayers:function(e){var t=this;e&&e.layers&&e.layers.forEach(function(n){try{var r=e.sources[n.source];"osm"==n.source||"vector"!==r.type||r.url.startsWith("mapbox://")?"geojson"===r.type&&r.data?T["maphubs-vector"].removeLayer(n,t.map):T[r.type]&&T[r.type].removeLayer?T[r.type].removeLayer(n,t.map):t.map.removeLayer(n.id):T["maphubs-vector"].removeLayer(n,t.map)}catch(e){s("("+t.state.id+") Failed to remove layer: "+n.id)}})},removeAllSources:function(e){var t=this;e&&e.sources&&Object.keys(e.sources).forEach(function(n){try{T[e.sources[n].type]&&T[e.sources[n].type].remove?T[e.sources[n].type].remove(n,t.map):t.map.removeSource(n)}catch(e){s("("+t.state.id+") Failed to remove source: "+n)}})},reload:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this;s("("+r.state.id+") reload: start");try{this.clearSelection()}catch(e){s(e)}e||(e=this.props.glStyle),t||(t=e),this.removeAllLayers(e),this.removeAllSources(e),n?(s("("+r.state.id+") reload: base map"),this.map.setStyle(n,{diff:!1})):this.addMapData(this.map,t,this.props.data,function(){s("("+r.state.id+") reload: finished adding data")})},addMapData:function(e,t,n,r){var i=this;if(t&&t.sources){var o=[];Object.keys(t.sources).forEach(function(n){var r=t.sources[n],s=r.type,a=r.url;"osm"==n||"vector"!==s||a.startsWith("mapbox://")?"geojson"===s&&r.data?o.push(T["maphubs-vector"].load(n,r,e,i)):T[s]?o.push(T[s].load(n,r,e,i)):"raster"===s?(r.url&&(r.url=r.url.replace("{MAPHUBS_DOMAIN}",f.getBaseUrl())),e.addSource(n,r)):e.addSource(n,r):o.push(T["maphubs-vector"].load(n,r,e,i))}),l.all(o).then(function(){i.addLayers(e,t),r()}).catch(function(n){s("("+i.state.id+") "+n),i.addLayers(e,t),r()})}else n?(i.initGeoJSON(e,n),i.setState({mapLoaded:!0})):i.setState({mapLoaded:!0})},createMap:function(){var e=this;s("("+e.state.id+") Creating MapboxGL Map"),I.accessToken=MAPHUBS_CONFIG.MAPBOX_ACCESS_TOKEN,d.getBaseMapFromName(this.state.baseMap,function(t){I.supported()||alert("Your browser does not support Mapbox GL");var n=new I.Map({container:e.state.id,style:t,zoom:0,interactive:e.state.interactive,dragRotate:!!e.props.enableRotation,touchZoomRotate:!!e.props.enableRotation,center:[0,0],hash:e.props.hash,attributionControl:e.props.attributionControl});n.on("style.load",function(){s("("+e.state.id+") style.load"),e.addMapData(n,e.state.glStyle,e.props.data,function(){if(s("("+e.state.id+") finished adding map data"),!e.props.data&&e.state.restoreBounds){var t=e.state.restoreBounds;if(t.length>2){var r=new I.LngLat(t[0],t[1]),i=new I.LngLat(t[2],t[3]);t=new I.LngLatBounds(r,i)}s("("+e.state.id+") restoring bounds: "+e.state.restoreBounds),n.fitBounds(t,{animate:!1}),e.refs.insetMap&&e.refs.insetMap.fitBounds(t,{maxZoom:1.8,padding:10,animate:!1})}"en"!=e.state.locale&&(e.changeLocale(e.state.locale,e.map),e.refs.insetMap&&e.changeLocale(e.state.locale,e.refs.insetMap.getInsetMap())),e.state.forestAlerts&&e.restoreForestAlerts(),s("("+e.state.id+") MAP LOADED"),e.setState({mapLoaded:!0})}),e.refs.insetMap&&(e.refs.insetMap.getInsetMap()||e.refs.insetMap.createInsetMap(n.getCenter(),n.getBounds(),t))}),n.on("mousemove",e.mousemoveHandler),n.on("moveend",e.moveendHandler),n.on("click",e.clickHandler),e.state.interactive&&n.addControl(new I.NavigationControl,e.props.navPosition),n.addControl(new I.ScaleControl({maxWidth:175,unit:"metric"}),"bottom-right"),e.props.disableScrollZoom&&n.scrollZoom.disable(),e.map=n})},componentDidUpdate:function(e,t){if(this.state.interactive&&!t.interactive){this.map.addControl(new I.Navigation,this.props.navPosition);var n=this.map.interaction;n.enable(),c(this.refs.basemapButton).show(),c(this.refs.editBaseMapButton).show()}this.state.locale&&this.state.locale!=t.locale&&(this.changeLocale(this.state.locale,this.map),this.refs.insetMap&&this.changeLocale(this.state.locale,this.refs.insetMap.__getInsetMap()))},componentWillReceiveProps:function(e){var t=this;if(e.data&&this.map){var n=this.map.getSource("omh-geojson");n?(s("("+this.state.id+") update geoJSON data"),n.setData(e.data),this.zoomToData(e.data)):void 0===n&&this.props.data||(s("("+this.state.id+") init geoJSON data"),this.initGeoJSON(this.map,e.data))}var r=!1,i=null,o=this.state.allowLayersToMoveMap;if(e.fitBounds&&!a(this.props.fitBounds,e.fitBounds)&&this.map){if(s("("+this.state.id+") FIT BOUNDS CHANGING"),r=!0,o=!1,e.fitBounds.length>2){var l=new I.LngLat(e.fitBounds[0],e.fitBounds[1]),c=new I.LngLat(e.fitBounds[2],e.fitBounds[3]);i=new I.LngLatBounds(l,c)}else i=e.fitBounds;s("("+this.state.id+") bounds: "+i)}if(e.glStyle&&e.baseMap)if(a(this.state.glStyle,e.glStyle))a(this.state.baseMap,e.baseMap)?r&&i&&(s("("+this.state.id+") only bounds changing, bounds: "+i),Array.isArray(i)&&i.length>2&&(i=[[i[0],i[1]],[i[2],i[3]]]),s("("+this.state.id+") calling map fitBounds"),this.map.fitBounds(i,{animate:!1}),this.refs.insetMap&&this.refs.insetMap.fitBounds(i,{maxZoom:1.8,padding:10,animate:!1}),this.setState({allowLayersToMoveMap:o})):(s("("+this.state.id+") basemap changing from props"),o=!1,this.setState({allowLayersToMoveMap:o}),d.setBaseMap(e.baseMap),d.getBaseMapFromName(e.baseMap,function(e){t.reload(t.state.glStyle,t.state.glStyle,e)}));else{s("("+this.state.id+") glstyle changing from props"),this.state.mapLoaded&&!r&&null!=this.state.glStyle&&(s("("+this.state.id+") restoring current map position"),o=!1);var u=JSON.parse(JSON.stringify(this.state.glStyle)),h=JSON.parse(JSON.stringify(e.glStyle));this.setState({allowLayersToMoveMap:o,glStyle:h}),d.setBaseMap(e.baseMap),d.getBaseMapFromName(e.baseMap,function(e){t.reload(u,h,e);var n=t.getInteractiveLayers(h);t.setState({interactiveLayers:n})})}else if(e.glStyle&&!a(this.state.glStyle,e.glStyle)){s("("+this.state.id+") glstyle changing from props (default basemap)");var p=JSON.parse(JSON.stringify(e.glStyle));this.reload(this.state.glStyle,p);var f=this.getInteractiveLayers(p);this.setState({glStyle:p,allowLayersToMoveMap:o,interactiveLayers:f})}else e.baseMap&&!a(this.state.baseMap,e.baseMap)?(s("("+this.state.id+") basemap changing from props (no glstyle)"),this.setState({allowLayersToMoveMap:o}),d.setBaseMap(e.baseMap),d.getBaseMapFromName(e.baseMap,function(e){t.reload(this.state.glStyle,this.state.glStyle,e)})):r&&i&&(s("("+this.state.id+") only bounds changing"),i._ne&&i._sw?this.map.fitBounds(i,{animate:!1}):Array.isArray(i)&&i.length>2?this.map.fitBounds([[i[0],i[1]],[i[2],i[3]]],{animate:!1}):this.map.fitBounds(i,{animate:!1}),this.setState({allowLayersToMoveMap:o}))},componentWillUnmount:function(){this.map.remove()},startInteractive:function(){this.setState({interactive:!0}),this.props.enableRotation||(this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation())},getBaseMap:function(){return this.state.baseMap},changeBaseMap:function(e){s("changing basemap to: "+e);var t=this;d.getBaseMapFromName(e,function(n){d.setBaseMap(e),t.setState({allowLayersToMoveMap:!1}),t.reload(t.state.glStyle,t.state.glStyle,n),t.refs.insetMap&&(t.refs.insetMap.reloadInset(n),t.refs.insetMap.fitBounds(t.map.getBounds(),{maxZoom:1.8,padding:10,animate:!1})),t.state.forestAlerts&&t.restoreForestAlerts(),t.props.onChangeBaseMap&&t.props.onChangeBaseMap(e)})},render:function(){var e=i("mode","map","active"),t="";this.state.selectedFeatures&&this.state.selectedFeatures.length>0&&(t=r.createElement(o,{features:this.state.selectedFeatures,selected:this.state.selected,onUnselected:this.handleUnselectFeature,showButtons:this.props.showFeatureInfoEditButtons,style:{}}));var n="";!this.state.interactive&&this.props.showPlayButton&&(n=r.createElement("a",{onClick:this.startInteractive,className:"btn-floating waves-effect waves-light",style:{position:"absolute",left:"50%",bottom:"50%",backgroundColor:"rgba(25,25,25,0.1)",zIndex:"999"}},r.createElement("i",{className:"material-icons"},"play_arrow")));var s="",a="";this.state.mapLoaded&&(this.props.showLogo&&(s=r.createElement("img",{style:{position:"absolute",left:"5px",bottom:"2px",zIndex:"1"},width:MAPHUBS_CONFIG.logoSmallWidth,height:MAPHUBS_CONFIG.logoSmallHeight,src:MAPHUBS_CONFIG.logoSmall,alt:"Logo"})),a=this.props.children);var l="";if(this.props.insetMap){var c="5px";this.props.showLogo&&(c="30px"),l=r.createElement(x,{ref:"insetMap",id:this.state.id,bottom:c})}var u="";this.state.enableMeasurementTools&&(u=r.createElement("div",null,r.createElement("div",{style:{position:"absolute",top:"46px",right:"10px",backgroundColor:"rgba(0,0,0,0.6)",color:"#FFF",height:"30px",paddingLeft:"5px",paddingRight:"5px",borderRadius:"4px",zIndex:"100",lineHeight:"30px"}},r.createElement("span",null,this.state.measurementMessage)),r.createElement(b,{top:"80px",right:"10px",icon:"close",show:!0,color:"#000",onClick:this.stopMeasurementTool,tooltipText:this.__("Exit Measurement")})));var h="";return this.state.showForestLoss&&(h=r.createElement(L,{style:{position:"absolute",bottom:"5px",left:"45%",right:"45%",fontSize:"32px",color:"#FFF",textShadow:"-1px 0 #000000, 0 1px #000000, 1px 0 #000000, 0 -1px #000000",zIndex:1}})),r.createElement("div",{ref:"mapcontainer",className:this.props.className,style:this.props.style},r.createElement("div",{id:this.state.id,ref:"map",className:e,style:{width:"100%",height:"100%"}},l,r.createElement(w,{show:this.state.interactive&&this.state.mapLoaded,gpxLink:this.props.gpxLink,toggleMeasurementTools:this.toggleMeasurementTools,enableMeasurementTools:this.state.enableMeasurementTools,toggleForestAlerts:this.toggleForestAlerts,toggleForestLoss:this.toggleForestLoss,calculateForestAlerts:this.calculateForestAlerts,forestAlerts:this.state.forestAlerts,onChangeBaseMap:this.changeBaseMap}),u,t,n,a,s,h),r.createElement(F,null))}});e.exports=D},function(e,t,n){"use strict";var r=n(1),i=n(607),o=n(284),s=n(170),a=n(189)(s),l=n(266),c=n(268),u=n(196),h=n(205).checkClientError,d=n(608),p=n(609),f=n(168),g=r.createClass({displayName:"FeatureBox",mixins:[a.connect(l)],__:function(e){return c.getLocaleString(this.state.locale,e)},propTypes:{features:r.PropTypes.array.isRequired,selected:r.PropTypes.bool.isRequired,onUnselected:r.PropTypes.func.isRequired,showButtons:r.PropTypes.bool,className:r.PropTypes.string},getDefaultProps:function(){return{showButtons:!0,selected:!1}},getInitialState:function(){return{selectedFeature:1,selected:this.props.selected,currentFeatures:this.props.features?this.props.features:[],maxHeight:"calc(100% - 50px)",layerLoaded:!1}},componentDidMount:function(){if(this.props.selected&&this.props.features){var e=this.props.features[0];e.properties.layer_id?this.getLayer(e.properties.layer_id,e.properties.maphubs_host):this.setState({layerLoaded:!0})}},componentWillReceiveProps:function(e){if(!this.state.selected)if(e.selected){var t=null;this.state.currentFeatures&&this.state.currentFeatures.length>0?(t=this.state.currentFeatures,this.setState({selected:e.selected,selectedFeature:1})):(t=e.features,this.setState({currentFeatures:e.features,selected:e.selected,selectedFeature:1}));var n=t[0];n.properties.layer_id?this.getLayer(n.properties.layer_id,n.properties.maphubs_host):this.setState({layerLoaded:!0})}else this.setState({currentFeatures:e.features})},componentDidUpdate:function(e,t){!t.layerLoaded&&this.state.layerLoaded&&f(".feature-box-tooltips").tooltip()},getLayer:function(e,t){var n,r=this;n=t&&"dev.docker"!==t&&t!==window.location.hostname?"https://"+t:d.getBaseUrl(),u.get(n+"/api/layer/info/"+e).type("json").accept("json").end(function(e,t){h(t,e,function(){},function(e){var n=t.body.layer;r.setState({layer:n,layerLoaded:!0}),e()})})},handleCloseSelected:function(){this.setState({selected:!1,currentFeatures:[],selectedFeature:1}),this.props.onUnselected()},handleChangeSelectedFeature:function(e){this.setState({selectedFeature:e}),e.properties.layer_id?this.getLayer(e.properties.layer_id,e.properties.maphubs_host):this.setState({layerLoaded:!0})},render:function(){var e="",t="",n="",s="",a=d.getBaseUrl();if(this.state.selected){if(e=r.createElement("a",{style:{position:"absolute",top:0,right:0,cursor:"pointer"}},r.createElement("i",{className:"material-icons selected-feature-close",onClick:this.handleCloseSelected},"close")),1===this.state.currentFeatures.length?t=r.createElement("h6",{style:{position:"absolute",top:0,left:"5px",fontSize:"12px"}},this.__("Selected Feature")):this.state.currentFeatures.length>1&&(t=r.createElement("h6",{style:{position:"absolute",top:0,left:"5px",fontSize:"12px"}},this.__("Selected Features"))),this.props.showButtons){var l=-1,c=null,u=null,h="unknown";if(this.state.currentFeatures.length>0){var f=this.state.currentFeatures[this.state.selectedFeature-1];if(f&&f.properties){l=f.properties.mhid,c=f.properties.layer_id,u=f.properties.maphubs_host;var g=["name","Name","NAME","nom","Nom","NOM","nombre","Nombre","NOMBRE"];g.forEach(function(e){"unknown"==h&&f.properties[e]&&(h=f.properties[e])})}}var m="";this.state.layer&&(m=r.createElement("div",{style:{textAlign:"left"}},r.createElement("b",null,r.createElement("a",{className:"truncate",target:"_blank",href:a+"/lyr/"+this.state.layer.layer_id},this.state.layer.name)),r.createElement(p,{className:"left",group:this.state.layer.owned_by_group_id,size:15,fontSize:8})));var v,y;y="string"==typeof l&&l.includes(":")?l.split(":")[1]:l,v=u===window.location.hostname||"dev.docker"===u?"/feature/"+c+"/"+y+"/"+h:"https://"+u+"/feature/"+c+"/"+y+"/"+h,n=r.createElement("div",{className:"row",style:{marginTop:"10px",marginBottom:"10px"}},r.createElement("div",{className:"col s10 center"},m),r.createElement("div",{className:"col s2 center no-padding"},r.createElement("a",{href:v,className:"feature-box-tooltips","data-delay":"50","data-position":"bottom","data-tooltip":this.__("More Info")},r.createElement("i",{className:"material-icons omh-accent-color",style:{fontSize:32}},"info_outline"))))}}else n=this.state.currentFeatures.length>1?r.createElement("div",null,this.__("Showing Feature 1 of")," ",this.state.currentFeatures.length,r.createElement("p",null,this.__("Click to View All"))):r.createElement("h6",{
className:"center-align",style:{margin:"auto"}},this.__("Click to Select"));var b=!1;this.props.showButtons&&this.state.selected&&this.state.currentFeatures.length>1&&(b=!0);var w="none",x="",_=[];if(this.state.currentFeatures.length>0&&this.state.layerLoaded){w="flex",f=this.state.currentFeatures[this.state.selectedFeature-1],f&&f.properties&&(_=f.properties);var E;this.state.layer&&(E=this.state.layer.presets),x=r.createElement(i,{attributes:_,selected:this.state.selected,multipleSelected:b,presets:E},r.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",backgroundColor:"#FFF",borderTop:"1px solid #DDD"}},n,s))}var C=o("features","card",this.props.className);return r.createElement("div",{className:C,style:{display:w,maxHeight:this.state.maxHeight}},r.createElement("div",{className:"features-container"},e,t,r.createElement("div",{style:{width:"100%",display:"flex"}},x)))}});e.exports=g},function(e,t,n){"use strict";var r=n(1),i=r.createClass({displayName:"Attributes",propTypes:{attributes:r.PropTypes.object.isRequired,selected:r.PropTypes.bool.isRequired,multipleSelected:r.PropTypes.bool.isRequired,presets:r.PropTypes.array,children:r.PropTypes.any},render:function(){var e=this,t=r.createElement("div",{style:{height:"50px"}});this.props.multipleSelected&&(t=r.createElement("div",{style:{height:"118px"}}));var n="",i="",o=null;if(e.props.attributes.photo_url?o=e.props.attributes.photo_url:e.props.attributes["Photo URL"]&&(o=e.props.attributes["Photo URL"]),o&&(i=r.createElement("img",{src:o,style:{width:"180px",height:"auto"},alt:"feature photo"})),e.props.attributes&&Object.keys(e.props.attributes).length>0)if(this.props.presets){var s=this.props.presets;n=r.createElement("ul",{className:"collection",style:{marginTop:0}},i,s.map(function(t){if("undefined"!=typeof t.showOnMap&&t.showOnMap===!1)return"";var n=e.props.attributes[t.tag];return!n||"string"==typeof n&&"null"===n?"":("string"==typeof n&&n.startsWith("http")&&(n=r.createElement("a",{target:"_blank",href:n},n)),r.createElement("li",{key:t.tag,style:{paddingLeft:"5px",paddingRight:"5px",paddingTop:0,paddingBottom:0},className:"collection-item attribute-collection-item"},r.createElement("p",{style:{color:"rgb(158, 158, 158)",fontSize:"11px"}},t.label),r.createElement("p",{className:"word-wrap"},n)))}))}else n=r.createElement("ul",{className:"collection",style:{marginTop:0}},i,Object.keys(e.props.attributes).map(function(t){if("mhid"!==t||"layer_id"!==t||"maphubs_host"!==t){var n=e.props.attributes[t];return"string"==typeof n&&n.startsWith("http")&&(n=r.createElement("a",{target:"_blank",href:n},n)),r.createElement("li",{key:t,style:{padding:5},className:"collection-item attribute-collection-item"},r.createElement("p",{style:{color:"rgb(158, 158, 158)",fontSize:"11px"}},t),r.createElement("p",{className:"word-wrap"},n))}}));var a="0px";return this.props.selected&&(a="25px"),r.createElement("div",{style:{marginTop:a,width:"100%",overflowY:"auto",height:"calc(100% - 85px)",borderTop:"1px solid #DDD"}},n,t,this.props.children)}});e.exports=i},function(e,t){"use strict";e.exports={getBaseUrl:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n?(e=MAPHUBS_CONFIG.host_internal,t=MAPHUBS_CONFIG.internal_port):(e=MAPHUBS_CONFIG.host,t=MAPHUBS_CONFIG.port);var r="http://";MAPHUBS_CONFIG.https&&!n&&(r="https://");var i=r+e;return 80!=t&&(i+=":"+t),i},getUrlParameter:function(e){if("undefined"!=typeof window){var t,n,r=decodeURIComponent(window.location.search.substring(1)),i=r.split("&");for(n=0;n<i.length;n++)if(t=i[n].split("="),t[0]===e)return void 0===t[1]||t[1]}}}},function(e,t,n){"use strict";var r=n(1),i=n(608),o=n(168),s=n(610),a=n(284),l=r.createClass({displayName:"GroupTag",propTypes:{group:r.PropTypes.string.isRequired,size:r.PropTypes.number,chipWidth:r.PropTypes.number,fontSize:r.PropTypes.number,showTooltip:r.PropTypes.bool,className:r.PropTypes.string},getDefaultProps:function(){return{size:20,chipWidth:100,fontSize:10,showTooltip:!1}},componentDidMount:function(){this.props.showTooltip&&o(".group-tag-tooltip").tooltip(),o(this.refs.groupimg).error(function(){o(this).attr("src","/assets/missing_group.png")})},shouldComponentUpdate:function(e,t){return!s(this.props,e)||!s(this.state,t)},render:function(){var e=i.getBaseUrl(),t=this.props.size+"px",n=this.props.fontSize+"px",o=this.props.size.toString()+"px",s=this.props.chipWidth.toString()+"px",l=a(["chip","truncate",this.props.className]);return r.createElement("div",{className:l,style:{height:t,width:s,minWidth:"75px",marginBottom:"2px",border:"0.25pt solid #E4E4E4",lineHeight:t,fontSize:n}},r.createElement("a",{target:"_blank",className:"no-padding",href:e+"/group/"+this.props.group,style:{height:"initial"}},r.createElement("div",{className:"valign-wrapper",style:{height:t,width:o,backgroundColor:"white",marginRight:"0px",marginLeft:"-12px",float:"left"}},r.createElement("img",{ref:"groupimg",className:"valign",src:e+"/group/"+this.props.group+"/thumbnail",style:{height:t,width:"auto",marginRight:0,marginLeft:0,borderRadius:0},alt:"Group Photo"}))),r.createElement("a",{target:"_blank",className:"omh-accent-text group-tag-tooltip no-padding",style:{height:t,width:"auto",display:"inherit",lineHeight:t,fontSize:n},"data-position":"top","data-delay":"50","data-tooltip":this.props.group,href:e+"/group/"+this.props.group},this.props.group))}});e.exports=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(170),i=r.createActions({changeBaseMap:{},getBaseMapFromName:{},setBaseMap:{},updateMapPosition:{}});e.exports=i},function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(648),s=n(201)("stores/BaseMapStore"),a=n(196),l=n(650),c=n(652),u=n(654),h=n(655),d=n(657),p=n(658),f=n(659),g=n(659);e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return{baseMap:"default",attribution:"© Mapbox © OpenStreetMap",bingImagerySet:null,updateWithMapPosition:!1}},setBaseMap:function(e){this.setState({baseMap:e})},debouncedUpdateMapPosition:u(function(e,t){var n=this;if(n.position){var r={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[n.position.lng,n.position.lat]}},i={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[e.lng,e.lat]}},o=h(r,i,"kilometers");if(s("map moved: "+o+"km"),o<50&&Math.abs(n.position.zoom-e.zoom)<1)return void(n.position=e)}var u=[t[0][0],t[0][1],t[1][0],t[1][1]],d=e.lat,p=e.lng,f=Math.round(e.zoom),g="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.state.bingImagerySet+"/"+d+","+p+"?zl="+f+"&include=ImageryProviders&key="+MAPHUBS_CONFIG.BING_KEY,m="© Bing Maps";a.get(g).end(function(t,r){if(t)s(t);else{var i=r.body,o=[],a=l(u);if(i.resourceSets&&i.resourceSets.length>0&&i.resourceSets[0].resources&&i.resourceSets[0].resources.length>0&&i.resourceSets[0].resources[0].imageryProviders&&i.resourceSets[0].resources[0].imageryProviders.length>0){var h=i.resourceSets[0].resources[0],d="";h.vintageEnd&&(d='<b class="no-margin no-padding">('+h.vintageEnd+")</b>");var p=h.imageryProviders;p.forEach(function(e){for(var t=0;t<e.coverageAreas.length;t++){var n=l(e.coverageAreas[t].bbox);c(a,n)&&f>=e.coverageAreas[t].zoomMin&&f<=e.coverageAreas[t].zoomMax&&o.push(e.attribution)}}),m=m+": "+d+" "+o.toString()}n.position=e,n.setState({attribution:m})}})}),updateMapPosition:function(e,t){this.state.updateWithMapPosition&&this.debouncedUpdateMapPosition(e,t)},initialize:function(e){},getBingSource:function(e,t){var n="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+e+"?key="+MAPHUBS_CONFIG.BING_KEY+"&include=ImageryProviders";a.get(n).end(function(e,n){if(e)s(e);else{var r=n.body;t(r)}})},getBaseMapFromName:function(e,t){var n,r,i=this,o=!0;if(e||(e="default"),"default"==e)MAPHUBS_CONFIG.useMapboxBaseMaps?(n="light-v9",o=!0):(this.setState({attribution:'<a href="http://openmaptiles.org/" target="_blank">&copy; OpenMapTiles</a> <a href="http://www.openstreetmap.org/about/" target="_blank">&copy; OpenStreetMap contributors</a>',updateWithMapPosition:!1}),t(d));else if("dark"==e)MAPHUBS_CONFIG.useMapboxBaseMaps?(n="dark-v9",o=!0):(this.setState({attribution:'<a href="http://openmaptiles.org/" target="_blank">&copy; OpenMapTiles</a> <a href="http://www.openstreetmap.org/about/" target="_blank">&copy; OpenStreetMap contributors</a>',updateWithMapPosition:!1}),t(p));else if("outdoors"==e)MAPHUBS_CONFIG.useMapboxBaseMaps?(n="outdoors-v9",o=!0):(this.setState({attribution:'<a href="http://openmaptiles.org/" target="_blank">&copy; OpenMapTiles</a> <a href="http://www.openstreetmap.org/about/" target="_blank">&copy; OpenStreetMap contributors</a>',updateWithMapPosition:!1}),t(g));else if("streets"==e)MAPHUBS_CONFIG.useMapboxBaseMaps?(n="streets-v9",o=!0):(this.setState({attribution:'<a href="http://openmaptiles.org/" target="_blank">&copy; OpenMapTiles</a> <a href="http://www.openstreetmap.org/about/" target="_blank">&copy; OpenStreetMap contributors</a>',updateWithMapPosition:!1}),t(f));else if("mapbox-satellite"==e){if(!MAPHUBS_CONFIG.useMapboxBaseMaps)return this.getBaseMapFromName("bing-satellite",t);n="satellite-streets-v9",o=!0}else"stamen-toner"==e?(r={version:8,sources:{"stamen-toner-tiles":{type:"raster",tiles:["https://stamen-tiles-a.a.ssl.fastly.net/toner/{z}/{x}/{y}.png","https://stamen-tiles-b.a.ssl.fastly.net/toner/{z}/{x}/{y}.png","https://stamen-tiles-c.a.ssl.fastly.net/toner/{z}/{x}/{y}.png","https://stamen-tiles-d.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"stamen-toner-tiles",type:"raster",source:"stamen-toner-tiles",minzoom:0,maxzoom:22}]},this.setState({attribution:"Stamen Design (CC BY 3.0) Data by OpenStreetMap (ODbL)",updateWithMapPosition:!1}),t(r)):"stamen-terrain"==e?(r={version:8,sources:{"stamen-terrain-tiles":{type:"raster",tiles:["https://stamen-tiles-a.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png","https://stamen-tiles-b.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png","https://stamen-tiles-c.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png","https://stamen-tiles-d.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"stamen-terrain-tiles",type:"raster",source:"stamen-terrain-tiles",minzoom:0,maxzoom:22}]},this.setState({attribution:"Stamen Design (CC BY 3.0) Data by OpenStreetMap (ODbL)",updateWithMapPosition:!1}),t(r)):"stamen-watercolor"==e?(r={version:8,sources:{"stamen-watercolor-tiles":{type:"raster",tiles:["https://stamen-tiles-a.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png","https://stamen-tiles-b.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png","https://stamen-tiles-c.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png","https://stamen-tiles-d.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"stamen-watercolor-tiles",type:"raster",source:"stamen-watercolor-tiles",minzoom:0,maxzoom:22}]},this.setState({attribution:" Stamen Design (CC BY 3.0) Data by OpenStreetMap (CC BY SA)",updateWithMapPosition:!1}),t(r)):"landsat-2016"==e?(r={version:8,sources:{"landsat-2016":{type:"raster",tiles:["https://mapforenvironment.org/raster/congo-landsat-2016/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"landsat-2016",type:"raster",source:"landsat-2016",minzoom:3,maxzoom:12}]},this.setState({attribution:" Landsat 7",updateWithMapPosition:!1}),t(r)):"landsat-2014"==e?(r={version:8,sources:{"landsat-2014":{type:"raster",tiles:["https://mapforenvironment.org/raster/congo-landsat-2014/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"landsat-2014",type:"raster",source:"landsat-2014",minzoom:3,maxzoom:12}]},this.setState({attribution:" Landsat 7",updateWithMapPosition:!1}),t(r)):"bing-satellite"==e&&(r={version:8,sources:{"bing-tiles":{type:"raster",tiles:["https://ecn.t0.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=5522&mkt=en-us","https://ecn.t1.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=5522&mkt=en-us","https://ecn.t2.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=5522&mkt=en-us","https://ecn.t3.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=5522&mkt=en-us"],tileSize:256}},layers:[{id:"bing-tiles",type:"raster",source:"bing-tiles",minzoom:0,maxzoom:22}]},this.getBingSource("Aerial",function(){i.setState({attribution:"© Bing Maps",bingImagerySet:"Aerial",updateWithMapPosition:!0}),t(r)}));if(n){var s="mapbox://styles/mapbox/"+n;o&&(s+="?optimize=true"),this.setState({attribution:"© Mapbox © OpenStreetMap",updateWithMapPosition:!1}),t(s)}}})},function(e,t,n){var r=n(651).polygon;e.exports=function(e){var t=[e[0],e[1]],n=[e[0],e[3]],i=[e[2],e[3]],o=[e[2],e[1]];return r([[t,o,i,n,t]])}},function(e,t){function n(e,t){if(!e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}e.exports.feature=n,e.exports.point=function(e,t){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof e[0]||"number"!=typeof e[1])throw new Error("Coordinates must numbers");return n({type:"Point",coordinates:e},t)},e.exports.polygon=function(e,t){if(!e)throw new Error("No coordinates passed");for(var r=0;r<e.length;r++){var i=e[r];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t)},e.exports.lineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:e},t)},e.exports.featureCollection=function(e){if(!e)throw new Error("No features passed");return{type:"FeatureCollection",features:e}},e.exports.multiLineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:e},t)},e.exports.multiPoint=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:e},t)},e.exports.multiPolygon=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:e},t)},e.exports.geometryCollection=function(e,t){if(!e)throw new Error("No geometries passed");return n({type:"GeometryCollection",geometries:e},t)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};e.exports.radiansToDistance=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e*n},e.exports.distanceToRadians=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e/n},e.exports.distanceToDegrees=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e/n*57.2958}},function(e,t,n){var r=n(653);e.exports=function(e,t){var n,i;n="Feature"===e.type?e.geometry:e,i="Feature"===t.type?t.geometry:t;var o=new r.io.GeoJSONReader,s=o.read(JSON.stringify(n)),a=o.read(JSON.stringify(i)),l=s.intersection(a);if(!l.isEmpty()){var c=new r.io.GeoJSONWriter,u=c.write(l);return{type:"Feature",properties:{},geometry:u}}}},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function n(){}function r(){}function i(){}function o(){}function s(){}function a(){}function l(){}function c(e){this.name="RuntimeException",this.message=e,this.stack=(new Error).stack,Error.call(this,e)}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function h(){if(0===arguments.length)c.call(this);else if(1===arguments.length){var e=arguments[0];c.call(this,e)}}function d(){}function p(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)p.call(this,0,0);else if(1===arguments.length){var e=arguments[0];p.call(this,e.x,e.y,e.z)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];p.call(this,t,n,p.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.x=r,this.y=i,this.z=o}}function f(){if(this.dimensionsToTest=2,0===arguments.length)f.call(this,2);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new r("only 2 or 3 dimensions may be specified");this.dimensionsToTest=e}}function g(){}function m(){}function v(e){this.message=e||""}function y(){}function b(e){this.message=e||""}function w(e){this.message=e||""}function x(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function _(){if(x.apply(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.ensureCapacity(t.length),this.add(t,n)}}function E(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof E){var t=arguments[0];this.init(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.init(i,o,s,a)}}function C(){}function S(){C.call(this,"Projective point not representable on the Cartesian plane.")}function k(){}function A(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1}function T(){}function F(e){this.str=e}function L(e){this.value=e}function R(){}function M(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof M){var t=arguments[0];this.init(t)}else if("string"==typeof arguments[0]){var n=arguments[0];M.call(this,M.parse(n))}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}}function I(){}function D(){}function N(){}function P(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];this.x=t,this.y=n,this.w=1}else if(arguments[0]instanceof P&&arguments[1]instanceof P){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof p&&arguments[1]instanceof p){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var a=arguments[0],l=arguments[1],c=arguments[2];this.x=a,this.y=l,this.w=c}else if(4===arguments.length){var u=arguments[0],h=arguments[1],d=arguments[2],f=arguments[3],g=u.y-h.y,m=h.x-u.x,v=u.x*h.y-h.x*u.y,y=d.y-f.y,b=f.x-d.x,w=d.x*f.y-f.x*d.y;this.x=m*w-b*v,this.y=y*v-g*w,this.w=g*b-y*m}}function O(){}function B(){}function $(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var e=arguments[0];this.factory=e,this.SRID=e.getSRID()}function j(){}function z(){}function U(){}function V(){}function W(){}function q(){}function H(){}function G(){}function K(){}function Y(){}function X(){}function J(){}function Z(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function Q(e){return null==e?es:e.color}function ee(e){return null==e?null:e.parent}function te(e,t){null!==e&&(e.color=t)}function ne(e){return null==e?null:e.left}function re(e){return null==e?null:e.right}function ie(){this.root_=null,this.size_=0}function oe(){}function se(){}function ae(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function le(){}function ce(){}function ue(){}function he(){}function de(){this.geometries=null;var e=arguments[0],t=arguments[1];if($.call(this,t),null===e&&(e=[]),$.hasNullElements(e))throw new r("geometries must not contain null elements");this.geometries=e}function pe(){var e=arguments[0],t=arguments[1];de.call(this,e,t)}function fe(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var e=arguments[0];fe.call(this,e,z.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.geom=t,this.geomFact=t.getFactory(),this.bnRule=n}}function ge(){this.count=null}function me(){}function ve(){}function ye(){}function be(){}function we(){}function xe(){}function _e(){}function Ee(){}function Ce(){this.points=null;var e=arguments[0],t=arguments[1];$.call(this,t),this.init(e)}function Se(){}function ke(){this.coordinates=null;var e=arguments[0],t=arguments[1];$.call(this,t),this.init(e)}function Ae(){}function Te(){this.shell=null,this.holes=null;var e=arguments[0],t=arguments[1],n=arguments[2];if($.call(this,n),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),$.hasNullElements(t))throw new r("holes must not contain null elements");if(e.isEmpty()&&$.hasNonEmptyElements(t))throw new r("shell is empty but holes are not");this.shell=e,this.holes=t}function Fe(){var e=arguments[0],t=arguments[1];de.call(this,e,t)}function Le(){if(arguments[0]instanceof p&&arguments[1]instanceof rt){var e=arguments[0],t=arguments[1];Le.call(this,t.getCoordinateSequenceFactory().create(e),t)}else if(A(arguments[0],D)&&arguments[1]instanceof rt){var n=arguments[0],r=arguments[1];Ce.call(this,n,r),this.validateConstruction()}}function Re(){var e=arguments[0],t=arguments[1];de.call(this,e,t)}function Me(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.factory=e}}function Ie(){}function De(){}function Ne(){}function Pe(){}function Oe(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];Oe.call(this,e,3)}else if(Number.isInteger(arguments[0])){var t=arguments[0];this.coordinates=new Array(t).fill(null);for(var n=0;n<t;n++)this.coordinates[n]=new p}else if(A(arguments[0],D)){var r=arguments[0];if(null===r)return this.coordinates=new Array(0).fill(null),null;this.dimension=r.getDimension(),this.coordinates=new Array(r.size()).fill(null);for(var n=0;n<this.coordinates.length;n++)this.coordinates[n]=r.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this.coordinates=i,this.dimension=o,null===i&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this.coordinates=new Array(s).fill(null),this.dimension=a;for(var n=0;n<s;n++)this.coordinates[n]=new p}}function Be(){}function $e(e,t){return e===t||e!==e&&t!==t}function je(e,t){function n(e){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,void(e&&ze.call(this,e))):new n(e)}return t||is(e,"size",{get:Ze}),e.constructor=n,n.prototype=e,n}function ze(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function Ue(e){return this.has(e)&&(this._keys.splice(rs,1),this._values.splice(rs,1),this._itp.forEach(function(e){rs<e[0]&&e[0]--})),rs>-1}function Ve(e){return this.has(e)?this._values[rs]:void 0}function We(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!==t||0===t)for(rs=e.length;rs--&&!$e(e[rs],t););else rs=e.indexOf(t);return rs>-1}function qe(e){return We.call(this,this._keys,e)}function He(e,t){return this.has(e)?this._values[rs]=t:this._values[this._keys.push(e)-1]=t,this}function Ge(){(this._keys||0).length=this._values.length=0}function Ke(){return Je(this._itp,this._keys)}function Ye(){return Je(this._itp,this._values)}function Xe(){return Je(this._itp,this._keys,this._values)}function Je(e,t,n){var r=[0],i=!1;return e.push(r),{next:function(){var o,s=r[0];return!i&&s<t.length?(o=n?[t[s],n[s]]:t[s],r[0]++):(i=!0,e.splice(e.indexOf(r),1)),{done:i,value:o}}}}function Ze(){return this._values.length}function Qe(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}function et(){this.map_=new ss}function tt(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=tt.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof nt){var e=arguments[0];this.modelType=e,e===tt.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var t=arguments[0];this.modelType=tt.FIXED,this.setScale(t)}else if(arguments[0]instanceof tt){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function nt(){this.name=null;var e=arguments[0];this.name=e,nt.nameToTypeMap.put(e,this)}function rt(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)rt.call(this,new tt,0);else if(1===arguments.length){if(A(arguments[0],O)){var e=arguments[0];rt.call(this,new tt,0,e)}else if(arguments[0]instanceof tt){var t=arguments[0];rt.call(this,t,0,rt.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];rt.call(this,n,r,rt.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.precisionModel=i,this.coordinateSequenceFactory=s,this.SRID=o}}function it(e){this.geometryFactory=e||new rt}function ot(e){this.parser=new it(e)}function st(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new p,this.intPt[1]=new p,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function at(){st.apply(this)}function lt(){}function ct(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var e=arguments[0];this.p=e}function ut(){}function ht(){if(this.p0=null,this.p1=null,0===arguments.length)ht.call(this,new p,new p);else if(1===arguments.length){var e=arguments[0];ht.call(this,e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0=t,this.p1=n}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];ht.call(this,new p(r,i),new p(o,s))}}function dt(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ce.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var e=arguments[0];dt.call(this),this.set(e)}else if(arguments[0]instanceof dt){var t=arguments[0];dt.call(this),this.matrix[k.INTERIOR][k.INTERIOR]=t.matrix[k.INTERIOR][k.INTERIOR],this.matrix[k.INTERIOR][k.BOUNDARY]=t.matrix[k.INTERIOR][k.BOUNDARY],this.matrix[k.INTERIOR][k.EXTERIOR]=t.matrix[k.INTERIOR][k.EXTERIOR],this.matrix[k.BOUNDARY][k.INTERIOR]=t.matrix[k.BOUNDARY][k.INTERIOR],this.matrix[k.BOUNDARY][k.BOUNDARY]=t.matrix[k.BOUNDARY][k.BOUNDARY],this.matrix[k.BOUNDARY][k.EXTERIOR]=t.matrix[k.BOUNDARY][k.EXTERIOR],this.matrix[k.EXTERIOR][k.INTERIOR]=t.matrix[k.EXTERIOR][k.INTERIOR],this.matrix[k.EXTERIOR][k.BOUNDARY]=t.matrix[k.EXTERIOR][k.BOUNDARY],this.matrix[k.EXTERIOR][k.EXTERIOR]=t.matrix[k.EXTERIOR][k.EXTERIOR]}}function pt(){this.areaBasePt=null,this.triangleCent3=new p,this.areasum2=0,this.cg3=new p,this.lineCentSum=new p,this.totalLength=0,this.ptCount=0,this.ptCentSum=new p;var e=arguments[0];this.areaBasePt=null,this.add(e)}function ft(e){this.message=e||""}function gt(){this.array_=[]}function mt(){this.treeSet=new ae,this.list=new x}function vt(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var e=arguments[0];vt.call(this,vt.extractCoordinates(e),e.getFactory())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.inputPts=mt.filterCoordinates(t),this.geomFactory=n}}function yt(){this.origin=null;var e=arguments[0];this.origin=e}function bt(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function wt(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new ht,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ce&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];wt.call(this,e.getCoordinates(),t)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.srcPts=n,this._isClosed=wt.isClosed(n),this.snapTolerance=r}}function xt(){this.srcGeom=null;var e=arguments[0];this.srcGeom=e}function _t(){if(bt.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var e=arguments[0],t=arguments[1];this.snapTolerance=e,this.snapPts=t}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.snapTolerance=n,this.snapPts=r,this.isSelfSnap=i}}function Et(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function Ct(){this.commonCoord=null,this.ccFilter=new St}function St(){this.commonBitsX=new Et,this.commonBitsY=new Et}function kt(){this.trans=null;var e=arguments[0];this.trans=e}function At(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var e=arguments[0];this.parent=e,this.atStart=!0,this.index=0,this.max=e.getNumGeometries()}function Tt(){if(this.boundaryRule=z.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new r("Rule must be non-null");this.boundaryRule=e}}function Ft(){}function Lt(){}function Rt(){this.pts=null,this.data=null;var e=arguments[0],t=arguments[1];this.pts=e,this.data=t}function Mt(){}function It(){this.bounds=null,this.item=null;var e=arguments[0],t=arguments[1];this.bounds=e,this.item=t}function Dt(){this._size=null,this.items=null,this._size=0,this.items=new x,this.items.add(null)}function Nt(){}function Pt(){}function Ot(){if(this.childBoundables=new x,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.level=e}}function Bt(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.boundable1=e,this.boundable2=t,this.itemDistance=n,this._distance=this.distance()}function $t(){if(this.root=null,this.built=!1,this.itemBoundables=new x,this.nodeCapacity=null,0===arguments.length)$t.call(this,$t.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];d.isTrue(e>1,"Node capacity must be greater than 1"),this.nodeCapacity=e}}function jt(){}function zt(){}function Ut(){if(0===arguments.length)Ut.call(this,Ut.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];$t.call(this,e)}}function Vt(){var e=arguments[0];Ot.call(this,e)}function Wt(){}function qt(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.segString=e,this.coord=new p(t),this.segmentIndex=n,this.segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))}function Ht(){this.nodeMap=new ie,this.edge=null;var e=arguments[0];this.edge=e}function Gt(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var e=arguments[0];this.nodeList=e,this.edge=e.getEdge(),this.nodeIt=e.iterator(),this.readNextNode()}function Kt(){}function Yt(){this.nodeList=new Ht(this),this.pts=null,this.data=null;var e=arguments[0],t=arguments[1];this.pts=e,this.data=t}function Xt(){this.tempEnv1=new E,this.tempEnv2=new E,this.overlapSeg1=new ht,this.overlapSeg2=new ht}function Jt(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.pts=e,this.start=t,this.end=n,this.context=r}function Zt(){}function Qt(){}function en(){}function tn(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){
var e=arguments[0];this.setSegmentIntersector(e)}}function nn(){if(this.monoChains=new x,this.index=new Ut,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var e=arguments[0];tn.call(this,e)}}function rn(){Xt.apply(this),this.si=null;var e=arguments[0];this.si=e}function on(){if(this.pt=null,1===arguments.length){var e=arguments[0];c.call(this,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];c.call(this,on.msgWithCoord(t,n)),this.name="TopologyException",this.pt=new p(n)}}function sn(){}function an(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new x,this.intersectionCount=0,this.keepIntersections=!0;var e=arguments[0];this.li=e,this.interiorIntersection=null}function ln(){this.li=new at,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var e=arguments[0];this.segStrings=e}function cn(){this.nv=null;var e=arguments[0];this.nv=new ln(cn.toSegmentStrings(e))}function un(){this.mapOp=null;var e=arguments[0];this.mapOp=e}function hn(){}function dn(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var t=arguments[0];this.init(1),this.location[hn.ON]=t}else if(arguments[0]instanceof dn){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[hn.ON]=i,this.location[hn.LEFT]=o,this.location[hn.RIGHT]=s}}function pn(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new dn(e),this.elt[1]=new dn(e)}else if(arguments[0]instanceof pn){var t=arguments[0];this.elt[0]=new dn(t.elt[0]),this.elt[1]=new dn(t.elt[1])}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.elt[0]=new dn(k.NONE),this.elt[1]=new dn(k.NONE),this.elt[n].setLocation(r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new dn(i,o,s),this.elt[1]=new dn(i,o,s)}else if(4===arguments.length){var a=arguments[0],l=arguments[1],c=arguments[2],u=arguments[3];this.elt[0]=new dn(k.NONE,k.NONE,k.NONE),this.elt[1]=new dn(k.NONE,k.NONE,k.NONE),this.elt[a].setLocations(l,c,u)}}function fn(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new x,this.pts=new x,this.label=new pn(k.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new x,this.geometryFactory=null;var e=arguments[0],t=arguments[1];this.geometryFactory=t,this.computePoints(e),this.computeRing()}function gn(){var e=arguments[0],t=arguments[1];fn.call(this,e,t)}function mn(){var e=arguments[0],t=arguments[1];fn.call(this,e,t)}function vn(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.label=e}}function yn(){vn.apply(this),this.coord=null,this.edges=null;var e=arguments[0],t=arguments[1];this.coord=e,this.edges=t,this.label=new pn(0,k.NONE)}function bn(){this.nodeMap=new ie,this.nodeFact=null;var e=arguments[0];this.nodeFact=e}function wn(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var e=arguments[0];this.edge=e}else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];wn.call(this,t,n,r,null)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];wn.call(this,i),this.init(o,s),this.label=a}}function xn(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var e=arguments[0],t=arguments[1];if(wn.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var n=e.getNumPoints()-1;this.init(e.getCoordinate(n),e.getCoordinate(n-1))}this.computeDirectedLabel()}function _n(){}function En(){if(this.edges=new x,this.nodes=null,this.edgeEndList=new x,0===arguments.length)this.nodes=new bn(new _n);else if(1===arguments.length){var e=arguments[0];this.nodes=new bn(e)}}function Cn(){this.geometryFactory=null,this.shellList=new x;var e=arguments[0];this.geometryFactory=e}function Sn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new x,this.resultLineList=new x;var e=arguments[0],t=arguments[1],n=arguments[2];this.op=e,this.geometryFactory=t,this.ptLocator=n}function kn(){this.op=null,this.geometryFactory=null,this.resultPointList=new x;var e=arguments[0],t=arguments[1];arguments[2],this.op=e,this.geometryFactory=t}function An(){}function Tn(){this.geom=null;var e=arguments[0];this.geom=e}function Fn(){this.edgeMap=new ie,this.edgeList=null,this.ptInAreaLocation=[k.NONE,k.NONE]}function Ln(){Fn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function Rn(){_n.apply(this)}function Mn(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t}function In(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var e=arguments[0],t=arguments[1];this.eventType=In.DELETE,this.xValue=e,this.insertEvent=t}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.eventType=In.INSERT,this.label=n,this.xValue=r,this.obj=i}}function Dn(){}function Nn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this.li=e,this.includeProper=t,this.recordIsolated=n}function Pn(){Dn.apply(this),this.events=new x,this.nOverlaps=null}function On(){this.min=i.POSITIVE_INFINITY,this.max=i.NEGATIVE_INFINITY}function Bn(){}function $n(){On.apply(this),this.item=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.min=e,this.max=t,this.item=n}function jn(){On.apply(this),this.node1=null,this.node2=null;var e=arguments[0],t=arguments[1];this.node1=e,this.node2=t,this.buildExtent(this.node1,this.node2)}function zn(){this.leaves=new x,this.root=null,this.level=0}function Un(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var e=arguments[0];this.lines=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.lines=t,this.isForcedToLineString=n}}function Vn(){this.items=new x}function Wn(){this.index=null;var e=arguments[0];if(!A(e,Ae))throw new r("Argument must be Polygonal");this.index=new Hn(e)}function qn(){this.counter=null;var e=arguments[0];this.counter=e}function Hn(){this.index=new zn;var e=arguments[0];this.init(e)}function Gn(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new p(e),this.segmentIndex=t,this.dist=n}function Kn(){this.nodeMap=new ie,this.edge=null;var e=arguments[0];this.edge=e}function Yn(){}function Xn(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new E,this.env2=new E;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Yn;this.startIndex=t.getChainStartIndices(this.pts)}function Jn(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var t=0;t<3;t++)this.depth[e][t]=Jn.NULL_VALUE}function Zn(){if(vn.apply(this),this.pts=null,this.env=null,this.eiList=new Kn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Jn,this.depthDelta=0,1===arguments.length){var e=arguments[0];Zn.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.pts=t,this.label=n}}function Qn(){if(En.apply(this),this.parentGeom=null,this.lineEdgeMap=new et,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new Tt,2===arguments.length){var e=arguments[0],t=arguments[1];Qn.call(this,e,t,z.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.argIndex=n,this.parentGeom=r,this.boundaryNodeRule=i,null!==r&&this.add(r)}}function er(){if(this.li=new at,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Qn(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];er.call(this,t,n,z.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];r.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Qn(0,r,o),this.arg[1]=new Qn(1,i,o)}}function tr(){this.pts=null,this._orientation=null;var e=arguments[0];this.pts=e,this._orientation=tr.orientation(e)}function nr(){this.edges=new x,this.ocaMap=new ie}function rr(){this.ptLocator=new Tt,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new nr,this.resultPolyList=new x,this.resultLineList=new x,this.resultPointList=new x;var e=arguments[0],t=arguments[1];er.call(this,e,t),this.graph=new En(new Rn),this.geomFact=e.getFactory()}function ir(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var e=arguments[0],t=arguments[1];this.geom[0]=e,this.geom[1]=t,this.computeSnapTolerance()}function or(){this.geom=new Array(2).fill(null);var e=arguments[0],t=arguments[1];this.geom[0]=e,this.geom[1]=t}function sr(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var e=arguments[0];this.factory=e.getFactory(),this.add(e)}function ar(){this.poly=null,this.centreY=null,this.hiY=i.MAX_VALUE,this.loY=-i.MAX_VALUE;var e=arguments[0];this.poly=e,this.hiY=e.getEnvelopeInternal().getMaxY(),this.loY=e.getEnvelopeInternal().getMinY(),this.centreY=sr.avg(this.loY,this.hiY)}function lr(){this.centroid=null,this.minDistance=i.MAX_VALUE,this.interiorPoint=null;var e=arguments[0];this.centroid=e.getCentroid().getCoordinate(),this.addInterior(e),null===this.interiorPoint&&this.addEndpoints(e)}function cr(){this.centroid=null,this.minDistance=i.MAX_VALUE,this.interiorPoint=null;var e=arguments[0];this.centroid=e.getCentroid().getCoordinate(),this.add(e)}function ur(){this.tempEnv1=new E,this.selectedSegment=new ht}function hr(){this.items=new x,this.subnode=[null,null]}function dr(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var e=arguments[0];this.init(e.min,e.max)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.init(t,n)}}function pr(){}function fr(e,t){var n,r,i,o,s={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},a={32:8,64:11}[e];if(o||(n=t<0||1/t<0,isFinite(t)||(o=s[e],n&&(o.d+=1<<e/4-1),r=Math.pow(2,a)-1,i=0)),!o){for(r={32:127,64:1023}[e],i=Math.abs(t);i>=2;)r++,i/=2;for(;i<1&&r>0;)r--,i*=2;r<=0&&(i/=2),32===e&&r>254&&(o={d:n?255:127,c:128,b:0,a:0},r=Math.pow(2,a)-1,i=0)}return r}function gr(){this.pt=0,this.level=0,this.interval=null;var e=arguments[0];this.computeKey(e)}function mr(){hr.apply(this),this.interval=null,this.centre=null,this.level=null;var e=arguments[0],t=arguments[1];this.interval=e,this.level=t,this.centre=(e.getMin()+e.getMax())/2}function vr(){}function yr(){hr.apply(this)}function br(){this.root=null,this.minExtent=1,this.root=new yr}function wr(){}function xr(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new dr;var e=arguments[0];this.ring=e,this.buildIndex()}function _r(){ur.apply(this),this.mcp=null,this.p=null;var e=arguments[0],t=arguments[1];this.mcp=e,this.p=t}function Er(){}function Cr(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.p0=e,this.p1=t,this.p2=n}function Sr(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var e=arguments[0];this.input=e}function kr(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new ht,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var e=arguments[0];kr.call(this,e,!1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.inputGeom=t,this.isConvex=n}}function Ar(){this.inputGeom=null,this.distanceTolerance=null;var e=arguments[0];this.inputGeom=e}function Tr(){bt.apply(this),this.distanceTolerance=null;var e=arguments[0];this.distanceTolerance=e}function Fr(){this._orig=null,this._sym=null,this._next=null;var e=arguments[0];this._orig=e}function Lr(){this._isMarked=!1;var e=arguments[0];Fr.call(this,e)}function Rr(){this.vertexMap=new et}function Mr(){this._isStart=!1;var e=arguments[0];Lr.call(this,e)}function Ir(){Rr.apply(this)}function Dr(){this.result=null,this.factory=null,this.graph=null,this.lines=new x,this.nodeEdgeStack=new gt,this.ringStartEdge=null,this.graph=new Ir}function Nr(){this.items=new x,this.subnode=new Array(4).fill(null)}function Pr(){this.pt=new p,this.level=0,this.env=null;var e=arguments[0];this.computeKey(e)}function Or(){Nr.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var e=arguments[0],t=arguments[1];this.env=e,this.level=t,this.centrex=(e.getMinX()+e.getMaxX())/2,this.centrey=(e.getMinY()+e.getMaxY())/2}function Br(){Nr.apply(this)}function $r(){this.root=null,this.minExtent=1,this.root=new Br}function jr(e){this.geometryFactory=e||new rt}function zr(e){this.geometryFactory=e||new rt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new jr(this.geometryFactory)}function Ur(){this.parser=new jr(this.geometryFactory)}function Vr(e){this.geometryFactory=e||new rt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new it(this.geometryFactory)}function Wr(e){return[e.x,e.y]}function qr(e,t){this.geometryFactory=e||new rt,this.ol=t||"undefined"!=typeof ol&&ol}function Hr(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var e=arguments[0],t=arguments[1];Hr.call(this,e,t,0,0)}else if(4===arguments.length){var n=arguments[0],r=arguments[1];arguments[2],arguments[3],this.noder=n,this.scaleFactor=r,this.isScaled=!this.isIntegerPrecision()}}function Gr(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var e=arguments[0];this.inputGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.inputGeom=t,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Kr(){this.pt=null,this.isClosed=null,this.degree=null;var e=arguments[0];this.pt=e,this.isClosed=!1,this.degree=0}function Yr(){if(this.quadrantSegments=Yr.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Yr.CAP_ROUND,this.joinStyle=Yr.JOIN_ROUND,this.mitreLimit=Yr.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Yr.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.setQuadrantSegments(t),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(i),this.setJoinStyle(o),this.setMitreLimit(s)}}function Xr(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Jr(){this.array_=[]}function Zr(){this.finder=null,this.dirEdgeList=new x,this.nodes=new x,this.rightMostCoord=null,this.env=null,this.finder=new Xr}function Qr(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=ut.COUNTERCLOCKWISE;var e=arguments[0];this.inputLine=e}function ei(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new x}function ti(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new ht,this.seg1=new ht,this.offset0=new ht,this.offset1=new ht,this.side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this.precisionModel=e,this.bufParams=t,this.li=new at,this.filletAngleQuantum=Math.PI/2/t.getQuadrantSegments(),t.getQuadrantSegments()>=8&&t.getJoinStyle()===Yr.JOIN_ROUND&&(this.closingSegLengthFactor=ti.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function ni(){this.distance=0,this.precisionModel=null,this.bufParams=null;var e=arguments[0],t=arguments[1];this.precisionModel=e,this.bufParams=t}function ri(){this.subgraphs=null,this.seg=new ht,this.cga=new ut;var e=arguments[0];this.subgraphs=e}function ii(){this.upwardSeg=null,this.leftDepth=null;var e=arguments[0],t=arguments[1];this.upwardSeg=new ht(e),this.leftDepth=t}function oi(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new x;var e=arguments[0],t=arguments[1],n=arguments[2];this.inputGeom=e,this.distance=t,this.curveBuilder=n}function si(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this.li=e}function ai(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new nr;var e=arguments[0];this.bufParams=e}function li(){this.li=new at,this.segStrings=null;var e=arguments[0];this.segStrings=e}function ci(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this.originalPt=e,this.pt=e,this.scaleFactor=t,this.li=n,t<=0)throw new r("Scale factor must be non-zero");1!==t&&(this.pt=new p(this.scale(e.x),this.scale(e.y)),this.p0Scaled=new p,this.p1Scaled=new p),this.initCorners(this.pt)}function ui(){this.index=null;var e=arguments[0];this.index=e}function hi(){ur.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this.hotPixel=e,this.parentEdge=t,this.hotPixelVertexIndex=n}function di(){this.li=null,this.interiorIntersections=null;var e=arguments[0];this.li=e,this.interiorIntersections=new x}function pi(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var e=arguments[0];this.pm=e,this.li=new at,this.li.setPrecisionModel(e),this.scaleFactor=e.getScale()}function fi(){if(this.argGeom=null,this.distance=null,this.bufParams=new Yr,this.resultGeometry=null,this.saveException=null,1===arguments.length){var e=arguments[0];this.argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.argGeom=t,this.bufParams=n}}function gi(){this.comps=null;var e=arguments[0];this.comps=e}function mi(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var e=arguments[0],t=arguments[1];mi.call(this,e,mi.INSIDE_AREA,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.component=n,this.segIndex=r,this.pt=i}}function vi(){this.pts=null;var e=arguments[0];this.pts=e}function yi(){this.locations=null;var e=arguments[0];this.locations=e}function bi(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new Tt,this.minDistanceLocation=null,this.minDistance=i.MAX_VALUE,2===arguments.length){var e=arguments[0],t=arguments[1];bi.call(this,e,t,0)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=r,this.terminateDistance=o}}function wi(){this.factory=null,this.directedEdges=new x,this.coordinates=null;var e=arguments[0];this.factory=e}function xi(){this._isMarked=!1,this._isVisited=!1,this.data=null}function _i(){xi.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.from=e,this.to=t,this.edgeDirection=r,this.p0=e.getCoordinate(),this.p1=n;var i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Zt.quadrant(i,o),this.angle=Math.atan2(o,i)}function Ei(){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];_i.call(this,e,t,n,r)}function Ci(){if(xi.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];this.setDirectedEdges(e,t)}}function Si(){this.outEdges=new x,this.sorted=!1}function ki(){if(xi.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var e=arguments[0];ki.call(this,e,new Si)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.pt=t,this.deStar=n}}function Ai(){Ci.apply(this),this.line=null;var e=arguments[0];this.line=e}function Ti(){this.nodeMap=new ie}function Fi(){this.edges=new Z,this.dirEdges=new Z,this.nodeMap=new Ti}function Li(){Fi.apply(this)}function Ri(){this.graph=new Li,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function Mi(){this.edgeRing=null,this.next=null,this.label=-1;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];_i.call(this,e,t,n,r)}function Ii(){Ci.apply(this),this.line=null;var e=arguments[0];this.line=e}function Di(){this.geometryFactory=new rt,this.geomGraph=null,this.disconnectedRingcoord=null;var e=arguments[0];this.geomGraph=e}function Ni(){}function Pi(){if(this.edgeEnds=new x,1===arguments.length){var e=arguments[0];Pi.call(this,null,e)}else if(2===arguments.length){var t=(arguments[0],arguments[1]);wn.call(this,t.getEdge(),t.getCoordinate(),t.getDirectedCoordinate(),new pn(t.getLabel())),this.insert(t)}}function Oi(){Fn.apply(this)}function Bi(){var e=arguments[0],t=arguments[1];yn.call(this,e,t)}function $i(){_n.apply(this)}function ji(){this.nodes=new bn(new $i)}function zi(){this.li=new at,this.geomGraph=null,this.nodeGraph=new ji,this.invalidPoint=null;var e=arguments[0];this.geomGraph=e}function Ui(){this.graph=null,this.rings=new x,this.totalEnv=new E,this.index=null,this.nestedPt=null;var e=arguments[0];this.graph=e}function Vi(){if(this.errorType=null,this.pt=null,1===arguments.length){var e=arguments[0];Vi.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.errorType=t,null!==n&&(this.pt=n.copy())}}function Wi(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var e=arguments[0];this.parentGeometry=e}function qi(){this.factory=null,this.deList=new x,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var e=arguments[0];this.factory=e}function Hi(){}function Gi(){Fi.apply(this),this.factory=null;var e=arguments[0];this.factory=e}function Ki(){if(this.lineStringAdder=new Yi(this),this.graph=null,this.dangles=new x,this.cutEdges=new x,this.invalidRingLines=new x,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)Ki.call(this,!1);else if(1===arguments.length){var e=arguments[0];this.extractOnlyPolygonal=e}}function Yi(){this.p=null;var e=arguments[0];this.p=e}function Xi(){this.li=new at,this.ptLocator=new Tt,this.arg=null,this.nodes=new bn(new $i),this.im=null,this.isolatedEdges=new x,this.invalidPoint=null;var e=arguments[0];this.arg=e}function Ji(){this.rectEnv=null;var e=arguments[0];this.rectEnv=e.getEnvelopeInternal()}function Zi(){this.li=new at,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var e=arguments[0];this.rectEnv=e,this.diagUp0=new p(e.getMinX(),e.getMinY()),this.diagUp1=new p(e.getMaxX(),e.getMaxY()),this.diagDown0=new p(e.getMinX(),e.getMaxY()),this.diagDown1=new p(e.getMaxX(),e.getMinY())}function Qi(){this._isDone=!1}function eo(){this.rectangle=null,this.rectEnv=null;var e=arguments[0];this.rectangle=e,this.rectEnv=e.getEnvelopeInternal()}function to(){Qi.apply(this),this.rectEnv=null,this._intersects=!1;var e=arguments[0];this.rectEnv=e}function no(){Qi.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var e=arguments[0];this.rectSeq=e.getExteriorRing().getCoordinateSequence(),this.rectEnv=e.getEnvelopeInternal()}function ro(){Qi.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new p,this.p1=new p;var e=arguments[0];this.rectEnv=e.getEnvelopeInternal(),this.rectIntersector=new Zi(this.rectEnv)}function io(){if(this._relate=null,2===arguments.length){var e=arguments[0],t=arguments[1];er.call(this,e,t),this._relate=new Xi(this.arg)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];er.call(this,n,r,i),this._relate=new Xi(this.arg)}}function oo(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var e=arguments[0];this.geomFactory=oo.extractFactory(e),this.inputGeoms=e}function so(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var e=arguments[0],t=arguments[1];this.pointGeom=e,this.otherGeom=t,this.geomFact=t.getFactory()}function ao(){this.sortIndex=-1,this.comps=null;var e=arguments[0],t=arguments[1];this.sortIndex=e,this.comps=t}function lo(){this.inputPolys=null,this.geomFactory=null;var e=arguments[0];this.inputPolys=e,null===this.inputPolys&&(this.inputPolys=new x)}function co(){if(this.polygons=new x,this.lines=new x,this.points=new x,this.geomFact=null,1===arguments.length){if(A(arguments[0],m)){var e=arguments[0];this.extract(e)}else if(arguments[0]instanceof $){var t=arguments[0];this.extract(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.geomFact=r,this.extract(n)}}function uo(){Me.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var e=arguments[0],t=arguments[1];this.targetPM=e,this.removeCollapsed=t}function ho(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var e=arguments[0];this.targetPM=e}function po(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new ht;var e=arguments[0];this.pts=e}function fo(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var e=arguments[0];this.inputGeom=e}function go(){bt.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var e=arguments[0],t=arguments[1];this.isEnsureValidTopology=e,this.distanceTolerance=t}function mo(){if(this.parent=null,this.index=null,2===arguments.length){var e=arguments[0],t=arguments[1];mo.call(this,e,t,null,-1)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];ht.call(this,n,r),this.parent=i,this.index=o}}function vo(){if(this.parentLine=null,this.segs=null,this.resultSegs=new x,this.minimumSize=null,1===arguments.length){var e=arguments[0];vo.call(this,e,2)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.parentLine=t,this.minimumSize=n,this.init()}}function yo(){this.index=new $r}function bo(){this.querySeg=null,this.items=new x;var e=arguments[0];this.querySeg=e}function wo(){this.li=new at,this.inputIndex=new yo,this.outputIndex=new yo,this.line=null,this.linePts=null,this.distanceTolerance=0;var e=arguments[0],t=arguments[1];this.inputIndex=e,this.outputIndex=t}function xo(){this.inputIndex=new yo,this.outputIndex=new yo,this.distanceTolerance=0}function _o(){this.inputGeom=null,this.lineSimplifier=new xo,this.linestringMap=null;var e=arguments[0];this.inputGeom=e}function Eo(){bt.apply(this),this.linestringMap=null;var e=arguments[0];this.linestringMap=e}function Co(){this.tps=null;var e=arguments[0];this.tps=e}function So(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var e=arguments[0];this.seg=e,this.segLen=e.getLength()}function ko(){}function Ao(){}function To(){}function Fo(){if(this.p=null,1===arguments.length){var e=arguments[0];this.p=new p(e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p=new p(t,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.p=new p(r,i,o)}}function Lo(){this._isOnConstraint=null,this.constraint=null;var e=arguments[0];Fo.call(this,e)}function Ro(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function Mo(){this.subdiv=null,this.isUsingTolerance=!1;var e=arguments[0];this.subdiv=e,this.isUsingTolerance=e.getTolerance()>0}function Io(){}function Do(){this.subdiv=null,this.lastEdge=null;var e=arguments[0];this.subdiv=e,this.init()}function No(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var e=arguments[0];c.call(this,e)}else if(arguments[0]instanceof ht){var t=arguments[0];c.call(this,"Locate failed to converge (at edge: "+t+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new ht(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];c.call(this,No.msgWithSpatial(n,r)),this.seg=new ht(r)}}function Po(){}function Oo(){this.visitedKey=0,this.quadEdges=new x,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new ht,this.triEdges=new Array(3).fill(null);var e=arguments[0],t=arguments[1];this.tolerance=t,this.edgeCoincidenceTolerance=t/Oo.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(e),this.startingEdge=this.initSubdiv(),this.locator=new Do(this)}function Bo(){}function $o(){this.triList=new x}function jo(){this.triList=new x}function zo(){this.coordList=new _,this.triCoords=new x}function Uo(){if(this.ls=null,this.data=null,2===arguments.length){var e=arguments[0],t=arguments[1];this.ls=new ht(e,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.ls=new ht(n,r),this.data=i}else if(6===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3],c=arguments[4],u=arguments[5];Uo.call(this,new p(o,s,a),new p(l,c,u))}else if(7===arguments.length){var h=arguments[0],d=arguments[1],f=arguments[2],g=arguments[3],m=arguments[4],v=arguments[5],y=arguments[6];Uo.call(this,new p(h,d,f),new p(g,m,v),y)}}function Vo(){}function Wo(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var e=arguments[0],t=arguments[1];this.p=new p(e),this.left=null,this.right=null,this.count=1,this.data=t}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.p=new p(n,r),this.left=null,this.right=null,this.count=1,this.data=i}}function qo(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)qo.call(this,0);else if(1===arguments.length){var e=arguments[0];this.tolerance=e}}function Ho(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var e=arguments[0],t=arguments[1];this.p=e,this.tolerance=t}function Go(){this.initialVertices=null,this.segVertices=null,this.segments=new x,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new Ao,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var e=arguments[0],t=arguments[1];
this.initialVertices=new x(e),this.tolerance=t,this.kdt=new qo(t)}function Ko(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Yo(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new ie}function Xo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Jo(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!==e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)},t(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n},i.isNaN=function(e){return Number.isNaN(e)},i.doubleToLongBits=function(e){return e},i.longBitsToDouble=function(e){return e},i.isInfinite=function(e){return!Number.isFinite(e)},i.MAX_VALUE=Number.MAX_VALUE,c.prototype=Object.create(Error.prototype),c.prototype.constructor=Error,u(h,c),t(h.prototype,{interfaces_:function(){return[]},getClass:function(){return h}}),t(d.prototype,{interfaces_:function(){return[]},getClass:function(){return d}}),d.shouldNeverReachHere=function(){if(0===arguments.length)d.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new h("Should never reach here"+(null!==e?": "+e:""))}},d.isTrue=function(){if(1===arguments.length){var e=arguments[0];d.isTrue(e,null)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!t)throw null===n?new h:new h(n)}},d.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];d.equals(e,t,null)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(!r.equals(n))throw new h("Expected "+n+" but encountered "+r+(null!==i?": "+i:""))}},t(p.prototype,{setOrdinate:function(e,t){switch(e){case p.X:this.x=t;break;case p.Y:this.y=t;break;case p.Z:this.z=t;break;default:throw new r("Invalid ordinate index: "+e)}},equals2D:function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],r=arguments[1];return!!n.equalsWithTolerance(this.x,t.x,r)&&!!n.equalsWithTolerance(this.y,t.y,r)}},getOrdinate:function(e){switch(e){case p.X:return this.x;case p.Y:return this.y;case p.Z:return this.z}throw new r("Invalid ordinate index: "+e)},equals3D:function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||i.isNaN(this.z)&&i.isNaN(e.z))},equals:function(e){return e instanceof p&&this.equals2D(e)},equalInZ:function(e,t){return n.equalsWithTolerance(this.z,e.z,t)},compareTo:function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},clone:function(){try{var e=null;return e}catch(e){if(e instanceof CloneNotSupportedException)return d.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}finally{}},copy:function(){return new p(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},distance:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},hashCode:function(){var e=17;return e=37*e+p.hashCode(this.x),e=37*e+p.hashCode(this.y)},setCoordinate:function(e){this.x=e.x,this.y=e.y,this.z=e.z},interfaces_:function(){return[o,s,l]},getClass:function(){return p}}),p.hashCode=function(){if(1===arguments.length){var e=arguments[0],t=i.doubleToLongBits(e);return Math.trunc(t^t>>>32)}},t(f.prototype,{compare:function(e,t){var n=e,r=t,i=f.compare(n.x,r.x);if(0!==i)return i;var o=f.compare(n.y,r.y);if(0!==o)return o;if(this.dimensionsToTest<=2)return 0;var s=f.compare(n.z,r.z);return s},interfaces_:function(){return[a]},getClass:function(){return f}}),f.compare=function(e,t){return e<t?-1:e>t?1:i.isNaN(e)?i.isNaN(t)?0:-1:i.isNaN(t)?1:0},p.DimensionalComparator=f,p.serialVersionUID=0x5cbf2c235c7e5800,p.NULL_ORDINATE=i.NaN,p.X=0,p.Y=1,p.Z=2,g.prototype.hasNext=function(){},g.prototype.next=function(){},g.prototype.remove=function(){},m.prototype.add=function(){},m.prototype.addAll=function(){},m.prototype.isEmpty=function(){},m.prototype.iterator=function(){},m.prototype.size=function(){},m.prototype.toArray=function(){},m.prototype.remove=function(){},v.prototype=new Error,v.prototype.name="IndexOutOfBoundsException",y.prototype=Object.create(m.prototype),y.prototype.constructor=y,y.prototype.get=function(){},y.prototype.set=function(){},y.prototype.isEmpty=function(){},b.prototype=new Error,b.prototype.name="NoSuchElementException",w.prototype=new Error,w.prototype.name="OperationNotSupported",x.prototype=Object.create(y.prototype),x.prototype.constructor=x,x.prototype.ensureCapacity=function(){},x.prototype.interfaces_=function(){return[y,m]},x.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},x.prototype.clear=function(){this.array_=[]},x.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},x.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},x.prototype.iterator=function(){return new Zo(this)},x.prototype.get=function(e){if(e<0||e>=this.size())throw new v;return this.array_[e]},x.prototype.isEmpty=function(){return 0===this.array_.length},x.prototype.size=function(){return this.array_.length},x.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},x.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t};var Zo=function(e){this.arrayList_=e,this.position_=0};Zo.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new b;return this.arrayList_.get(this.position_++)},Zo.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Zo.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},Zo.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},u(_,x),t(_.prototype,{getCoordinate:function(e){return this.get(e)},addAll:function(){if(2===arguments.length){for(var e=arguments[0],t=arguments[1],n=!1,r=e.iterator();r.hasNext();)this.add(r.next(),t),n=!0;return n}return x.prototype.addAll.apply(this,arguments)},clone:function e(){for(var e=x.prototype.clone.call(this),t=0;t<this.size();t++)e.add(t,this.get(t).copy());return e},toCoordinateArray:function(){return this.toArray(_.coordArrayType)},add:function(){if(1===arguments.length){var e=arguments[0];x.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var t=arguments[0],n=arguments[1];return this.add(t,n,!0),!0}if(arguments[0]instanceof p&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1];if(!i&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(r))return null}x.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return this.add(s,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],c=arguments[1],u=arguments[2];if(u)for(var h=0;h<l.length;h++)this.add(l[h],c);else for(var h=l.length-1;h>=0;h--)this.add(l[h],c);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof p){var d=arguments[0],f=arguments[1],g=arguments[2];if(!g){var m=this.size();if(m>0){if(d>0){var v=this.get(d-1);if(v.equals2D(f))return null}if(d<m){var y=this.get(d);if(y.equals2D(f))return null}}}x.prototype.add.call(this,d,f)}}else if(4===arguments.length){var b=arguments[0],w=arguments[1],_=arguments[2],E=arguments[3],C=1;_>E&&(C=-1);for(var h=_;h!==E;h+=C)this.add(b[h],w);return!0}},closeRing:function(){this.size()>0&&this.add(new p(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return _}}),_.coordArrayType=new Array(0).fill(null),t(E.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(e){if(!(e instanceof E))return!1;var t=e;return this.isNull()?t.isNull():this.maxx===t.getMaxX()&&this.maxy===t.getMaxY()&&this.minx===t.getMinX()&&this.miny===t.getMinY()},intersection:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new E;var t=this.minx>e.minx?this.minx:e.minx,n=this.miny>e.miny?this.miny:e.miny,r=this.maxx<e.maxx?this.maxx:e.maxx,i=this.maxy<e.maxy?this.maxy:e.maxy;return new E(t,r,n,i)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof E){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this.minx&&t.getMaxX()<=this.maxx&&t.getMinY()>=this.miny&&t.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&r>=this.miny&&r<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof E){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e.minx>this.maxx||e.maxx<this.minx||e.miny>this.maxy||e.maxy<this.miny)}if(arguments[0]instanceof p){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||r>this.maxy||r<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof E){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this.minx=t.getMinX(),this.maxx=t.getMaxX(),this.miny=t.getMinY(),this.maxy=t.getMaxY()):(t.minx<this.minx&&(this.minx=t.minx),t.maxx>this.maxx&&(this.maxx=t.maxx),t.miny<this.miny&&(this.miny=t.miny),t.maxy>this.maxy&&(this.maxy=t.maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=r,this.maxy=r):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),r<this.miny&&(this.miny=r),r>this.maxy&&(this.maxy=r))}},minExtent:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this.minx<t.minx?-1:this.minx>t.minx?1:this.miny<t.miny?-1:this.miny>t.miny?1:this.maxx<t.maxx?-1:this.maxx>t.maxx?1:this.maxy<t.maxy?-1:this.maxy>t.maxy?1:0},translate:function(e,t){return this.isNull()?null:void this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},expandBy:function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=t,this.maxx+=t,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof E){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof p){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},centre:function(){return this.isNull()?null:new p((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof E){var t=arguments[0];this.minx=t.minx,this.maxx=t.maxx,this.miny=t.miny,this.maxy=t.maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this.minx=i,this.maxx=o):(this.minx=o,this.maxx=i),s<a?(this.miny=s,this.maxy=a):(this.miny=a,this.maxy=s)}},getMaxY:function(){return this.maxy},distance:function(e){if(this.intersects(e))return 0;var t=0;this.maxx<e.minx?t=e.minx-this.maxx:this.minx>e.maxx&&(t=this.minx-e.maxx);var n=0;return this.maxy<e.miny?n=e.miny-this.maxy:this.miny>e.maxy&&(n=this.miny-e.maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},hashCode:function(){var e=17;return e=37*e+p.hashCode(this.minx),e=37*e+p.hashCode(this.maxx),e=37*e+p.hashCode(this.miny),e=37*e+p.hashCode(this.maxy)},interfaces_:function(){return[o,l]},getClass:function(){return E}}),E.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),l=Math.max(o.x,s.x),c=Math.min(r.x,i.x),u=Math.max(r.x,i.x);return!(c>l||u<a||(a=Math.min(o.y,s.y),l=Math.max(o.y,s.y),c=Math.min(r.y,i.y),u=Math.max(r.y,i.y),c>l||u<a))}},E.serialVersionUID=0x51845cd552189800,u(S,C),t(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),t(k.prototype,{interfaces_:function(){return[]},getClass:function(){return k}}),k.toLocationSymbol=function(e){switch(e){case k.EXTERIOR:return"e";case k.BOUNDARY:return"b";case k.INTERIOR:return"i";case k.NONE:return"-"}throw new r("Unknown location value: "+e)},k.INTERIOR=0,k.BOUNDARY=1,k.EXTERIOR=2,k.NONE=-1,t(T.prototype,{interfaces_:function(){return[]},getClass:function(){return T}}),T.log10=function(e){var t=Math.log(e);return i.isInfinite(t)?t:i.isNaN(t)?t:t/T.LOG_10},T.min=function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i},T.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},T.wrap=function(e,t){return e<0?t- -e%t:e%t},T.max=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=e;return t>r&&(r=t),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],r=i;return o>r&&(r=o),s>r&&(r=s),a>r&&(r=a),r}},T.average=function(e,t){return(e+t)/2},T.LOG_10=Math.log(10),F.prototype.append=function(e){this.str+=e},F.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},F.prototype.toString=function(e){return this.str},L.prototype.intValue=function(){return this.value},L.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},L.isNaN=function(e){return Number.isNaN(e)},R.isWhitespace=function(e){return e<=32&&e>=0||127==e},R.toUpperCase=function(e){return e.toUpperCase()},t(M.prototype,{le:function(e){return this.hi<e.hi||this.hi===e.hi&&this.lo<=e.lo},extractSignificantDigits:function(e,t){var n=this.abs(),r=M.magnitude(n.hi),i=M.TEN.pow(r);n=n.divide(i),n.gt(M.TEN)?(n=n.divide(M.TEN),r+=1):n.lt(M.ONE)&&(n=n.multiply(M.TEN),r-=1);for(var o=r+1,s=new F,a=M.MAX_PRINT_DIGITS-1,l=0;l<=a;l++){e&&l===o&&s.append(".");var c=Math.trunc(n.hi);if(c<0)break;var u=!1,h=0;c>9?(u=!0,h="9"):h="0"+c,s.append(h),n=n.subtract(M.valueOf(c)).multiply(M.TEN),u&&n.selfAdd(M.TEN);var d=!0,p=M.magnitude(n.hi);if(p<0&&Math.abs(p)>=a-l&&(d=!1),!d)break}return t[0]=r,s.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof M){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},equals:function(){if(1===arguments.length){var e=arguments[0];return this.hi===e.hi&&this.lo===e.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof M){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e.hi,-e.lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(e){return this.le(e)?this:e},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof M){var e=arguments[0];return this.selfDivide(e.hi,e.lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,l=null,c=null,u=null,h=null;return l=this.hi/n,c=M.SPLIT*l,i=c-l,h=M.SPLIT*n,i=c-i,o=l-i,s=h-n,u=l*n,s=h-s,a=n-s,h=i*s-u+i*a+o*s+o*a,c=(this.hi-u-h+this.lo-l*r)/n,h=l+c,this.hi=h,this.lo=l-h+c,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof M){var e=arguments[0],t=null,n=null,r=null,o=null,s=null,a=null,l=null,c=null;s=this.hi/e.hi,a=M.SPLIT*s,t=a-s,c=M.SPLIT*e.hi,t=a-t,n=s-t,r=c-e.hi,l=s*e.hi,r=c-r,o=e.hi-r,c=t*r-l+t*o+n*r+n*o,a=(this.hi-l-c+this.lo-s*e.lo)/e.hi,c=s+a;var u=c,h=s-c+a;return new M(u,h)}if("number"==typeof arguments[0]){var d=arguments[0];return i.isNaN(d)?M.createNaN():M.copy(this).selfDivide(d,0)}},ge:function(e){return this.hi>e.hi||this.hi===e.hi&&this.lo>=e.lo},pow:function(e){if(0===e)return M.valueOf(1);var t=new M(this),n=M.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2===1&&n.selfMultiply(t),r/=2,r>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return M.NaN;var e=Math.ceil(this.hi),t=0;return e===this.hi&&(t=Math.ceil(this.lo)),new M(e,t)},compareTo:function(e){var t=e;return this.hi<t.hi?-1:this.hi>t.hi?1:this.lo<t.lo?-1:this.lo>t.lo?1:0},rint:function(){if(this.isNaN())return this;var e=this.add(.5);return e.floor()},setValue:function(){if(arguments[0]instanceof M){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},max:function(e){return this.ge(e)?this:e},sqrt:function(){if(this.isZero())return M.valueOf(0);if(this.isNegative())return M.NaN;var e=1/Math.sqrt(this.hi),t=this.hi*e,n=M.valueOf(t),r=this.subtract(n.sqr()),i=r.hi*(.5*e);return n.add(i)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof M){var e=arguments[0];return this.selfAdd(e.hi,e.lo)}if("number"==typeof arguments[0]){var t=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return i=this.hi+t,s=i-this.hi,o=i-s,o=t-s+(this.hi-o),a=o+this.lo,n=i+a,r=a+(i-n),this.hi=n+r,this.lo=r+(n-this.hi),this}}else if(2===arguments.length){var l=arguments[0],c=arguments[1],n=null,r=null,u=null,h=null,i=null,o=null,s=null,a=null;i=this.hi+l,u=this.lo+c,s=i-this.hi,a=u-this.lo,o=i-s,h=u-a,o=l-s+(this.hi-o),h=c-a+(this.lo-h),s=o+u,n=i+s,r=s+(i-n),s=h+r;var d=n+s,p=s+(n-d);return this.hi=d,this.lo=p,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof M){var e=arguments[0];return this.selfMultiply(e.hi,e.lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,l=null,c=null;l=M.SPLIT*this.hi,i=l-this.hi,c=M.SPLIT*n,i=l-i,o=this.hi-i,s=c-n,l=this.hi*n,s=c-s,a=n-s,c=i*s-l+i*a+o*s+o*a+(this.hi*r+this.lo*n);var u=l+c;i=l-u;var h=c+i;return this.hi=u,this.lo=h,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return M.NaN;var e=Math.floor(this.hi),t=0;return e===this.hi&&(t=Math.floor(this.lo)),new M(e,t)},negate:function(){return this.isNaN()?this:new M(-this.hi,-this.lo)},clone:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}finally{}},multiply:function(){if(arguments[0]instanceof M){var e=arguments[0];return e.isNaN()?M.createNaN():M.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return i.isNaN(t)?M.createNaN():M.copy(this).selfMultiply(t,0)}},isNaN:function(){return i.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var e=M.magnitude(this.hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+M.stringOfChar("0",-r)+n;else if(n.indexOf(".")===-1){var o=r-n.length,s=M.stringOfChar("0",o);i=n+s+".0"}return this.isNegative()?"-"+i:i},reciprocal:function(){var e=null,t=null,n=null,r=null,i=null,o=null,s=null,a=null;i=1/this.hi,o=M.SPLIT*i,e=o-i,a=M.SPLIT*this.hi,e=o-e,t=i-e,n=a-this.hi,s=i*this.hi,n=a-n,r=this.hi-n,a=e*n-s+e*r+t*n+t*r,o=(1-s-a-i*this.lo)/this.hi;var l=i+o,c=i-l+o;return new M(l,c)},toSciNotation:function(){if(this.isZero())return M.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=M.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},abs:function(){return this.isNaN()?M.NaN:this.isNegative()?this.negate():new M(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(e){return this.hi<e.hi||this.hi===e.hi&&this.lo<e.lo},add:function(){if(arguments[0]instanceof M){var e=arguments[0];return M.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return M.copy(this).selfAdd(t)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.hi=e,this.lo=0}else if(arguments[0]instanceof M){var t=arguments[0];this.hi=t.hi,this.lo=t.lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.hi=n,this.lo=r}},gt:function(e){return this.hi>e.hi||this.hi===e.hi&&this.lo>e.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?M.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[l,o,s]},getClass:function(){return M}}),M.sqr=function(e){return M.valueOf(e).selfMultiply(e)},M.valueOf=function(){if("string"==typeof arguments[0]){var e=arguments[0];return M.parse(e)}if("number"==typeof arguments[0]){var t=arguments[0];return new M(t)}},M.sqrt=function(e){return M.valueOf(e).sqrt()},M.parse=function(e){for(var t=0,n=e.length;R.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var i=e.charAt(t);"-"!==i&&"+"!==i||(t++,"-"===i&&(r=!0))}for(var o=new M,s=0,a=0,l=0;!(t>=n);){var c=e.charAt(t);if(t++,R.isDigit(c)){var u=c-"0";o.selfMultiply(M.TEN),o.selfAdd(u),s++}else{if("."!==c){if("e"===c||"E"===c){var h=e.substring(t);try{l=L.parseInt(h)}catch(t){throw t instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+e):t}finally{}break}throw new NumberFormatException("Unexpected character '"+c+"' at position "+t+" in string "+e)}a=s}}var d=o,p=s-a-l;if(0===p)d=o;else if(p>0){var f=M.TEN.pow(p);d=o.divide(f)}else if(p<0){var f=M.TEN.pow(-p);d=o.multiply(f)}return r?d.negate():d},M.createNaN=function(){return new M(i.NaN,i.NaN)},M.copy=function(e){return new M(e)},M.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n)),i=Math.pow(10,r);return 10*i<=t&&(r+=1),r},M.stringOfChar=function(e,t){for(var n=new F,r=0;r<t;r++)n.append(e);return n.toString()},M.PI=new M(3.141592653589793,1.2246467991473532e-16),M.TWO_PI=new M(6.283185307179586,2.4492935982947064e-16),M.PI_2=new M(1.5707963267948966,6.123233995736766e-17),M.E=new M(2.718281828459045,1.4456468917292502e-16),M.NaN=new M(i.NaN,i.NaN),M.EPS=1.23259516440783e-32,M.SPLIT=134217729,M.MAX_PRINT_DIGITS=32,M.TEN=M.valueOf(10),M.ONE=M.valueOf(1),M.SCI_NOT_EXPONENT_CHAR="E",M.SCI_NOT_ZERO="0.0E0",t(I.prototype,{interfaces_:function(){return[]},getClass:function(){return I}}),I.orientationIndex=function(e,t,n){var r=I.orientationIndexFilter(e,t,n);if(r<=1)return r;var i=M.valueOf(t.x).selfAdd(-e.x),o=M.valueOf(t.y).selfAdd(-e.y),s=M.valueOf(n.x).selfAdd(-t.x),a=M.valueOf(n.y).selfAdd(-t.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},I.signOfDet2x2=function(e,t,n,r){var i=e.multiply(r).selfSubtract(t.multiply(n));return i.signum()},I.intersection=function(e,t,n,r){var i=M.valueOf(r.y).selfSubtract(n.y).selfMultiply(M.valueOf(t.x).selfSubtract(e.x)),o=M.valueOf(r.x).selfSubtract(n.x).selfMultiply(M.valueOf(t.y).selfSubtract(e.y)),s=i.subtract(o),a=M.valueOf(r.x).selfSubtract(n.x).selfMultiply(M.valueOf(e.y).selfSubtract(n.y)),l=M.valueOf(r.y).selfSubtract(n.y).selfMultiply(M.valueOf(e.x).selfSubtract(n.x)),c=a.subtract(l),u=c.selfDivide(s).doubleValue(),h=M.valueOf(e.x).selfAdd(M.valueOf(t.x).selfSubtract(e.x).selfMultiply(u)).doubleValue(),d=M.valueOf(t.x).selfSubtract(e.x).selfMultiply(M.valueOf(e.y).selfSubtract(n.y)),f=M.valueOf(t.y).selfSubtract(e.y).selfMultiply(M.valueOf(e.x).selfSubtract(n.x)),g=d.subtract(f),m=g.selfDivide(s).doubleValue(),v=M.valueOf(n.y).selfAdd(M.valueOf(r.y).selfSubtract(n.y).selfMultiply(m)).doubleValue();return new p(h,v)},I.orientationIndexFilter=function(e,t,n){var r=null,i=(e.x-n.x)*(t.y-n.y),o=(e.y-n.y)*(t.x-n.x),s=i-o;if(i>0){if(o<=0)return I.signum(s);r=i+o}else{if(!(i<0))return I.signum(s);if(o>=0)return I.signum(s);r=-i-o}var a=I.DP_SAFE_EPSILON*r;return s>=a||-s>=a?I.signum(s):2},I.signum=function(e){return e>0?1:e<0?-1:0},I.DP_SAFE_EPSILON=1e-15,t(D.prototype,{setOrdinate:function(e,t,n){},size:function(){},getOrdinate:function(e,t){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(e){},getDimension:function(){},getX:function(e){},clone:function(){},expandEnvelope:function(e){},copy:function(){},getY:function(e){},toCoordinateArray:function(){},interfaces_:function(){return[s]},getClass:function(){return D}}),D.X=0,D.Y=1,D.Z=2,D.M=3,N.arraycopy=function(e,t,n,r,i){for(var o=0,s=t;s<t+i;s++)n[r+o]=e[s],o++},N.getProperty=function(e){return{"line.separator":"\n"}[e]},t(P.prototype,{getY:function(){var e=this.y/this.w;if(i.isNaN(e)||i.isInfinite(e))throw new S;return e},getX:function(){var e=this.x/this.w;if(i.isNaN(e)||i.isInfinite(e))throw new S;return e},getCoordinate:function(){var e=new p;return e.x=this.getX(),e.y=this.getY(),e},interfaces_:function(){return[]},getClass:function(){return P}}),P.intersection=function(e,t,n,r){var o=e.y-t.y,s=t.x-e.x,a=e.x*t.y-t.x*e.y,l=n.y-r.y,c=r.x-n.x,u=n.x*r.y-r.x*n.y,h=s*u-c*a,d=l*a-o*u,f=o*c-l*s,g=h/f,m=d/f;if(i.isNaN(g)||i.isInfinite(g)||i.isNaN(m)||i.isInfinite(m))throw new S;return new p(g,m)},t(O.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:A(arguments[0],D)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return O}}),t(B.prototype,{filter:function(e){},interfaces_:function(){return[]},getClass:function(){return B}}),t($.prototype,{isGeometryCollection:function(){return this.getSortIndex()===$.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(e){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof $){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof $))return!1;var n=t;return this.equalsExact(n)}}},equalsExact:function(e){return this===e||this.equalsExact(e,0)},geometryChanged:function(){this.apply($.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(e){return null!==e&&this.norm().equalsExact(e.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1],t=n;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(n,r)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(e){if(e.getSortIndex()===$.SORTINDEX_GEOMETRYCOLLECTION)throw new r("This method does not support GeometryCollection arguments")},equal:function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},norm:function(){var e=this.copy();return e.normalize(),e},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new E(this.envelope)},setSRID:function(e){this.SRID=e},setUserData:function(e){this.userData=e},compare:function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===$.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===$.SORTINDEX_MULTIPOINT||this.getSortIndex()===$.SORTINDEX_MULTILINESTRING||this.getSortIndex()===$.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[s,o,l]},getClass:function(){return $}}),$.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},$.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},$.serialVersionUID=0x799ea46522854c00,$.SORTINDEX_POINT=0,$.SORTINDEX_MULTIPOINT=1,$.SORTINDEX_LINESTRING=2,$.SORTINDEX_LINEARRING=3,$.SORTINDEX_MULTILINESTRING=4,$.SORTINDEX_POLYGON=5,$.SORTINDEX_MULTIPOLYGON=6,$.SORTINDEX_GEOMETRYCOLLECTION=7,$.geometryChangedFilter={interfaces_:function(){return[B]},filter:function(e){e.geometryChangedAction()}},t(j.prototype,{filter:function(e){},interfaces_:function(){return[]},getClass:function(){return j}}),t(z.prototype,{isInBoundary:function(e){},interfaces_:function(){return[]},getClass:function(){return z}}),t(U.prototype,{isInBoundary:function(e){return e%2===1},interfaces_:function(){return[z]},getClass:function(){return U}}),t(V.prototype,{isInBoundary:function(e){return e>0},interfaces_:function(){return[z]},getClass:function(){return V}}),t(W.prototype,{isInBoundary:function(e){return e>1},interfaces_:function(){return[z]},getClass:function(){return W;
}}),t(q.prototype,{isInBoundary:function(e){return 1===e},interfaces_:function(){return[z]},getClass:function(){return q}}),z.Mod2BoundaryNodeRule=U,z.EndPointBoundaryNodeRule=V,z.MultiValentEndPointBoundaryNodeRule=W,z.MonoValentEndPointBoundaryNodeRule=q,z.MOD2_BOUNDARY_RULE=new U,z.ENDPOINT_BOUNDARY_RULE=new V,z.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new W,z.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new q,z.OGC_SFS_BOUNDARY_RULE=z.MOD2_BOUNDARY_RULE,t(H.prototype,{interfaces_:function(){return[]},getClass:function(){return H}}),H.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))},H.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(H.indexOf(r,t)<0)return r}return null},H.scroll=function(e,t){var n=H.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);N.arraycopy(e,n,r,0,e.length-n),N.arraycopy(e,0,r,e.length-n,n),N.arraycopy(r,0,e,0,e.length)},H.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var n=0;n<r.length;n++)if(0!==o.compare(r[n],i[n]))return!1;return!0}},H.intersection=function(e,t){for(var n=new _,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},H.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},H.removeRepeatedPoints=function(e){if(!H.hasRepeatedPoints(e))return e;var t=new _(e,!1);return t.toCoordinateArray()},H.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}},H.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var i=0,n=0;n<e.length;n++)null!==e[n]&&(r[i++]=e[n]);return r},H.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new p(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],n=0;n<a;n++)o[s+n]=new p(r[i+n])},H.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[e.length-n-1];if(0!==r.compareTo(i))return!1}return!0},H.envelope=function(e){for(var t=new E,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},H.toCoordinateArray=function(e){return e.toArray(H.coordArrayType)},H.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},H.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},H.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1},H.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},H.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},H.extract=function(e,t,n){t=T.clamp(t,0,e.length),n=T.clamp(n,-1,e.length);var r=n-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=t;s<=n;s++)i[o++]=e[s];return i},t(G.prototype,{compare:function(e,t){var n=e,r=t;return H.compare(n,r)},interfaces_:function(){return[a]},getClass:function(){return G}}),t(K.prototype,{compare:function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=H.compare(n,r),o=H.isEqualReversed(n,r);return o?0:i},OLDcompare:function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=H.increasingDirection(n),o=H.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,l=0;l<n.length;l++){var c=n[s].compareTo(r[a]);if(0!==c)return c;s+=i,a+=o}return 0},interfaces_:function(){return[a]},getClass:function(){return K}}),H.ForwardComparator=G,H.BidirectionalComparator=K,H.coordArrayType=new Array(0).fill(null),Y.prototype.get=function(){},Y.prototype.put=function(){},Y.prototype.size=function(){},Y.prototype.values=function(){},Y.prototype.entrySet=function(){},X.prototype=new Y,J.prototype=new m,J.prototype.contains=function(){},Z.prototype=new J,Z.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++){var r=this.array_[t];if(r===e)return!0}return!1},Z.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},Z.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},Z.prototype.remove=function(e){throw new javascript.util.OperationNotSupported},Z.prototype.size=function(){return this.array_.length},Z.prototype.isEmpty=function(){return 0===this.array_.length},Z.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},Z.prototype.iterator=function(){return new Qo(this)};var Qo=function(e){this.hashSet_=e,this.position_=0};Qo.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new b;return this.hashSet_.array_[this.position_++]},Qo.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Qo.prototype.remove=function(){throw new w};var es=0,ts=1;ie.prototype=new X,ie.prototype.get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},ie.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:es,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do if(n=i,r=e.compareTo(i.key),r<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=t,o}i=i.right}while(null!==i);var s={key:e,left:null,right:null,value:t,parent:n,color:es,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},ie.prototype.fixAfterInsertion=function(e){for(e.color=ts;null!=e&&e!=this.root_&&e.parent.color==ts;)if(ee(e)==ne(ee(ee(e)))){var t=re(ee(ee(e)));Q(t)==ts?(te(ee(e),es),te(t,es),te(ee(ee(e)),ts),e=ee(ee(e))):(e==re(ee(e))&&(e=ee(e),this.rotateLeft(e)),te(ee(e),es),te(ee(ee(e)),ts),this.rotateRight(ee(ee(e))))}else{var t=ne(ee(ee(e)));Q(t)==ts?(te(ee(e),es),te(t,es),te(ee(ee(e)),ts),e=ee(ee(e))):(e==ne(ee(e))&&(e=ee(e),this.rotateRight(e)),te(ee(e),es),te(ee(ee(e)),ts),this.rotateLeft(ee(ee(e))))}this.root_.color=es},ie.prototype.values=function(){var e=new x,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=ie.successor(t));)e.add(t.value);return e},ie.prototype.entrySet=function(){var e=new Z,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=ie.successor(t));)e.add(t);return e},ie.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left==e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},ie.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right==e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},ie.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},ie.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var t=e.parent,n=e;null!==t&&n===t.right;)n=t,t=t.parent;return t},ie.prototype.size=function(){return this.size_},t(oe.prototype,{interfaces_:function(){return[]},getClass:function(){return oe}}),se.prototype=new J,ae.prototype=new se,ae.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++){var r=this.array_[t];if(0===r.compareTo(e))return!0}return!1},ae.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++){var r=this.array_[t];if(1===r.compareTo(e))return this.array_.splice(t,0,e),!0}return this.array_.push(e),!0},ae.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},ae.prototype.remove=function(e){throw new w},ae.prototype.size=function(){return this.array_.length},ae.prototype.isEmpty=function(){return 0===this.array_.length},ae.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},ae.prototype.iterator=function(){return new ns(this)};var ns=function(e){this.treeSet_=e,this.position_=0};ns.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new b;return this.treeSet_.array_[this.position_++]},ns.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ns.prototype.remove=function(){throw new w},le.sort=function(){var e,t,n,r,i=arguments[0];if(1===arguments.length)return r=function(e,t){return e.compareTo(t)},void i.sort(r);if(2===arguments.length)n=arguments[1],r=function(e,t){return n.compare(e,t)},i.sort(r);else{if(3===arguments.length){t=i.slice(arguments[1],arguments[2]),t.sort();var o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length));for(i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e]);return}if(4===arguments.length){for(t=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(e,t){return n.compare(e,t)},t.sort(r),o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length)),i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e]);return}}},le.asList=function(e){for(var t=new x,n=0,r=e.length;n<r;n++)t.add(e[n]);return t},t(ce.prototype,{interfaces_:function(){return[]},getClass:function(){return ce}}),ce.toDimensionSymbol=function(e){switch(e){case ce.FALSE:return ce.SYM_FALSE;case ce.TRUE:return ce.SYM_TRUE;case ce.DONTCARE:return ce.SYM_DONTCARE;case ce.P:return ce.SYM_P;case ce.L:return ce.SYM_L;case ce.A:return ce.SYM_A}throw new r("Unknown dimension value: "+e)},ce.toDimensionValue=function(e){switch(R.toUpperCase(e)){case ce.SYM_FALSE:return ce.FALSE;case ce.SYM_TRUE:return ce.TRUE;case ce.SYM_DONTCARE:return ce.DONTCARE;case ce.SYM_P:return ce.P;case ce.SYM_L:return ce.L;case ce.SYM_A:return ce.A}throw new r("Unknown dimension symbol: "+e)},ce.P=0,ce.L=1,ce.A=2,ce.FALSE=-1,ce.TRUE=-2,ce.DONTCARE=-3,ce.SYM_FALSE="F",ce.SYM_TRUE="T",ce.SYM_DONTCARE="*",ce.SYM_P="0",ce.SYM_L="1",ce.SYM_A="2",t(ue.prototype,{filter:function(e){},interfaces_:function(){return[]},getClass:function(){return ue}}),t(he.prototype,{filter:function(e,t){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return he}}),u(de,$),t(de.prototype,{computeEnvelopeInternal:function(){for(var e=new E,t=0;t<this.geometries.length;t++)e.expandToInclude(this.geometries[t].getEnvelopeInternal());return e},getGeometryN:function(e){return this.geometries[e]},getSortIndex:function(){return $.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this.geometries.length;n++)for(var r=this.geometries[n].getCoordinates(),i=0;i<r.length;i++)t++,e[t]=r[i];return e},getArea:function(){for(var e=0,t=0;t<this.geometries.length;t++)e+=this.geometries[t].getArea();return e},equalsExact:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this.geometries.length!==n.geometries.length)return!1;for(var r=0;r<this.geometries.length;r++)if(!this.geometries[r].equalsExact(n.geometries[r],t))return!1;return!0}return $.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var e=0;e<this.geometries.length;e++)this.geometries[e].normalize();le.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var e=ce.FALSE,t=0;t<this.geometries.length;t++)e=Math.max(e,this.geometries[t].getBoundaryDimension());return e},getDimension:function(){for(var e=ce.FALSE,t=0;t<this.geometries.length;t++)e=Math.max(e,this.geometries[t].getDimension());return e},getLength:function(){for(var e=0,t=0;t<this.geometries.length;t++)e+=this.geometries[t].getLength();return e},getNumPoints:function(){for(var e=0,t=0;t<this.geometries.length;t++)e+=this.geometries[t].getNumPoints();return e},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var e=this.geometries.length,t=new Array(e).fill(null),n=0;n<this.geometries.length;n++)t[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(t)},compareToSameClass:function(){if(1===arguments.length){var e=arguments[0],t=new ae(le.asList(this.geometries)),n=new ae(le.asList(e.geometries));return this.compare(t,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,s=this.getNumGeometries(),a=o.getNumGeometries(),l=0;l<s&&l<a;){var c=this.getGeometryN(l),u=o.getGeometryN(l),h=c.compareToSameClass(u,i);if(0!==h)return h;l++}return l<s?1:l<a?-1:0}},apply:function(){if(A(arguments[0],j))for(var e=arguments[0],t=0;t<this.geometries.length;t++)this.geometries[t].apply(e);else if(A(arguments[0],he)){var n=arguments[0];if(0===this.geometries.length)return null;for(var t=0;t<this.geometries.length&&(this.geometries[t].apply(n),!n.isDone());t++);n.isGeometryChanged()&&this.geometryChanged()}else if(A(arguments[0],ue)){var r=arguments[0];r.filter(this);for(var t=0;t<this.geometries.length;t++)this.geometries[t].apply(r)}else if(A(arguments[0],B)){var i=arguments[0];i.filter(this);for(var t=0;t<this.geometries.length;t++)this.geometries[t].apply(i)}},getBoundary:function(){return this.checkNotGeometryCollection(this),d.shouldNeverReachHere(),null},clone:function(){var e=$.prototype.clone.call(this);e.geometries=new Array(this.geometries.length).fill(null);for(var t=0;t<this.geometries.length;t++)e.geometries[t]=this.geometries[t].clone();return e},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var e=new Array(this.geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this.geometries[t].copy();return new de(e,this.factory)},isEmpty:function(){for(var e=0;e<this.geometries.length;e++)if(!this.geometries[e].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return de}}),de.serialVersionUID=-0x4f07bcb1f857d800,u(pe,de),t(pe.prototype,{getSortIndex:function(){return $.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&de.prototype.equalsExact.call(this,e,t)}return de.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?ce.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var e=0;e<this.geometries.length;e++)if(!this.geometries[e].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var e=this.geometries.length,t=new Array(e).fill(null),n=0;n<this.geometries.length;n++)t[e-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(t)},getBoundary:function(){return new fe(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var e=new Array(this.geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this.geometries[t].copy();return new pe(e,this.factory)},interfaces_:function(){return[oe]},getClass:function(){return pe}}),pe.serialVersionUID=0x7155d2ab4afa8000,t(fe.prototype,{boundaryMultiLineString:function(e){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this.geomFact.createPoint(t[0]):this.geomFact.createMultiPointFromCoords(t)},getBoundary:function(){return this.geom instanceof Ce?this.boundaryLineString(this.geom):this.geom instanceof pe?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(e){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(e.isClosed()){var t=this.bnRule.isInBoundary(2);return t?e.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(e){var t=new x;this.endpointMap=new ie;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this.endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue(),a=s.count;this.bnRule.isInBoundary(a)&&t.add(o.getKey())}return H.toCoordinateArray(t)},addEndpoint:function(e){var t=this.endpointMap.get(e);null===t&&(t=new ge,this.endpointMap.put(e,t)),t.count++},interfaces_:function(){return[]},getClass:function(){return fe}}),fe.getBoundary=function(){if(1===arguments.length){var e=arguments[0],t=new fe(e);return t.getBoundary()}if(2===arguments.length){var n=arguments[0],r=arguments[1],t=new fe(n,r);return t.getBoundary()}},t(ge.prototype,{interfaces_:function(){return[]},getClass:function(){return ge}}),t(_e.prototype,{interfaces_:function(){return[]},getClass:function(){return _e}}),_e.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return new String(n)},_e.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new be,n=new me(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",s=new ve(_e.getStackTrace(r)),a=new xe(s),l=0;l<i;l++)try{o+=a.readLine()+_e.NEWLINE}catch(e){if(!(e instanceof we))throw e;d.shouldNeverReachHere()}finally{}return o}},_e.split=function(e,t){for(var n=t.length,r=new x,i=""+e,o=i.indexOf(t);o>=0;){var s=i.substring(0,o);r.add(s),i=i.substring(o+n),o=i.indexOf(t)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),l=0;l<a.length;l++)a[l]=r.get(l);return a},_e.toString=function(){if(1===arguments.length){var e=arguments[0];return _e.SIMPLE_ORDINATE_FORMAT.format(e)}},_e.spaces=function(e){return _e.chars(" ",e)},_e.NEWLINE=N.getProperty("line.separator"),_e.SIMPLE_ORDINATE_FORMAT=new ye("0.#"),t(Ee.prototype,{interfaces_:function(){return[]},getClass:function(){return Ee}}),Ee.copyCoord=function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,e.getOrdinate(t,o))},Ee.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,D.X)===e.getOrdinate(t-1,D.X)&&e.getOrdinate(0,D.Y)===e.getOrdinate(t-1,D.Y)},Ee.isEqual=function(e,t){var n=e.size(),r=t.size();if(n!==r)return!1;for(var o=Math.min(e.getDimension(),t.getDimension()),s=0;s<n;s++)for(var a=0;a<o;a++){var l=e.getOrdinate(s,a),c=t.getOrdinate(s,a);if(!(e.getOrdinate(s,a)===t.getOrdinate(s,a)||i.isNaN(l)&&i.isNaN(c)))return!1}return!0},Ee.extend=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();if(Ee.copy(t,0,r,0,i),i>0)for(var o=i;o<n;o++)Ee.copy(t,i-1,r,o,1);return r},Ee.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)Ee.swap(e,r,t-r)},Ee.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}},Ee.copy=function(e,t,n,r,i){for(var o=0;o<i;o++)Ee.copyCoord(e,t+o,n,r+o)},Ee.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new F;r.append("(");for(var i=0;i<t;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(_e.toString(e.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Ee.ensureValidRing=function(e,t){var n=t.size();if(0===n)return t;if(n<=3)return Ee.createClosedRing(e,t,4);var r=t.getOrdinate(0,D.X)===t.getOrdinate(n-1,D.X)&&t.getOrdinate(0,D.Y)===t.getOrdinate(n-1,D.Y);return r?t:Ee.createClosedRing(e,t,n+1)},Ee.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();Ee.copy(t,0,r,0,i);for(var o=i;o<n;o++)Ee.copy(t,0,r,o,1);return r},u(Ce,$),t(Ce.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new E:this.points.expandEnvelope(new E)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return $.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this.points.size()!==n.points.size())return!1;for(var r=0;r<this.points.size();r++)if(!this.equal(this.points.getCoordinate(r),n.points.getCoordinate(r),t))return!1;return!0}return $.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var e=0;e<Math.trunc(this.points.size()/2);e++){var t=this.points.size()-1-e;if(!this.points.getCoordinate(e).equals(this.points.getCoordinate(t)))return this.points.getCoordinate(e).compareTo(this.points.getCoordinate(t))>0&&Ee.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?ce.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return ut.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var e=this.points.copy();Ee.reverse(e);var t=this.getFactory().createLineString(e);return t},compareToSameClass:function(){if(1===arguments.length){for(var e=arguments[0],t=e,n=0,r=0;n<this.points.size()&&r<t.points.size();){var i=this.points.getCoordinate(n).compareTo(t.points.getCoordinate(r));if(0!==i)return i;n++,r++}return n<this.points.size()?1:r<t.points.size()?-1:0}if(2===arguments.length){var o=arguments[0],s=arguments[1],t=o;return s.compare(this.points,t.points)}},apply:function(){if(A(arguments[0],j))for(var e=arguments[0],t=0;t<this.points.size();t++)e.filter(this.points.getCoordinate(t));else if(A(arguments[0],he)){var n=arguments[0];if(0===this.points.size())return null;for(var t=0;t<this.points.size()&&(n.filter(this.points,t),!n.isDone());t++);n.isGeometryChanged()&&this.geometryChanged()}else if(A(arguments[0],ue)){var r=arguments[0];r.filter(this)}else if(A(arguments[0],B)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return new fe(this).getBoundary()},isEquivalentClass:function(e){return e instanceof Ce},clone:function(){var e=$.prototype.clone.call(this);return e.points=this.points.clone(),e},getCoordinateN:function(e){return this.points.getCoordinate(e)},getGeometryType:function(){return"LineString"},copy:function(){return new Ce(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new r("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this.points=e},isCoordinate:function(e){for(var t=0;t<this.points.size();t++)if(this.points.getCoordinate(t).equals(e))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(e){return this.getFactory().createPoint(this.points.getCoordinate(e))},interfaces_:function(){return[oe]},getClass:function(){return Ce}}),Ce.serialVersionUID=0x2b2b51ba435c8e00,t(Se.prototype,{interfaces_:function(){return[]},getClass:function(){return Se}}),u(ke,$),t(ke.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new E;var e=new E;return e.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),e},getSortIndex:function(){return $.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return $.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return ce.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var n=arguments[0],r=arguments[1],t=n;return r.compare(this.coordinates,t.coordinates)}},apply:function(){if(A(arguments[0],j)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(A(arguments[0],he)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else if(A(arguments[0],ue)){var n=arguments[0];n.filter(this)}else if(A(arguments[0],B)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var e=$.prototype.clone.call(this);return e.coordinates=this.coordinates.clone(),e},getGeometryType:function(){return"Point"},copy:function(){return new ke(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),d.isTrue(e.size()<=1),this.coordinates=e},isSimple:function(){return!0},interfaces_:function(){return[Se]},getClass:function(){return ke}}),ke.serialVersionUID=0x44077bad161cbc00,t(Ae.prototype,{interfaces_:function(){return[]},getClass:function(){return Ae}}),u(Te,$),t(Te.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return $.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this.shell.getCoordinates(),r=0;r<n.length;r++)t++,e[t]=n[r];for(var i=0;i<this.holes.length;i++)for(var o=this.holes[i].getCoordinates(),s=0;s<o.length;s++)t++,e[t]=o[s];return e},getArea:function(){var e=0;e+=Math.abs(ut.signedArea(this.shell.getCoordinateSequence()));for(var t=0;t<this.holes.length;t++)e-=Math.abs(ut.signedArea(this.holes[t].getCoordinateSequence()));return e},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var e=this.shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var i=e.getY(n);if(i!==t.getMinY()&&i!==t.getMaxY())return!1}for(var o=e.getX(0),s=e.getY(0),n=1;n<=4;n++){var r=e.getX(n),i=e.getY(n),a=r!==o,l=i!==s;if(a===l)return!1;o=r,s=i}return!0},equalsExact:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e,r=this.shell,i=n.shell;if(!r.equalsExact(i,t))return!1;if(this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],t))return!1;return!0}return $.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var e=0;e<this.holes.length;e++)this.normalize(this.holes[e],!1);le.sort(this.holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var r=new Array(t.getCoordinates().length-1).fill(null);N.arraycopy(t.getCoordinates(),0,r,0,r.length);var i=H.minCoordinate(t.getCoordinates());H.scroll(r,i),N.arraycopy(r,0,t.getCoordinates(),0,r.length),t.getCoordinates()[r.length]=r[0],ut.isCCW(t.getCoordinates())===n&&H.reverse(t.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var e=0;e+=this.shell.getLength();for(var t=0;t<this.holes.length;t++)e+=this.holes[t].getLength();return e},getNumPoints:function(){for(var e=this.shell.getNumPoints(),t=0;t<this.holes.length;t++)e+=this.holes[t].getNumPoints();return e},reverse:function(){var e=this.copy();e.shell=this.shell.copy().reverse(),e.holes=new Array(this.holes.length).fill(null);for(var t=0;t<this.holes.length;t++)e.holes[t]=this.holes[t].copy().reverse();return e},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var e=arguments[0],t=this.shell,n=e.shell;return t.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,t=this.shell,n=o.shell,s=t.compareToSameClass(n,i);if(0!==s)return s;for(var a=this.getNumInteriorRing(),l=o.getNumInteriorRing(),c=0;c<a&&c<l;){var u=this.getInteriorRingN(c),h=o.getInteriorRingN(c),d=u.compareToSameClass(h,i);if(0!==d)return d;c++}return c<a?1:c<l?-1:0}},apply:function(){if(A(arguments[0],j)){var e=arguments[0];this.shell.apply(e);for(var t=0;t<this.holes.length;t++)this.holes[t].apply(e)}else if(A(arguments[0],he)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(var t=0;t<this.holes.length&&(this.holes[t].apply(n),!n.isDone());t++);n.isGeometryChanged()&&this.geometryChanged()}else if(A(arguments[0],ue)){var r=arguments[0];r.filter(this)}else if(A(arguments[0],B)){var i=arguments[0];i.filter(this),this.shell.apply(i);for(var t=0;t<this.holes.length;t++)this.holes[t].apply(i)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this.holes.length+1).fill(null);e[0]=this.shell;for(var t=0;t<this.holes.length;t++)e[t+1]=this.holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},clone:function(){var e=$.prototype.clone.call(this);e.shell=this.shell.clone(),e.holes=new Array(this.holes.length).fill(null);for(var t=0;t<this.holes.length;t++)e.holes[t]=this.holes[t].clone();return e},getGeometryType:function(){return"Polygon"},copy:function(){for(var e=this.shell.copy(),t=new Array(this.holes.length).fill(null),n=0;n<t.length;n++)t[n]=this.holes[n].copy();return new Te(e,t,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(e){return this.holes[e]},interfaces_:function(){return[Ae]},getClass:function(){return Te}}),Te.serialVersionUID=-0x307ffefd8dc97200,u(Fe,de),t(Fe.prototype,{getSortIndex:function(){return $.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&de.prototype.equalsExact.call(this,e,t)}return de.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var e=arguments[0];return this.geometries[e].getCoordinate()}return de.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return ce.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var e=new Array(this.geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this.geometries[t].copy();return new Fe(e,this.factory)},interfaces_:function(){return[Se]},getClass:function(){return Fe}}),Fe.serialVersionUID=-0x6fb1ed4162e0fc00,
u(Le,Ce),t(Le.prototype,{getSortIndex:function(){return $.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return ce.FALSE},isClosed:function(){return!!this.isEmpty()||Ce.prototype.isClosed.call(this)},reverse:function(){var e=this.points.copy();Ee.reverse(e);var t=this.getFactory().createLinearRing(e);return t},validateConstruction:function(){if(!this.isEmpty()&&!Ce.prototype.isClosed.call(this))throw new r("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Le.MINIMUM_VALID_SIZE)throw new r("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Le(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Le}}),Le.MINIMUM_VALID_SIZE=4,Le.serialVersionUID=-0x3b229e262367a600,u(Re,de),t(Re.prototype,{getSortIndex:function(){return $.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&de.prototype.equalsExact.call(this,e,t)}return de.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var e=this.geometries.length,t=new Array(e).fill(null),n=0;n<this.geometries.length;n++)t[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(t)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new x,t=0;t<this.geometries.length;t++)for(var n=this.geometries[t],r=n.getBoundary(),i=0;i<r.getNumGeometries();i++)e.add(r.getGeometryN(i));var o=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var e=new Array(this.geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this.geometries[t].copy();return new Re(e,this.factory)},interfaces_:function(){return[Ae]},getClass:function(){return Re}}),Re.serialVersionUID=-0x7a5aa1369171980,t(Me.prototype,{setCopyUserData:function(e){this.isUserDataCopied=e},edit:function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this.isUserDataCopied&&n.setUserData(e.getUserData()),n},editInternal:function(e,t){return null===this.factory&&(this.factory=e.getFactory()),e instanceof de?this.editGeometryCollection(e,t):e instanceof Te?this.editPolygon(e,t):e instanceof ke?t.edit(e,this.factory):e instanceof Ce?t.edit(e,this.factory):(d.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},editGeometryCollection:function(e,t){for(var n=t.edit(e,this.factory),r=new x,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),t);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Fe?this.factory.createMultiPoint(r.toArray([])):n.getClass()===pe?this.factory.createMultiLineString(r.toArray([])):n.getClass()===Re?this.factory.createMultiPolygon(r.toArray([])):this.factory.createGeometryCollection(r.toArray([]))},editPolygon:function(e,t){var n=t.edit(e,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this.factory.createPolygon();for(var i=new x,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),t);null===s||s.isEmpty()||i.add(s)}return this.factory.createPolygon(r,i.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Me}}),Me.GeometryEditorOperation=Ie,t(De.prototype,{edit:function(e,t){return e},interfaces_:function(){return[Ie]},getClass:function(){return De}}),t(Ne.prototype,{edit:function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof Le?t.createLinearRing(n):e instanceof Ce?t.createLineString(n):e instanceof ke?n.length>0?t.createPoint(n[0]):t.createPoint():e},interfaces_:function(){return[Ie]},getClass:function(){return Ne}}),t(Pe.prototype,{edit:function(e,t){return e instanceof Le?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Ce?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof ke?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},interfaces_:function(){return[Ie]},getClass:function(){return Pe}}),Me.NoOpGeometryOperation=De,Me.CoordinateOperation=Ne,Me.CoordinateSequenceOperation=Pe,t(Oe.prototype,{setOrdinate:function(e,t,n){switch(t){case D.X:this.coordinates[e].x=n;break;case D.Y:this.coordinates[e].y=n;break;case D.Z:this.coordinates[e].z=n;break;default:throw new r("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(e,t){switch(t){case D.X:return this.coordinates[e].x;case D.Y:return this.coordinates[e].y;case D.Z:return this.coordinates[e].z}return i.NaN},getCoordinate:function(){if(1===arguments.length){var e=arguments[0];return this.coordinates[e]}if(2===arguments.length){var t=arguments[0],n=arguments[1];n.x=this.coordinates[t].x,n.y=this.coordinates[t].y,n.z=this.coordinates[t].z}},getCoordinateCopy:function(e){return new p(this.coordinates[e])},getDimension:function(){return this.dimension},getX:function(e){return this.coordinates[e].x},clone:function(){for(var e=new Array(this.size()).fill(null),t=0;t<this.coordinates.length;t++)e[t]=this.coordinates[t].clone();return new Oe(e,this.dimension)},expandEnvelope:function(e){for(var t=0;t<this.coordinates.length;t++)e.expandToInclude(this.coordinates[t]);return e},copy:function(){for(var e=new Array(this.size()).fill(null),t=0;t<this.coordinates.length;t++)e[t]=this.coordinates[t].copy();return new Oe(e,this.dimension)},toString:function(){if(this.coordinates.length>0){var e=new F(17*this.coordinates.length);e.append("("),e.append(this.coordinates[0]);for(var t=1;t<this.coordinates.length;t++)e.append(", "),e.append(this.coordinates[t]);return e.append(")"),e.toString()}return"()"},getY:function(e){return this.coordinates[e].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[D,l]},getClass:function(){return Oe}}),Oe.serialVersionUID=-0xcb44a778db18e00,t(Be.prototype,{readResolve:function(){return Be.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new Oe(e)}if(A(arguments[0],D)){var t=arguments[0];return new Oe(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new Oe(n):new Oe(n,r)}},interfaces_:function(){return[O,l]},getClass:function(){return Be}}),Be.instance=function(){return Be.instanceObject},Be.serialVersionUID=-0x38e49fa6cf6f2e00,Be.instanceObject=new Be;var rs,is=Object.defineProperty,os=je({delete:Ue,has:qe,get:Ve,set:He,keys:Ke,values:Ye,entries:Xe,forEach:Qe,clear:Ge}),ss="undefined"!=typeof Map&&Map.prototype.values?Map:os;et.prototype=new Y,et.prototype.get=function(e){return this.map_.get(e)||null},et.prototype.put=function(e,t){return this.map_.set(e,t),t},et.prototype.values=function(){for(var e=new x,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},et.prototype.entrySet=function(){var e=new Z;return this.map_.entries().forEach(function(t){return e.add(t)}),e},et.prototype.size=function(){return this.map_.size()},t(tt.prototype,{equals:function(e){if(!(e instanceof tt))return!1;var t=e;return this.modelType===t.modelType&&this.scale===t.scale},compareTo:function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new L(n).compareTo(new L(r))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===tt.FLOATING||this.modelType===tt.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var e="UNKNOWN";return this.modelType===tt.FLOATING?e="Floating":this.modelType===tt.FLOATING_SINGLE?e="Floating-Single":this.modelType===tt.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},makePrecise:function(){if("number"==typeof arguments[0]){var e=arguments[0];if(i.isNaN(e))return e;if(this.modelType===tt.FLOATING_SINGLE){var t=e;return t}return this.modelType===tt.FIXED?Math.round(e*this.scale)/this.scale:e}if(arguments[0]instanceof p){var n=arguments[0];if(this.modelType===tt.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},getMaximumSignificantDigits:function(){var e=16;return this.modelType===tt.FLOATING?e=16:this.modelType===tt.FLOATING_SINGLE?e=6:this.modelType===tt.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},setScale:function(e){this.scale=Math.abs(e)},interfaces_:function(){return[l,o]},getClass:function(){return tt}}),tt.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},t(nt.prototype,{readResolve:function(){return nt.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[l]},getClass:function(){return nt}}),nt.serialVersionUID=-552860263173159e4,nt.nameToTypeMap=new et,tt.Type=nt,tt.serialVersionUID=0x6bee6404e9a25c00,tt.FIXED=new nt("FIXED"),tt.FLOATING=new nt("FLOATING"),tt.FLOATING_SINGLE=new nt("FLOATING SINGLE"),tt.maximumPreciseValue=9007199254740992,t(rt.prototype,{toGeometry:function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new p(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new p(e.getMinX(),e.getMinY()),new p(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new p(e.getMinX(),e.getMinY()),new p(e.getMinX(),e.getMaxY()),new p(e.getMaxX(),e.getMaxY()),new p(e.getMaxX(),e.getMinY()),new p(e.getMinX(),e.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(A(arguments[0],D)){var t=arguments[0];return new Ce(t,this)}}},createMultiLineString:function(){if(0===arguments.length)return new pe(null,this);if(1===arguments.length){var e=arguments[0];return new pe(e,this)}},buildGeometry:function(e){for(var t=null,n=!1,r=!1,i=e.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===t&&(t=s),s!==t&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(rt.toGeometryArray(e));var a=e.iterator().next(),l=e.size()>1;if(l){if(a instanceof Te)return this.createMultiPolygon(rt.toPolygonArray(e));if(a instanceof Ce)return this.createMultiLineString(rt.toLineStringArray(e));if(a instanceof ke)return this.createMultiPoint(rt.toPointArray(e));d.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},createMultiPointFromCoords:function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(A(arguments[0],D)){var t=arguments[0];return new ke(t,this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Te(null,null,this);if(1===arguments.length){if(A(arguments[0],D)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Le){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new Te(r,i,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new de(null,this);if(1===arguments.length){var e=arguments[0];return new de(e,this)}},createGeometry:function(e){var t=new Me(this);return t.edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(e)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(A(arguments[0],D)){var t=arguments[0];return new Le(t,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new Re(null,this);if(1===arguments.length){var e=arguments[0];return new Re(e,this)}},createMultiPoint:function(){if(0===arguments.length)return new Fe(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new Fe(e,this)}if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(A(arguments[0],D)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Ee.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},interfaces_:function(){return[l]},getClass:function(){return rt}}),rt.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.getDefaultCoordinateSequenceFactory=function(){return Be.instance()},rt.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},rt.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},rt.serialVersionUID=-0x5ea75f2051eeb400;var as={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};t(it.prototype,{read:function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=as.typeStr.exec(e);if(e.search("EMPTY")!==-1&&(i=as.emptyTypeStr.exec(e),i[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],cs[n]&&(t=cs[n].apply(this,[r]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},write:function(e){return this.extractGeometry(e)},extractGeometry:function(e){var t=e.getGeometryType().toLowerCase();if(!ls[t])return null;var n,r=t.toUpperCase();return n=e.isEmpty()?r+" EMPTY":r+"("+ls[t].apply(this,[e])+")"}});var ls={coordinate:function(e){return e.x+" "+e.y},point:function(e){return ls.coordinate.call(this,e.coordinates.coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e.geometries.length;n<r;++n)t.push("("+ls.point.apply(this,[e.geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e.points.coordinates.length;n<r;++n)t.push(ls.coordinate.apply(this,[e.points.coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e.points.coordinates.length;n<r;++n)t.push(ls.coordinate.apply(this,[e.points.coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e.geometries.length;n<r;++n)t.push("("+ls.linestring.apply(this,[e.geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+ls.linestring.apply(this,[e.shell])+")");for(var n=0,r=e.holes.length;n<r;++n)t.push("("+ls.linestring.apply(this,[e.holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e.geometries.length;n<r;++n)t.push("("+ls.polygon.apply(this,[e.geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e.geometries.length;n<r;++n)t.push(this.extractGeometry(e.geometries[n]));return t.join(",")}},cs={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split(as.spaces);return this.geometryFactory.createPoint(new p(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){if(void 0===e)return this.geometryFactory.createMultiPoint();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(as.trimParens,"$1"),r.push(cs.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split(as.spaces),r.push(new p(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split(as.spaces),r.push(new p(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){if(void 0===e)return this.geometryFactory.createMultiLineString();for(var t,n=e.trim().split(as.parenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(as.trimParens,"$1"),r.push(cs.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){if(void 0===e)return this.geometryFactory.createPolygon();for(var t,n,r,i,o=e.trim().split(as.parenComma),s=[],a=0,l=o.length;a<l;++a)t=o[a].replace(as.trimParens,"$1"),n=cs.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n.points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(e){if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var t,n=e.trim().split(as.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(as.trimParens,"$1"),r.push(cs.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var t=e.trim().split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}};t(ot.prototype,{write:function(e){return this.parser.write(e)}}),t(ot,{toLineString:function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"}}),t(st.prototype,{getIndexAlongSegment:function(e,t){return this.computeIntLineIndex(),this.intLineIndex[e][t]},getTopologySummary:function(){var e=new F;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},computeIntersection:function(e,t,n,r){this.inputLines[0][0]=e,this.inputLines[0][1]=t,this.inputLines[1][0]=n,this.inputLines[1][1]=r,this.result=this.computeIntersect(e,t,n,r)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0],t=this.getEdgeDistance(e,0),n=this.getEdgeDistance(e,1);t>n?(this.intLineIndex[e][0]=0,this.intLineIndex[e][1]=1):(this.intLineIndex[e][0]=1,this.intLineIndex[e][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(e){this.precisionModel=e},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this.result;t++)if(!this.intPt[t].equals2D(this.inputLines[e][0])&&!this.intPt[t].equals2D(this.inputLines[e][1]))return!0;return!1}},getIntersection:function(e){return this.intPt[e]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==st.NO_INTERSECTION},getEdgeDistance:function(e,t){var n=st.computeEdgeDistance(this.intPt[t],this.inputLines[e][0],this.inputLines[e][1]);return n},isCollinear:function(){return this.result===st.COLLINEAR_INTERSECTION},toString:function(){return ot.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+ot.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(e,t){return this.inputLines[e][t]},isIntersection:function(e){for(var t=0;t<this.result;t++)if(this.intPt[t].equals2D(e))return!0;return!1},getIntersectionAlongSegment:function(e,t){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[e][t]]},interfaces_:function(){return[]},getClass:function(){return st}}),st.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(n))o=r>i?r:i;else{var s=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);o=r>i?s:a,0!==o||e.equals(t)||(o=Math.max(s,a))}return d.isTrue(!(0===o&&!e.equals(t)),"Bad distance calculation"),o},st.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=Math.sqrt(r*r+i*i);return d.isTrue(!(0===o&&!e.equals(t)),"Invalid distance calculation"),o},st.DONT_INTERSECT=0,st.DO_INTERSECT=1,st.COLLINEAR=2,st.NO_INTERSECTION=0,st.POINT_INTERSECTION=1,st.COLLINEAR_INTERSECTION=2,u(at,st),t(at.prototype,{isInSegmentEnvelopes:function(e){var t=new E(this.inputLines[0][0],this.inputLines[0][1]),n=new E(this.inputLines[1][0],this.inputLines[1][1]);return t.contains(e)&&n.contains(e)},computeIntersection:function(){if(3!==arguments.length)return st.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],t=arguments[1],n=arguments[2];return this._isProper=!1,E.intersects(t,n,e)&&0===ut.orientationIndex(t,n,e)&&0===ut.orientationIndex(n,t,e)?(this._isProper=!0,(e.equals(t)||e.equals(n))&&(this._isProper=!1),this.result=st.POINT_INTERSECTION,null):void(this.result=st.NO_INTERSECTION)},normalizeToMinimum:function(e,t,n,r,i){i.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),i.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},safeHCoordinateIntersection:function(e,t,n,r){var i=null;try{i=P.intersection(e,t,n,r)}catch(o){if(!(o instanceof S))throw o;i=at.nearestEndpoint(e,t,n,r)}finally{}return i},intersection:function(e,t,n,r){var i=this.intersectionWithNormalization(e,t,n,r);return this.isInSegmentEnvelopes(i)||(i=new p(at.nearestEndpoint(e,t,n,r))),null!==this.precisionModel&&this.precisionModel.makePrecise(i),i},smallestInAbsValue:function(e,t,n,r){var i=e,o=Math.abs(i);return Math.abs(t)<o&&(i=t,o=Math.abs(t)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},checkDD:function(e,t,n,r,i){var o=I.intersection(e,t,n,r),s=this.isInSegmentEnvelopes(o);N.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&N.out.println("Distance = "+i.distance(o))},intersectionWithNormalization:function(e,t,n,r){var i=new p(e),o=new p(t),s=new p(n),a=new p(r),l=new p;this.normalizeToEnvCentre(i,o,s,a,l);var c=this.safeHCoordinateIntersection(i,o,s,a);return c.x+=l.x,c.y+=l.y,c},computeCollinearIntersection:function(e,t,n,r){var i=E.intersects(e,t,n),o=E.intersects(e,t,r),s=E.intersects(n,r,e),a=E.intersects(n,r,t);return i&&o?(this.intPt[0]=n,this.intPt[1]=r,st.COLLINEAR_INTERSECTION):s&&a?(this.intPt[0]=e,this.intPt[1]=t,st.COLLINEAR_INTERSECTION):i&&s?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||a?st.COLLINEAR_INTERSECTION:st.POINT_INTERSECTION):i&&a?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||s?st.COLLINEAR_INTERSECTION:st.POINT_INTERSECTION):o&&s?(this.intPt[0]=r,this.intPt[1]=e,!r.equals(e)||i||a?st.COLLINEAR_INTERSECTION:st.POINT_INTERSECTION):o&&a?(this.intPt[0]=r,this.intPt[1]=t,!r.equals(t)||i||s?st.COLLINEAR_INTERSECTION:st.POINT_INTERSECTION):st.NO_INTERSECTION},normalizeToEnvCentre:function(e,t,n,r,i){var o=e.x<t.x?e.x:t.x,s=e.y<t.y?e.y:t.y,a=e.x>t.x?e.x:t.x,l=e.y>t.y?e.y:t.y,c=n.x<r.x?n.x:r.x,u=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,d=n.y>r.y?n.y:r.y,p=o>c?o:c,f=a<h?a:h,g=s>u?s:u,m=l<d?l:d,v=(p+f)/2,y=(g+m)/2;i.x=v,i.y=y,e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},computeIntersect:function(e,t,n,r){if(this._isProper=!1,!E.intersects(e,t,n,r))return st.NO_INTERSECTION;var i=ut.orientationIndex(e,t,n),o=ut.orientationIndex(e,t,r);if(i>0&&o>0||i<0&&o<0)return st.NO_INTERSECTION;var s=ut.orientationIndex(n,r,e),a=ut.orientationIndex(n,r,t);if(s>0&&a>0||s<0&&a<0)return st.NO_INTERSECTION;var l=0===i&&0===o&&0===s&&0===a;return l?this.computeCollinearIntersection(e,t,n,r):(0===i||0===o||0===s||0===a?(this._isProper=!1,e.equals2D(n)||e.equals2D(r)?this.intPt[0]=e:t.equals2D(n)||t.equals2D(r)?this.intPt[0]=t:0===i?this.intPt[0]=new p(n):0===o?this.intPt[0]=new p(r):0===s?this.intPt[0]=new p(e):0===a&&(this.intPt[0]=new p(t))):(this._isProper=!0,this.intPt[0]=this.intersection(e,t,n,r)),st.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return at}}),at.nearestEndpoint=function(e,t,n,r){var i=e,o=ut.distancePointLine(e,n,r),s=ut.distancePointLine(t,n,r);return s<o&&(o=s,i=t),s=ut.distancePointLine(n,e,t),s<o&&(o=s,i=n),s=ut.distancePointLine(r,e,t),s<o&&(o=s,i=r),i},t(lt.prototype,{interfaces_:function(){return[]},getClass:function(){return lt}}),lt.orientationIndex=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-t.x,s=n.y-t.y;return lt.signOfDet2x2(r,i,o,s)},lt.signOfDet2x2=function(e,t,n,r){var i=null,o=null,s=null,a=0;if(i=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-i:i:n>0?i:-i;if(0===t||0===n)return r>0?e>0?i:-i:e>0?-i:i;if(0<t?0<r?t<=r||(i=-i,o=e,e=n,n=o,o=t,t=r,r=o):t<=-r?(i=-i,n=-n,r=-r):(o=e,e=-n,n=o,o=t,t=-r,r=o):0<r?-t<=r?(i=-i,e=-e,t=-t):(o=-e,e=n,n=o,o=-t,t=r,r=o):t>=r?(e=-e,t=-t,n=-n,r=-r):(i=-i,o=-e,e=-n,n=o,o=-t,t=-r,r=o),0<e){if(!(0<n))return i;if(!(e<=n))return i}else{if(0<n)return-i;if(!(e>=n))return-i;i=-i,e=-e,n=-n}for(;;){if(a+=1,s=Math.floor(n/e),n-=s*e,r-=s*t,r<0)return-i;if(r>t)return i;if(e>n+n){if(t<r+r)return i}else{if(t>r+r)return-i;n=e-n,r=t-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(s=Math.floor(e/n),e-=s*n,t-=s*r,t<0)return i;if(t>r)return-i;if(n>e+e){if(r<t+t)return-i}else{if(r>t+t)return i;e=n-e,t=r-t,i=-i}if(0===t)return 0===e?0:i;if(0===e)return-i}},t(ct.prototype,{countSegment:function(e,t){if(e.x<this.p.x&&t.x<this.p.x)return null;if(this.p.x===t.x&&this.p.y===t.y)return this.isPointOnSegment=!0,null;if(e.y===this.p.y&&t.y===this.p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this.p.x>=n&&this.p.x<=r&&(this.isPointOnSegment=!0),null}if(e.y>this.p.y&&t.y<=this.p.y||t.y>this.p.y&&e.y<=this.p.y){var i=e.x-this.p.x,o=e.y-this.p.y,s=t.x-this.p.x,a=t.y-this.p.y,l=lt.signOfDet2x2(i,o,s,a);if(0===l)return this.isPointOnSegment=!0,null;a<o&&(l=-l),l>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==k.EXTERIOR},getLocation:function(){return this.isPointOnSegment?k.BOUNDARY:this.crossingCount%2===1?k.INTERIOR:k.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return ct}}),ct.locatePointInRing=function(){if(arguments[0]instanceof p&&A(arguments[1],D)){for(var e=arguments[0],t=arguments[1],n=new ct(e),r=new p,i=new p,o=1;o<t.size();o++)if(t.getCoordinate(o,r),t.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof p&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],n=new ct(s),o=1;o<a.length;o++){var r=a[o],i=a[o-1];if(n.countSegment(r,i),n.isOnSegment())return n.getLocation()}return n.getLocation()}},t(ut.prototype,{interfaces_:function(){return[]},getClass:function(){return ut}}),ut.orientationIndex=function(e,t,n){return I.orientationIndex(e,t,n)},ut.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var i=e[r].x-n,o=e[r+1].y,s=e[r-1].y;t+=i*(s-o)}return t/2}if(A(arguments[0],D)){var a=arguments[0],l=a.size();if(l<3)return 0;var c=new p,u=new p,h=new p;a.getCoordinate(0,u),a.getCoordinate(1,h);var n=u.x;h.x-=n;for(var t=0,r=1;r<l-1;r++)c.y=u.y,u.x=h.x,u.y=h.y,a.getCoordinate(r+1,h),h.x-=n,t+=u.x*(c.y-h.y);return t/2}},ut.distanceLineLine=function(e,t,n,r){if(e.equals(t))return ut.distancePointLine(e,n,r);if(n.equals(r))return ut.distancePointLine(r,e,t);var i=!1;if(E.intersects(e,t,n,r)){var o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),a=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y),l=a/o,c=s/o;(c<0||c>1||l<0||l>1)&&(i=!0)}}else i=!0;return i?T.min(ut.distancePointLine(e,n,r),ut.distancePointLine(t,n,r),ut.distancePointLine(n,e,t),ut.distancePointLine(r,e,t)):0},ut.isPointInRing=function(e,t){return ut.locatePointInRing(e,t)!==k.EXTERIOR},ut.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new p;e.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<t;s++){e.getCoordinate(s,r);var a=r.x,l=r.y,c=a-i,u=l-o;n+=Math.sqrt(c*c+u*u),i=a,o=l}return n},ut.isCCW=function(e){var t=e.length-1;if(t<3)throw new r("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],i=0,o=1;o<=t;o++){var s=e[o];s.y>n.y&&(n=s,i=o)}var a=i;do a-=1,a<0&&(a=t);while(e[a].equals2D(n)&&a!==i);var l=i;do l=(l+1)%t;while(e[l].equals2D(n)&&l!==i);var c=e[a],u=e[l];if(c.equals2D(n)||u.equals2D(n)||c.equals2D(u))return!1;var h=ut.computeOrientation(c,n,u),d=!1;return d=0===h?c.x>u.x:h>0},ut.locatePointInRing=function(e,t){return ct.locatePointInRing(e,t)},ut.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(i)*Math.sqrt(r)},ut.computeOrientation=function(e,t,n){return ut.orientationIndex(e,t,n)},ut.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new r("Line array must contain at least one vertex");for(var n=e.distance(t[0]),i=0;i<t.length-1;i++){var o=ut.distancePointLine(e,t[i],t[i+1]);o<n&&(n=o)}return n}if(3===arguments.length){var s=arguments[0],a=arguments[1],l=arguments[2];if(a.x===l.x&&a.y===l.y)return s.distance(a);var c=(l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y),u=((s.x-a.x)*(l.x-a.x)+(s.y-a.y)*(l.y-a.y))/c;if(u<=0)return s.distance(a);if(u>=1)return s.distance(l);var h=((a.y-s.y)*(l.x-a.x)-(a.x-s.x)*(l.y-a.y))/c;return Math.abs(h)*Math.sqrt(c)}},ut.isOnLine=function(e,t){for(var n=new at,r=1;r<t.length;r++){var i=t[r-1],o=t[r];if(n.computeIntersection(e,i,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE=-1,ut.RIGHT=ut.CLOCKWISE,ut.COUNTERCLOCKWISE=1,ut.LEFT=ut.COUNTERCLOCKWISE,ut.COLLINEAR=0,ut.STRAIGHT=ut.COLLINEAR,t(ht.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof ht){var e=arguments[0],t=ut.orientationIndex(this.p0,this.p1,e.p0),n=ut.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0?Math.max(t,n):t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof p){var r=arguments[0];return ut.orientationIndex(this.p0,this.p1,r)}},toGeometry:function(e){return e.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(e){if(!(e instanceof ht))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},intersection:function(e){var t=new at;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null;
},project:function(){if(arguments[0]instanceof p){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new p(e);var t=this.projectionFactor(e),n=new p;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof ht){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new ht(s,a)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(e){return 0===e?this.p0:this.p1},distancePerpendicular:function(e){return ut.distancePointLinePerpendicular(e,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return ht.midPoint(this.p0,this.p1)},projectionFactor:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;if(r<=0)return i.NaN;var o=((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r;return o},closestPoints:function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=i.MAX_VALUE,o=null,s=this.closestPoint(e.p0);r=s.distance(e.p0),n[0]=s,n[1]=e.p0;var a=this.closestPoint(e.p1);o=a.distance(e.p1),o<r&&(r=o,n[0]=a,n[1]=e.p1);var l=e.closestPoint(this.p0);o=l.distance(this.p0),o<r&&(r=o,n[0]=this.p0,n[1]=l);var c=e.closestPoint(this.p1);return o=c.distance(this.p1),o<r&&(r=o,n[0]=this.p1,n[1]=c),n},closestPoint:function(e){var t=this.projectionFactor(e);if(t>0&&t<1)return this.project(e);var n=this.p0.distance(e),r=this.p1.distance(e);return n<r?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},reverse:function(){var e=this.p0;this.p0=this.p1,this.p1=e},equalsTopo:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)},lineIntersection:function(e){try{var t=P.intersection(this.p0,this.p1,e.p0,e.p1);return t}catch(e){if(!(e instanceof S))throw e}finally{}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,l=0;if(0!==t){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=t*i/s,l=t*o/s}var c=n-l,u=r+a,h=new p(c,u);return h},setCoordinates:function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||i.isNaN(t))&&(t=1),t},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof ht){var e=arguments[0];return ut.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof p){var t=arguments[0];return ut.distancePointLine(t,this.p0,this.p1)}},pointAlong:function(e){var t=new p;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},hashCode:function(){var e=java.lang.Double.doubleToLongBits(this.p0.x);e^=31*java.lang.Double.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);n^=31*java.lang.Double.doubleToLongBits(this.p1.y);var r=Math.trunc(n)^Math.trunc(n>>32);return t^r},interfaces_:function(){return[o,l]},getClass:function(){return ht}}),ht.midPoint=function(e,t){return new p((e.x+t.x)/2,(e.y+t.y)/2)},ht.serialVersionUID=0x2d2172135f411c00,t(dt.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){var e=dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])||dt.isTrue(this.matrix[k.INTERIOR][k.BOUNDARY])||dt.isTrue(this.matrix[k.BOUNDARY][k.INTERIOR])||dt.isTrue(this.matrix[k.BOUNDARY][k.BOUNDARY]);return e&&this.matrix[k.EXTERIOR][k.INTERIOR]===ce.FALSE&&this.matrix[k.EXTERIOR][k.BOUNDARY]===ce.FALSE},isCoveredBy:function(){var e=dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])||dt.isTrue(this.matrix[k.INTERIOR][k.BOUNDARY])||dt.isTrue(this.matrix[k.BOUNDARY][k.INTERIOR])||dt.isTrue(this.matrix[k.BOUNDARY][k.BOUNDARY]);return e&&this.matrix[k.INTERIOR][k.EXTERIOR]===ce.FALSE&&this.matrix[k.BOUNDARY][k.EXTERIOR]===ce.FALSE},set:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),r=t%3;this.matrix[n][r]=ce.toDimensionValue(e.charAt(t))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.matrix[i][o]=s}},isContains:function(){return dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])&&this.matrix[k.EXTERIOR][k.INTERIOR]===ce.FALSE&&this.matrix[k.EXTERIOR][k.BOUNDARY]===ce.FALSE},setAtLeast:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),r=t%3;this.setAtLeast(n,r,ce.toDimensionValue(e.charAt(t)))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.matrix[i][o]<s&&(this.matrix[i][o]=s)}},setAtLeastIfValid:function(e,t,n){e>=0&&t>=0&&this.setAtLeast(e,t,n)},isWithin:function(){return dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])&&this.matrix[k.INTERIOR][k.EXTERIOR]===ce.FALSE&&this.matrix[k.BOUNDARY][k.EXTERIOR]===ce.FALSE},isTouches:function(e,t){return e>t?this.isTouches(t,e):(e===ce.A&&t===ce.A||e===ce.L&&t===ce.L||e===ce.L&&t===ce.A||e===ce.P&&t===ce.A||e===ce.P&&t===ce.L)&&this.matrix[k.INTERIOR][k.INTERIOR]===ce.FALSE&&(dt.isTrue(this.matrix[k.INTERIOR][k.BOUNDARY])||dt.isTrue(this.matrix[k.BOUNDARY][k.INTERIOR])||dt.isTrue(this.matrix[k.BOUNDARY][k.BOUNDARY]))},isOverlaps:function(e,t){return e===ce.P&&t===ce.P||e===ce.A&&t===ce.A?dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])&&dt.isTrue(this.matrix[k.INTERIOR][k.EXTERIOR])&&dt.isTrue(this.matrix[k.EXTERIOR][k.INTERIOR]):e===ce.L&&t===ce.L&&1===this.matrix[k.INTERIOR][k.INTERIOR]&&dt.isTrue(this.matrix[k.INTERIOR][k.EXTERIOR])&&dt.isTrue(this.matrix[k.EXTERIOR][k.INTERIOR])},isEquals:function(e,t){return e===t&&dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])&&this.matrix[k.INTERIOR][k.EXTERIOR]===ce.FALSE&&this.matrix[k.BOUNDARY][k.EXTERIOR]===ce.FALSE&&this.matrix[k.EXTERIOR][k.INTERIOR]===ce.FALSE&&this.matrix[k.EXTERIOR][k.BOUNDARY]===ce.FALSE},toString:function(){for(var e=new F("123456789"),t=0;t<3;t++)for(var n=0;n<3;n++)e.setCharAt(3*t+n,ce.toDimensionSymbol(this.matrix[t][n]));return e.toString()},setAll:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this.matrix[t][n]=e},get:function(e,t){return this.matrix[e][t]},transpose:function(){var e=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=e,e=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=e,e=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=e,this},matches:function(e){if(9!==e.length)throw new r("Should be length 9: "+e);for(var t=0;t<3;t++)for(var n=0;n<3;n++)if(!dt.matches(this.matrix[t][n],e.charAt(3*t+n)))return!1;return!0},add:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this.setAtLeast(t,n,e.get(t,n))},isDisjoint:function(){return this.matrix[k.INTERIOR][k.INTERIOR]===ce.FALSE&&this.matrix[k.INTERIOR][k.BOUNDARY]===ce.FALSE&&this.matrix[k.BOUNDARY][k.INTERIOR]===ce.FALSE&&this.matrix[k.BOUNDARY][k.BOUNDARY]===ce.FALSE},isCrosses:function(e,t){return e===ce.P&&t===ce.L||e===ce.P&&t===ce.A||e===ce.L&&t===ce.A?dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])&&dt.isTrue(this.matrix[k.INTERIOR][k.EXTERIOR]):e===ce.L&&t===ce.P||e===ce.A&&t===ce.P||e===ce.A&&t===ce.L?dt.isTrue(this.matrix[k.INTERIOR][k.INTERIOR])&&dt.isTrue(this.matrix[k.EXTERIOR][k.INTERIOR]):e===ce.L&&t===ce.L&&0===this.matrix[k.INTERIOR][k.INTERIOR]},interfaces_:function(){return[s]},getClass:function(){return dt}}),dt.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var e=arguments[0],t=arguments[1];return t===ce.SYM_DONTCARE||t===ce.SYM_TRUE&&(e>=0||e===ce.TRUE)||t===ce.SYM_FALSE&&e===ce.FALSE||t===ce.SYM_P&&e===ce.P||t===ce.SYM_L&&e===ce.L||t===ce.SYM_A&&e===ce.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=new dt(n);return i.matches(r)}},dt.isTrue=function(e){return e>=0||e===ce.TRUE};var us=Object.freeze({Coordinate:p,CoordinateList:_,Envelope:E,LineSegment:ht,GeometryFactory:rt,Geometry:$,Point:ke,LineString:Ce,LinearRing:Le,Polygon:Te,GeometryCollection:de,MultiPoint:Fe,MultiLineString:pe,MultiPolygon:Re,Dimension:ce,IntersectionMatrix:dt,PrecisionModel:tt});t(pt.prototype,{addPoint:function(e){this.ptCount+=1,this.ptCentSum.x+=e.x,this.ptCentSum.y+=e.y},setBasePoint:function(e){null===this.areaBasePt&&(this.areaBasePt=e)},addLineSegments:function(e){for(var t=0,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);if(0!==r){t+=r;var i=(e[n].x+e[n+1].x)/2;this.lineCentSum.x+=r*i;var o=(e[n].y+e[n+1].y)/2;this.lineCentSum.y+=r*o}}this.totalLength+=t,0===t&&e.length>0&&this.addPoint(e[0])},addHole:function(e){for(var t=ut.isCCW(e),n=0;n<e.length-1;n++)this.addTriangle(this.areaBasePt,e[n],e[n+1],t);this.addLineSegments(e)},getCentroid:function(){var e=new p;if(Math.abs(this.areasum2)>0)e.x=this.cg3.x/3/this.areasum2,e.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)e.x=this.lineCentSum.x/this.totalLength,e.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;e.x=this.ptCentSum.x/this.ptCount,e.y=this.ptCentSum.y/this.ptCount}return e},addShell:function(e){e.length>0&&this.setBasePoint(e[0]);for(var t=!ut.isCCW(e),n=0;n<e.length-1;n++)this.addTriangle(this.areaBasePt,e[n],e[n+1],t);this.addLineSegments(e)},addTriangle:function(e,t,n,r){var i=r?1:-1;pt.centroid3(e,t,n,this.triangleCent3);var o=pt.area2(e,t,n);this.cg3.x+=i*o*this.triangleCent3.x,this.cg3.y+=i*o*this.triangleCent3.y,this.areasum2+=i*o},add:function(){if(arguments[0]instanceof Te){var e=arguments[0];this.addShell(e.getExteriorRing().getCoordinates());for(var t=0;t<e.getNumInteriorRing();t++)this.addHole(e.getInteriorRingN(t).getCoordinates())}else if(arguments[0]instanceof $){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof ke)this.addPoint(n.getCoordinate());else if(n instanceof Ce)this.addLineSegments(n.getCoordinates());else if(n instanceof Te){var r=n;this.add(r)}else if(n instanceof de)for(var i=n,t=0;t<i.getNumGeometries();t++)this.add(i.getGeometryN(t))}},interfaces_:function(){return[]},getClass:function(){return pt}}),pt.area2=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)},pt.centroid3=function(e,t,n,r){return r.x=e.x+t.x+n.x,r.y=e.y+t.y+n.y,null},pt.getCentroid=function(e){var t=new pt(e);return t.getCentroid()},ft.prototype=new Error,ft.prototype.name="EmptyStackException",gt.prototype=new y,gt.prototype.add=function(e){return this.array_.push(e),!0},gt.prototype.get=function(e){if(e<0||e>=this.size())throw new IndexOutOfBoundsException;return this.array_[e]},gt.prototype.push=function(e){return this.array_.push(e),e},gt.prototype.pop=function(e){if(0===this.array_.length)throw new ft;return this.array_.pop()},gt.prototype.peek=function(){if(0===this.array_.length)throw new ft;return this.array_[this.array_.length-1]},gt.prototype.empty=function(){return 0===this.array_.length},gt.prototype.isEmpty=function(){return this.empty()},gt.prototype.search=function(e){return this.array_.indexOf(e)},gt.prototype.size=function(){return this.array_.length},gt.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t(mt.prototype,{filter:function(e){this.treeSet.contains(e)||(this.list.add(e),this.treeSet.add(e))},getCoordinates:function(){var e=new Array(this.list.size()).fill(null);return this.list.toArray(e)},interfaces_:function(){return[j]},getClass:function(){return mt}}),mt.filterCoordinates=function(e){for(var t=new mt,n=0;n<e.length;n++)t.filter(e[n]);return t.getCoordinates()},t(vt.prototype,{preSort:function(e){for(var t=null,n=1;n<e.length;n++)(e[n].y<e[0].y||e[n].y===e[0].y&&e[n].x<e[0].x)&&(t=e[0],e[0]=e[n],e[n]=t);return le.sort(e,1,e.length,new yt(e[0])),e},computeOctRing:function(e){var t=this.computeOctPts(e),n=new _;return n.add(t,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(e){if(e=this.cleanRing(e),3===e.length)return this.geomFactory.createLineString([e[0],e[1]]);var t=this.geomFactory.createLinearRing(e);return this.geomFactory.createPolygon(t,null)},cleanRing:function(e){d.equals(e[0],e[e.length-1]);for(var t=new x,n=null,r=0;r<=e.length-2;r++){var i=e[r],o=e[r+1];i.equals(o)||null!==n&&this.isBetween(n,i,o)||(t.add(i),n=i)}t.add(e[e.length-1]);var s=new Array(t.size()).fill(null);return t.toArray(s)},isBetween:function(e,t,n){if(0!==ut.computeOrientation(e,t,n))return!1;if(e.x!==n.x){if(e.x<=t.x&&t.x<=n.x)return!0;if(n.x<=t.x&&t.x<=e.x)return!0}if(e.y!==n.y){if(e.y<=t.y&&t.y<=n.y)return!0;if(n.y<=t.y&&t.y<=e.y)return!0}return!1},reduce:function(e){var t=this.computeOctRing(e);if(null===t)return e;for(var n=new ae,r=0;r<t.length;r++)n.add(t[r]);for(var r=0;r<e.length;r++)ut.isPointInRing(e[r],t)||n.add(e[r]);var i=H.toCoordinateArray(n);return i.length<3?this.padArray3(i):i},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var e=this.inputPts;this.inputPts.length>50&&(e=this.reduce(this.inputPts));var t=this.preSort(e),n=this.grahamScan(t),r=this.toCoordinateArray(n);return this.lineOrPolygon(r)},padArray3:function(e){for(var t=new Array(3).fill(null),n=0;n<t.length;n++)n<e.length?t[n]=e[n]:t[n]=e[0];return t},computeOctPts:function(e){for(var t=new Array(8).fill(null),n=0;n<t.length;n++)t[n]=e[0];for(var r=1;r<e.length;r++)e[r].x<t[0].x&&(t[0]=e[r]),e[r].x-e[r].y<t[1].x-t[1].y&&(t[1]=e[r]),e[r].y>t[2].y&&(t[2]=e[r]),e[r].x+e[r].y>t[3].x+t[3].y&&(t[3]=e[r]),e[r].x>t[4].x&&(t[4]=e[r]),e[r].x-e[r].y>t[5].x-t[5].y&&(t[5]=e[r]),e[r].y<t[6].y&&(t[6]=e[r]),e[r].x+e[r].y<t[7].x+t[7].y&&(t[7]=e[r]);return t},toCoordinateArray:function(e){for(var t=new Array(e.size()).fill(null),n=0;n<e.size();n++){var r=e.get(n);t[n]=r}return t},grahamScan:function(e){var t=null,n=new gt;t=n.push(e[0]),t=n.push(e[1]),t=n.push(e[2]);for(var r=3;r<e.length;r++){for(t=n.pop();!n.empty()&&ut.computeOrientation(n.peek(),t,e[r])>0;)t=n.pop();t=n.push(t),t=n.push(e[r])}return t=n.push(e[0]),n},interfaces_:function(){return[]},getClass:function(){return vt}}),vt.extractCoordinates=function(e){var t=new mt;return e.apply(t),t.getCoordinates()},t(yt.prototype,{compare:function(e,t){var n=e,r=t;return yt.polarCompare(this.origin,n,r)},interfaces_:function(){return[a]},getClass:function(){return yt}}),yt.polarCompare=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-e.x,s=n.y-e.y,a=ut.computeOrientation(e,t,n);if(a===ut.COUNTERCLOCKWISE)return 1;if(a===ut.CLOCKWISE)return-1;var l=r*r+i*i,c=o*o+s*s;return l<c?-1:l>c?1:0},vt.RadialComparator=yt,t(bt.prototype,{transformPoint:function(e,t){return this.factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},transformPolygon:function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof Le&&!r.isEmpty()||(n=!1);for(var i=new x,o=0;o<e.getNumInteriorRing();o++){var s=this.transformLinearRing(e.getInteriorRingN(o),e);null===s||s.isEmpty()||(s instanceof Le||(n=!1),i.add(s))}if(n)return this.factory.createPolygon(r,i.toArray([]));var a=new x;return null!==r&&a.add(r),a.addAll(i),this.factory.buildGeometry(a)},createCoordinateSequence:function(e){return this.factory.getCoordinateSequenceFactory().create(e)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(e,t){for(var n=new x,r=0;r<e.getNumGeometries();r++){var i=this.transformLineString(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},transformCoordinates:function(e,t){return this.copy(e)},transformLineString:function(e,t){return this.factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},transformMultiPoint:function(e,t){for(var n=new x,r=0;r<e.getNumGeometries();r++){var i=this.transformPoint(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(e,t){for(var n=new x,r=0;r<e.getNumGeometries();r++){var i=this.transformPolygon(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},copy:function(e){return e.copy()},transformGeometryCollection:function(e,t){for(var n=new x,r=0;r<e.getNumGeometries();r++){var i=this.transform(e.getGeometryN(r));null!==i&&(this.pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(rt.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(e){if(this.inputGeom=e,this.factory=e.getFactory(),e instanceof ke)return this.transformPoint(e,null);if(e instanceof Fe)return this.transformMultiPoint(e,null);if(e instanceof Le)return this.transformLinearRing(e,null);if(e instanceof Ce)return this.transformLineString(e,null);if(e instanceof pe)return this.transformMultiLineString(e,null);if(e instanceof Te)return this.transformPolygon(e,null);if(e instanceof Re)return this.transformMultiPolygon(e,null);if(e instanceof de)return this.transformGeometryCollection(e,null);throw new r("Unknown Geometry subtype: "+e.getClass().getName())},transformLinearRing:function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this.factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return bt}}),t(wt.prototype,{snapVertices:function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var i=e.get(r),o=this.findSnapForVertex(i,t);null!==o&&(e.set(r,new p(o)),0===r&&this._isClosed&&e.set(e.size()-1,new p(o)))}},findSnapForVertex:function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this.snapTolerance)return t[n]}return null},snapTo:function(e){var t=new _(this.srcPts);this.snapVertices(t,e),this.snapSegments(t,e);var n=t.toCoordinateArray();return n},snapSegments:function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var i=t[r],o=this.findSegmentIndexToSnap(i,e);o>=0&&e.add(o+1,new p(i),!1)}},findSegmentIndexToSnap:function(e,t){for(var n=i.MAX_VALUE,r=-1,o=0;o<t.size()-1;o++){if(this.seg.p0=t.get(o),this.seg.p1=t.get(o+1),this.seg.p0.equals2D(e)||this.seg.p1.equals2D(e)){if(this.allowSnappingToSourceVertices)continue;return-1}var s=this.seg.distance(e);s<this.snapTolerance&&s<n&&(n=s,r=o)}return r},setAllowSnappingToSourceVertices:function(e){this.allowSnappingToSourceVertices=e},interfaces_:function(){return[]},getClass:function(){return wt}}),wt.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])},t(xt.prototype,{snapTo:function(e,t){var n=this.extractTargetCoordinates(e),r=new _t(t,n);return r.transform(this.srcGeom)},snapToSelf:function(e,t){var n=this.extractTargetCoordinates(this.srcGeom),r=new _t(e,n,!0),i=r.transform(this.srcGeom),o=i;return t&&A(o,Ae)&&(o=i.buffer(0)),o},computeSnapTolerance:function(e){var t=this.computeMinimumSegmentLength(e),n=t/10;return n},extractTargetCoordinates:function(e){for(var t=new ae,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(e){for(var t=i.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},interfaces_:function(){return[]},getClass:function(){return xt}}),xt.snap=function(e,t,n){var r=new Array(2).fill(null),i=new xt(e);r[0]=i.snapTo(t,n);var o=new xt(t);return r[1]=o.snapTo(r[0],n),r},xt.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=xt.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===tt.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(xt.computeOverlaySnapTolerance(i),xt.computeOverlaySnapTolerance(o))}},xt.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal(),n=Math.min(t.getHeight(),t.getWidth()),r=n*xt.SNAP_PRECISION_FACTOR;return r},xt.snapToSelf=function(e,t,n){var r=new xt(e);return r.snapToSelf(t,n)},xt.SNAP_PRECISION_FACTOR=1e-9,u(_t,bt),t(_t.prototype,{snapLine:function(e,t){var n=new wt(e,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(t)},transformCoordinates:function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(r)},interfaces_:function(){return[]},getClass:function(){return _t}}),t(Et.prototype,{getCommon:function(){return i.longBitsToDouble(this.commonBits)},add:function(e){var t=i.doubleToLongBits(e);if(this.isFirst)return this.commonBits=t,this.commonSignExp=Et.signExpBits(this.commonBits),this.isFirst=!1,null;var n=Et.signExpBits(t);return n!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=Et.numCommonMostSigMantissaBits(this.commonBits,t),void(this.commonBits=Et.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var e=arguments[0],t=i.longBitsToDouble(e),n=Long.toBinaryString(e),r="0000000000000000000000000000000000000000000000000000000000000000"+n,o=r.substring(r.length-64),s=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+t+" ]";return s}},interfaces_:function(){return[]},getClass:function(){return Et}}),Et.getBit=function(e,t){var n=1<<t;return 0!==(e&n)?1:0},Et.signExpBits=function(e){return e>>52},Et.zeroLowerBits=function(e,t){var n=(1<<t)-1,r=~n,i=e&r;return i},Et.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(Et.getBit(e,r)!==Et.getBit(t,r))return n;n++}return 52},t(Ct.prototype,{addCommonBits:function(e){var t=new kt(this.commonCoord);e.apply(t),e.geometryChanged()},removeCommonBits:function(e){if(0===this.commonCoord.x&&0===this.commonCoord.y)return e;var t=new p(this.commonCoord);t.x=-t.x,t.y=-t.y;var n=new kt(t);return e.apply(n),e.geometryChanged(),e},getCommonCoordinate:function(){return this.commonCoord},add:function(e){e.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Ct}}),t(St.prototype,{filter:function(e){this.commonBitsX.add(e.x),this.commonBitsY.add(e.y)},getCommonCoordinate:function(){return new p(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[j]},getClass:function(){return St}}),t(kt.prototype,{filter:function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[he]},getClass:function(){return kt}}),Ct.CommonCoordinateFilter=St,Ct.Translater=kt,t(At.prototype,{next:function(){if(this.atStart)return this.atStart=!1,At.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new b;var e=this.parent.getGeometryN(this.index++);return e instanceof de?(this.subcollectionIterator=new At(e),this.subcollectionIterator.next()):e},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[g]},getClass:function(){return At}}),At.isAtomic=function(e){return!(e instanceof de)},t(Tt.prototype,{locateInternal:function(){if(arguments[0]instanceof p&&arguments[1]instanceof Te){var e=arguments[0],t=arguments[1];if(t.isEmpty())return k.EXTERIOR;var n=t.getExteriorRing(),r=this.locateInPolygonRing(e,n);if(r===k.EXTERIOR)return k.EXTERIOR;if(r===k.BOUNDARY)return k.BOUNDARY;for(var i=0;i<t.getNumInteriorRing();i++){var o=t.getInteriorRingN(i),s=this.locateInPolygonRing(e,o);if(s===k.INTERIOR)return k.EXTERIOR;if(s===k.BOUNDARY)return k.BOUNDARY}return k.INTERIOR}if(arguments[0]instanceof p&&arguments[1]instanceof Ce){var a=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(a))return k.EXTERIOR;var c=l.getCoordinates();return l.isClosed()||!a.equals(c[0])&&!a.equals(c[c.length-1])?ut.isOnLine(a,c)?k.INTERIOR:k.EXTERIOR:k.BOUNDARY}if(arguments[0]instanceof p&&arguments[1]instanceof ke){var u=arguments[0],h=arguments[1],d=h.getCoordinate();return d.equals2D(u)?k.INTERIOR:k.EXTERIOR}},locateInPolygonRing:function(e,t){return t.getEnvelopeInternal().intersects(e)?ut.locatePointInRing(e,t.getCoordinates()):k.EXTERIOR},intersects:function(e,t){return this.locate(e,t)!==k.EXTERIOR},updateLocationInfo:function(e){e===k.INTERIOR&&(this.isIn=!0),e===k.BOUNDARY&&this.numBoundaries++},computeLocation:function(e,t){if(t instanceof ke&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Ce)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Te)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof pe)for(var n=t,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(e,i))}else if(t instanceof Re)for(var o=t,r=0;r<o.getNumGeometries();r++){var s=o.getGeometryN(r);this.updateLocationInfo(this.locateInternal(e,s))}else if(t instanceof de)for(var a=new At(t);a.hasNext();){var l=a.next();l!==t&&this.computeLocation(e,l)}},locate:function(e,t){return t.isEmpty()?k.EXTERIOR:t instanceof Ce?this.locateInternal(e,t):t instanceof Te?this.locateInternal(e,t):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(e,t),this.boundaryRule.isInBoundary(this.numBoundaries)?k.BOUNDARY:this.numBoundaries>0||this.isIn?k.INTERIOR:k.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return Tt}}),t(Ft.prototype,{interfaces_:function(){return[]},getClass:function(){return Ft}}),Ft.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new r("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),i=Math.abs(t);return e>=0?t>=0?n>=i?0:1:n>=i?7:6:t>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof p&&arguments[1]instanceof p){var o=arguments[0],s=arguments[1],a=s.x-o.x,l=s.y-o.y;if(0===a&&0===l)throw new r("Cannot compute the octant for two identical points "+o);return Ft.octant(a,l)}},t(Lt.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(e){},isClosed:function(){},setData:function(e){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Lt}}),t(Rt.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(e){return this.pts[e]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(e){return e===this.pts.length-1?-1:Ft.octant(this.getCoordinate(e),this.getCoordinate(e+1))},setData:function(e){this.data=e},getData:function(){return this.data},toString:function(){return ot.toLineString(new Oe(this.pts))},interfaces_:function(){return[Lt]},getClass:function(){return Rt}}),t(Mt.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Mt}}),t(It.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Mt,l]},getClass:function(){return It}}),t(Dt.prototype,{poll:function(){if(this.isEmpty())return null;var e=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),e},size:function(){return this._size},reorder:function(e){for(var t=null,n=this.items.get(e);2*e<=this._size&&(t=2*e,t!==this._size&&this.items.get(t+1).compareTo(this.items.get(t))<0&&t++,this.items.get(t).compareTo(n)<0);e=t)this.items.set(e,this.items.get(t));this.items.set(e,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(e){this.items.add(null),this._size+=1;var t=this._size;for(this.items.set(0,e);e.compareTo(this.items.get(Math.trunc(t/2)))<0;t/=2)this.items.set(t,this.items.get(Math.trunc(t/2)));this.items.set(t,e)},interfaces_:function(){return[]},getClass:function(){return Dt}}),t(Nt.prototype,{visitItem:function(e){},interfaces_:function(){return[]},getClass:function(){return Nt}}),t(Pt.prototype,{insert:function(e,t){},remove:function(e,t){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return Pt}}),t(Ot.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(e){d.isTrue(null===this.bounds),this.childBoundables.add(e)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Mt,l]},getClass:function(){return Ot}}),Ot.serialVersionUID=0x5a1e55ec41369800;var hs={reverseOrder:function(){return{compare:function(e,t){return t.compareTo(e)}}},min:function(e){return hs.sort(e),e.get(0)},sort:function(e,t){var n=e.toArray();t?le.sort(n,t):le.sort(n);for(var r=e.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},singletonList:function(e){var t=new x;return t.add(e),t}};t(Bt.prototype,{expandToQueue:function(e,t){var n=Bt.isComposite(this.boundable1),i=Bt.isComposite(this.boundable2);if(n&&i)return Bt.area(this.boundable1)>Bt.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,e,t),null):(this.expand(this.boundable2,this.boundable1,e,t),null);if(n)return this.expand(this.boundable1,this.boundable2,e,t),null;if(i)return this.expand(this.boundable2,this.boundable1,e,t),null;throw new r("neither boundable is composite")},isLeaves:function(){return!(Bt.isComposite(this.boundable1)||Bt.isComposite(this.boundable2))},compareTo:function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0},expand:function(e,t,n,r){for(var i=e.getChildBoundables(),o=i.iterator();o.hasNext();){var s=o.next(),a=new Bt(s,t,this.itemDistance);a.getDistance()<r&&n.add(a)}},getBoundable:function(e){return 0===e?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[o]},getClass:function(){return Bt}}),Bt.area=function(e){return e.getBounds().getArea()},Bt.isComposite=function(e){return e instanceof Ot},t($t.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(e){return e.get(e.size()-1)},size:function e(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){
var r=n.next();r instanceof Ot?e+=this.size(r):r instanceof It&&(e+=1)}return e}},removeItem:function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof It&&i.getItem()===t&&(n=i)}return null!==n&&(e.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var e=this.itemsTree(this.root);return null===e?new x:e}if(1===arguments.length){for(var t=arguments[0],n=new x,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Ot){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof It?n.add(i.getItem()):d.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(e,t){d.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new It(e,t))},boundablesAtLevel:function(){if(1===arguments.length){var e=arguments[0],t=new x;return this.boundablesAtLevel(e,this.root,t),t}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(d.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Ot?this.boundablesAtLevel(n,s,i):(d.isTrue(s instanceof It),n===-1&&i.add(s))}return null}},query:function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new x;return this.isEmpty()?t:(this.getIntersectsOp().intersects(this.root.getBounds(),e)&&this.query(e,this.root,t),t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,r)}else if(3===arguments.length)if(A(arguments[2],Nt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot)for(var i=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),l=0;l<a.size();l++){var c=a.get(l);this.getIntersectsOp().intersects(c.getBounds(),i)&&(c instanceof Ot?this.query(i,c,s):c instanceof It?s.visitItem(c.getItem()):d.shouldNeverReachHere())}else if(A(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot)for(var u=arguments[0],h=arguments[1],p=arguments[2],a=h.getChildBoundables(),l=0;l<a.size();l++){var c=a.get(l);this.getIntersectsOp().intersects(c.getBounds(),u)&&(c instanceof Ot?this.query(u,c,p):c instanceof It?p.add(c.getItem()):d.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),e)&&this.remove(e,this.root,t)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Ot&&(o=this.remove(n,l,i))){s=l;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},createHigherLevels:function(e,t){d.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var e=arguments[0],t=0,n=e.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof Ot){var i=this.depth(r);i>t&&(t=i)}}return t+1}},createParentBoundables:function(e,t){d.isTrue(!e.isEmpty());var n=new x;n.add(this.createNode(t));var r=new x(e);hs.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[l]},getClass:function(){return $t}}),$t.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},$t.IntersectsOp=jt,$t.serialVersionUID=-0x35ef64c82d4c5400,$t.DEFAULT_NODE_CAPACITY=10,t(zt.prototype,{distance:function(e,t){},interfaces_:function(){return[]},getClass:function(){return zt}}),u(Ut,$t),t(Ut.prototype,{createParentBoundablesFromVerticalSlices:function(e,t){d.isTrue(e.length>0);for(var n=new x,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},createNode:function(e){return new Vt(e)},size:function(){return 0===arguments.length?$t.prototype.size.call(this):$t.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return $t.prototype.insert.apply(this,arguments);var e=arguments[0],t=arguments[1];return e.isNull()?null:void $t.prototype.insert.call(this,e,t)},getIntersectsOp:function(){return Ut.intersectsOp},verticalSlices:function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),i=e.iterator(),o=0;o<t;o++){r[o]=new x;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},query:function(){if(1===arguments.length){var e=arguments[0];return $t.prototype.query.call(this,e)}if(2===arguments.length){var t=arguments[0],n=arguments[1];$t.prototype.query.call(this,t,n)}else if(3===arguments.length)if(A(arguments[2],Nt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot){var r=arguments[0],i=arguments[1],o=arguments[2];$t.prototype.query.call(this,r,i,o)}else if(A(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot){var s=arguments[0],a=arguments[1],l=arguments[2];$t.prototype.query.call(this,s,a,l)}},getComparator:function(){return Ut.yComparator},createParentBoundablesFromVerticalSlice:function(e,t){return $t.prototype.createParentBoundables.call(this,e,t)},remove:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return $t.prototype.remove.call(this,e,t)}return $t.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?$t.prototype.depth.call(this):$t.prototype.depth.apply(this,arguments)},createParentBoundables:function(e,t){d.isTrue(!e.isEmpty());var n=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),r=new x(e);hs.sort(r,Ut.xComparator);var i=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(i,t)},nearestNeighbour:function(){if(1===arguments.length){if(A(arguments[0],zt)){var e=arguments[0],t=new Bt(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof Bt){var n=arguments[0];return this.nearestNeighbour(n,i.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Ut&&A(arguments[1],zt)){var r=arguments[0],o=arguments[1],t=new Bt(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(t)}if(arguments[0]instanceof Bt&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],l=a,c=null,u=new Dt;for(u.add(s);!u.isEmpty()&&l>0;){var h=u.poll(),d=h.getDistance();if(d>=l)break;h.isLeaves()?(l=d,c=h):h.expandToQueue(u,l)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],f=arguments[1],g=arguments[2],m=new It(p,f),t=new Bt(this.getRoot(),m,g);return this.nearestNeighbour(t)[0]}},interfaces_:function(){return[Pt,l]},getClass:function(){return Ut}}),Ut.centreX=function(e){return Ut.avg(e.getMinX(),e.getMaxX())},Ut.avg=function(e,t){return(e+t)/2},Ut.centreY=function(e){return Ut.avg(e.getMinY(),e.getMaxY())},u(Vt,Ot),t(Vt.prototype,{computeBounds:function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new E(n.getBounds()):e.expandToInclude(n.getBounds())}return e},interfaces_:function(){return[]},getClass:function(){return Vt}}),Ut.STRtreeNode=Vt,Ut.serialVersionUID=0x39920f7d5f261e0,Ut.xComparator={interfaces_:function(){return[a]},compare:function(e,t){return $t.compareDoubles(Ut.centreX(e.getBounds()),Ut.centreX(t.getBounds()))}},Ut.yComparator={interfaces_:function(){return[a]},compare:function(e,t){return $t.compareDoubles(Ut.centreY(e.getBounds()),Ut.centreY(t.getBounds()))}},Ut.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(e,t){return e.intersects(t)}},Ut.DEFAULT_NODE_CAPACITY=10,t(Wt.prototype,{interfaces_:function(){return[]},getClass:function(){return Wt}}),Wt.relativeSign=function(e,t){return e<t?-1:e>t?1:0},Wt.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=Wt.relativeSign(t.x,n.x),i=Wt.relativeSign(t.y,n.y);switch(e){case 0:return Wt.compareValue(r,i);case 1:return Wt.compareValue(i,r);case 2:return Wt.compareValue(i,-r);case 3:return Wt.compareValue(-r,i);case 4:return Wt.compareValue(-r,-i);case 5:return Wt.compareValue(-i,-r);case 6:return Wt.compareValue(-i,r);case 7:return Wt.compareValue(r,-i)}return d.shouldNeverReachHere("invalid octant value"),0},Wt.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0},t(qt.prototype,{getCoordinate:function(){return this.coord},print:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},compareTo:function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:Wt.compare(this.segmentOctant,this.coord,t.coord)},isEndPoint:function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},isInterior:function(){return this._isInterior},interfaces_:function(){return[o]},getClass:function(){return qt}}),t(Ht.prototype,{getSplitCoordinates:function(){var e=new _;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},addCollapsedNodes:function(){var e=new x;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}},findCollapsesFromExistingVertices:function(e){for(var t=0;t<this.edge.size()-2;t++){var n=this.edge.getCoordinate(t),r=(this.edge.getCoordinate(t+1),this.edge.getCoordinate(t+2));n.equals2D(r)&&e.add(new L(t+1))}},addEdgeCoordinates:function(e,t,n){var r=t.segmentIndex-e.segmentIndex+2,i=this.edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(i);o||r--,n.add(new p(e.coord),!1);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)n.add(this.edge.getCoordinate(s));o&&n.add(new p(t.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},findCollapseIndex:function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next(),o=this.findCollapseIndex(r,i,t);o&&e.add(new L(t[0])),r=i}},getEdge:function(){return this.edge},addEndpoints:function(){var e=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(e),e)},createSplitEdge:function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new p(e.coord);for(var a=e.segmentIndex+1;a<=t.segmentIndex;a++)o[s++]=this.edge.getCoordinate(a);return i&&(o[s]=new p(t.coord)),new Yt(o,this.edge.getData())},add:function(e,t){var n=new qt(this.edge,e,t,this.edge.getSegmentOctant(t)),r=this.nodeMap.get(n);return null!==r?(d.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(e){var t=this.edge.getCoordinates(),n=e.get(0),r=n.getCoordinate(0);if(!r.equals2D(t[0]))throw new c("bad split edge start point at "+r);var i=e.get(e.size()-1),o=i.getCoordinates(),s=o[o.length-1];if(!s.equals2D(t[t.length-1]))throw new c("bad split edge end point at "+s)},interfaces_:function(){return[]},getClass:function(){return Ht}}),t(Gt.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex>this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[g]},getClass:function(){return Gt}}),t(Kt.prototype,{addIntersection:function(e,t){},interfaces_:function(){return[Lt]},getClass:function(){return Kt}}),t(Yt.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(e){return this.pts[e]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(e){return e===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},setData:function(e){this.data=e},safeOctant:function(e,t){return e.equals2D(t)?0:Ft.octant(e,t)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=(arguments[2],arguments[3]),o=new p(n.getIntersection(i));this.addIntersection(o,r)}},toString:function(){return ot.toLineString(new Oe(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(e,t){var n=t,r=n+1;if(r<this.pts.length){var i=this.pts[r];e.equals2D(i)&&(n=r)}var o=this.nodeList.add(e,n);return o},addIntersections:function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},interfaces_:function(){return[Kt]},getClass:function(){return Yt}}),Yt.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new x;return Yt.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();o.getNodeList().addSplitEdges(r)}},t(Xt.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];e.getLineSegment(t,this.overlapSeg1),n.getLineSegment(r,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Xt}}),t(Jt.prototype,{getLineSegment:function(e,t){t.p0=this.pts[e],t.p1=this.pts[e+1]},computeSelect:function(e,t,n,r){var i=this.pts[t],o=this.pts[n];if(r.tempEnv1.init(i,o),n-t===1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var s=Math.trunc((t+n)/2);t<s&&this.computeSelect(e,t,s,r),s<n&&this.computeSelect(e,s,n,r)},getCoordinates:function(){for(var e=new Array(this.end-this.start+1).fill(null),t=0,n=this.start;n<=this.end;n++)e[t++]=this.pts[n];return e},computeOverlaps:function(e,t){this.computeOverlapsInternal(this.start,this.end,e,e.start,e.end,t)},setId:function(e){this.id=e},select:function(e,t){this.computeSelect(e,this.start,this.end,t)},getEnvelope:function(){if(null===this.env){var e=this.pts[this.start],t=this.pts[this.end];this.env=new E(e,t)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(e,t,n,r,i,o){var s=this.pts[e],a=this.pts[t],l=n.pts[r],c=n.pts[i];if(t-e===1&&i-r===1)return o.overlap(this,e,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(l,c),!o.tempEnv1.intersects(o.tempEnv2))return null;var u=Math.trunc((e+t)/2),h=Math.trunc((r+i)/2);e<u&&(r<h&&this.computeOverlapsInternal(e,u,n,r,h,o),h<i&&this.computeOverlapsInternal(e,u,n,h,i,o)),u<t&&(r<h&&this.computeOverlapsInternal(u,t,n,r,h,o),h<i&&this.computeOverlapsInternal(u,t,n,h,i,o))},interfaces_:function(){return[]},getClass:function(){return Jt}}),t(Zt.prototype,{interfaces_:function(){return[]},getClass:function(){return Zt}}),Zt.isNorthern=function(e){return e===Zt.NE||e===Zt.NW},Zt.isOpposite=function(e,t){if(e===t)return!1;var n=(e-t+4)%4;return 2===n},Zt.commonHalfPlane=function(e,t){if(e===t)return e;var n=(e-t+4)%4;if(2===n)return-1;var r=e<t?e:t,i=e>t?e:t;return 0===r&&3===i?3:r},Zt.isInHalfPlane=function(e,t){return t===Zt.SE?e===Zt.SE||e===Zt.SW:e===t||e===t+1},Zt.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new r("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?Zt.NE:Zt.SE:t>=0?Zt.NW:Zt.SW}if(arguments[0]instanceof p&&arguments[1]instanceof p){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new r("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?Zt.NE:Zt.SE:i.y>=n.y?Zt.NW:Zt.SW}},Zt.NE=0,Zt.NW=1,Zt.SW=2,Zt.SE=3,t(Qt.prototype,{interfaces_:function(){return[]},getClass:function(){return Qt}}),Qt.getChainStartIndices=function(e){var t=0,n=new x;n.add(new L(t));do{var r=Qt.findChainEnd(e,t);n.add(new L(r)),t=r}while(t<e.length-1);var i=Qt.toIntArray(n);return i},Qt.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=Zt.quadrant(e[n],e[n+1]),i=t+1;i<e.length;){if(!e[i-1].equals2D(e[i])){var o=Zt.quadrant(e[i-1],e[i]);if(o!==r)break}i++}return i-1},Qt.getChains=function(){if(1===arguments.length){var e=arguments[0];return Qt.getChains(e,null)}if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=new x,i=Qt.getChainStartIndices(t),o=0;o<i.length-1;o++){var s=new Jt(t,i[o],i[o+1],n);r.add(s)}return r}},Qt.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t},t(en.prototype,{computeNodes:function(e){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return en}}),t(tn.prototype,{setSegmentIntersector:function(e){this.segInt=e},interfaces_:function(){return[en]},getClass:function(){return tn}}),u(nn,tn),t(nn.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Yt.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(e){for(var t=Qt.getChains(e.getCoordinates(),e),n=t.iterator();n.hasNext();){var r=n.next();r.setId(this.idCounter++),this.index.insert(r.getEnvelope(),r),this.monoChains.add(r)}},computeNodes:function(e){this.nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},intersectChains:function(){for(var e=new rn(this.segInt),t=this.monoChains.iterator();t.hasNext();)for(var n=t.next(),r=this.index.query(n.getEnvelope()),i=r.iterator();i.hasNext();){var o=i.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,e),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return nn}}),u(rn,Xt),t(rn.prototype,{overlap:function(){if(4!==arguments.length)return Xt.prototype.overlap.apply(this,arguments);var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3],i=e.getContext(),o=n.getContext();this.si.processIntersections(i,t,o,r)},interfaces_:function(){return[]},getClass:function(){return rn}}),nn.SegmentOverlapAction=rn,u(on,c),t(on.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return on}}),on.msgWithCoord=function(e,t){return null!==t?e+" [ "+t+" ]":e},t(sn.prototype,{processIntersections:function(e,t,n,r){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return sn}}),t(an.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(e){this.isCheckEndSegmentsOnly=e},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(e){this.findAllIntersections=e},setKeepIntersections:function(e){this.keepIntersections=e},processIntersections:function(e,t,n,r){if(!this.findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===r)return null;if(this.isCheckEndSegmentsOnly){var i=this.isEndSegment(e,t)||this.isEndSegment(n,r);if(!i)return null}var o=e.getCoordinates()[t],s=e.getCoordinates()[t+1],a=n.getCoordinates()[r],l=n.getCoordinates()[r+1];this.li.computeIntersection(o,s,a,l),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=o,this.intSegments[1]=s,this.intSegments[2]=a,this.intSegments[3]=l,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(e,t){return 0===t||t>=e.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[sn]},getClass:function(){return an}}),an.createAllIntersectionsFinder=function(e){var t=new an(e);return t.setFindAllIntersections(!0),t},an.createAnyIntersectionFinder=function(e){return new an(e)},an.createIntersectionCounter=function(e){var t=new an(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t},t(ln.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(e){this.findAllIntersections=e},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new an(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var e=new nn;if(e.setSegmentIntersector(this.segInt),e.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new on(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var e=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+ot.toLineString(e[0],e[1])+" and "+ot.toLineString(e[2],e[3])},interfaces_:function(){return[]},getClass:function(){return ln}}),ln.computeIntersections=function(e){var t=new ln(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()},t(cn.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return cn}}),cn.toSegmentStrings=function(e){for(var t=new x,n=e.iterator();n.hasNext();){var r=n.next();t.add(new Rt(r.getCoordinates(),r))}return t},cn.checkValid=function(e){var t=new cn(e);t.checkValid()},t(un.prototype,{map:function(e){for(var t=new x,n=0;n<e.getNumGeometries();n++){var r=this.mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(rt.toGeometryArray(t))},interfaces_:function(){return[]},getClass:function(){return un}}),un.map=function(e,t){var n=new un(t);return n.map(e)},t(hn.prototype,{interfaces_:function(){return[]},getClass:function(){return hn}}),hn.opposite=function(e){return e===hn.LEFT?hn.RIGHT:e===hn.RIGHT?hn.LEFT:e},hn.ON=0,hn.LEFT=1,hn.RIGHT=2,t(dn.prototype,{setAllLocations:function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},isNull:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==k.NONE)return!1;return!0},setAllLocationsIfNull:function(e){for(var t=0;t<this.location.length;t++)this.location[t]===k.NONE&&(this.location[t]=e)},isLine:function(){return 1===this.location.length},merge:function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[hn.ON]=this.location[hn.ON],t[hn.LEFT]=k.NONE,t[hn.RIGHT]=k.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===k.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var e=this.location[hn.LEFT];this.location[hn.LEFT]=this.location[hn.RIGHT],this.location[hn.RIGHT]=e},toString:function(){var e=new F;return this.location.length>1&&e.append(k.toLocationSymbol(this.location[hn.LEFT])),e.append(k.toLocationSymbol(this.location[hn.ON])),this.location.length>1&&e.append(k.toLocationSymbol(this.location[hn.RIGHT])),e.toString()},setLocations:function(e,t,n){this.location[hn.ON]=e,this.location[hn.LEFT]=t,this.location[hn.RIGHT]=n},get:function(e){return e<this.location.length?this.location[e]:k.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===k.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var e=arguments[0];this.setLocation(hn.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}},init:function(e){this.location=new Array(e).fill(null),this.setAllLocations(k.NONE)},isEqualOnSide:function(e,t){return this.location[t]===e.location[t]},allPositionsEqual:function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return dn}}),t(pn.prototype,{getGeometryCount:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},setAllLocations:function(e,t){this.elt[e].setAllLocations(t)},isNull:function(e){return this.elt[e].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}},isLine:function(e){return this.elt[e].isLine()},merge:function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new dn(e.elt[t]):this.elt[t].merge(e.elt[t])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(hn.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}},toString:function(){var e=new F;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},isAnyNull:function(e){return this.elt[e].isAnyNull()},setLocation:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(hn.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},isEqualOnSide:function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},allPositionsEqual:function(e,t){return this.elt[e].allPositionsEqual(t)},toLine:function(e){this.elt[e].isArea()&&(this.elt[e]=new dn(this.elt[e].location[0]))},interfaces_:function(){return[]},getClass:function(){return pn}}),pn.toLineLabel=function(e){for(var t=new pn(k.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t},t(fn.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var e=new Array(this.pts.size()).fill(null),t=0;t<this.pts.size();t++)e[t]=this.pts.get(t);this.ring=this.geometryFactory.createLinearRing(e),this._isHole=ut.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(e){this.startDe=e;var t=e,n=!0;do{if(null===t)throw new on("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new on("Directed Edge visited twice during ring-building at "+t.getCoordinate());this.edges.add(t);var r=t.getLabel();d.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(e){return this.pts.get(e)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var e=this.startDe;do{var t=e.getNode(),n=t.getEdges().getOutgoingDegree(this);n>this.maxNodeDegree&&(this.maxNodeDegree=n),e=this.getNext(e)}while(e!==this.startDe);this.maxNodeDegree*=2},addPoints:function(e,t,n){var r=e.getCoordinates();if(t){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this.pts.add(r[o])}else{var i=r.length-2;n&&(i=r.length-1);for(var o=i;o>=0;o--)this.pts.add(r[o])}},isHole:function(){return this._isHole},setInResult:function(){var e=this.startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this.startDe)},containsPoint:function(e){var t=this.getLinearRing(),n=t.getEnvelopeInternal();if(!n.contains(e))return!1;if(!ut.isPointInRing(e,t.getCoordinates()))return!1;for(var r=this.holes.iterator();r.hasNext();){var i=r.next();if(i.containsPoint(e))return!1}return!0},addHole:function(e){this.holes.add(e)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=t.getLocation(n,hn.RIGHT);if(r===k.NONE)return null;if(this.label.getLocation(n)===k.NONE)return this.label.setLocation(n,r),null}},setShell:function(e){this.shell=e,null!==e&&e.addHole(this)},toPolygon:function(e){for(var t=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)t[n]=this.holes.get(n).getLinearRing();var r=e.createPolygon(this.getLinearRing(),t);return r},interfaces_:function(){return[]},getClass:function(){return fn}}),u(gn,fn),t(gn.prototype,{setEdgeRing:function(e,t){e.setMinEdgeRing(t)},getNext:function(e){return e.getNextMin()},interfaces_:function(){return[]},getClass:function(){return gn}}),u(mn,fn),t(mn.prototype,{buildMinimalRings:function(){var e=new x,t=this.startDe;do{if(null===t.getMinEdgeRing()){var n=new gn(t,this.geometryFactory);e.add(n)}t=t.getNext()}while(t!==this.startDe);return e},setEdgeRing:function(e,t){e.setEdgeRing(t)},linkDirectedEdgesForMinimalEdgeRings:function(){var e=this.startDe;do{var t=e.getNode();t.getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this.startDe)},getNext:function(e){return e.getNext()},interfaces_:function(){return[]},getClass:function(){return mn}}),t(vn.prototype,{setVisited:function(e){this._isVisited=e},setInResult:function(e){this._isInResult=e},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(e){this.label=e},getLabel:function(){return this.label},setCovered:function(e){this._isCovered=e,this._isCoveredSet=!0},updateIM:function(e){d.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return vn}}),u(yn,vn),t(yn.prototype,{isIncidentEdgeInResult:function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();){var t=e.next();
if(t.getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(e){e.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(e){},computeMergedLocation:function(e,t){var n=k.NONE;if(n=this.label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==k.BOUNDARY&&(n=r)}return n},setLabel:function(){if(2!==arguments.length)return vn.prototype.setLabel.apply(this,arguments);var e=arguments[0],t=arguments[1];null===this.label?this.label=new pn(e,t):this.label.setLocation(e,t)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof yn){var e=arguments[0];this.mergeLabel(e.label)}else if(arguments[0]instanceof pn)for(var t=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(t,n),i=this.label.getLocation(n);i===k.NONE&&this.label.setLocation(n,r)}},add:function(e){this.edges.insert(e),e.setNode(this)},setLabelBoundary:function(e){if(null===this.label)return null;var t=k.NONE;null!==this.label&&(t=this.label.getLocation(e));var n=null;switch(t){case k.BOUNDARY:n=k.INTERIOR;break;case k.INTERIOR:n=k.BOUNDARY;break;default:n=k.BOUNDARY}this.label.setLocation(e,n)},interfaces_:function(){return[]},getClass:function(){return yn}}),t(bn.prototype,{find:function(e){return this.nodeMap.get(e)},addNode:function(){if(arguments[0]instanceof p){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof yn){var n=arguments[0],t=this.nodeMap.get(n.getCoordinate());return null===t?(this.nodeMap.put(n.getCoordinate(),n),n):(t.mergeLabel(n),t)}},print:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(e){for(var t=new x,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===k.BOUNDARY&&t.add(r)}return t},add:function(e){var t=e.getCoordinate(),n=this.addNode(t);n.add(e)},interfaces_:function(){return[]},getClass:function(){return bn}}),t(wn.prototype,{compareDirection:function(e){return this.dx===e.dx&&this.dy===e.dy?0:this.quadrant>e.quadrant?1:this.quadrant<e.quadrant?-1:ut.computeOrientation(e.p0,e.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(e){this.node=e},print:function(e){var t=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label)},compareTo:function(e){var t=e;return this.compareDirection(t)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var e=Math.atan2(this.dy,this.dx),t=this.getClass().getName(),n=t.lastIndexOf("."),r=t.substring(n+1);return"  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label},computeLabel:function(e){},init:function(e,t){this.p0=e,this.p1=t,this.dx=t.x-e.x,this.dy=t.y-e.y,this.quadrant=Zt.quadrant(this.dx,this.dy),d.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[o]},getClass:function(){return wn}}),u(xn,wn),t(xn.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(e){return this.depth[e]},setVisited:function(e){this._isVisited=e},computeDirectedLabel:function(){this.label=new pn(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(e,t){if(this.depth[e]!==-999&&this.depth[e]!==t)throw new on("assigned depths do not match",this.getCoordinate());this.depth[e]=t},isInteriorAreaEdge:function e(){for(var e=!0,t=0;t<2;t++)this.label.isArea(t)&&this.label.getLocation(t,hn.LEFT)===k.INTERIOR&&this.label.getLocation(t,hn.RIGHT)===k.INTERIOR||(e=!1);return e},setNextMin:function(e){this.nextMin=e},print:function(e){wn.prototype.print.call(this,e),e.print(" "+this.depth[hn.LEFT]+"/"+this.depth[hn.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},setMinEdgeRing:function(e){this.minEdgeRing=e},isLineEdge:function(){var e=this.label.isLine(0)||this.label.isLine(1),t=!this.label.isArea(0)||this.label.allPositionsEqual(0,k.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,k.EXTERIOR);return e&&t&&n},setEdgeRing:function(e){this.edgeRing=e},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var e=this.edge.getDepthDelta();return this._isForward||(e=-e),e},setInResult:function(e){this._isInResult=e},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(e){this.print(e),e.print(" "),this._isForward?this.edge.print(e):this.edge.printReverse(e)},setSym:function(e){this.sym=e},setVisitedEdge:function(e){this.setVisited(e),this.sym.setVisited(e)},setEdgeDepths:function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===hn.LEFT&&(r=-1);var i=hn.opposite(e),o=n*r,s=t+o;this.setDepth(e,t),this.setDepth(i,s)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(e){this.next=e},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return xn}}),xn.depthFactor=function(e,t){return e===k.EXTERIOR&&t===k.INTERIOR?1:e===k.INTERIOR&&t===k.EXTERIOR?-1:0},t(_n.prototype,{createNode:function(e){return new yn(e,null)},interfaces_:function(){return[]},getClass:function(){return _n}}),t(En.prototype,{printEdges:function(e){e.println("Edges:");for(var t=0;t<this.edges.size();t++){e.println("edge "+t+":");var n=this.edges.get(t);n.print(e),n.eiList.print(e)}},find:function(e){return this.nodes.find(e)},addNode:function(){if(arguments[0]instanceof yn){var e=arguments[0];return this.nodes.addNode(e)}if(arguments[0]instanceof p){var t=arguments[0];return this.nodes.addNode(t)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var e=this.nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkResultDirectedEdges()}},debugPrintln:function(e){N.out.println(e)},isBoundaryNode:function(e,t){var n=this.nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===k.BOUNDARY},linkAllDirectedEdges:function(){for(var e=this.nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(e,t,n,r){return!!e.equals(n)&&ut.computeOrientation(e,t,r)===ut.COLLINEAR&&Zt.quadrant(e,t)===Zt.quadrant(n,r)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(e){N.out.print(e)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(e,t){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(e,t,i[0],i[1]))return r;if(this.matchInSameDirection(e,t,i[i.length-1],i[i.length-2]))return r}return null},insertEdge:function(e){this.edges.add(e)},findEdgeEnd:function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},addEdges:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.edges.add(n);var r=new xn(n,!0),i=new xn(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},add:function(e){this.nodes.add(e),this.edgeEndList.add(e)},getNodes:function(){return this.nodes.values()},findEdge:function(e,t){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),i=r.getCoordinates();if(e.equals(i[0])&&t.equals(i[1]))return r}return null},interfaces_:function(){return[]},getClass:function(){return En}}),En.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.getEdges().linkResultDirectedEdges()}},t(Cn.prototype,{sortShellsAndHoles:function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}},computePolygons:function(e){for(var t=new x,n=e.iterator();n.hasNext();){var r=n.next(),i=r.toPolygon(this.geometryFactory);t.add(i)}return t},placeFreeHoles:function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,e);if(null===i)throw new on("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},buildMinimalEdgeRings:function(e,t,n){for(var r=new x,i=e.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),t.add(a)):n.addAll(s)}else r.add(o)}return r},containsPoint:function(e){for(var t=this.shellList.iterator();t.hasNext();){var n=t.next();if(n.containsPoint(e))return!0}return!1},buildMaximalEdgeRings:function(e){for(var t=new x,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new mn(r,this.geometryFactory);t.add(i),i.setInResult()}}return t},placePolygonHoles:function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},getPolygons:function(){var e=this.computePolygons(this.shellList);return e},findEdgeRingContaining:function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=t.iterator();a.hasNext();){var l=a.next(),c=l.getLinearRing(),u=c.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;u.contains(r)&&ut.isPointInRing(i,c.getCoordinates())&&(h=!0),h&&(null===o||s.contains(u))&&(o=l)}return o},findShell:function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return d.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];En.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),i=new x,o=this.buildMinimalEdgeRings(r,this.shellList,i);this.sortShellsAndHoles(o,this.shellList,i),this.placeFreeHoles(this.shellList,i)}},interfaces_:function(){return[]},getClass:function(){return Cn}}),t(Sn.prototype,{collectLines:function(e){for(var t=this.op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next();this.collectLineEdge(n,e,this.lineEdgesList),this.collectBoundaryTouchEdge(n,e,this.lineEdgesList)}},labelIsolatedLine:function(e,t){var n=this.ptLocator.locate(e.getCoordinate(),this.op.getArgGeometry(t));e.getLabel().setLocation(t,n)},build:function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this.resultLineList},collectLineEdge:function(e,t,n){var r=e.getLabel(),i=e.getEdge();e.isLineEdge()&&(e.isVisited()||!rr.isResultOfOp(r,t)||i.isCovered()||(n.add(i),e.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var t=e.next();t.getEdges().findCoveredLineEdges()}for(var n=this.op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getEdge();if(r.isLineEdge()&&!i.isCoveredSet()){var o=this.op.isCoveredByA(r.getCoordinate());i.setCovered(o)}}},labelIsolatedLines:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(e){for(var t=this.lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(r),n.setInResult(!0)}},collectBoundaryTouchEdge:function(e,t,n){var r=e.getLabel();return e.isLineEdge()?null:e.isVisited()?null:e.isInteriorAreaEdge()?null:e.getEdge().isInResult()?null:(d.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(rr.isResultOfOp(r,t)&&t===rr.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Sn}}),t(kn.prototype,{filterCoveredNodeToPoint:function(e){var t=e.getCoordinate();if(!this.op.isCoveredByLA(t)){var n=this.geometryFactory.createPoint(t);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(e){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&e!==rr.INTERSECTION)){var r=n.getLabel();rr.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},build:function(e){return this.extractNonCoveredResultNodes(e),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return kn}}),t(An.prototype,{locate:function(e){},interfaces_:function(){return[]},getClass:function(){return An}}),t(Tn.prototype,{locate:function(e){return Tn.locate(e,this.geom)},interfaces_:function(){return[An]},getClass:function(){return Tn}}),Tn.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&ut.isPointInRing(e,t.getCoordinates())},Tn.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!Tn.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);if(Tn.isPointInRing(e,i))return!1}return!0},Tn.containsPoint=function(e,t){if(t instanceof Te)return Tn.containsPointInPolygon(e,t);if(t instanceof de)for(var n=new At(t);n.hasNext();){var r=n.next();if(r!==t&&Tn.containsPoint(e,r))return!0}return!1},Tn.locate=function(e,t){return t.isEmpty()?k.EXTERIOR:Tn.containsPoint(e,t)?k.INTERIOR:k.EXTERIOR},t(Fn.prototype,{getNextCW:function(e){this.getEdges();var t=this.edgeList.indexOf(e),n=t-1;return 0===t&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(e){for(var t=k.NONE,n=this.iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea(e)&&i.getLocation(e,hn.LEFT)!==k.NONE&&(t=i.getLocation(e,hn.LEFT))}if(t===k.NONE)return null;for(var o=t,n=this.iterator();n.hasNext();){var r=n.next(),i=r.getLabel();if(i.getLocation(e,hn.ON)===k.NONE&&i.setLocation(e,hn.ON,o),i.isArea(e)){var s=i.getLocation(e,hn.LEFT),a=i.getLocation(e,hn.RIGHT);if(a!==k.NONE){if(a!==o)throw new on("side location conflict",r.getCoordinate());s===k.NONE&&d.shouldNeverReachHere("found single null side (at "+r.getCoordinate()+")"),o=s}else d.isTrue(i.getLocation(e,hn.LEFT)===k.NONE,"found single null side"),i.setLocation(e,hn.RIGHT,o),i.setLocation(e,hn.LEFT,o)}}},getCoordinate:function(){var e=this.iterator();if(!e.hasNext())return null;var t=e.next();return t.getCoordinate()},print:function(e){N.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}},isAreaLabelsConsistent:function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel(),i=r.getLocation(e,hn.LEFT);d.isTrue(i!==k.NONE,"Found unlabelled area edge");for(var o=i,s=this.iterator();s.hasNext();){var a=s.next(),l=a.getLabel();d.isTrue(l.isArea(e),"Found non-area edge");var c=l.getLocation(e,hn.LEFT),u=l.getLocation(e,hn.RIGHT);if(c===u)return!1;if(u!==o)return!1;o=c}return!0},findIndex:function(e){this.iterator();for(var t=0;t<this.edgeList.size();t++){var n=this.edgeList.get(t);if(n===e)return t}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new x(this.edgeMap.values())),this.edgeList},getLocation:function(e,t,n){return this.ptInAreaLocation[e]===k.NONE&&(this.ptInAreaLocation[e]=Tn.locate(t,n[e].getGeometry())),this.ptInAreaLocation[e]},toString:function(){var e=new F;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},computeEdgeEndLabels:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();n.computeLabel(e)}},computeLabelling:function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next(),i=r.getLabel(),o=0;o<2;o++)i.isLine(o)&&i.getLocation(o)===k.BOUNDARY&&(t[o]=!0);for(var n=this.iterator();n.hasNext();)for(var r=n.next(),i=r.getLabel(),o=0;o<2;o++)if(i.isAnyNull(o)){var s=k.NONE;if(t[o])s=k.EXTERIOR;else{var a=r.getCoordinate();s=this.getLocation(o,a,e)}i.setAllLocationsIfNull(o,s)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(e,t){this.edgeMap.put(e,t),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return Fn}}),u(Ln,Fn),t(Ln.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var e=null,t=null,n=this.SCANNING_FOR_INCOMING,r=0;r<this.resultAreaEdgeList.size();r++){var i=this.resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===e&&i.isInResult()&&(e=i),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;t=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!i.isInResult())continue;t.setNext(i),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===e)throw new on("no outgoing dirEdge found",this.getCoordinate());d.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}},insert:function(e){var t=e;this.insertEdgeEnd(t,t)},getRightmostEdge:function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),i=n.getQuadrant(),o=r.getQuadrant();return Zt.isNorthern(i)&&Zt.isNorthern(o)?n:Zt.isNorthern(i)||Zt.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(d.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},print:function(e){N.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new x;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this.resultAreaEdgeList.add(t)}return this.resultAreaEdgeList},updateLabelling:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();r.setAllLocationsIfNull(0,e.getLocation(0)),r.setAllLocationsIfNull(1,e.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var e=null,t=null,n=this.edgeList.size()-1;n>=0;n--){var r=this.edgeList.get(n),i=r.getSym();null===t&&(t=i),null!==e&&i.setNext(e),e=r}t.setNext(e)},computeDepths:function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=(e.getLabel(),e.getDepth(hn.LEFT)),r=e.getDepth(hn.RIGHT),i=this.computeDepths(t+1,this.edgeList.size(),n),o=this.computeDepths(0,t,i);if(o!==r)throw new on("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],a=arguments[1],l=arguments[2],c=l,u=s;u<a;u++){var h=this.edgeList.get(u);h.getLabel(),h.setEdgeDepths(hn.RIGHT,c),c=h.getDepth(hn.LEFT)}return c}},mergeSymLabels:function(){for(var e=this.iterator();e.hasNext();){var t=e.next(),n=t.getLabel();n.merge(t.getSym().getLabel())}},linkMinimalDirectedEdges:function(e){for(var t=null,n=null,r=this.SCANNING_FOR_INCOMING,i=this.resultAreaEdgeList.size()-1;i>=0;i--){var o=this.resultAreaEdgeList.get(i),s=o.getSym();switch(null===t&&o.getEdgeRing()===e&&(t=o),r){case this.SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==e)continue;n=s,r=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==e)continue;n.setNextMin(o),r=this.SCANNING_FOR_INCOMING}}r===this.LINKING_TO_OUTGOING&&(d.isTrue(null!==t,"found null for first outgoing dirEdge"),d.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))},getOutgoingDegree:function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();){var n=t.next();n.isInResult()&&e++}return e}if(1===arguments.length){for(var r=arguments[0],e=0,t=this.iterator();t.hasNext();){var n=t.next();n.getEdgeRing()===r&&e++}return e}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var e=k.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=k.INTERIOR;break}if(r.isInResult()){e=k.EXTERIOR;break}}}if(e===k.NONE)return null;for(var i=e,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();n.isLineEdge()?n.getEdge().setCovered(i===k.INTERIOR):(n.isInResult()&&(i=k.EXTERIOR),r.isInResult()&&(i=k.INTERIOR))}},computeLabelling:function(e){Fn.prototype.computeLabelling.call(this,e),this.label=new pn(k.NONE);for(var t=this.iterator();t.hasNext();)for(var n=t.next(),r=n.getEdge(),i=r.getLabel(),o=0;o<2;o++){var s=i.getLocation(o);s!==k.INTERIOR&&s!==k.BOUNDARY||this.label.setLocation(o,k.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Ln}}),u(Rn,_n),t(Rn.prototype,{createNode:function(e){return new yn(e,new Ln)},interfaces_:function(){return[]},getClass:function(){return Rn}}),t(Mn.prototype,{computeIntersections:function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},interfaces_:function(){return[]},getClass:function(){return Mn}}),t(In.prototype,{isDelete:function(){return this.eventType===In.DELETE},setDeleteEventIndex:function(e){this.deleteEventIndex=e},getObject:function(){return this.obj},compareTo:function(e){var t=e;return this.xValue<t.xValue?-1:this.xValue>t.xValue?1:this.eventType<t.eventType?-1:this.eventType>t.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===In.INSERT},isSameLabel:function(e){return null!==this.label&&this.label===e.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[o]},getClass:function(){return In}}),In.INSERT=1,In.DELETE=2,t(Dn.prototype,{interfaces_:function(){return[]},getClass:function(){return Dn}}),t(Nn.prototype,{isTrivialIntersection:function(e,t,n,r){if(e===n&&1===this.li.getIntersectionNum()){if(Nn.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.getNumPoints()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(e){this.isDoneWhenProperInt=e},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinate();if(e.isIntersection(i))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(e,t){return!(null===t||!this.isBoundaryPointInternal(e,t[0])&&!this.isBoundaryPointInternal(e,t[1]))},setBoundaryNodes:function(e,t){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=e,this.bdyNodes[1]=t},addIntersections:function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,s,a),this.li.hasIntersection()&&(this.recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(e.addIntersections(this.li,t,0),n.addIntersections(this.li,r,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Nn}}),Nn.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)},u(Pn,Dn),t(Pn.prototype,{prepareEvents:function(){hs.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},computeIntersections:function(){if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var t=0;t<this.events.size();t++){var n=this.events.get(t);if(n.isInsert()&&this.processOverlaps(t,n.getDeleteEventIndex(),n,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Nn&&A(arguments[0],y)&&A(arguments[1],y)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&A(arguments[0],y)&&arguments[1]instanceof Nn){var s=arguments[0],a=arguments[1],l=arguments[2];l?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},addEdge:function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new Mn(n,i),s=new In(t,n.getMinX(i),o);this.events.add(s),this.events.add(new In(n.getMaxX(i),s))}},processOverlaps:function(e,t,n,r){for(var i=n.getObject(),o=e;o<t;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var e=arguments[0],t=e.iterator();t.hasNext();){var n=t.next();this.addEdge(n,n)}else if(2===arguments.length)for(var r=arguments[0],i=arguments[1],t=r.iterator();t.hasNext();){var n=t.next();this.addEdge(n,i)}},interfaces_:function(){return[]},getClass:function(){return Pn}}),t(On.prototype,{getMin:function(){return this.min},intersects:function(e,t){return!(this.min>t||this.max<e)},getMax:function(){return this.max},toString:function(){return ot.toLineString(new p(this.min,0),new p(this.max,0))},interfaces_:function(){return[]},getClass:function(){return On}}),t(Bn.prototype,{compare:function(e,t){var n=e,r=t,i=(n.min+n.max)/2,o=(r.min+r.max)/2;return i<o?-1:i>o?1:0},interfaces_:function(){return[a]},getClass:function(){return Bn}}),On.NodeComparator=Bn,u($n,On),t($n.prototype,{query:function(e,t,n){return this.intersects(e,t)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return $n}}),u(jn,On),t(jn.prototype,{buildExtent:function(e,t){this.min=Math.min(e.min,t.min),this.max=Math.max(e.max,t.max)},query:function(e,t,n){return this.intersects(e,t)?(null!==this.node1&&this.node1.query(e,t,n),void(null!==this.node2&&this.node2.query(e,t,n))):null},interfaces_:function(){return[]},getClass:function(){return jn}}),t(zn.prototype,{buildTree:function(){hs.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var e=this.leaves,t=null,n=new x;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},insert:function(e,t,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new $n(e,t,n))},query:function(e,t,n){this.init(),this.root.query(e,t,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(e){N.out.println(ot.toLineString(new p(e.min,this.level),new p(e.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(e,t){this.level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n),i=n+1<e.size()?e.get(n):null;if(null===i)t.add(r);else{var o=new jn(e.get(n),e.get(n+1));t.add(o)}}},interfaces_:function(){return[]},getClass:function(){return zn}}),t(Un.prototype,{filter:function(e){if(this.isForcedToLineString&&e instanceof Le){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this.lines.add(t),null}e instanceof Ce&&this.lines.add(e)},setForceToLineString:function(e){this.isForcedToLineString=e},interfaces_:function(){return[B]},getClass:function(){return Un}}),Un.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(Un.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(Un.getLines(t,n))}},Un.getLines=function(){if(1===arguments.length){var e=arguments[0];return Un.getLines(e,!1)}if(2===arguments.length){if(A(arguments[0],m)&&A(arguments[1],m)){for(var t=arguments[0],n=arguments[1],r=t.iterator();r.hasNext();){var i=r.next();Un.getLines(i,n)}return n}if(arguments[0]instanceof $&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new x;return o.apply(new Un(a,s)),a}if(arguments[0]instanceof $&&A(arguments[1],m)){var l=arguments[0],c=arguments[1];return l instanceof Ce?c.add(l):l.apply(new Un(c)),c}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&A(arguments[0],m)&&A(arguments[1],m)){for(var u=arguments[0],h=arguments[1],d=arguments[2],r=u.iterator();r.hasNext();){var i=r.next();Un.getLines(i,h,d)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof $&&A(arguments[1],m)){var p=arguments[0],f=arguments[1],g=arguments[2];return p.apply(new Un(f,g)),f}}},t(Vn.prototype,{visitItem:function(e){this.items.add(e)},getItems:function(){return this.items},interfaces_:function(){return[Nt]},getClass:function(){return Vn}}),t(Wn.prototype,{locate:function(e){var t=new ct(e),n=new qn(t);return this.index.query(e.y,e.y,n),t.getLocation()},interfaces_:function(){return[An]},getClass:function(){return Wn}}),t(qn.prototype,{visitItem:function(e){var t=e;this.counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},interfaces_:function(){return[Nt]},getClass:function(){return qn}}),t(Hn.prototype,{init:function(e){for(var t=Un.getLines(e),n=t.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinates();this.addLine(i)}},addLine:function(e){for(var t=1;t<e.length;t++){var n=new ht(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this.index.insert(r,i,n)}},query:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new Vn;return this.index.query(e,t,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.index.query(r,i,o)}},interfaces_:function(){return[]},getClass:function(){return Hn}}),Wn.SegmentVisitor=qn,Wn.IntervalIndexedGeometry=Hn,t(Gn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},compareTo:function(e){var t=e;return this.compare(t.segmentIndex,t.dist)},isEndPoint:function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},interfaces_:function(){return[o]},getClass:function(){return Gn}}),t(Kn.prototype,{print:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},addEndpoints:function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},createSplitEdge:function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],i=t.dist>0||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new p(e.coord);for(var a=e.segmentIndex+1;a<=t.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=t.coord),new Zn(o,new pn(this.edge.label))},add:function(e,t,n){var r=new Gn(e,t,n),i=this.nodeMap.get(r);return null!==i?i:(this.nodeMap.put(r,r),r)},isIntersection:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();if(n.coord.equals(e))return!0;
}return!1},interfaces_:function(){return[]},getClass:function(){return Kn}}),t(Yn.prototype,{getChainStartIndices:function(e){var t=0,n=new x;n.add(new L(t));do{var r=this.findChainEnd(e,t);n.add(new L(r)),t=r}while(t<e.length-1);var i=Yn.toIntArray(n);return i},findChainEnd:function(e,t){for(var n=Zt.quadrant(e[t],e[t+1]),r=t+1;r<e.length;){var i=Zt.quadrant(e[r-1],e[r]);if(i!==n)break;r++}return r-1},interfaces_:function(){return[]},getClass:function(){return Yn}}),Yn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t},t(Xn.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},getMinX:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},computeIntersectsForChain:function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],c=arguments[5],u=this.pts[i],h=this.pts[o],d=s.pts[a],p=s.pts[l];if(o-i===1&&l-a===1)return c.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(u,h),this.env2.init(d,p),!this.env1.intersects(this.env2))return null;var f=Math.trunc((i+o)/2),g=Math.trunc((a+l)/2);i<f&&(a<g&&this.computeIntersectsForChain(i,f,s,a,g,c),g<l&&this.computeIntersectsForChain(i,f,s,g,l,c)),f<o&&(a<g&&this.computeIntersectsForChain(f,o,s,a,g,c),g<l&&this.computeIntersectsForChain(f,o,s,g,l,c))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},interfaces_:function(){return[]},getClass:function(){return Xn}}),t(Jn.prototype,{getDepth:function(e,t){return this.depth[e][t]},setDepth:function(e,t,n){this.depth[e][t]=n},isNull:function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var t=0;t<3;t++)if(this.depth[e][t]!==Jn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===Jn.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this.depth[r][i]===Jn.NULL_VALUE}},normalize:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this.depth[e][1];this.depth[e][2]<t&&(t=this.depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var r=0;this.depth[e][n]>t&&(r=1),this.depth[e][n]=r}}},getDelta:function(e){return this.depth[e][hn.RIGHT]-this.depth[e][hn.LEFT]},getLocation:function(e,t){return this.depth[e][t]<=0?k.EXTERIOR:k.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<2;t++)for(var n=1;n<3;n++){var r=e.getLocation(t,n);r!==k.EXTERIOR&&r!==k.INTERIOR||(this.isNull(t,n)?this.depth[t][n]=Jn.depthAtLocation(r):this.depth[t][n]+=Jn.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];s===k.INTERIOR&&this.depth[i][o]++}},interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.depthAtLocation=function(e){return e===k.EXTERIOR?0:e===k.INTERIOR?1:Jn.NULL_VALUE},Jn.NULL_VALUE=-1,u(Zn,vn),t(Zn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var e=new Array(2).fill(null);e[0]=this.pts[0],e[1]=this.pts[1];var t=new Zn(e,pn.toLineLabel(this.label));return t},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(e){this._isIsolated=e},setName:function(e){this.name=e},equals:function(e){if(!(e instanceof Zn))return!1;var t=e;if(this.pts.length!==t.pts.length)return!1;for(var n=!0,r=!0,i=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(t.pts[o])||(n=!1),this.pts[o].equals2D(t.pts[--i])||(r=!1),!n&&!r)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},print:function(e){e.print("edge "+this.name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(e){Zn.updateIM(this.label,e)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(e){e.print("edge "+this.name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Xn(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new E;for(var e=0;e<this.pts.length;e++)this.env.expandToInclude(this.pts[e])}return this.env},addIntersection:function(e,t,n,r){var i=new p(e.getIntersection(r)),o=t,s=e.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var l=this.pts[a];i.equals2D(l)&&(o=a,s=0)}this.eiList.add(i,o,s)},toString:function(){var e=new F;e.append("edge "+this.name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this.label+" "+this.depthDelta),e.toString()},isPointwiseEqual:function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},setDepthDelta:function(e){this.depthDelta=e},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},interfaces_:function(){return[]},getClass:function(){return Zn}}),Zn.updateIM=function(){if(2!==arguments.length)return vn.prototype.updateIM.apply(this,arguments);var e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,hn.ON),e.getLocation(1,hn.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,hn.LEFT),e.getLocation(1,hn.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,hn.RIGHT),e.getLocation(1,hn.RIGHT),2))},u(Qn,En),t(Qn.prototype,{insertBoundaryPoint:function(e,t){var n=this.nodes.addNode(t),r=n.getLabel(),i=1,o=k.NONE;o=r.getLocation(e,hn.ON),o===k.BOUNDARY&&i++;var s=Qn.determineBoundary(this.boundaryNodeRule,i);r.setLocation(e,s)},computeSelfNodes:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Nn(n,!0,!1);o.setIsDoneIfProperInt(i);var s=this.createEdgeSetIntersector(),a=this.parentGeom instanceof Le||this.parentGeom instanceof Te||this.parentGeom instanceof Re,l=r||!a;return s.computeIntersections(this.edges,o,l),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(e){for(var t=this.edges.iterator();t.hasNext();){var n=t.next();n.eiList.addSplitEdges(e)}},computeEdgeIntersections:function(e,t,n){var r=new Nn(t,n,!0);r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes());var i=this.createEdgeSetIntersector();return i.computeIntersections(this.edges,e.edges,r),r},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof ke){var e=arguments[0],t=e.getCoordinate();this.insertPoint(this.argIndex,t,k.INTERIOR)}else if(arguments[0]instanceof p){var n=arguments[0];this.insertPoint(this.argIndex,n,k.INTERIOR)}},addPolygon:function(e){this.addPolygonRing(e.getExteriorRing(),k.EXTERIOR,k.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,k.INTERIOR,k.EXTERIOR)}},addEdge:function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this.argIndex,t[0],k.BOUNDARY),this.insertPoint(this.argIndex,t[t.length-1],k.BOUNDARY)},addLineString:function(e){var t=H.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=t[0],null;var n=new Zn(t,new pn(this.argIndex,k.INTERIOR));this.lineEdgeMap.put(e,n),this.insertEdge(n),d.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,t[0]),this.insertBoundaryPoint(this.argIndex,t[t.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var i=r.next();t[n++]=i.getCoordinate().copy()}return t},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(e,t,n){return this.isBoundaryNode(e,t)?null:void(n===k.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n))},addPolygonRing:function(e,t,n){if(e.isEmpty())return null;var r=H.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=r[0],null;var i=t,o=n;ut.isCCW(r)&&(i=n,o=t);var s=new Zn(r,new pn(this.argIndex,k.BOUNDARY,i,o));this.lineEdgeMap.put(e,s),this.insertEdge(s),this.insertPoint(this.argIndex,r[0],k.BOUNDARY)},insertPoint:function(e,t,n){var r=this.nodes.addNode(t),i=r.getLabel();null===i?r.label=new pn(e,n):i.setLocation(e,n)},createEdgeSetIntersector:function(){return new Pn},addSelfIntersectionNodes:function(e){for(var t=this.edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(e,o.coord,r)}},add:function(){if(1!==arguments.length)return En.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Re&&(this.useBoundaryDeterminationRule=!1),e instanceof Te)this.addPolygon(e);else if(e instanceof Ce)this.addLineString(e);else if(e instanceof ke)this.addPoint(e);else if(e instanceof Fe)this.addCollection(e);else if(e instanceof pe)this.addCollection(e);else if(e instanceof Re)this.addCollection(e);else{if(!(e instanceof de))throw new UnsupportedOperationException(e.getClass().getName());this.addCollection(e)}},addCollection:function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},locate:function(e){return A(this.parentGeom,Ae)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Wn(this.parentGeom)),this.areaPtLocator.locate(e)):this.ptLocator.locate(e,this.parentGeom)},findEdge:function(){if(1===arguments.length){var e=arguments[0];return this.lineEdgeMap.get(e)}return En.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.determineBoundary=function(e,t){return e.isInBoundary(t)?k.BOUNDARY:k.INTERIOR},t(er.prototype,{getArgGeometry:function(e){return this.arg[e].getGeometry()},setComputationPrecision:function(e){this.resultPrecisionModel=e,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return er}}),t(tr.prototype,{compareTo:function(e){var t=e,n=tr.compareOriented(this.pts,this._orientation,t.pts,t._orientation);return n},interfaces_:function(){return[o]},getClass:function(){return tr}}),tr.orientation=function(e){return 1===H.increasingDirection(e)},tr.compareOriented=function(e,t,n,r){for(var i=t?1:-1,o=r?1:-1,s=t?e.length:-1,a=r?n.length:-1,l=t?0:e.length-1,c=r?0:n.length-1;;){var u=e[l].compareTo(n[c]);if(0!==u)return u;l+=i,c+=o;var h=l===s,d=c===a;if(h&&!d)return-1;if(!h&&d)return 1;if(h&&d)return 0}},t(nr.prototype,{print:function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this.edges.size();t++){var n=this.edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&e.print(","),e.print(r[i].x+" "+r[i].y);e.println(")")}e.print(")  ")},addAll:function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},findEdgeIndex:function(e){for(var t=0;t<this.edges.size();t++)if(this.edges.get(t).equals(e))return t;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(e){return this.edges.get(e)},findEqualEdge:function(e){var t=new tr(e.getCoordinates()),n=this.ocaMap.get(t);return n},add:function(e){this.edges.add(e);var t=new tr(e.getCoordinates());this.ocaMap.put(t,e)},interfaces_:function(){return[]},getClass:function(){return nr}}),u(rr,er),t(rr.prototype,{insertUniqueEdge:function(e){var t=this.edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new pn(e.getLabel()),r.flip());var i=t.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this.edgeList.add(e)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(e){return!!this.isCovered(e,this.resultLineList)||!!this.isCovered(e,this.resultPolyList)},computeGeometry:function(e,t,n,r){var i=new x;return i.addAll(e),i.addAll(t),i.addAll(n),i.isEmpty()?rr.createEmptyResult(r,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(i)},mergeSymLabels:function(){for(var e=this.graph.getNodes().iterator();e.hasNext();){var t=e.next();t.getEdges().mergeSymLabels()}},isCovered:function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next(),i=this.ptLocator.locate(e,r);if(i!==k.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var e=new x,t=this.edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this.edgeList.addAll(e)},updateNodeLabelling:function(){for(var e=this.graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},getResultGeometry:function(e){return this.computeOverlay(e),this.resultGeom},insertUniqueEdges:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},computeOverlay:function(e){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var t=new x;this.arg[0].computeSplitEdges(t),this.arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),cn.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new Cn(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var r=new Sn(this,this.geomFact,this.ptLocator);this.resultLineList=r.build(e);var i=new kn(this,this.geomFact,this.ptLocator);this.resultPointList=i.build(e),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,e)},labelIncompleteNode:function(e,t){var n=this.ptLocator.locate(e.getCoordinate(),this.arg[t].getGeometry());e.getLabel().setLocation(t,n)},copyPoints:function(e){for(var t=this.arg[e].getNodeIterator();t.hasNext();){var n=t.next(),r=this.graph.addNode(n.getCoordinate());r.setLabel(e,n.getLabel().getLocation(e))}},findResultAreaEdges:function(e){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getLabel();r.isArea()&&!n.isInteriorAreaEdge()&&rr.isResultOfOp(r.getLocation(0,hn.RIGHT),r.getLocation(1,hn.RIGHT),e)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var e=this.edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(d.isTrue(!r.isNull(i,hn.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,hn.LEFT,r.getLocation(i,hn.LEFT)),d.isTrue(!r.isNull(i,hn.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,hn.RIGHT,r.getLocation(i,hn.RIGHT))))}}},computeLabelling:function(){for(var e=this.graph.getNodes().iterator();e.hasNext();){var t=e.next();t.getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var e=0,t=this.graph.getNodes().iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(e++,r.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(r)}},isCoveredByA:function(e){return!!this.isCovered(e,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return rr}}),rr.overlayOp=function(e,t,n){var r=new rr(e,t),i=r.getResultGeometry(n);return i},rr.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return rr.createEmptyResult(rr.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return un.map(e,{interfaces_:function(){return[MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),or.overlayOp(e,t,rr.INTERSECTION)},rr.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return rr.createEmptyResult(rr.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),or.overlayOp(e,t,rr.SYMDIFFERENCE)},rr.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),o=-1;switch(e){case rr.INTERSECTION:o=Math.min(r,i);break;case rr.UNION:o=Math.max(r,i);break;case rr.DIFFERENCE:o=r;break;case rr.SYMDIFFERENCE:o=Math.max(r,i)}return o},rr.createEmptyResult=function(e,t,n,r){var i=null;switch(rr.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},rr.difference=function(e,t){return e.isEmpty()?rr.createEmptyResult(rr.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),or.overlayOp(e,t,rr.DIFFERENCE))},rr.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return rr.isResultOfOp(n,r,t)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===k.BOUNDARY&&(i=k.INTERIOR),o===k.BOUNDARY&&(o=k.INTERIOR),s){case rr.INTERSECTION:return i===k.INTERIOR&&o===k.INTERIOR;case rr.UNION:return i===k.INTERIOR||o===k.INTERIOR;case rr.DIFFERENCE:return i===k.INTERIOR&&o!==k.INTERIOR;case rr.SYMDIFFERENCE:return i===k.INTERIOR&&o!==k.INTERIOR||i!==k.INTERIOR&&o===k.INTERIOR}return!1}},rr.INTERSECTION=1,rr.UNION=2,rr.DIFFERENCE=3,rr.SYMDIFFERENCE=4,t(ir.prototype,{selfSnap:function(e){var t=new xt(e),n=t.snapTo(e,this.snapTolerance);return n},removeCommonBits:function(e){this.cbr=new Ct,this.cbr.add(e[0]),this.cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this.cbr.removeCommonBits(e[0].copy()),t[1]=this.cbr.removeCommonBits(e[1].copy()),t},prepareResult:function(e){return this.cbr.addCommonBits(e),e},getResultGeometry:function(e){var t=this.snap(this.geom),n=rr.overlayOp(t[0],t[1],e);return this.prepareResult(n)},checkValid:function(e){e.isValid()||N.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=xt.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(e){var t=this.removeCommonBits(e),n=xt.snap(t[0],t[1],this.snapTolerance);return n},interfaces_:function(){return[]},getClass:function(){return ir}}),ir.overlayOp=function(e,t,n){var r=new ir(e,t);return r.getResultGeometry(n)},ir.union=function(e,t){return ir.overlayOp(e,t,rr.UNION)},ir.intersection=function(e,t){return ir.overlayOp(e,t,rr.INTERSECTION)},ir.symDifference=function(e,t){return ir.overlayOp(e,t,rr.SYMDIFFERENCE)},ir.difference=function(e,t){return ir.overlayOp(e,t,rr.DIFFERENCE)},t(or.prototype,{getResultGeometry:function(e){var t=null,n=!1,r=null;try{t=rr.overlayOp(this.geom[0],this.geom[1],e);var i=!0;i&&(n=!0)}catch(e){if(!(e instanceof c))throw e;r=e}finally{}if(!n)try{t=ir.overlayOp(this.geom[0],this.geom[1],e)}catch(e){throw e instanceof c?r:e}finally{}return t},interfaces_:function(){return[]},getClass:function(){return or}}),or.overlayOp=function(e,t,n){var r=new or(e,t);return r.getResultGeometry(n)},or.union=function(e,t){return or.overlayOp(e,t,rr.UNION)},or.intersection=function(e,t){return or.overlayOp(e,t,rr.INTERSECTION)},or.symDifference=function(e,t){return or.overlayOp(e,t,rr.SYMDIFFERENCE)},or.difference=function(e,t){return or.overlayOp(e,t,rr.DIFFERENCE)},t(sr.prototype,{addPolygon:function(e){if(e.isEmpty())return null;var t=null,n=0,r=this.horizontalBisector(e);if(0===r.getLength())n=0,t=r.getCoordinate();else{var i=or.overlayOp(r,e,rr.INTERSECTION),o=this.widestGeometry(i);n=o.getEnvelopeInternal().getWidth(),t=sr.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=t,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function e(){if(arguments[0]instanceof de){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof $){var r=arguments[0];return r instanceof de?this.widestGeometry(r):r}},horizontalBisector:function(e){var t=e.getEnvelopeInternal(),n=ar.getBisectorY(e);return this.factory.createLineString([new p(t.getMinX(),n),new p(t.getMaxX(),n)])},add:function(e){if(e instanceof Te)this.addPolygon(e);else if(e instanceof de)for(var t=e,n=0;n<t.getNumGeometries();n++)this.add(t.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return sr}}),sr.centre=function(e){return new p(sr.avg(e.getMinX(),e.getMaxX()),sr.avg(e.getMinY(),e.getMaxY()))},sr.avg=function(e,t){return(e+t)/2},t(ar.prototype,{updateInterval:function(e){e<=this.centreY?e>this.loY&&(this.loY=e):e>this.centreY&&e<this.hiY&&(this.hiY=e)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var e=0;e<this.poly.getNumInteriorRing();e++)this.process(this.poly.getInteriorRingN(e));var t=sr.avg(this.hiY,this.loY);return t},process:function(e){for(var t=e.getCoordinateSequence(),n=0;n<t.size();n++){var r=t.getY(n);this.updateInterval(r)}},interfaces_:function(){return[]},getClass:function(){return ar}}),ar.getBisectorY=function(e){var t=new ar(e);return t.getBisectorY()},sr.SafeBisectorFinder=ar,t(lr.prototype,{addEndpoints:function(){if(arguments[0]instanceof $){var e=arguments[0];if(e instanceof Ce)this.addEndpoints(e.getCoordinates());else if(e instanceof de)for(var t=e,n=0;n<t.getNumGeometries();n++)this.addEndpoints(t.getGeometryN(n))}else if(arguments[0]instanceof Array){var r=arguments[0];this.add(r[0]),this.add(r[r.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof $){var e=arguments[0];if(e instanceof Ce)this.addInterior(e.getCoordinates());else if(e instanceof de)for(var t=e,n=0;n<t.getNumGeometries();n++)this.addInterior(t.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var r=arguments[0],n=1;n<r.length-1;n++)this.add(r[n])},add:function(e){var t=e.distance(this.centroid);t<this.minDistance&&(this.interiorPoint=new p(e),this.minDistance=t)},interfaces_:function(){return[]},getClass:function(){return lr}}),t(cr.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof $){var e=arguments[0];if(e instanceof ke)this.add(e.getCoordinate());else if(e instanceof de)for(var t=e,n=0;n<t.getNumGeometries();n++)this.add(t.getGeometryN(n))}else if(arguments[0]instanceof p){var r=arguments[0],i=r.distance(this.centroid);i<this.minDistance&&(this.interiorPoint=new p(r),this.minDistance=i)}},interfaces_:function(){return[]},getClass:function(){return cr}}),t(ur.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return ur}}),t(hr.prototype,{hasChildren:function(){for(var e=0;e<2;e++)if(null!==this.subnode[e])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(e){e.addAll(this.items);for(var t=0;t<2;t++)null!==this.subnode[t]&&this.subnode[t].addAllItems(e);return e},size:function(){for(var e=0,t=0;t<2;t++)null!==this.subnode[t]&&(e+=this.subnode[t].size());return e+this.items.size()},addAllItemsFromOverlapping:function(e,t){return null===e||this.isSearchMatch(e)?(t.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(e,t),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(e,t))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(e,t){if(!this.isSearchMatch(e))return!1;for(var n=!1,r=0;r<2;r++)if(null!==this.subnode[r]&&(n=this.subnode[r].remove(e,t))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n?n:n=this.items.remove(t)},getItems:function(){return this.items},depth:function(){for(var e=0,t=0;t<2;t++)if(null!==this.subnode[t]){var n=this.subnode[t].depth();n>e&&(e=n)}return e+1},nodeSize:function(){for(var e=0,t=0;t<2;t++)null!==this.subnode[t]&&(e+=this.subnode[t].nodeSize());return e+1},add:function(e){this.items.add(e)},interfaces_:function(){return[]},getClass:function(){return hr}}),hr.getSubnodeIndex=function(e,t){var n=-1;return e.min>=t&&(n=1),e.max<=t&&(n=0),n},t(dr.prototype,{expandToInclude:function(e){e.max>this.max&&(this.max=e.max),e.min<this.min&&(this.min=e.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var e=arguments[0];return this.overlaps(e.min,e.max)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!(this.min>n||this.max<t)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof dr){var e=arguments[0];return this.contains(e.min,e.max)}if("number"==typeof arguments[0]){var t=arguments[0];return t>=this.min&&t<=this.max}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return n>=this.min&&r<=this.max}},init:function(e,t){this.min=e,this.max=t,e>t&&(this.min=t,this.max=e)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return dr}}),pr.exponent=function(e){return fr(64,e)-1023},pr.powerOf2=function(e){return Math.pow(2,e)},t(gr.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(e){for(this.level=gr.computeLevel(e),this.interval=new dr,this.computeInterval(this.level,e);!this.interval.contains(e);)this.level+=1,this.computeInterval(this.level,e)},computeInterval:function(e,t){var n=pr.powerOf2(e);this.pt=Math.floor(t.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return gr}}),gr.computeLevel=function(e){var t=e.getWidth(),n=pr.exponent(t)+1;return n},u(mr,hr),t(mr.prototype,{getInterval:function(){return this.interval},find:function(e){var t=hr.getSubnodeIndex(e,this.centre);if(t===-1)return this;if(null!==this.subnode[t]){var n=this.subnode[t];return n.find(e)}return this},insert:function(e){d.isTrue(null===this.interval||this.interval.contains(e.interval));var t=hr.getSubnodeIndex(e.interval,this.centre);if(e.level===this.level-1)this.subnode[t]=e;else{var n=this.createSubnode(t);n.insert(e),this.subnode[t]=n}},isSearchMatch:function(e){return e.overlaps(this.interval)},getSubnode:function(e){return null===this.subnode[e]&&(this.subnode[e]=this.createSubnode(e)),this.subnode[e]},getNode:function(e){var t=hr.getSubnodeIndex(e,this.centre);if(t!==-1){var n=this.getSubnode(t);return n.getNode(e)}return this},createSubnode:function(e){var t=0,n=0;switch(e){case 0:t=this.interval.getMin(),n=this.centre;break;case 1:t=this.centre,n=this.interval.getMax()}var r=new dr(t,n),i=new mr(r,this.level-1);return i},interfaces_:function(){return[]},getClass:function(){return mr}}),mr.createNode=function(e){var t=new gr(e),n=new mr(t.getInterval(),t.getLevel());return n},mr.createExpanded=function(e,t){var n=new dr(t);null!==e&&n.expandToInclude(e.interval);var r=mr.createNode(n);return null!==e&&r.insert(e),r},t(vr.prototype,{interfaces_:function(){return[]},getClass:function(){return vr}});vr.isZeroWidth=function(e,t){var n=t-e;if(0===n)return!0;var r=Math.max(Math.abs(e),Math.abs(t)),i=n/r,o=pr.exponent(i);return o<=vr.MIN_BINARY_EXPONENT};vr.MIN_BINARY_EXPONENT=-50,u(yr,hr),t(yr.prototype,{insert:function(e,t){var n=hr.getSubnodeIndex(e,yr.origin);if(n===-1)return this.add(t),null;var r=this.subnode[n];if(null===r||!r.getInterval().contains(e)){var i=mr.createExpanded(r,e);this.subnode[n]=i}this.insertContained(this.subnode[n],e,t)},isSearchMatch:function(e){return!0},insertContained:function(e,t,n){d.isTrue(e.getInterval().contains(t));var r=vr.isZeroWidth(t.getMin(),t.getMax()),i=null;i=r?e.find(t):e.getNode(t),i.add(n)},interfaces_:function(){return[]},getClass:function(){return yr}}),yr.origin=0,t(br.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(e,t){this.collectStats(e);var n=br.ensureExtent(e,this.minExtent);this.root.insert(n,t)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];return this.query(new dr(e,e))}if(arguments[0]instanceof dr){var t=arguments[0],n=new x;return this.query(t,n),n}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.root.addAllItemsFromOverlapping(r,i)}},iterator:function(){var e=new x;return this.root.addAllItems(e),e.iterator()},remove:function(e,t){var n=br.ensureExtent(e,this.minExtent);return this.root.remove(n,t)},collectStats:function(e){var t=e.getWidth();t<this.minExtent&&t>0&&(this.minExtent=t)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return br}}),br.ensureExtent=function(e,t){var n=e.getMin(),r=e.getMax();return n!==r?e:(n===r&&(n-=t/2,r=n+t/2),new dr(n,r))},t(wr.prototype,{isInside:function(e){},interfaces_:function(){return[]},getClass:function(){return wr}}),t(xr.prototype,{testLineSegment:function(e,t){var n=null,r=null,i=null,o=null,s=null,a=t.p0,l=t.p1;r=a.x-e.x,i=a.y-e.y,o=l.x-e.x,s=l.y-e.y,(i>0&&s<=0||s>0&&i<=0)&&(n=lt.signOfDet2x2(r,i,o,s)/(s-i),0<n&&this.crossings++)},buildIndex:function(){this.tree=new br;for(var e=H.removeRepeatedPoints(this.ring.getCoordinates()),t=Qt.getChains(e),n=0;n<t.size();n++){var r=t.get(n),i=r.getEnvelope();this.interval.min=i.getMinY(),this.interval.max=i.getMaxY(),this.tree.insert(this.interval,r)}},testMonotoneChain:function(e,t,n){n.select(e,t)},isInside:function(e){this.crossings=0;var t=new E(i.NEGATIVE_INFINITY,i.POSITIVE_INFINITY,e.y,e.y);this.interval.min=e.y,this.interval.max=e.y;for(var n=this.tree.query(this.interval),r=new _r(this,e),o=n.iterator();o.hasNext();){var s=o.next();this.testMonotoneChain(t,r,s)}return this.crossings%2===1},interfaces_:function(){return[wr]},getClass:function(){return xr}}),u(_r,ur),t(_r.prototype,{select:function(){if(1!==arguments.length)return ur.prototype.select.apply(this,arguments);var e=arguments[0];
this.mcp.testLineSegment(this.p,e)},interfaces_:function(){return[]},getClass:function(){return _r}}),xr.MCSelecter=_r,t(Er.prototype,{interfaces_:function(){return[]},getClass:function(){return Er}}),Er.toDegrees=function(e){return 180*e/Math.PI},Er.normalize=function(e){for(;e>Math.PI;)e-=Er.PI_TIMES_2;for(;e<=-Math.PI;)e+=Er.PI_TIMES_2;return e},Er.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,i=n.y-t.y;return Math.atan2(i,r)}},Er.isAcute=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=r*o+i*s;return a>0},Er.isObtuse=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=r*o+i*s;return a<0},Er.interiorAngle=function(e,t,n){var r=Er.angle(t,e),i=Er.angle(t,n);return Math.abs(i-r)},Er.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Er.PI_TIMES_2;e>=Er.PI_TIMES_2&&(e=0)}else{for(;e>=Er.PI_TIMES_2;)e-=Er.PI_TIMES_2;e<0&&(e=0)}return e},Er.angleBetween=function(e,t,n){var r=Er.angle(t,e),i=Er.angle(t,n);return Er.diff(r,i)},Er.diff=function(e,t){var n=null;return n=e<t?t-e:e-t,n>Math.PI&&(n=2*Math.PI-n),n},Er.toRadians=function(e){return e*Math.PI/180},Er.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?Er.COUNTERCLOCKWISE:n<0?Er.CLOCKWISE:Er.NONE},Er.angleBetweenOriented=function(e,t,n){var r=Er.angle(t,e),i=Er.angle(t,n),o=i-r;return o<=-Math.PI?o+Er.PI_TIMES_2:o>Math.PI?o-Er.PI_TIMES_2:o},Er.PI_TIMES_2=2*Math.PI,Er.PI_OVER_2=Math.PI/2,Er.PI_OVER_4=Math.PI/4,Er.COUNTERCLOCKWISE=ut.COUNTERCLOCKWISE,Er.CLOCKWISE=ut.CLOCKWISE,Er.NONE=ut.COLLINEAR,t(Cr.prototype,{area:function(){return Cr.area(this.p0,this.p1,this.p2)},signedArea:function(){return Cr.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(e){if(null===e)throw new r("Supplied point is null.");return Cr.interpolateZ(e,this.p0,this.p1,this.p2)},longestSideLength:function(){return Cr.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return Cr.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return Cr.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return Cr.area3D(this.p0,this.p1,this.p2)},centroid:function(){return Cr.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return Cr.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return Cr}}),Cr.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},Cr.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},Cr.det=function(e,t,n,r){return e*r-t*n},Cr.interpolateZ=function(e,t,n,r){var i=t.x,o=t.y,s=n.x-i,a=r.x-i,l=n.y-o,c=r.y-o,u=s*c-a*l,h=e.x-i,d=e.y-o,p=(c*h-a*d)/u,f=(-l*h+s*d)/u,g=t.z+p*(n.z-t.z)+f*(r.z-t.z);return g},Cr.longestSideLength=function(e,t,n){var r=e.distance(t),i=t.distance(n),o=n.distance(e),s=r;return i>s&&(s=i),o>s&&(s=o),s},Cr.isAcute=function(e,t,n){return!!Er.isAcute(e,t,n)&&!!Er.isAcute(t,n,e)&&!!Er.isAcute(n,e,t)},Cr.circumcentre=function(e,t,n){var r=n.x,i=n.y,o=e.x-r,s=e.y-i,a=t.x-r,l=t.y-i,c=2*Cr.det(o,s,a,l),u=Cr.det(s,o*o+s*s,l,a*a+l*l),h=Cr.det(o,o*o+s*s,a,a*a+l*l),d=r-u/c,f=i+h/c;return new p(d,f)},Cr.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new P(e.x+n/2,e.y+r/2,1),o=new P(e.x-r+n/2,e.y+n+r/2,1);return new P(i,o)},Cr.angleBisector=function(e,t,n){var r=t.distance(e),i=t.distance(n),o=r/(r+i),s=n.x-e.x,a=n.y-e.y,l=new p(e.x+o*s,e.y+o*a);return l},Cr.area3D=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=t.z-e.z,s=n.x-e.x,a=n.y-e.y,l=n.z-e.z,c=i*l-o*a,u=o*s-r*l,h=r*a-i*s,d=c*c+u*u+h*h,p=Math.sqrt(d)/2;return p},Cr.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new p(r,i)},Cr.inCentre=function(e,t,n){var r=t.distance(n),i=e.distance(n),o=e.distance(t),s=r+i+o,a=(r*e.x+i*t.x+o*n.x)/s,l=(r*e.y+i*t.y+o*n.y)/s;return new p(a,l)},t(Sr.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var e=this.extremalPts[0],t=this.extremalPts[1];return this.input.getFactory().createLineString([e,t])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var e=this.input.getCoordinates();return this.extremalPts=[new p(e[0])],null}var t=this.input.convexHull(),n=t.getCoordinates(),e=n;if(n[0].equals2D(n[n.length-1])&&(e=new Array(n.length-1).fill(null),H.copyDeep(n,0,e,0,n.length-1)),e.length<=2)return this.extremalPts=H.copyDeep(e),null;for(var r=Sr.lowestPoint(e),i=Sr.pointWitMinAngleWithX(e,r),o=0;o<e.length;o++){var s=Sr.pointWithMinAngleWithSegment(e,r,i);if(Er.isObtuse(r,s,i))return this.extremalPts=[new p(r),new p(i)],null;if(Er.isObtuse(s,r,i))r=s;else{if(!Er.isObtuse(s,i,r))return this.extremalPts=[new p(r),new p(i),new p(s)],null;i=s}}d.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var e=this.extremalPts[0],t=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([e,t])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var e=this.input.getFactory().createPoint(this.centre);return 0===this.radius?e:e.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new p((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=Cr.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return Sr}}),Sr.pointWitMinAngleWithX=function(e,t){for(var n=i.MAX_VALUE,r=null,o=0;o<e.length;o++){var s=e[o];if(s!==t){var a=s.x-t.x,l=s.y-t.y;l<0&&(l=-l);var c=Math.sqrt(a*a+l*l),u=l/c;u<n&&(n=u,r=s)}}return r},Sr.lowestPoint=function(e){for(var t=e[0],n=1;n<e.length;n++)e[n].y<t.y&&(t=e[n]);return t},Sr.pointWithMinAngleWithSegment=function(e,t,n){for(var r=i.MAX_VALUE,o=null,s=0;s<e.length;s++){var a=e[s];if(a!==t&&a!==n){var l=Er.angleBetween(t,a,n);l<r&&(r=l,o=a)}}return o},t(kr.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var e=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([e,this.minWidthPt])},computeWidthConvex:function(e){e instanceof Te?this.convexHullPts=e.getExteriorRing().getCoordinates():this.convexHullPts=e.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(e){this.minWidth=i.MAX_VALUE;for(var t=1,n=new ht,r=0;r<e.length-1;r++)n.p0=e[r],n.p1=e[r+1],t=this.findMaxPerpDistance(e,n,t)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var e=new vt(this.inputGeom).getConvexHull();this.computeWidthConvex(e)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(e,t,n){for(var r=t.distancePerpendicular(e[n]),i=r,o=n,s=o;i>=r;)r=i,o=s,s=kr.nextIndex(e,o),i=t.distancePerpendicular(e[s]);return r<this.minWidth&&(this.minPtIndex=o,this.minWidth=r,this.minWidthPt=e[this.minPtIndex],this.minBaseSeg=new ht(t)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var e=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,t=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=i.MAX_VALUE,r=-i.MAX_VALUE,o=i.MAX_VALUE,s=-i.MAX_VALUE,a=0;a<this.convexHullPts.length;a++){var l=kr.computeC(e,t,this.convexHullPts[a]);l>r&&(r=l),l<n&&(n=l);var c=kr.computeC(-t,e,this.convexHullPts[a]);c>s&&(s=c),c<o&&(o=c)}var u=kr.computeSegmentForLine(-e,-t,s),h=kr.computeSegmentForLine(-e,-t,o),d=kr.computeSegmentForLine(-t,e,r),p=kr.computeSegmentForLine(-t,e,n),f=d.lineIntersection(u),g=p.lineIntersection(u),m=p.lineIntersection(h),v=d.lineIntersection(h),y=this.inputGeom.getFactory().createLinearRing([f,g,m,v,f]);return this.inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.nextIndex=function(e,t){return t++,t>=e.length&&(t=0),t},kr.computeC=function(e,t,n){return e*n.y-t*n.x},kr.getMinimumDiameter=function(e){return new kr(e).getDiameter()},kr.getMinimumRectangle=function(e){return new kr(e).getMinimumRectangle()},kr.computeSegmentForLine=function(e,t,n){var r=null,i=null;return Math.abs(t)>Math.abs(e)?(r=new p(0,n/t),i=new p(1,n/t-e/t)):(r=new p(n/e,0),i=new p(n/e-t/e,1)),new ht(r,i)};var ds=Object.freeze({Centroid:pt,CGAlgorithms:ut,ConvexHull:vt,InteriorPointArea:sr,InteriorPointLine:lr,InteriorPointPoint:cr,RobustLineIntersector:at,MCPointInRing:xr,MinimumBoundingCircle:Sr,MinimumDiameter:kr});t(Ar.prototype,{getResultGeometry:function(){return new Tr(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(e){if(e<=0)throw new r("Tolerance must be positive");this.distanceTolerance=e},interfaces_:function(){return[]},getClass:function(){return Ar}}),Ar.densifyPoints=function(e,t,n){for(var r=new ht,i=new _,o=0;o<e.length-1;o++){r.p0=e[o],r.p1=e[o+1],i.add(r.p0,!1);var s=r.getLength(),a=Math.trunc(s/t)+1;if(a>1)for(var l=s/a,c=1;c<a;c++){var u=c*l/s,h=r.pointAlong(u);n.makePrecise(h),i.add(h,!1)}}return i.add(e[e.length-1],!1),i.toCoordinateArray()},Ar.densify=function(e,t){var n=new Ar(e);return n.setDistanceTolerance(t),n.getResultGeometry()},u(Tr,bt),t(Tr.prototype,{transformMultiPolygon:function(e,t){var n=bt.prototype.transformMultiPolygon.call(this,e,t);return this.createValidArea(n)},transformPolygon:function(e,t){var n=bt.prototype.transformPolygon.call(this,e,t);return t instanceof Re?n:this.createValidArea(n)},transformCoordinates:function(e,t){var n=e.toCoordinateArray(),r=Ar.densifyPoints(n,this.distanceTolerance,t.getPrecisionModel());return t instanceof Ce&&1===r.length&&(r=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(r)},createValidArea:function(e){return e.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Tr}}),Ar.DensifyTransformer=Tr;var ps=Object.freeze({Densifier:Ar});t(Fr.prototype,{find:function(e){var t=this;do{if(null===t)return null;if(t.dest().equals2D(e))return t;t=t.oNext()}while(t!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(e){if(this.oNext()===this)return this.insertAfter(e),null;var t=this.compareTo(e),n=this;do{var r=n.oNext(),i=r.compareTo(e);if(i!==t||r===this)return n.insertAfter(e),null;n=r}while(n!==this);d.shouldNeverReachHere()},insertAfter:function(e){d.equals(this._orig,e.orig());var t=this.oNext();this._sym.setNext(e),e.sym().setNext(t)},degree:function e(){var e=0,t=this;do e++,t=t.oNext();while(t!==this);return e},equals:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this._orig.equals2D(e)&&this._sym._orig.equals(t)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(e){var t=this.deltaX(),n=this.deltaY(),r=e.deltaX(),i=e.deltaY();if(t===r&&n===i)return 0;var o=Zt.quadrant(t,n),s=Zt.quadrant(r,i);return o>s?1:o<s?-1:ut.computeOrientation(e._orig,e.dest(),this.dest())},prevNode:function(){for(var e=this;2===e.degree();)if(e=e.prev(),e===this)return null;return e},compareTo:function(e){var t=e,n=this.compareAngularDirection(t);return n},next:function(){return this._next},setSym:function(e){this._sym=e},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(e){this._next=e},init:function(e){this.setSym(e),e.setSym(this),this.setNext(e),e.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Fr}}),Fr.init=function(e,t){if(null!==e._sym||null!==t._sym||null!==e._next||null!==t._next)throw new IllegalStateException("Edges are already initialized");return e.init(t),e},Fr.create=function(e,t){var n=new Fr(e),r=new Fr(t);return n.init(r),n},u(Lr,Fr),t(Lr.prototype,{mark:function(){this._isMarked=!0},setMark:function(e){this._isMarked=e},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return Lr}}),Lr.setMarkBoth=function(e,t){e.setMark(t),e.sym().setMark(t)},Lr.isMarked=function(e){return e.isMarked()},Lr.setMark=function(e,t){e.setMark(t)},Lr.markBoth=function(e){e.mark(),e.sym().mark()},Lr.mark=function(e){e.mark()},t(Rr.prototype,{insert:function(e,t,n){var r=this.create(e,t);null!==n?n.insert(r):this.vertexMap.put(e,r);var i=this.vertexMap.get(t);return null!==i?i.insert(r.sym()):this.vertexMap.put(t,r.sym()),r},create:function(e,t){var n=this.createEdge(e),r=this.createEdge(t);return Fr.init(n,r),n},createEdge:function(e){return new Fr(e)},addEdge:function(e,t){if(!Rr.isValidEdge(e,t))return null;var n=this.vertexMap.get(e),r=null;if(null!==n&&(r=n.find(t)),null!==r)return r;var i=this.insert(e,t,n);return i},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(e,t){var n=this.vertexMap.get(e);return null===n?null:n.find(t)},interfaces_:function(){return[]},getClass:function(){return Rr}}),Rr.isValidEdge=function(e,t){var n=t.compareTo(e);return 0!==n},u(Mr,Lr),t(Mr.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return Mr}}),u(Ir,Rr),t(Ir.prototype,{createEdge:function(e){return new Mr(e)},interfaces_:function(){return[]},getClass:function(){return Ir}}),t(Dr.prototype,{addLine:function(e){this.lines.add(this.factory.createLineString(e.toCoordinateArray()))},updateRingStartEdge:function(e){return e.isStart()||(e=e.sym(),e.isStart())?null===this.ringStartEdge?(this.ringStartEdge=e,null):void(e.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=e)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(e){var t=e.prevNode();null===t&&(t=e),this.stackEdges(t),this.buildLines()},buildRing:function(e){var t=new _,n=e;for(t.add(n.orig().copy(),!1);2===n.sym().degree();){var r=n.next();if(r===e)break;t.add(r.orig().copy(),!1),n=r}t.add(n.dest().copy(),!1),this.addLine(t)},buildLine:function(e){var t=new _,n=e;for(this.ringStartEdge=null,Lr.markBoth(n),t.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var r=n.next();if(r===e)return this.buildRing(this.ringStartEdge),null;t.add(r.orig().copy(),!1),n=r,Lr.markBoth(n)}t.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(t)},stackEdges:function(e){var t=e;do Lr.isMarked(t)||this.nodeEdgeStack.add(t),t=t.oNext();while(t!==e)},computeResult:function(){for(var e=this.graph.getVertexEdges(),t=e.iterator();t.hasNext();){var n=t.next();Lr.isMarked(n)||this.process(n)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var e=this.nodeEdgeStack.pop();Lr.isMarked(e)||this.buildLine(e)}},add:function(){if(arguments[0]instanceof $){var e=arguments[0];e.apply({interfaces_:function(){return[B]},filter:function(e){e instanceof Ce&&this.add(e)}})}else if(A(arguments[0],m))for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();this.add(r)}else if(arguments[0]instanceof Ce){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory());for(var o=i.getCoordinateSequence(),s=!1,n=1;n<o.size();n++){var a=this.graph.addEdge(o.getCoordinate(n-1),o.getCoordinate(n));null!==a&&(s||(a.setStart(),s=!0))}}},interfaces_:function(){return[]},getClass:function(){return Dr}}),Dr.dissolve=function(e){var t=new Dr;return t.add(e),t.getResult()};var fs=Object.freeze({LineDissolver:Dr}),gs=Object.freeze({GeometryGraph:Qn});t(Nr.prototype,{hasChildren:function(){for(var e=0;e<4;e++)if(null!==this.subnode[e])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(e){e.addAll(this.items);for(var t=0;t<4;t++)null!==this.subnode[t]&&this.subnode[t].addAllItems(e);return e},getNodeCount:function(){for(var e=0,t=0;t<4;t++)null!==this.subnode[t]&&(e+=this.subnode[t].size());return e+1},size:function(){for(var e=0,t=0;t<4;t++)null!==this.subnode[t]&&(e+=this.subnode[t].size());return e+this.items.size()},addAllItemsFromOverlapping:function(e,t){if(!this.isSearchMatch(e))return null;t.addAll(this.items);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(e,t)},visitItems:function(e,t){for(var n=this.items.iterator();n.hasNext();)t.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(e,t){if(!this.isSearchMatch(e))return!1;for(var n=!1,r=0;r<4;r++)if(null!==this.subnode[r]&&(n=this.subnode[r].remove(e,t))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n?n:n=this.items.remove(t)},visit:function(e,t){if(!this.isSearchMatch(e))return null;this.visitItems(e,t);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].visit(e,t)},getItems:function(){return this.items},depth:function(){for(var e=0,t=0;t<4;t++)if(null!==this.subnode[t]){var n=this.subnode[t].depth();n>e&&(e=n)}return e+1},isEmpty:function e(){var e=!0;this.items.isEmpty()||(e=!1);for(var t=0;t<4;t++)null!==this.subnode[t]&&(this.subnode[t].isEmpty()||(e=!1));return e},add:function(e){this.items.add(e)},interfaces_:function(){return[l]},getClass:function(){return Nr}}),Nr.getSubnodeIndex=function(e,t,n){var r=-1;return e.getMinX()>=t&&(e.getMinY()>=n&&(r=3),e.getMaxY()<=n&&(r=1)),e.getMaxX()<=t&&(e.getMinY()>=n&&(r=2),e.getMaxY()<=n&&(r=0)),r},t(Pr.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var e=arguments[0];for(this.level=Pr.computeQuadLevel(e),this.env=new E,this.computeKey(this.level,e);!this.env.contains(e);)this.level+=1,this.computeKey(this.level,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=pr.powerOf2(t);this.pt.x=Math.floor(n.getMinX()/r)*r,this.pt.y=Math.floor(n.getMinY()/r)*r,this.env.init(this.pt.x,this.pt.x+r,this.pt.y,this.pt.y+r)}},getEnvelope:function(){return this.env},getCentre:function(){return new p((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Pr}}),Pr.computeQuadLevel=function(e){var t=e.getWidth(),n=e.getHeight(),r=t>n?t:n,i=pr.exponent(r)+1;return i},u(Or,Nr),t(Or.prototype,{find:function(e){var t=Nr.getSubnodeIndex(e,this.centrex,this.centrey);if(t===-1)return this;if(null!==this.subnode[t]){var n=this.subnode[t];return n.find(e)}return this},isSearchMatch:function(e){return this.env.intersects(e)},getSubnode:function(e){return null===this.subnode[e]&&(this.subnode[e]=this.createSubnode(e)),this.subnode[e]},getEnvelope:function(){return this.env},getNode:function(e){var t=Nr.getSubnodeIndex(e,this.centrex,this.centrey);if(t!==-1){var n=this.getSubnode(t);return n.getNode(e)}return this},createSubnode:function(e){var t=0,n=0,r=0,i=0;switch(e){case 0:t=this.env.getMinX(),n=this.centrex,r=this.env.getMinY(),i=this.centrey;break;case 1:t=this.centrex,n=this.env.getMaxX(),r=this.env.getMinY(),i=this.centrey;break;case 2:t=this.env.getMinX(),n=this.centrex,r=this.centrey,i=this.env.getMaxY();break;case 3:t=this.centrex,n=this.env.getMaxX(),r=this.centrey,i=this.env.getMaxY()}var o=new E(t,n,r,i),s=new Or(o,this.level-1);return s},insertNode:function(e){d.isTrue(null===this.env||this.env.contains(e.env));var t=Nr.getSubnodeIndex(e.env,this.centrex,this.centrey);if(e.level===this.level-1)this.subnode[t]=e;else{var n=this.createSubnode(t);n.insertNode(e),this.subnode[t]=n}},interfaces_:function(){return[]},getClass:function(){return Or}}),Or.createNode=function(e){var t=new Pr(e),n=new Or(t.getEnvelope(),t.getLevel());return n},Or.createExpanded=function(e,t){var n=new E(t);null!==e&&n.expandToInclude(e.env);var r=Or.createNode(n);return null!==e&&r.insertNode(e),r},u(Br,Nr),t(Br.prototype,{insert:function(e,t){var n=Nr.getSubnodeIndex(e,Br.origin.x,Br.origin.y);if(n===-1)return this.add(t),null;var r=this.subnode[n];if(null===r||!r.getEnvelope().contains(e)){var i=Or.createExpanded(r,e);this.subnode[n]=i}this.insertContained(this.subnode[n],e,t)},isSearchMatch:function(e){return!0},insertContained:function(e,t,n){d.isTrue(e.getEnvelope().contains(t));var r=vr.isZeroWidth(t.getMinX(),t.getMaxX()),i=vr.isZeroWidth(t.getMinY(),t.getMaxY()),o=null;o=r||i?e.find(t):e.getNode(t),o.add(n)},interfaces_:function(){return[]},getClass:function(){return Br}}),Br.origin=new p(0,0),t($r.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(e,t){this.collectStats(e);var n=$r.ensureExtent(e,this.minExtent);this.root.insert(n,t)},query:function(){if(1===arguments.length){var e=arguments[0],t=new Vn;return this.query(e,t),t.getItems()}if(2===arguments.length){var n=arguments[0],r=arguments[1];this.root.visit(n,r)}},queryAll:function(){var e=new x;return this.root.addAllItems(e),e},remove:function(e,t){var n=$r.ensureExtent(e,this.minExtent);return this.root.remove(n,t)},collectStats:function(e){var t=e.getWidth();t<this.minExtent&&t>0&&(this.minExtent=t);var n=e.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[Pt,l]},getClass:function(){return $r}}),$r.ensureExtent=function(e,t){var n=e.getMinX(),r=e.getMaxX(),i=e.getMinY(),o=e.getMaxY();return n!==r&&i!==o?e:(n===r&&(n-=t/2,r=n+t/2),i===o&&(i-=t/2,o=i+t/2),new E(n,r,i,o))},$r.serialVersionUID=-0x678b60c967a25400;var ms=Object.freeze({Quadtree:$r}),vs=Object.freeze({STRtree:Ut}),ys=Object.freeze({quadtree:ms,strtree:vs}),bs=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];t(jr.prototype,{read:function(e){var t=void 0;t="string"==typeof e?JSON.parse(e):e;var n=t.type;if(!ws[n])throw new Error("Unknown GeoJSON type: "+t.type);return bs.indexOf(n)!==-1?ws[n].apply(this,[t.coordinates]):"GeometryCollection"===n?ws[n].apply(this,[t.geometries]):ws[n].apply(this,[t])},write:function(e){var t=e.getGeometryType();if(!xs[t])throw new Error("Geometry is not supported");return xs[t].apply(this,[e])}});var ws={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!ws[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=ws.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function e(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new p(r[0],r[1]))}return e},bbox:function(e){return this.geometryFactory.createLinearRing([new p(e[0],e[1]),new p(e[2],e[1]),new p(e[2],e[3]),new p(e[0],e[3]),new p(e[0],e[1])])},Point:function(e){var t=new p(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(ws.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=ws.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(ws.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=ws.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],i=1;i<e.length;++i){var o=e[i],s=ws.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(ws.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},xs={coordinate:function(e){return[e.x,e.y]},Point:function(e){var t=xs.coordinate.apply(this,[e.getCoordinate()]);return{type:"Point",coordinates:t}},MultiPoint:function(e){for(var t=[],n=0;n<e.geometries.length;++n){var r=e.geometries[n],i=xs.Point.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var i=n[r];t.push(xs.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e.geometries.length;++n){var r=e.geometries[n],i=xs.LineString.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=xs.LineString.apply(this,[e.shell]);t.push(n.coordinates);for(var r=0;r<e.holes.length;++r){var i=e.holes[r],o=xs.LineString.apply(this,[i]);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e.geometries.length;++n){var r=e.geometries[n],i=xs.Polygon.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e.geometries.length;++n){var r=e.geometries[n],i=r.getGeometryType();t.push(xs[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}};t(zr.prototype,{read:function(e){var t=this.parser.read(e);return this.precisionModel.getType()===tt.FIXED&&this.reducePrecision(t),t},reducePrecision:function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])}}),t(Ur.prototype,{write:function(e){return this.parser.write(e)}}),t(Vr.prototype,{read:function(e){var t=this.parser.read(e);return this.precisionModel.getType()===tt.FIXED&&this.reducePrecision(t),t},reducePrecision:function(e){if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(var t=0,n=e.points.coordinates.length;t<n;t++)this.precisionModel.makePrecise(e.points.coordinates[t]);else if(e.geometries)for(var r=0,i=e.geometries.length;r<i;r++)this.reducePrecision(e.geometries[r])}}),t(qr.prototype,{read:function(e){var t=this.ol;return e instanceof t.geom.Point?this.convertFromPoint(e):e instanceof t.geom.LineString?this.convertFromLineString(e):e instanceof t.geom.LinearRing?this.convertFromLinearRing(e):e instanceof t.geom.Polygon?this.convertFromPolygon(e):e instanceof t.geom.MultiPoint?this.convertFromMultiPoint(e):e instanceof t.geom.MultiLineString?this.convertFromMultiLineString(e):e instanceof t.geom.MultiPolygon?this.convertFromMultiPolygon(e):e instanceof t.geom.GeometryCollection?this.convertFromCollection(e):void 0},convertFromPoint:function(e){var t=e.getCoordinates();return this.geometryFactory.createPoint(new p(t[0],t[1]))},convertFromLineString:function(e){return this.geometryFactory.createLineString(e.getCoordinates().map(function(e){return new p(e[0],e[1])}))},convertFromLinearRing:function(e){return this.geometryFactory.createLinearRing(e.getCoordinates().map(function(e){return new p(e[0],e[1])}))},convertFromPolygon:function(e){for(var t=e.getLinearRings(),n=null,r=[],i=0;i<t.length;i++){var o=this.convertFromLinearRing(t[i]);0===i?n=o:r.push(o)}return this.geometryFactory.createPolygon(n,r)},convertFromMultiPoint:function(e){var t=e.getPoints().map(function(e){return this.convertFromPoint(e)},this);return this.geometryFactory.createMultiPoint(t)},convertFromMultiLineString:function(e){var t=e.getLineStrings().map(function(e){return this.convertFromLineString(e)},this);return this.geometryFactory.createMultiLineString(t)},convertFromMultiPolygon:function(e){var t=e.getPolygons().map(function(e){return this.convertFromPolygon(e)},this);return this.geometryFactory.createMultiPolygon(t)},convertFromCollection:function(e){var t=e.getGeometries().map(function(e){return this.read(e)},this);return this.geometryFactory.createGeometryCollection(t)},write:function(e){return"Point"===e.getGeometryType()?this.convertToPoint(e.getCoordinate()):"LineString"===e.getGeometryType()?this.convertToLineString(e):"LinearRing"===e.getGeometryType()?this.convertToLinearRing(e):"Polygon"===e.getGeometryType()?this.convertToPolygon(e):"MultiPoint"===e.getGeometryType()?this.convertToMultiPoint(e):"MultiLineString"===e.getGeometryType()?this.convertToMultiLineString(e):"MultiPolygon"===e.getGeometryType()?this.convertToMultiPolygon(e):"GeometryCollection"===e.getGeometryType()?this.convertToCollection(e):void 0},convertToPoint:function(e){return new this.ol.geom.Point([e.x,e.y])},convertToLineString:function(e){var t=e.points.coordinates.map(Wr);return new this.ol.geom.LineString(t)},convertToLinearRing:function(e){var t=e.points.coordinates.map(Wr);return new this.ol.geom.LinearRing(t)},convertToPolygon:function(e){for(var t=[e.shell.points.coordinates.map(Wr)],n=0;n<e.holes.length;n++)t.push(e.holes[n].points.coordinates.map(Wr));return new this.ol.geom.Polygon(t)},convertToMultiPoint:function(e){return new this.ol.geom.MultiPoint(e.getCoordinates().map(Wr))},convertToMultiLineString:function(e){for(var t=[],n=0;n<e.geometries.length;n++)t.push(this.convertToLineString(e.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(t)},convertToMultiPolygon:function(e){for(var t=[],n=0;n<e.geometries.length;n++)t.push(this.convertToPolygon(e.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(t)},convertToCollection:function(e){for(var t=[],n=0;n<e.geometries.length;n++){var r=e.geometries[n];t.push(this.write(r))}return new this.ol.geom.GeometryCollection(t)}});var _s=Object.freeze({GeoJSONReader:zr,GeoJSONWriter:Ur,OL3Parser:qr,WKTReader:Vr,WKTWriter:ot});t(Hr.prototype,{rescale:function(){if(A(arguments[0],m))for(var e=arguments[0],t=e.iterator();t.hasNext();){var n=t.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var r=arguments[0],i=null,o=null;2===r.length&&(i=new p(r[0]),o=new p(r[1]));for(var t=0;t<r.length;t++)r[t].x=r[t].x/this.scaleFactor+this.offsetX,r[t].y=r[t].y/this.scaleFactor+this.offsetY;2===r.length&&r[0].equals2D(r[1])&&N.out.println(r);
}},scale:function(){if(A(arguments[0],m)){for(var e=arguments[0],t=new x,n=e.iterator();n.hasNext();){var r=n.next();t.add(new Yt(this.scale(r.getCoordinates()),r.getData()))}return t}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),n=0;n<i.length;n++)o[n]=new p(Math.round((i[n].x-this.offsetX)*this.scaleFactor),Math.round((i[n].y-this.offsetY)*this.scaleFactor),i[n].z);var s=H.removeRepeatedPoints(o);return s}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var e=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(e),e},computeNodes:function(e){var t=e;this.isScaled&&(t=this.scale(e)),this.noder.computeNodes(t)},interfaces_:function(){return[en]},getClass:function(){return Hr}});var Es=Object.freeze({MCIndexNoder:nn,ScaledNoder:Hr,SegmentString:Lt});t(Gr.prototype,{isSimpleMultiPoint:function(e){if(e.isEmpty())return!0;for(var t=new ae,n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n),i=r.getCoordinate();if(t.contains(i))return this.nonSimpleLocation=i,!1;t.add(i)}return!0},isSimplePolygonal:function(e){for(var t=Un.getLines(e),n=t.iterator();n.hasNext();){var r=n.next();if(!this.isSimpleLinearGeometry(r))return!1}return!0},hasClosedEndpointIntersection:function(e){for(var t=new ie,n=e.getEdgeIterator();n.hasNext();){var r=n.next(),i=(r.getMaximumSegmentIndex(),r.isClosed()),o=r.getCoordinate(0);this.addEndpoint(t,o,i);var s=r.getCoordinate(r.getNumPoints()-1);this.addEndpoint(t,s,i)}for(var n=t.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this.nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(e){if(e.isEmpty())return!0;var t=new Qn(0,e),n=new at,r=t.computeSelfNodes(n,!0);return!(r.hasIntersection()&&(r.hasProperIntersection()?(this.nonSimpleLocation=r.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(t)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(t)))},hasNonEndpointIntersection:function(e){for(var t=e.getEdgeIterator();t.hasNext();)for(var n=t.next(),r=n.getMaximumSegmentIndex(),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next();if(!o.isEndPoint(r))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(e,t,n){var r=e.get(t);null===r&&(r=new Kr(t),e.put(t,r)),r.addEndpoint(n)},computeSimple:function(e){return this.nonSimpleLocation=null,!!e.isEmpty()||(e instanceof Ce?this.isSimpleLinearGeometry(e):e instanceof pe?this.isSimpleLinearGeometry(e):e instanceof Fe?this.isSimpleMultiPoint(e):A(e,Ae)?this.isSimplePolygonal(e):!(e instanceof de)||this.isSimpleGeometryCollection(e))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Gr}}),t(Kr.prototype,{addEndpoint:function(e){this.degree++,this.isClosed|=e},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Kr}}),Gr.EndpointInfo=Kr,t(Yr.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(e){this.quadrantSegments=e,0===this.quadrantSegments&&(this.joinStyle=Yr.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=Yr.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),e<=0&&(this.quadrantSegments=1),this.joinStyle!==Yr.JOIN_ROUND&&(this.quadrantSegments=Yr.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(e){this.joinStyle=e},setSimplifyFactor:function(e){this.simplifyFactor=e<0?0:e},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(e){this.endCapStyle=e},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(e){this.mitreLimit=e},setSingleSided:function(e){this._isSingleSided=e},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},Yr.CAP_ROUND=1,Yr.CAP_FLAT=2,Yr.CAP_SQUARE=3,Yr.JOIN_ROUND=1,Yr.JOIN_MITRE=2,Yr.JOIN_BEVEL=3,Yr.DEFAULT_QUADRANT_SEGMENTS=8,Yr.DEFAULT_MITRE_LIMIT=5,Yr.DEFAULT_SIMPLIFY_FACTOR=.01,t(Xr.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this.minCoord=null,this.checkForRightmostCoordinate(e)),n},findRightmostEdgeAtVertex:function(){var e=this.minDe.getEdge().getCoordinates();d.isTrue(this.minIndex>0&&this.minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this.minIndex-1],n=e[this.minIndex+1],r=ut.computeOrientation(this.minCoord,n,t),i=!1;t.y<this.minCoord.y&&n.y<this.minCoord.y&&r===ut.COUNTERCLOCKWISE?i=!0:t.y>this.minCoord.y&&n.y>this.minCoord.y&&r===ut.CLOCKWISE&&(i=!0),i&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(e,t){var n=e.getEdge(),r=n.getCoordinates();if(t<0||t+1>=r.length)return-1;if(r[t].y===r[t+1].y)return-1;var i=hn.LEFT;return r[t].y<r[t+1].y&&(i=hn.RIGHT),i},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this.minCoord||t[n].x>this.minCoord.x)&&(this.minDe=e,this.minIndex=n,this.minCoord=t[n])},findRightmostEdgeAtNode:function(){var e=this.minDe.getNode(),t=e.getEdges();this.minDe=t.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}d.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe;var r=this.getRightmostSide(this.minDe,this.minIndex);r===hn.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Xr}}),Jr.prototype.addLast=function(e){this.array_.push(e)},Jr.prototype.removeFirst=function(){return this.array_.shift()},Jr.prototype.isEmpty=function(){return 0===this.array_.length},t(Zr.prototype,{clearVisitedEdges:function(){for(var e=this.dirEdgeList.iterator();e.hasNext();){var t=e.next();t.setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new on("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();r.setVisited(!0),this.copySymDepths(r)}},computeDepth:function(e){this.clearVisitedEdges();var t=this.finder.getEdge();t.getNode(),t.getLabel(),t.setEdgeDepths(hn.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},create:function(e){this.addReachable(e),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var e=this.dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(hn.RIGHT)>=1&&t.getDepth(hn.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},computeDepths:function(e){var t=new Z,n=new Jr,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();t.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next(),a=s.getSym();if(!a.isVisited()){var l=a.getNode();t.contains(l)||(n.addLast(l),t.add(l))}}}},compareTo:function(e){var t=e;return this.rightMostCoord.x<t.rightMostCoord.x?-1:this.rightMostCoord.x>t.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var e=new E,t=this.dirEdgeList.iterator();t.hasNext();)for(var n=t.next(),r=n.getEdge().getCoordinates(),i=0;i<r.length-1;i++)e.expandToInclude(r[i]);this.env=e}return this.env},addReachable:function(e){var t=new gt;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},copySymDepths:function(e){var t=e.getSym();t.setDepth(hn.LEFT,e.getDepth(hn.RIGHT)),t.setDepth(hn.RIGHT,e.getDepth(hn.LEFT))},add:function(e,t){e.setVisited(!0),this.nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this.dirEdgeList.add(r);var i=r.getSym(),o=i.getNode();o.isVisited()||t.push(o)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[o]},getClass:function(){return Zr}}),t(Qr.prototype,{isDeletable:function(e,t,n,r){var i=this.inputLine[e],o=this.inputLine[t],s=this.inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,e,n,r)},deleteShallowConcavities:function(){for(var e=1,t=(this.inputLine.length-1,this.findNextNonDeletedIndex(e)),n=this.findNextNonDeletedIndex(t),r=!1;n<this.inputLine.length;){var i=!1;this.isDeletable(e,t,n,this.distanceTol)&&(this.isDeleted[t]=Qr.DELETE,i=!0,r=!0),e=i?n:t,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t)}return r},isShallowConcavity:function(e,t,n,r){var i=ut.computeOrientation(e,t,n),o=i===this.angleOrientation;if(!o)return!1;var s=ut.distancePointLine(t,e,n);return s<r},isShallowSampled:function(e,t,n,r,i){var o=Math.trunc((r-n)/Qr.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(e,t,this.inputLine[s],i))return!1;return!0},isConcave:function e(t,n,r){var i=ut.computeOrientation(t,n,r),e=i===this.angleOrientation;return e},simplify:function(e){this.distanceTol=Math.abs(e),e<0&&(this.angleOrientation=ut.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var t=!1;do t=this.deleteShallowConcavities();while(t);return this.collapseLine()},findNextNonDeletedIndex:function(e){for(var t=e+1;t<this.inputLine.length&&this.isDeleted[t]===Qr.DELETE;)t++;return t},isShallow:function(e,t,n,r){var i=ut.distancePointLine(t,e,n);return i<r},collapseLine:function(){for(var e=new _,t=0;t<this.inputLine.length;t++)this.isDeleted[t]!==Qr.DELETE&&e.add(this.inputLine[t]);return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.simplify=function(e,t){var n=new Qr(e);return n.simplify(t)},Qr.INIT=0,Qr.DELETE=1,Qr.KEEP=1,Qr.NUM_PTS_TO_CHECK=10,t(ei.prototype,{getCoordinates:function(){var e=this.ptList.toArray(ei.COORDINATE_ARRAY_TYPE);return e},setPrecisionModel:function(e){this.precisionModel=e},addPt:function(e){var t=new p(e);return this.precisionModel.makePrecise(t),this.isRedundant(t)?null:void this.ptList.add(t)},reverse:function(){},addPts:function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var n=e.length-1;n>=0;n--)this.addPt(e[n])},isRedundant:function(e){if(this.ptList.size()<1)return!1;var t=this.ptList.get(this.ptList.size()-1),n=e.distance(t);return n<this.minimimVertexDistance},toString:function(){var e=new rt,t=e.createLineString(this.getCoordinates());return t.toString()},closeRing:function(){if(this.ptList.size()<1)return null;var e=new p(this.ptList.get(0)),t=this.ptList.get(this.ptList.size()-1),n=null;return this.ptList.size()>=2&&(n=this.ptList.get(this.ptList.size()-2)),e.equals(t)?null:void this.ptList.add(e)},setMinimumVertexDistance:function(e){this.minimimVertexDistance=e},interfaces_:function(){return[]},getClass:function(){return ei}}),ei.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),t(ti.prototype,{addNextSegment:function(e,t){if(this.s0=this.s1,this.s1=this.s2,this.s2=e,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=ut.computeOrientation(this.s0,this.s1,this.s2),r=n===ut.CLOCKWISE&&this.side===hn.LEFT||n===ut.COUNTERCLOCKWISE&&this.side===hn.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},addLineEndCap:function(e,t){var n=new ht(e,t),r=new ht;this.computeOffsetSegment(n,hn.LEFT,this.distance,r);var i=new ht;this.computeOffsetSegment(n,hn.RIGHT,this.distance,i);var o=t.x-e.x,s=t.y-e.y,a=Math.atan2(s,o);switch(this.bufParams.getEndCapStyle()){case Yr.CAP_ROUND:this.segList.addPt(r.p1),this.addFilletArc(t,a+Math.PI/2,a-Math.PI/2,ut.CLOCKWISE,this.distance),this.segList.addPt(i.p1);break;case Yr.CAP_FLAT:this.segList.addPt(r.p1),this.segList.addPt(i.p1);break;case Yr.CAP_SQUARE:var l=new p;l.x=Math.abs(this.distance)*Math.cos(a),l.y=Math.abs(this.distance)*Math.sin(a);var c=new p(r.p1.x+l.x,r.p1.y+l.y),u=new p(i.p1.x+l.x,i.p1.y+l.y);this.segList.addPt(c),this.segList.addPt(u)}},getCoordinates:function(){var e=this.segList.getCoordinates();return e},addMitreJoin:function(e,t,n,r){var i=!0,o=null;try{o=P.intersection(t.p0,t.p1,n.p0,n.p1);var s=r<=0?1:o.distance(e)/Math.abs(r);s>this.bufParams.getMitreLimit()&&(i=!1)}catch(e){if(!(e instanceof S))throw e;o=new p(0,0),i=!1}finally{}i?this.segList.addPt(o):this.addLimitedMitreJoin(t,n,r,this.bufParams.getMitreLimit())},addFilletCorner:function(e,t,n,r,i){var o=t.x-e.x,s=t.y-e.y,a=Math.atan2(s,o),l=n.x-e.x,c=n.y-e.y,u=Math.atan2(c,l);r===ut.CLOCKWISE?a<=u&&(a+=2*Math.PI):a>=u&&(a-=2*Math.PI),this.segList.addPt(t),this.addFilletArc(e,a,u,r,i),this.segList.addPt(n)},addOutsideTurn:function(e,t){return this.offset0.p1.distance(this.offset1.p0)<this.distance*ti.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Yr.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Yr.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(t&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,e,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(e){this.segList.addPt(new p(e.x+this.distance,e.y+this.distance)),this.segList.addPt(new p(e.x+this.distance,e.y-this.distance)),this.segList.addPt(new p(e.x-this.distance,e.y-this.distance)),this.segList.addPt(new p(e.x-this.distance,e.y+this.distance)),this.segList.closeRing()},addSegments:function(e,t){this.segList.addPts(e,t)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(e,t,n){this.s1=e,this.s2=t,this.side=n,this.seg1.setCoordinates(e,t),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(e,t,n,r){var i=this.seg0.p1,o=Er.angle(i,this.seg0.p0),s=(Er.angle(i,this.seg1.p1),Er.angleBetweenOriented(this.seg0.p0,i,this.seg1.p1)),a=s/2,l=Er.normalize(o+a),c=Er.normalize(l+Math.PI),u=r*n,h=u*Math.abs(Math.sin(a)),d=n-h,f=i.x+u*Math.cos(c),g=i.y+u*Math.sin(c),m=new p(f,g),v=new ht(i,m),y=v.pointAlongOffset(1,d),b=v.pointAlongOffset(1,-d);this.side===hn.LEFT?(this.segList.addPt(y),this.segList.addPt(b)):(this.segList.addPt(b),this.segList.addPt(y))},computeOffsetSegment:function(e,t,n,r){var i=t===hn.LEFT?1:-1,o=e.p1.x-e.p0.x,s=e.p1.y-e.p0.y,a=Math.sqrt(o*o+s*s),l=i*n*o/a,c=i*n*s/a;r.p0.x=e.p0.x-c,r.p0.y=e.p0.y+l,r.p1.x=e.p1.x-c,r.p1.y=e.p1.y+l},addFilletArc:function(e,t,n,r,i){var o=r===ut.CLOCKWISE?-1:1,s=Math.abs(t-n),a=Math.trunc(s/this.filletAngleQuantum+.5);if(a<1)return null;var l=null,c=null;l=0,c=s/a;for(var u=l,h=new p;u<s;){var d=t+o*u;h.x=e.x+i*Math.cos(d),h.y=e.y+i*Math.sin(d),this.segList.addPt(h),u+=c}},addInsideTurn:function(e,t){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*ti.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new p((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var r=new p((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(r)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(e){var t=new p(e.x+this.distance,e.y);this.segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(e,t){this.segList.addPt(e.p1),this.segList.addPt(t.p0)},init:function(e){this.distance=e,this.maxCurveSegmentError=e*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new ei,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(e*ti.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(e){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2);var t=this.li.getIntersectionNum();t>=2&&(this.bufParams.getJoinStyle()===Yr.JOIN_BEVEL||this.bufParams.getJoinStyle()===Yr.JOIN_MITRE?(e&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,ut.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return ti}}),ti.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,ti.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,ti.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,ti.MAX_CLOSING_SEG_LEN_FACTOR=80,t(ni.prototype,{getOffsetCurve:function(e,t){if(this.distance=t,0===t)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var o=i.getCoordinates();return n&&H.reverse(o),o},computeSingleSidedBufferCurve:function(e,t,n){var r=this.simplifyTolerance(this.distance);if(t){n.addSegments(e,!0);var i=Qr.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],hn.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(e,!1);var a=Qr.simplify(e,r),l=a.length-1;n.initSideSegments(a[0],a[1],hn.LEFT),n.addFirstSegment();for(var s=2;s<=l;s++)n.addNextSegment(a[s],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(e,t,n){var r=this.simplifyTolerance(this.distance);t===hn.RIGHT&&(r=-r);var i=Qr.simplify(e,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],t);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},computeLineBufferCurve:function(e,t){var n=this.simplifyTolerance(this.distance),r=Qr.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],hn.LEFT);for(var o=2;o<=i;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var s=Qr.simplify(e,-n),a=s.length-1;t.initSideSegments(s[a],s[a-1],hn.LEFT);for(var o=a-2;o>=0;o--)t.addNextSegment(s[o],!0);t.addLastSegment(),t.addLineEndCap(s[1],s[0]),t.closeRing()},computePointCurve:function(e,t){switch(this.bufParams.getEndCapStyle()){case Yr.CAP_ROUND:t.createCircle(e);break;case Yr.CAP_SQUARE:t.createSquare(e)}},getLineCurve:function(e,t){if(this.distance=t,t<0&&!this.bufParams.isSingleSided())return null;if(0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this.bufParams.isSingleSided()){var i=t<0;this.computeSingleSidedBufferCurve(e,i,r)}else this.computeLineBufferCurve(e,r);var o=r.getCoordinates();return o},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(e){return e*this.bufParams.getSimplifyFactor()},getRingCurve:function(e,t,n){if(this.distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return ni.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},computeOffsetCurve:function(e,t,n){var r=this.simplifyTolerance(this.distance);if(t){var i=Qr.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],hn.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Qr.simplify(e,r),l=a.length-1;n.initSideSegments(a[0],a[1],hn.LEFT),n.addFirstSegment();for(var s=2;s<=l;s++)n.addNextSegment(a[s],!0)}n.addLastSegment()},getSegGen:function(e){return new ti(this.precisionModel,this.bufParams,e)},interfaces_:function(){return[]},getClass:function(){return ni}}),ni.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new p(e[n]);return t},t(ri.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var e=arguments[0],t=new x,n=this.subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();e.y<i.getMinY()||e.y>i.getMaxY()||this.findStabbedSegments(e,r.getDirectedEdges(),t)}return t}if(3===arguments.length)if(A(arguments[2],y)&&arguments[0]instanceof p&&arguments[1]instanceof xn)for(var o=arguments[0],s=arguments[1],a=arguments[2],l=s.getEdge().getCoordinates(),n=0;n<l.length-1;n++){this.seg.p0=l[n],this.seg.p1=l[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var c=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(c<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||ut.computeOrientation(this.seg.p0,this.seg.p1,o)===ut.RIGHT)){var u=s.getDepth(hn.LEFT);this.seg.p0.equals(l[n])||(u=s.getDepth(hn.RIGHT));var h=new ii(this.seg,u);a.add(h)}}else if(A(arguments[2],y)&&arguments[0]instanceof p&&A(arguments[1],y))for(var d=arguments[0],f=arguments[1],g=arguments[2],n=f.iterator();n.hasNext();){var m=n.next();m.isForward()&&this.findStabbedSegments(d,m,g)}},getDepth:function(e){var t=this.findStabbedSegments(e);if(0===t.size())return 0;var n=hs.min(t);return n.leftDepth},interfaces_:function(){return[]},getClass:function(){return ri}}),t(ii.prototype,{compareTo:function(e){var t=e;if(this.upwardSeg.minX()>=t.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=t.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(t.upwardSeg);return 0!==n?n:(n=-1*t.upwardSeg.orientationIndex(this.upwardSeg),0!==n?n:this.upwardSeg.compareTo(t.upwardSeg))},compareX:function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[o]},getClass:function(){return ii}}),ri.DepthSegment=ii,t(oi.prototype,{addPoint:function(e){if(this.distance<=0)return null;var t=e.getCoordinates(),n=this.curveBuilder.getLineCurve(t,this.distance);this.addCurve(n,k.EXTERIOR,k.INTERIOR)},addPolygon:function(e){var t=this.distance,n=hn.LEFT;this.distance<0&&(t=-this.distance,n=hn.RIGHT);var r=e.getExteriorRing(),i=H.removeRepeatedPoints(r.getCoordinates());if(this.distance<0&&this.isErodedCompletely(r,this.distance))return null;if(this.distance<=0&&i.length<3)return null;this.addPolygonRing(i,t,n,k.EXTERIOR,k.INTERIOR);for(var o=0;o<e.getNumInteriorRing();o++){var s=e.getInteriorRingN(o),a=H.removeRepeatedPoints(s.getCoordinates());this.distance>0&&this.isErodedCompletely(s,-this.distance)||this.addPolygonRing(a,t,hn.opposite(n),k.INTERIOR,k.EXTERIOR)}},isTriangleErodedCompletely:function(e,t){var n=new Cr(e[0],e[1],e[2]),r=n.inCentre(),i=ut.distancePointLine(r,n.p0,n.p1);return i<Math.abs(t)},addLineString:function(e){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var t=H.removeRepeatedPoints(e.getCoordinates()),n=this.curveBuilder.getLineCurve(t,this.distance);this.addCurve(n,k.EXTERIOR,k.INTERIOR)},addCurve:function(e,t,n){if(null===e||e.length<2)return null;var r=new Yt(e,new pn(0,k.BOUNDARY,t,n));this.curveList.add(r)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(e,t,n,r,i){if(0===t&&e.length<Le.MINIMUM_VALID_SIZE)return null;var o=r,s=i;e.length>=Le.MINIMUM_VALID_SIZE&&ut.isCCW(e)&&(o=i,s=r,n=hn.opposite(n));var a=this.curveBuilder.getRingCurve(e,n,t);this.addCurve(a,o,s)},add:function(e){if(e.isEmpty())return null;if(e instanceof Te)this.addPolygon(e);else if(e instanceof Ce)this.addLineString(e);else if(e instanceof ke)this.addPoint(e);else if(e instanceof Fe)this.addCollection(e);else if(e instanceof pe)this.addCollection(e);else if(e instanceof Re)this.addCollection(e);else{if(!(e instanceof de))throw new UnsupportedOperationException(e.getClass().getName());this.addCollection(e)}},isErodedCompletely:function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i},addCollection:function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return oi}}),t(si.prototype,{isTrivialIntersection:function(e,t,n,r){if(e===n&&1===this.li.getIntersectionNum()){if(si.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.size()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,s,a),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this.li,t,0),n.addIntersections(this.li,r,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[sn]},getClass:function(){return si}}),si.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)},t(ai.prototype,{setWorkingPrecisionModel:function(e){this.workingPrecisionModel=e},insertUniqueEdge:function(e){var t=this.edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new pn(e.getLabel()),r.flip()),n.merge(r);var i=ai.depthDelta(r),o=t.getDepthDelta(),s=o+i;t.setDepthDelta(s)}else this.edgeList.add(e),e.setDepthDelta(ai.depthDelta(e.getLabel()))},buildSubgraphs:function(e,t){for(var n=new x,r=e.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new ri(n),a=s.getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}},createSubgraphs:function(e){for(var t=new x,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Zr;i.create(r),t.add(i)}}return hs.sort(t,hs.reverseOrder()),t},createEmptyResultGeometry:function(){var e=this.geomFact.createPolygon();return e},getNoder:function(e){if(null!==this.workingNoder)return this.workingNoder;var t=new nn,n=new at;return n.setPrecisionModel(e),t.setSegmentIntersector(new si(n)),t},buffer:function(e,t){var n=this.workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this.geomFact=e.getFactory();var r=new ni(n,this.bufParams),i=new oi(e,t,r),o=i.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this.graph=new En(new Rn),this.graph.addEdges(this.edgeList.getEdges());var s=this.createSubgraphs(this.graph),a=new Cn(this.geomFact);this.buildSubgraphs(s,a);var l=a.getPolygons();if(l.size()<=0)return this.createEmptyResultGeometry();var c=this.geomFact.buildGeometry(l);return c},computeNodedEdges:function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings(),i=r.iterator();i.hasNext();){var o=i.next(),s=o.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var a=o.getData(),l=new Zn(o.getCoordinates(),new pn(a));this.insertUniqueEdge(l)}}},setNoder:function(e){this.workingNoder=e},interfaces_:function(){return[]},getClass:function(){return ai}}),ai.depthDelta=function(e){var t=e.getLocation(0,hn.LEFT),n=e.getLocation(0,hn.RIGHT);return t===k.INTERIOR&&n===k.EXTERIOR?1:t===k.EXTERIOR&&n===k.INTERIOR?-1:0},ai.convertSegStrings=function(e){for(var t=new rt,n=new x;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)},t(li.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var e=this.segStrings.iterator();e.hasNext();){var t=e.next(),n=t.getCoordinates();this.checkEndPtVertexIntersections(n[0],this.segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this.segStrings)}else if(2===arguments.length)for(var r=arguments[0],i=arguments[1],e=i.iterator();e.hasNext();)for(var t=e.next(),n=t.getCoordinates(),o=1;o<n.length-1;o++)if(n[o].equals(r))throw new c("found endpt/interior pt intersection at index "+o+" :pt "+r)},checkInteriorIntersections:function(){if(0===arguments.length)for(var e=this.segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this.segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(t,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),l=0;l<s.length-1;l++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(i,l,o,u);else if(4===arguments.length){var h=arguments[0],d=arguments[1],p=arguments[2],f=arguments[3];if(h===p&&d===f)return null;var g=h.getCoordinates()[d],m=h.getCoordinates()[d+1],v=p.getCoordinates()[f],y=p.getCoordinates()[f+1];if(this.li.computeIntersection(g,m,v,y),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,g,m)||this.hasInteriorIntersection(this.li,v,y)))throw new c("found non-noded intersection at "+g+"-"+m+" and "+v+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var e=this.segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0],r=n.getCoordinates(),e=0;e<r.length-2;e++)this.checkCollapse(r[e],r[e+1],r[e+2])},hasInteriorIntersection:function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!i.equals(t)&&!i.equals(n))return!0}return!1},checkCollapse:function(e,t,n){if(e.equals(n))throw new c("found non-noded collapse at "+li.fact.createLineString([e,t,n]))},interfaces_:function(){return[]},getClass:function(){return li}}),li.fact=new rt,t(ci.prototype,{intersectsScaled:function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y),s=this.maxx<n||this.minx>r||this.maxy<i||this.miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(e,t);return d.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(e){var t=.5;this.minx=e.x-t,this.maxx=e.x+t,this.miny=e.y-t,this.maxy=e.y+t,this.corner[0]=new p(this.maxx,this.maxy),this.corner[1]=new p(this.minx,this.maxy),this.corner[2]=new p(this.minx,this.miny),this.corner[3]=new p(this.maxx,this.miny)},intersects:function(e,t){return 1===this.scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this.p0Scaled),this.copyScaled(t,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(e){return Math.round(e*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var e=ci.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;
this.safeEnv=new E(this.originalPt.x-e,this.originalPt.x+e,this.originalPt.y-e,this.originalPt.y+e)}return this.safeEnv},intersectsPixelClosure:function(e,t){return this.li.computeIntersection(e,t,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(e,t,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(e,t,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(e,t,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(e,t){var n=!1,r=!1;return this.li.computeIntersection(e,t,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(e,t,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(e,t,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(r=!0),this.li.computeIntersection(e,t,this.corner[3],this.corner[0]),this.li.isProper()||n&&r||e.equals(this.pt)||t.equals(this.pt)))))},addSnappedNode:function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},interfaces_:function(){return[]},getClass:function(){return ci}}),ci.SAFE_ENV_EXPANSION_FACTOR=.75,t(ui.prototype,{snap:function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getSafeEnvelope(),o=new hi(t,n,r);return this.index.query(i,{interfaces_:function(){return[Nt]},visitItem:function(e){var t=e;t.select(i,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return ui}}),u(hi,ur),t(hi.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return ur.prototype.select.apply(this,arguments);var e=arguments[0],t=arguments[1],n=e.getContext();return null!==this.parentEdge&&n===this.parentEdge&&t===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(n,t))},interfaces_:function(){return[]},getClass:function(){return hi}}),ui.HotPixelSnapAction=hi,t(di.prototype,{processIntersections:function(e,t,n,r){if(e===n&&t===r)return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this.li.computeIntersection(i,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var l=0;l<this.li.getIntersectionNum();l++)this.interiorIntersections.add(this.li.getIntersection(l));e.addIntersections(this.li,t,0),n.addIntersections(this.li,r,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[sn]},getClass:function(){return di}}),t(pi.prototype,{checkCorrectness:function(e){var t=Yt.getNodedSubstrings(e),n=new li(t);try{n.checkValid()}catch(e){if(!(e instanceof C))throw e;e.printStackTrace()}finally{}},getNodedSubstrings:function(){return Yt.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},findInteriorIntersections:function(e,t){var n=new di(t);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(e),n.getInteriorIntersections()},computeVertexSnaps:function(){if(A(arguments[0],m))for(var e=arguments[0],t=e.iterator();t.hasNext();){var n=t.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Yt)for(var r=arguments[0],i=r.getCoordinates(),o=0;o<i.length;o++){var s=new ci(i[o],this.scaleFactor,this.li),a=this.pointSnapper.snap(s,r,o);a&&r.addIntersection(i[o],o)}},computeNodes:function(e){this.nodedSegStrings=e,this.noder=new nn,this.pointSnapper=new ui(this.noder.getIndex()),this.snapRound(e,this.li)},computeIntersectionSnaps:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=new ci(n,this.scaleFactor,this.li);this.pointSnapper.snap(r)}},interfaces_:function(){return[en]},getClass:function(){return pi}}),t(fi.prototype,{bufferFixedPrecision:function(e){var t=new Hr(new pi(new tt(1)),e.getScale()),n=new ai(this.bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var e=fi.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(e){if(!(e instanceof on))throw e;this.saveException=e}finally{}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var t=arguments[0],n=fi.precisionScaleFactor(this.argGeom,this.distance,t),r=new tt(n);this.bufferFixedPrecision(r)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var e=this.argGeom.getFactory().getPrecisionModel();e.getType()===tt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},setQuadrantSegments:function(e){this.bufParams.setQuadrantSegments(e)},bufferOriginalPrecision:function(){try{var e=new ai(this.bufParams);this.resultGeometry=e.buffer(this.argGeom,this.distance)}catch(e){if(!(e instanceof c))throw e;this.saveException=e}finally{}},getResultGeometry:function(e){return this.distance=e,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(e){this.bufParams.setEndCapStyle(e)},interfaces_:function(){return[]},getClass:function(){return fi}}),fi.bufferOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new fi(e),r=n.getResultGeometry(t);return r}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof $&&"number"==typeof arguments[1]){var i=arguments[0],o=arguments[1],s=arguments[2],a=new fi(i);a.setQuadrantSegments(s);var r=a.getResultGeometry(o);return r}if(arguments[2]instanceof Yr&&arguments[0]instanceof $&&"number"==typeof arguments[1]){var l=arguments[0],c=arguments[1],u=arguments[2],a=new fi(l,u),r=a.getResultGeometry(c);return r}}else if(4===arguments.length){var h=arguments[0],d=arguments[1],p=arguments[2],f=arguments[3],a=new fi(h);a.setQuadrantSegments(p),a.setEndCapStyle(f);var r=a.getResultGeometry(d);return r}},fi.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),i=T.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),o=t>0?t:0,s=i+2*o,a=Math.trunc(Math.log(s)/Math.log(10)+1),l=n-a,c=Math.pow(10,l);return c},fi.CAP_ROUND=Yr.CAP_ROUND,fi.CAP_BUTT=Yr.CAP_FLAT,fi.CAP_FLAT=Yr.CAP_FLAT,fi.CAP_SQUARE=Yr.CAP_SQUARE,fi.MAX_PRECISION_DIGITS=12;var Cs=Object.freeze({BufferOp:fi,BufferParameters:Yr});t(gi.prototype,{filter:function(e){e instanceof Te&&this.comps.add(e)},interfaces_:function(){return[ue]},getClass:function(){return gi}}),gi.getPolygons=function(){if(1===arguments.length){var e=arguments[0];return gi.getPolygons(e,new x)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Te?n.add(t):t instanceof de&&t.apply(new gi(n)),n}},t(mi.prototype,{isInsideArea:function(){return this.segIndex===mi.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return mi}}),mi.INSIDE_AREA=-1,t(vi.prototype,{filter:function(e){e instanceof ke&&this.pts.add(e)},interfaces_:function(){return[ue]},getClass:function(){return vi}}),vi.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof ke?hs.singletonList(e):vi.getPoints(e,new x)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof ke?n.add(t):t instanceof de&&t.apply(new vi(n)),n}},t(yi.prototype,{filter:function(e){(e instanceof ke||e instanceof Ce||e instanceof Te)&&this.locations.add(new mi(e,0,e.getCoordinate()))},interfaces_:function(){return[ue]},getClass:function(){return yi}}),yi.getLocations=function(e){var t=new x;return e.apply(new yi(t)),t},t(bi.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=1-t,i=gi.getPolygons(this.geom[t]);if(i.size()>0){var o=yi.getLocations(this.geom[r]);if(this.computeContainmentDistance(o,i,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[r]=n[0],this.minDistanceLocation[t]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&A(arguments[0],y)&&A(arguments[1],y)){for(var s=arguments[0],a=arguments[1],l=arguments[2],c=0;c<s.size();c++)for(var u=s.get(c),h=0;h<a.size();h++)if(this.computeContainmentDistance(u,a.get(h),l),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof mi&&arguments[1]instanceof Te){var d=arguments[0],p=arguments[1],f=arguments[2],g=d.getCoordinate();if(k.EXTERIOR!==this.ptLocator.locate(g,p))return this.minDistance=0,f[0]=d,f[1]=new mi(p,g),null}},computeMinDistanceLinesPoints:function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var s=t.get(o);if(this.computeMinDistance(i,s,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var e=new Array(2).fill(null),t=Un.getLines(this.geom[0]),n=Un.getLines(this.geom[1]),r=vi.getPoints(this.geom[0]),i=vi.getPoints(this.geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this.minDistance<=this.terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,i,e),this.updateMinDistance(e,!1),this.minDistance<=this.terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this.minDistance<=this.terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,i,e),void this.updateMinDistance(e,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(e,t){return null===e[0]?null:void(t?(this.minDistanceLocation[0]=e[1],this.minDistanceLocation[1]=e[0]):(this.minDistanceLocation[0]=e[0],this.minDistanceLocation[1]=e[1]))},nearestPoints:function(){this.computeMinDistance();var e=[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()];return e},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ce&&arguments[1]instanceof ke){var e=arguments[0],t=arguments[1],n=arguments[2];if(e.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this.minDistance)return null;for(var r=e.getCoordinates(),i=t.getCoordinate(),o=0;o<r.length-1;o++){var s=ut.distancePointLine(i,r[o],r[o+1]);if(s<this.minDistance){this.minDistance=s;var a=new ht(r[o],r[o+1]),l=a.closestPoint(i);n[0]=new mi(e,o,l),n[1]=new mi(t,0,i)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ce&&arguments[1]instanceof Ce){var c=arguments[0],u=arguments[1],h=arguments[2];if(c.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this.minDistance)return null;for(var r=c.getCoordinates(),d=u.getCoordinates(),o=0;o<r.length-1;o++)for(var p=0;p<d.length-1;p++){var s=ut.distanceLineLine(r[o],r[o+1],d[p],d[p+1]);if(s<this.minDistance){this.minDistance=s;var f=new ht(r[o],r[o+1]),g=new ht(d[p],d[p+1]),m=f.closestPoints(g);h[0]=new mi(c,o,m[0]),h[1]=new mi(u,p,m[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var s=t.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this.minDistance&&(this.minDistance=a,n[0]=new mi(i,0,i.getCoordinate()),n[1]=new mi(s,0,s.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new r("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var s=t.get(o);if(this.computeMinDistance(i,s,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return bi}}),bi.distance=function(e,t){var n=new bi(e,t);return n.distance()},bi.isWithinDistance=function(e,t,n){var r=new bi(e,t,n);return r.distance()<=n},bi.nearestPoints=function(e,t){var n=new bi(e,t);return n.nearestPoints()};var Ss=Object.freeze({DistanceOp:bi});t(wi.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var e=0,t=0,n=new _,r=this.directedEdges.iterator();r.hasNext();){var i=r.next();i.getEdgeDirection()?e++:t++,n.add(i.getEdge().getLine().getCoordinates(),!1,i.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),t>e&&H.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(e){this.directedEdges.add(e)},interfaces_:function(){return[]},getClass:function(){return wi}}),t(xi.prototype,{setVisited:function(e){this._isVisited=e},isMarked:function(){return this._isMarked},setData:function(e){this.data=e},getData:function(){return this.data},setMarked:function(e){this._isMarked=e},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(e){this.data=e},interfaces_:function(){return[]},getClass:function(){return xi}}),xi.getComponentWithVisitedState=function(e,t){for(;e.hasNext();){var n=e.next();if(n.isVisited()===t)return n}return null},xi.setVisited=function(e,t){for(;e.hasNext();){var n=e.next();n.setVisited(t)}},xi.setMarked=function(e,t){for(;e.hasNext();){var n=e.next();n.setMarked(t)}},u(_i,xi),t(_i.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(e){return this.quadrant>e.quadrant?1:this.quadrant<e.quadrant?-1:ut.computeOrientation(e.p0,e.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(e){var t=this.getClass().getName(),n=t.lastIndexOf("."),r=t.substring(n+1);e.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(e){var t=e;return this.compareDirection(t)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(e){this.parentEdge=e},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(e){this.sym=e},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[o]},getClass:function(){return _i}}),_i.toEdges=function(e){for(var t=new x,n=e.iterator();n.hasNext();)t.add(n.next().parentEdge);return t},u(Ei,_i),t(Ei.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(d.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return Ei}}),u(Ci,xi),t(Ci.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(e,t){this.dirEdge=[e,t],e.setEdge(this),t.setEdge(this),e.setSym(t),t.setSym(e),e.getFromNode().addOutEdge(e),t.getFromNode().addOutEdge(t)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var e=arguments[0];return this.dirEdge[e]}if(arguments[0]instanceof ki){var t=arguments[0];return this.dirEdge[0].getFromNode()===t?this.dirEdge[0]:this.dirEdge[1].getFromNode()===t?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(e){return this.dirEdge[0].getFromNode()===e?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===e?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return Ci}}),t(Si.prototype,{getNextEdge:function(e){var t=this.getIndex(e);return this.outEdges.get(this.getIndex(t+1))},getCoordinate:function(){var e=this.iterator();if(!e.hasNext())return null;var t=e.next();return t.getCoordinate()},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(hs.sort(this.outEdges),this.sorted=!0)},remove:function(e){this.outEdges.remove(e)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(e){var t=this.getIndex(e);return this.outEdges.get(this.getIndex(t-1))},getIndex:function(){if(arguments[0]instanceof Ci){var e=arguments[0];this.sortEdges();for(var t=0;t<this.outEdges.size();t++){var n=this.outEdges.get(t);if(n.getEdge()===e)return t}return-1}if(arguments[0]instanceof _i){var r=arguments[0];this.sortEdges();for(var t=0;t<this.outEdges.size();t++){var n=this.outEdges.get(t);if(n===r)return t}return-1}if(Number.isInteger(arguments[0])){var i=arguments[0],o=i%this.outEdges.size();return o<0&&(o+=this.outEdges.size()),o}},add:function(e){this.outEdges.add(e),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return Si}}),u(ki,xi),t(ki.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(e){this.deStar.add(e)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var e=arguments[0];this.deStar.remove(e)}},getIndex:function(e){return this.deStar.getIndex(e)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return ki}}),ki.getEdgesBetween=function(e,t){var n=_i.toEdges(e.getOutEdges().getEdges()),r=new Z(n),i=_i.toEdges(t.getOutEdges().getEdges());return r.retainAll(i),r},u(Ai,Ci),t(Ai.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Ai}}),t(Ti.prototype,{find:function(e){return this.nodeMap.get(e)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(e){return this.nodeMap.remove(e)},values:function(){return this.nodeMap.values()},add:function(e){return this.nodeMap.put(e.getCoordinate(),e),e},interfaces_:function(){return[]},getClass:function(){return Ti}}),t(Fi.prototype,{findNodesOfDegree:function(e){for(var t=new x,n=this.nodeIterator();n.hasNext();){var r=n.next();r.getDegree()===e&&t.add(r)}return t},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof Ci){var e=arguments[0];this.remove(e.getDirEdge(0)),this.remove(e.getDirEdge(1)),this.edges.remove(e),e.remove()}else if(arguments[0]instanceof _i){var t=arguments[0],n=t.getSym();null!==n&&n.setSym(null),t.getFromNode().remove(t),t.remove(),this.dirEdges.remove(t)}else if(arguments[0]instanceof ki){for(var r=arguments[0],i=r.getOutEdges().getEdges(),o=i.iterator();o.hasNext();){var s=o.next(),n=s.getSym();null!==n&&this.remove(n),this.dirEdges.remove(s);var a=s.getEdge();null!==a&&this.edges.remove(a)}this.nodeMap.remove(r.getCoordinate()),r.remove()}},findNode:function(e){return this.nodeMap.find(e)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof Ci){var e=arguments[0];return this.edges.contains(e)}if(arguments[0]instanceof _i){var t=arguments[0];return this.dirEdges.contains(t)}},add:function(){if(arguments[0]instanceof ki){var e=arguments[0];this.nodeMap.add(e)}else if(arguments[0]instanceof Ci){var t=arguments[0];this.edges.add(t),this.add(t.getDirEdge(0)),this.add(t.getDirEdge(1))}else if(arguments[0]instanceof _i){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Fi}}),u(Li,Fi),t(Li.prototype,{addEdge:function(e){if(e.isEmpty())return null;var t=H.removeRepeatedPoints(e.getCoordinates());if(t.length<=1)return null;var n=t[0],r=t[t.length-1],i=this.getNode(n),o=this.getNode(r),s=new Ei(i,o,t[1],!0),a=new Ei(o,i,t[t.length-2],!1),l=new Ai(e);l.setDirectedEdges(s,a),this.add(l)},getNode:function(e){var t=this.findNode(e);return null===t&&(t=new ki(e),this.add(t)),t},interfaces_:function(){return[]},getClass:function(){return Li}}),t(Ri.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var e=this.graph.getNodes().iterator();e.hasNext();){var t=e.next();t.isMarked()||(d.isTrue(2===t.getDegree()),this.buildEdgeStringsStartingAt(t),t.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var e=this.graph.getNodes().iterator();e.hasNext();){var t=e.next();2!==t.getDegree()&&(this.buildEdgeStringsStartingAt(t),t.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(e){for(var t=e.getOutEdges().iterator();t.hasNext();){var n=t.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;xi.setMarked(this.graph.nodeIterator(),!1),xi.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new x,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new x;for(var e=this.edgeStrings.iterator();e.hasNext();){var t=e.next();this.mergedLineStrings.add(t.toLineString())}},buildEdgeStringStartingWith:function(e){var t=new wi(this.factory),n=e;do t.add(n),n.getEdge().setMarked(!0),n=n.getNext();while(null!==n&&n!==e);return t},add:function(){if(arguments[0]instanceof $){var e=arguments[0];e.apply({interfaces_:function(){return[B]},filter:function(e){e instanceof Ce&&this.add(e)}})}else if(A(arguments[0],m)){var t=arguments[0];this.mergedLineStrings=null;for(var n=t.iterator();n.hasNext();){var r=n.next();this.add(r)}}else if(arguments[0]instanceof Ce){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory()),this.graph.addEdge(i)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return Ri}});var ks=Object.freeze({LineMerger:Ri}),As=Object.freeze({OverlayOp:rr});u(Mi,_i),t(Mi.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(e){this.edgeRing=e},setLabel:function(e){this.label=e},getLabel:function(){return this.label},setNext:function(e){this.next=e},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return Mi}}),u(Ii,Ci),t(Ii.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Ii}}),t(Di.prototype,{visitInteriorRing:function(e,t){var n=e.getCoordinates(),r=n[0],i=Di.findDifferentPoint(n,r),o=t.findEdgeInSameDirection(r,i),s=t.findEdgeEnd(o),a=null;s.getLabel().getLocation(0,hn.RIGHT)===k.INTERIOR?a=s:s.getSym().getLabel().getLocation(0,hn.RIGHT)===k.INTERIOR&&(a=s.getSym()),d.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)},visitShellInteriors:function(e,t){if(e instanceof Te){var n=e;this.visitInteriorRing(n.getExteriorRing(),t)}if(e instanceof Re)for(var r=e,i=0;i<r.getNumGeometries();i++){var n=r.getGeometryN(i);this.visitInteriorRing(n.getExteriorRing(),t)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(e){for(var t=e.getEdgeEnds().iterator();t.hasNext();){var n=t.next();n.getLabel().getLocation(0,hn.RIGHT)===k.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(e){var t=e,n=e;do d.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext();while(n!==t)},buildEdgeRings:function(e){for(var t=new x,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&null===r.getEdgeRing()){var i=new mn(r,this.geometryFactory);i.linkDirectedEdgesForMinimalEdgeRings();var o=i.buildMinimalRings();t.addAll(o)}}return t},hasUnvisitedShellEdge:function(e){for(var t=0;t<e.size();t++){var n=e.get(t);if(!n.isHole()){var r=n.getEdges(),i=r.get(0);if(i.getLabel().getLocation(0,hn.RIGHT)===k.INTERIOR)for(var o=0;o<r.size();o++)if(i=r.get(o),!i.isVisited())return this.disconnectedRingcoord=i.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var e=new x;this.geomGraph.computeSplitEdges(e);var t=new En(new Rn);t.addEdges(e),this.setInteriorEdgesInResult(t),t.linkResultDirectedEdges();var n=this.buildEdgeRings(t.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),t),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Di}}),Di.findDifferentPoint=function(e,t){for(var n=0;n<e.length;n++)if(!e[n].equals(t))return e[n];return null},t(Ni.prototype,{createEdgeEndForNext:function(e,t,n,r){var i=n.segmentIndex+1;if(i>=e.getNumPoints()&&null===r)return null;var o=e.getCoordinate(i);null!==r&&r.segmentIndex===n.segmentIndex&&(o=r.coord);var s=new wn(e,n.coord,o,new pn(e.getLabel()));t.add(s)},createEdgeEndForPrev:function(e,t,n,r){var i=n.segmentIndex;if(0===n.dist){if(0===i)return null;i--}var o=e.getCoordinate(i);null!==r&&r.segmentIndex>=i&&(o=r.coord);var s=new pn(e.getLabel());s.flip();var a=new wn(e,n.coord,o,s);t.add(a)},computeEdgeEnds:function(){if(1===arguments.length){for(var e=arguments[0],t=new x,n=e;n.hasNext();){var r=n.next();this.computeEdgeEnds(r,t)}return t}if(2===arguments.length){var i=arguments[0],o=arguments[1],s=i.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),l=null,c=null;if(!a.hasNext())return null;var u=a.next();do l=c,c=u,u=null,a.hasNext()&&(u=a.next()),null!==c&&(this.createEdgeEndForPrev(i,o,c,l),this.createEdgeEndForNext(i,o,c,u));while(null!==c)}},interfaces_:function(){return[]},getClass:function(){return Ni}}),u(Pi,wn),t(Pi.prototype,{insert:function(e){this.edgeEnds.add(e)},print:function(e){e.println("EdgeEndBundle--> Label: "+this.label);for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e),e.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(e,t){for(var n=0,r=!1,i=this.iterator();i.hasNext();){var o=i.next(),s=o.getLabel().getLocation(e);s===k.BOUNDARY&&n++,s===k.INTERIOR&&(r=!0)}var s=k.NONE;r&&(s=k.INTERIOR),n>0&&(s=Qn.determineBoundary(t,n)),this.label.setLocation(e,s)},computeLabelSide:function(e,t){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.getLabel().isArea()){var i=r.getLabel().getLocation(e,t);if(i===k.INTERIOR)return this.label.setLocation(e,t,k.INTERIOR),null;i===k.EXTERIOR&&this.label.setLocation(e,t,k.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(e){this.computeLabelSide(e,hn.LEFT),this.computeLabelSide(e,hn.RIGHT)},updateIM:function(e){Zn.updateIM(this.label,e)},computeLabel:function(e){for(var t=!1,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().isArea()&&(t=!0)}t?this.label=new pn(k.NONE,k.NONE,k.NONE):this.label=new pn(k.NONE);for(var i=0;i<2;i++)this.computeLabelOn(i,e),t&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return Pi}}),u(Oi,Fn),t(Oi.prototype,{updateIM:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();n.updateIM(e)}},insert:function(e){var t=this.edgeMap.get(e);null===t?(t=new Pi(e),this.insertEdgeEnd(e,t)):t.insert(e)},interfaces_:function(){return[]},getClass:function(){return Oi}}),u(Bi,yn),t(Bi.prototype,{updateIMFromEdges:function(e){this.edges.updateIM(e)},computeIM:function(e){e.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Bi}}),u($i,_n),t($i.prototype,{createNode:function(e){return new Bi(e,new Oi)},interfaces_:function(){return[]},getClass:function(){return $i}}),t(ji.prototype,{insertEdgeEnds:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(e,t){for(var n=e.getNodeIterator();n.hasNext();){var r=n.next(),i=this.nodes.addNode(r.getCoordinate());i.setLabel(t,r.getLabel().getLocation(t))}},build:function(e){this.computeIntersectionNodes(e,0),this.copyNodesAndLabels(e,0);var t=new Ni,n=t.computeEdgeEnds(e.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(e,t){for(var n=e.getEdgeIterator();n.hasNext();)for(var r=n.next(),i=r.getLabel().getLocation(t),o=r.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next(),a=this.nodes.addNode(s.coord);i===k.BOUNDARY?a.setLabelBoundary(t):a.getLabel().isNull(t)&&a.setLabel(t,k.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return ji}}),t(zi.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var e=this.nodeGraph.getNodeIterator();e.hasNext();){var t=e.next();if(!t.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=t.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var e=this.nodeGraph.getNodeIterator();e.hasNext();)for(var t=e.next(),n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.getEdgeEnds().size()>1)return this.invalidPoint=r.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var e=this.geomGraph.computeSelfNodes(this.li,!0,!0);return e.hasProperIntersection()?(this.invalidPoint=e.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return zi}}),t(Ui.prototype,{buildIndex:function(){this.index=new Ut;for(var e=0;e<this.rings.size();e++){var t=this.rings.get(e),n=t.getEnvelopeInternal();this.index.insert(n,t)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var e=0;e<this.rings.size();e++)for(var t=this.rings.get(e),n=t.getCoordinates(),r=this.index.query(t.getEnvelopeInternal()),i=0;i<r.size();i++){var o=r.get(i),s=o.getCoordinates();if(t!==o&&t.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var a=Wi.findPtNotNode(n,o,this.graph);if(null!==a){var l=ut.isPointInRing(a,s);if(l)return this.nestedPt=a,!1}}}return!0},add:function(e){this.rings.add(e),this.totalEnv.expandToInclude(e.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Ui}}),t(Vi.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return Vi.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var e="";return null!==this.pt&&(e=" at or near point "+this.pt),this.getMessage()+e},interfaces_:function(){return[]},getClass:function(){return Vi}}),Vi.ERROR=0,Vi.REPEATED_POINT=1,Vi.HOLE_OUTSIDE_SHELL=2,Vi.NESTED_HOLES=3,Vi.DISCONNECTED_INTERIOR=4,Vi.SELF_INTERSECTION=5,Vi.RING_SELF_INTERSECTION=6,Vi.NESTED_SHELLS=7,Vi.DUPLICATE_RINGS=8,Vi.TOO_FEW_POINTS=9,Vi.INVALID_COORDINATE=10,Vi.RING_NOT_CLOSED=11,Vi.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],t(Wi.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var e=arguments[0],t=0;t<e.length;t++)if(!Wi.isValid(e[t]))return this.validErr=new Vi(Vi.INVALID_COORDINATE,e[t]),
null}else if(arguments[0]instanceof Te){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var t=0;t<n.getNumInteriorRing();t++)if(this.checkInvalidCoordinates(n.getInteriorRingN(t).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(e,t){for(var n=new Ui(t),r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);n.add(i)}var o=n.isNonNested();o||(this.validErr=new Vi(Vi.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(e){var t=new zi(e),n=t.isNodeConsistentArea();return n?void(t.hasDuplicateRings()&&(this.validErr=new Vi(Vi.DUPLICATE_RINGS,t.getInvalidPoint()))):(this.validErr=new Vi(Vi.SELF_INTERSECTION,t.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(e,t,n){var r=e.getCoordinates(),i=t.getCoordinates(),o=Wi.findPtNotNode(r,t,n);if(null!==o){var s=ut.isPointInRing(o,i);if(!s)return o}var a=Wi.findPtNotNode(i,e,n);if(null!==a){var l=ut.isPointInRing(a,r);return l?a:null}return d.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(e){for(var t=e.getEdgeIterator();t.hasNext();){var n=t.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(e){var t=new Di(e);t.isInteriorsConnected()||(this.validErr=new Vi(Vi.DISCONNECTED_INTERIOR,t.getCoordinate()))},checkNoSelfIntersectingRing:function(e){for(var t=new ae,n=!0,r=e.iterator();r.hasNext();){var i=r.next();if(n)n=!1;else{if(t.contains(i.coord))return this.validErr=new Vi(Vi.RING_SELF_INTERSECTION,i.coord),null;t.add(i.coord)}}},checkHolesInShell:function(e,t){for(var n=e.getExteriorRing(),r=new xr(n),i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=Wi.findPtNotNode(o.getCoordinates(),n,t);if(null===s)return null;var a=!r.isInside(s);if(a)return this.validErr=new Vi(Vi.HOLE_OUTSIDE_SHELL,s),null}},checkTooFewPoints:function(e){if(e.hasTooFewPoints())return this.validErr=new Vi(Vi.TOO_FEW_POINTS,e.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof ke){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof Fe){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Le){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var r=new Qn(0,n);if(this.checkTooFewPoints(r),null!==this.validErr)return null;var i=new at;r.computeSelfNodes(i,!0,!0),this.checkNoSelfIntersectingRings(r)}else if(arguments[0]instanceof Ce){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;var r=new Qn(0,o);this.checkTooFewPoints(r)}else if(arguments[0]instanceof Te){var s=arguments[0];if(this.checkInvalidCoordinates(s),null!==this.validErr)return null;if(this.checkClosedRings(s),null!==this.validErr)return null;var r=new Qn(0,s);if(this.checkTooFewPoints(r),null!==this.validErr)return null;if(this.checkConsistentArea(r),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),null!==this.validErr))return null;if(this.checkHolesInShell(s,r),null!==this.validErr)return null;if(this.checkHolesNotNested(s,r),null!==this.validErr)return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof Re){for(var a=arguments[0],l=0;l<a.getNumGeometries();l++){var c=a.getGeometryN(l);if(this.checkInvalidCoordinates(c),null!==this.validErr)return null;if(this.checkClosedRings(c),null!==this.validErr)return null}var r=new Qn(0,a);if(this.checkTooFewPoints(r),null!==this.validErr)return null;if(this.checkConsistentArea(r),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),null!==this.validErr))return null;for(var l=0;l<a.getNumGeometries();l++){var c=a.getGeometryN(l);if(this.checkHolesInShell(c,r),null!==this.validErr)return null}for(var l=0;l<a.getNumGeometries();l++){var c=a.getGeometryN(l);if(this.checkHolesNotNested(c,r),null!==this.validErr)return null}if(this.checkShellsNotNested(a,r),null!==this.validErr)return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof de)for(var u=arguments[0],l=0;l<u.getNumGeometries();l++){var h=u.getGeometryN(l);if(this.checkValid(h),null!==this.validErr)return null}else if(arguments[0]instanceof $){var d=arguments[0];if(this.validErr=null,d.isEmpty())return null;if(d instanceof ke)this.checkValid(d);else if(d instanceof Fe)this.checkValid(d);else if(d instanceof Le)this.checkValid(d);else if(d instanceof Ce)this.checkValid(d);else if(d instanceof Te)this.checkValid(d);else if(d instanceof Re)this.checkValid(d);else{if(!(d instanceof de))throw new UnsupportedOperationException(d.getClass().getName());this.checkValid(d)}}},setSelfTouchingRingFormingHoleValid:function(e){this.isSelfTouchingRingFormingHoleValid=e},checkShellNotNested:function(e,t,n){var r=e.getCoordinates(),i=t.getExteriorRing(),o=i.getCoordinates(),s=Wi.findPtNotNode(r,i,n);if(null===s)return null;var a=ut.isPointInRing(s,o);if(!a)return null;if(t.getNumInteriorRing()<=0)return this.validErr=new Vi(Vi.NESTED_SHELLS,s),null;for(var l=null,c=0;c<t.getNumInteriorRing();c++){var u=t.getInteriorRingN(c);if(l=this.checkShellInsideHole(e,u,n),null===l)return null}this.validErr=new Vi(Vi.NESTED_SHELLS,l)},checkClosedRings:function(e){if(this.checkClosedRing(e.getExteriorRing()),null!==this.validErr)return null;for(var t=0;t<e.getNumInteriorRing();t++)if(this.checkClosedRing(e.getInteriorRingN(t)),null!==this.validErr)return null},checkClosedRing:function(e){if(!e.isClosed()){var t=null;e.getNumPoints()>=1&&(t=e.getCoordinateN(0)),this.validErr=new Vi(Vi.RING_NOT_CLOSED,t)}},checkShellsNotNested:function(e,t){for(var n=0;n<e.getNumGeometries();n++)for(var r=e.getGeometryN(n),i=r.getExteriorRing(),o=0;o<e.getNumGeometries();o++)if(n!==o){var s=e.getGeometryN(o);if(this.checkShellNotNested(i,s,t),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Wi}}),Wi.findPtNotNode=function(e,t,n){for(var r=n.findEdge(t),i=r.getEdgeIntersectionList(),o=0;o<e.length;o++){var s=e[o];if(!i.isIntersection(s))return s}return null},Wi.isValid=function(){if(arguments[0]instanceof $){var e=arguments[0],t=new Wi(e);return t.isValid()}if(arguments[0]instanceof p){var n=arguments[0];return!(i.isNaN(n.x)||i.isInfinite(n.x)||i.isNaN(n.y)||i.isInfinite(n.y))}},t(qi.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var e=new _,t=this.deList.iterator();t.hasNext();){var n=t.next(),r=n.getEdge();qi.addEdge(r.getLine().getCoordinates(),n.getEdgeDirection(),e)}this.ringPts=e.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),Wi.isValid(this.ring))},build:function(e){var t=e;do this.add(t),t.setRing(this),t=t.getNext(),d.isTrue(null!==t,"found null DE in ring"),d.isTrue(t===e||!t.isInRing(),"found DE already in ring");while(t!==e)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var e=null;if(null!==this.holes){e=new Array(this.holes.size()).fill(null);for(var t=0;t<this.holes.size();t++)e[t]=this.holes.get(t)}var n=this.factory.createPolygon(this.ring,e);return n},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Le){var e=arguments[0];null===this.holes&&(this.holes=new x),this.holes.add(e)}else if(arguments[0]instanceof qi){var t=arguments[0];t.setShell(this);var n=t.getRing();null===this.holes&&(this.holes=new x),this.holes.add(n)}},setIncluded:function(e){this._isIncluded=e,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var e=0;e<this.deList.size();e++){var t=this.deList.get(e),n=t.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var e=this.getRing();this._isHole=ut.isCCW(e.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return ot.toLineString(new Oe(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(e){this.deList.add(e)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&N.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(e){if(!(e instanceof C))throw e;N.out.println(this.ringPts)}finally{}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var e=0;e<this.deList.size();e++){var t=this.deList.get(e),n=t.getSym().getRing().getShell();if(null!==n&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(e){this.shell=e},setProcessed:function(e){this._isProcessed=e},interfaces_:function(){return[]},getClass:function(){return qi}}),qi.findDirEdgesInRing=function(e){var t=e,n=new x;do n.add(t),t=t.getNext(),d.isTrue(null!==t,"found null DE in ring"),d.isTrue(t===e||!t.isInRing(),"found DE already in ring");while(t!==e);return n},qi.addEdge=function(e,t,n){if(t)for(var r=0;r<e.length;r++)n.add(e[r],!1);else for(var r=e.length-1;r>=0;r--)n.add(e[r],!1)},qi.findEdgeRingContaining=function(e,t){for(var n=e.getRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=t.iterator();a.hasNext();){var l=a.next(),c=l.getRing(),u=c.getEnvelopeInternal();if(!u.equals(r)&&u.contains(r)){i=H.ptNotInList(n.getCoordinates(),c.getCoordinates());var h=!1;ut.isPointInRing(i,c.getCoordinates())&&(h=!0),h&&(null===o||s.contains(u))&&(o=l,s=o.getRing().getEnvelopeInternal())}}return o},t(Hi.prototype,{compare:function(e,t){var n=e,r=t;return n.getRing().getEnvelope().compareTo(r.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return Hi}}),qi.EnvelopeComparator=Hi,u(Gi,Fi),t(Gi.prototype,{findEdgeRing:function(e){var t=new qi(this.factory);return t.build(e),t},computeDepthParity:function(){if(0===arguments.length)for(;;){var e=null;if(null===e)return null;this.computeDepthParity(e)}else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var e=this.nodeIterator();e.hasNext();){var t=e.next();Gi.computeNextCWEdges(t)}},addEdge:function(e){if(e.isEmpty())return null;var t=H.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return null;var n=t[0],r=t[t.length-1],i=this.getNode(n),o=this.getNode(r),s=new Mi(i,o,t[1],!0),a=new Mi(o,i,t[t.length-2],!1),l=new Ii(e);l.setDirectedEdges(s,a),this.add(l)},deleteCutEdges:function(){this.computeNextCWEdges(),Gi.findLabeledEdgeRings(this.dirEdges);for(var e=new x,t=this.dirEdges.iterator();t.hasNext();){var n=t.next();if(!n.isMarked()){var r=n.getSym();if(n.getLabel()===r.getLabel()){n.setMarked(!0),r.setMarked(!0);var i=n.getEdge();e.add(i.getLine())}}}return e},getEdgeRings:function(){this.computeNextCWEdges(),Gi.label(this.dirEdges,-1);var e=Gi.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(e);for(var t=new x,n=this.dirEdges.iterator();n.hasNext();){var r=n.next();if(!r.isMarked()&&!r.isInRing()){var i=this.findEdgeRing(r);t.add(i)}}return t},getNode:function(e){var t=this.findNode(e);return null===t&&(t=new ki(e),this.add(t)),t},convertMaximalToMinimalEdgeRings:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel(),i=Gi.findIntersectionNodes(n,r);if(null!==i)for(var o=i.iterator();o.hasNext();){var s=o.next();Gi.computeNextCCWEdges(s,r)}}},deleteDangles:function(){for(var e=this.findNodesOfDegree(1),t=new Z,n=new gt,r=e.iterator();r.hasNext();)n.push(r.next());for(;!n.isEmpty();){var i=n.pop();Gi.deleteAllEdges(i);for(var o=i.getOutEdges().getEdges(),r=o.iterator();r.hasNext();){var s=r.next();s.setMarked(!0);var a=s.getSym();null!==a&&a.setMarked(!0);var l=s.getEdge();t.add(l.getLine());var c=s.getToNode();1===Gi.getDegreeNonDeleted(c)&&n.push(c)}}return t},interfaces_:function(){return[]},getClass:function(){return Gi}}),Gi.findLabeledEdgeRings=function(e){for(var t=new x,n=1,r=e.iterator();r.hasNext();){var i=r.next();if(!(i.isMarked()||i.getLabel()>=0)){t.add(i);var o=qi.findDirEdgesInRing(i);Gi.label(o,n),n++}}return t},Gi.getDegreeNonDeleted=function(e){for(var t=e.getOutEdges().getEdges(),n=0,r=t.iterator();r.hasNext();){var i=r.next();i.isMarked()||n++}return n},Gi.deleteAllEdges=function(e){for(var t=e.getOutEdges().getEdges(),n=t.iterator();n.hasNext();){var r=n.next();r.setMarked(!0);var i=r.getSym();null!==i&&i.setMarked(!0)}},Gi.label=function(e,t){for(var n=e.iterator();n.hasNext();){var r=n.next();r.setLabel(t)}},Gi.computeNextCWEdges=function(e){for(var t=e.getOutEdges(),n=null,r=null,i=t.getEdges().iterator();i.hasNext();){var o=i.next();if(!o.isMarked()){if(null===n&&(n=o),null!==r){var s=r.getSym();s.setNext(o)}r=o}}if(null!==r){var s=r.getSym();s.setNext(n)}},Gi.computeNextCCWEdges=function(e,t){for(var n=e.getOutEdges(),r=null,i=null,o=n.getEdges(),s=o.size()-1;s>=0;s--){var a=o.get(s),l=a.getSym(),c=null;a.getLabel()===t&&(c=a);var u=null;l.getLabel()===t&&(u=l),null===c&&null===u||(null!==u&&(i=u),null!==c&&(null!==i&&(i.setNext(c),i=null),null===r&&(r=c)))}null!==i&&(d.isTrue(null!==r),i.setNext(r))},Gi.getDegree=function(e,t){for(var n=e.getOutEdges().getEdges(),r=0,i=n.iterator();i.hasNext();){var o=i.next();o.getLabel()===t&&r++}return r},Gi.findIntersectionNodes=function(e,t){var n=e,r=null;do{var i=n.getFromNode();Gi.getDegree(i,t)>1&&(null===r&&(r=new x),r.add(i)),n=n.getNext(),d.isTrue(null!==n,"found null DE in ring"),d.isTrue(n===e||!n.isInRing(),"found DE already in ring")}while(n!==e);return r},t(Ki.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new rt),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(rt.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isValid()?t.add(i):n.add(i.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new x,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var e=this.graph.getEdgeRings(),t=new x;this.invalidRingLines=new x,this.isCheckingRingsValid?this.findValidRings(e,t,this.invalidRingLines):t=e,this.findShellsAndHoles(t),Ki.assignHolesToShells(this.holeList,this.shellList),hs.sort(this.shellList,new qi.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(Ki.findDisjointShells(this.shellList),n=!1),this.polyList=Ki.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(A(arguments[0],m))for(var e=arguments[0],t=e.iterator();t.hasNext();){var n=t.next();this.add(n)}else if(arguments[0]instanceof Ce){var r=arguments[0];this.geomFactory=r.getFactory(),null===this.graph&&(this.graph=new Gi(this.geomFactory)),this.graph.addEdge(r)}else if(arguments[0]instanceof $){var i=arguments[0];i.apply(this.lineStringAdder)}},setCheckRingsValid:function(e){this.isCheckingRingsValid=e},findShellsAndHoles:function(e){this.holeList=new x,this.shellList=new x;for(var t=e.iterator();t.hasNext();){var n=t.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.findOuterShells=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getOuterHole();null===r||r.isProcessed()||(n.setIncluded(!0),r.setProcessed(!0))}},Ki.extractPolygons=function(e,t){for(var n=new x,r=e.iterator();r.hasNext();){var i=r.next();(t||i.isIncluded())&&n.add(i.getPolygon())}return n},Ki.assignHolesToShells=function(e,t){for(var n=e.iterator();n.hasNext();){var r=n.next();Ki.assignHoleToShell(r,t)}},Ki.assignHoleToShell=function(e,t){var n=qi.findEdgeRingContaining(e,t);null!==n&&n.addHole(e)},Ki.findDisjointShells=function(e){Ki.findOuterShells(e);var t=null;do{t=!1;for(var n=e.iterator();n.hasNext();){var r=n.next();r.isIncludedSet()||(r.updateIncluded(),r.isIncludedSet()||(t=!0))}}while(t)},t(Yi.prototype,{filter:function(e){e instanceof Ce&&this.p.add(e)},interfaces_:function(){return[B]},getClass:function(){return Yi}}),Ki.LineStringAdder=Yi;var Ts=Object.freeze({Polygonizer:Ki});t(Xi.prototype,{insertEdgeEnds:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.nodes.add(n)}},computeProperIntersectionIM:function(e,t){var n=this.arg[0].getGeometry().getDimension(),r=this.arg[1].getGeometry().getDimension(),i=e.hasProperIntersection(),o=e.hasProperInteriorIntersection();2===n&&2===r?i&&t.setAtLeast("212101212"):2===n&&1===r?(i&&t.setAtLeast("FFF0FFFF2"),o&&t.setAtLeast("1FFFFF1FF")):1===n&&2===r?(i&&t.setAtLeast("F0FFFFFF2"),o&&t.setAtLeast("1F1FFFFFF")):1===n&&1===r&&o&&t.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(e,t){for(var n=this.arg[e].getEdgeIterator();n.hasNext();){var r=n.next();r.isIsolated()&&(this.labelIsolatedEdge(r,t,this.arg[t].getGeometry()),this.isolatedEdges.add(r))}},labelIsolatedEdge:function(e,t,n){if(n.getDimension()>0){var r=this.ptLocator.locate(e.getCoordinate(),n);e.getLabel().setAllLocations(t,r)}else e.getLabel().setAllLocations(t,k.EXTERIOR)},computeIM:function(){var e=new dt;if(e.set(k.EXTERIOR,k.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(e),e;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var t=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(t,e);var n=new Ni,r=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(r);var i=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(i),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(e),e},labelNodeEdges:function(){for(var e=this.nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(e){for(var t=this.arg[e].getNodeIterator();t.hasNext();){var n=t.next(),r=this.nodes.addNode(n.getCoordinate());r.setLabel(e,n.getLabel().getLocation(e))}},labelIntersectionNodes:function(e){for(var t=this.arg[e].getEdgeIterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),s=this.nodes.find(o.coord);s.getLabel().isNull(e)&&(r===k.BOUNDARY?s.setLabelBoundary(e):s.setLabel(e,k.INTERIOR))}},labelIsolatedNode:function(e,t){var n=this.ptLocator.locate(e.getCoordinate(),this.arg[t].getGeometry());e.getLabel().setAllLocations(t,n)},computeIntersectionNodes:function(e){for(var t=this.arg[e].getEdgeIterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),s=this.nodes.addNode(o.coord);r===k.BOUNDARY?s.setLabelBoundary(e):s.getLabel().isNull(e)&&s.setLabel(e,k.INTERIOR)}},labelIsolatedNodes:function(){for(var e=this.nodes.iterator();e.hasNext();){var t=e.next(),n=t.getLabel();d.isTrue(n.getGeometryCount()>0,"node with empty label found"),t.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(t,0):this.labelIsolatedNode(t,1))}},updateIM:function(e){for(var t=this.isolatedEdges.iterator();t.hasNext();){var n=t.next();n.updateIM(e)}for(var r=this.nodes.iterator();r.hasNext();){var i=r.next();i.updateIM(e),i.updateIMFromEdges(e)}},computeDisjointIM:function(e){var t=this.arg[0].getGeometry();t.isEmpty()||(e.set(k.INTERIOR,k.EXTERIOR,t.getDimension()),e.set(k.BOUNDARY,k.EXTERIOR,t.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(e.set(k.EXTERIOR,k.INTERIOR,n.getDimension()),e.set(k.EXTERIOR,k.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Xi}}),t(Ji.prototype,{isContainedInBoundary:function(e){if(e instanceof Te)return!1;if(e instanceof ke)return this.isPointContainedInBoundary(e);if(e instanceof Ce)return this.isLineStringContainedInBoundary(e);for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(e,t){if(e.equals(t))return this.isPointContainedInBoundary(e);if(e.x===t.x){if(e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX())return!0}else if(e.y===t.y&&(e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(e){for(var t=e.getCoordinateSequence(),n=new p,r=new p,i=0;i<t.size()-1;i++)if(t.getCoordinate(i,n),t.getCoordinate(i+1,r),!this.isLineSegmentContainedInBoundary(n,r))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof ke){var e=arguments[0];return this.isPointContainedInBoundary(e.getCoordinate())}if(arguments[0]instanceof p){var t=arguments[0];return t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX()||t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()}},contains:function(e){return!!this.rectEnv.contains(e.getEnvelopeInternal())&&!this.isContainedInBoundary(e)},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.contains=function(e,t){var n=new Ji(e);return n.contains(t)},t(Zi.prototype,{intersects:function(e,t){var n=new E(e,t);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(e))return!0;if(this.rectEnv.intersects(t))return!0;if(e.compareTo(t)>0){var r=e;e=t,t=r}var i=!1;return t.y>e.y&&(i=!0),i?this.li.computeIntersection(e,t,this.diagDown0,this.diagDown1):this.li.computeIntersection(e,t,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Zi}}),t(Qi.prototype,{applyTo:function(e){for(var t=0;t<e.getNumGeometries()&&!this._isDone;t++){var n=e.getGeometryN(t);if(n instanceof de)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Qi}}),t(eo.prototype,{intersects:function(e){if(!this.rectEnv.intersects(e.getEnvelopeInternal()))return!1;var t=new to(this.rectEnv);if(t.applyTo(e),t.intersects())return!0;var n=new no(this.rectangle);if(n.applyTo(e),n.containsPoint())return!0;var r=new ro(this.rectangle);return r.applyTo(e),!!r.intersects()},interfaces_:function(){return[]},getClass:function(){return eo}}),eo.intersects=function(e,t){var n=new eo(e);return n.intersects(t)},u(to,Qi),t(to.prototype,{isDone:function(){return this._intersects===!0},visit:function(e){var t=e.getEnvelopeInternal();return this.rectEnv.intersects(t)?this.rectEnv.contains(t)?(this._intersects=!0,null):t.getMinX()>=this.rectEnv.getMinX()&&t.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):t.getMinY()>=this.rectEnv.getMinY()&&t.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return to}}),u(no,Qi),t(no.prototype,{isDone:function(){return this._containsPoint===!0},visit:function(e){if(!(e instanceof Te))return null;var t=e.getEnvelopeInternal();if(!this.rectEnv.intersects(t))return null;for(var n=new p,r=0;r<4;r++)if(this.rectSeq.getCoordinate(r,n),t.contains(n)&&Tn.containsPointInPolygon(n,e))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return no}}),u(ro,Qi),t(ro.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return this.hasIntersection===!0},visit:function(e){var t=e.getEnvelopeInternal();if(!this.rectEnv.intersects(t))return null;var n=Un.getLines(e);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(e){for(var t=e.getCoordinateSequence(),n=1;n<t.size();n++)if(t.getCoordinate(n-1,this.p0),t.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return ro}}),u(io,er),t(io.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return io}}),io.covers=function(e,t){return!!e.getEnvelopeInternal().covers(t.getEnvelopeInternal())&&(!!e.isRectangle()||io.relate(e,t).isCovers())},io.intersects=function(e,t){return!!e.getEnvelopeInternal().intersects(t.getEnvelopeInternal())&&(e.isRectangle()?eo.intersects(e,t):t.isRectangle()?eo.intersects(t,e):io.relate(e,t).isIntersects())},io.touches=function(e,t){return!!e.getEnvelopeInternal().intersects(t.getEnvelopeInternal())&&io.relate(e,t).isTouches(e.getDimension(),t.getDimension())},io.within=function(e,t){return t.contains(e)},io.coveredBy=function(e,t){return io.covers(t,e)},io.relate=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new io(e,t),r=n.getIntersectionMatrix();return r}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof $&&arguments[1]instanceof $){var i=arguments[0],o=arguments[1],s=arguments[2];return io.relateWithCheck(i,o).matches(s)}if(A(arguments[2],z)&&arguments[0]instanceof $&&arguments[1]instanceof $){var a=arguments[0],l=arguments[1],c=arguments[2],n=new io(a,l,c),r=n.getIntersectionMatrix();return r}}},io.overlaps=function(e,t){return!!e.getEnvelopeInternal().intersects(t.getEnvelopeInternal())&&io.relate(e,t).isOverlaps(e.getDimension(),t.getDimension())},io.disjoint=function(e,t){return!e.intersects(t)},io.relateWithCheck=function(e,t){return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),io.relate(e,t)},io.crosses=function(e,t){return!!e.getEnvelopeInternal().intersects(t.getEnvelopeInternal())&&io.relate(e,t).isCrosses(e.getDimension(),t.getDimension())},io.contains=function(e,t){return!!e.getEnvelopeInternal().contains(t.getEnvelopeInternal())&&(e.isRectangle()?Ji.contains(e,t):io.relate(e,t).isContains())};var Fs=Object.freeze({RelateOp:io});t(oo.prototype,{extractElements:function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this.skipEmpty&&r.isEmpty()||t.add(r)}},combine:function(){for(var e=new x,t=this.inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(e)},interfaces_:function(){return[]},getClass:function(){return oo}}),oo.combine=function(){if(1===arguments.length){var e=arguments[0],t=new oo(e);return t.combine()}if(2===arguments.length){var n=arguments[0],r=arguments[1],t=new oo(oo.createList(n,r));return t.combine()}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],t=new oo(oo.createList(i,o,s));return t.combine()}},oo.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},oo.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new x;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],n=new x;return n.add(r),n.add(i),n.add(o),n}},t(so.prototype,{union:function(){for(var e=new Tt,t=new ae,n=0;n<this.pointGeom.getNumGeometries();n++){var r=this.pointGeom.getGeometryN(n),i=r.getCoordinate(),o=e.locate(i,this.otherGeom);o===k.EXTERIOR&&t.add(i)}if(0===t.size())return this.otherGeom;var s=null,a=H.toCoordinateArray(t);return s=1===a.length?this.geomFact.createPoint(a[0]):this.geomFact.createMultiPointFromCoords(a),oo.combine(s,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return so}}),so.union=function(e,t){var n=new so(e,t);return n.union()},t(ao.prototype,{filter:function(e){this.sortIndex!==-1&&e.getSortIndex()!==this.sortIndex||this.comps.add(e)},interfaces_:function(){return[ue]},getClass:function(){return ao}}),ao.extract=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return ao.extract(e,t,new x)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return n.getSortIndex()===r?i.add(n):n instanceof de&&n.apply(new ao(r,i)),i}},t(lo.prototype,{reduceToGeometries:function(e){for(var t=new x,n=e.iterator();n.hasNext();){var r=n.next(),i=null;A(r,y)?i=this.unionTree(r):r instanceof $&&(i=r),t.add(i)}return t},extractByEnvelope:function(e,t,n){for(var r=new x,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);o.getEnvelopeInternal().intersects(e)?r.add(o):n.add(o)}return this.geomFactory.buildGeometry(r)},unionOptimized:function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r)){var i=oo.combine(e,t);return i}if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var o=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,o)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var e=new Ut(lo.STRTREE_NODE_CAPACITY),t=this.inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var r=e.itemsTree(),i=this.unionTree(r);return i},binaryUnion:function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=lo.getGeometry(t,n);return this.unionSafe(i,null)}if(r-n===2)return this.unionSafe(lo.getGeometry(t,n),lo.getGeometry(t,n+1));var o=Math.trunc((r+n)/2),i=this.binaryUnion(t,n,o),s=this.binaryUnion(t,o,r);return this.unionSafe(i,s)}},repeatedUnion:function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},unionSafe:function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},unionActual:function(e,t){return lo.restrictToPolygons(e.union(t))},unionTree:function(e){var t=this.reduceToGeometries(e),n=this.binaryUnion(t);return n},unionUsingEnvelopeIntersection:function(e,t,n){var r=new x,i=this.extractByEnvelope(n,e,r),o=this.extractByEnvelope(n,t,r),s=this.unionActual(i,o);r.add(s);var a=oo.combine(r);return a},bufferUnion:function(){if(1===arguments.length){var e=arguments[0],t=e.get(0).getFactory(),n=t.buildGeometry(e),r=n.buffer(0);return r}if(2===arguments.length){var i=arguments[0],o=arguments[1],t=i.getFactory(),n=t.createGeometryCollection([i,o]),r=n.buffer(0);return r}},interfaces_:function(){return[]},getClass:function(){return lo}}),lo.restrictToPolygons=function(e){if(A(e,Ae))return e;var t=gi.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(rt.toPolygonArray(t))},lo.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},lo.union=function(e){var t=new lo(e);return t.union()},lo.STRTREE_NODE_CAPACITY=4,t(co.prototype,{unionNoOpt:function(e){var t=this.geomFact.createPoint();return or.overlayOp(e,t,rr.UNION);
},unionWithNull:function(e,t){return null===e&&null===t?null:null===t?e:null===e?t:e.union(t)},extract:function(){if(A(arguments[0],m))for(var e=arguments[0],t=e.iterator();t.hasNext();){var n=t.next();this.extract(n)}else if(arguments[0]instanceof $){var r=arguments[0];null===this.geomFact&&(this.geomFact=r.getFactory()),ao.extract(r,$.SORTINDEX_POLYGON,this.polygons),ao.extract(r,$.SORTINDEX_LINESTRING,this.lines),ao.extract(r,$.SORTINDEX_POINT,this.points)}},union:function e(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var n=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(n)}var r=null;if(this.lines.size()>0){var i=this.geomFact.buildGeometry(this.lines);r=this.unionNoOpt(i)}var o=null;this.polygons.size()>0&&(o=lo.union(this.polygons));var s=this.unionWithNull(r,o),e=null;return e=null===t?s:null===s?t:so.union(t,s),null===e?this.geomFact.createGeometryCollection():e},interfaces_:function(){return[]},getClass:function(){return co}}),co.union=function(){if(1===arguments.length){if(A(arguments[0],m)){var e=arguments[0],t=new co(e);return t.union()}if(arguments[0]instanceof $){var n=arguments[0],t=new co(n);return t.union()}}else if(2===arguments.length){var r=arguments[0],i=arguments[1],t=new co(r,i);return t.union()}};var Ls=Object.freeze({UnaryUnionOp:co}),Rs=Object.freeze({IsValidOp:Wi,ConsistentAreaTester:zi}),Ms=Object.freeze({BoundaryOp:fe,IsSimpleOp:Gr,buffer:Cs,distance:Ss,linemerge:ks,overlay:As,polygonize:Ts,relate:Fs,union:Ls,valid:Rs});u(uo,Me.CoordinateOperation),t(uo.prototype,{editCoordinates:function(e,t){if(0===e.length)return null;for(var n=new Array(e.length).fill(null),r=0;r<e.length;r++){var i=new p(e[r]);this.targetPM.makePrecise(i),n[r]=i}var o=new _(n,!1),s=o.toCoordinateArray(),a=0;t instanceof Ce&&(a=2),t instanceof Le&&(a=4);var l=n;return this.removeCollapsed&&(l=null),s.length<a?l:s},interfaces_:function(){return[]},getClass:function(){return uo}}),t(ho.prototype,{fixPolygonalTopology:function(e){var t=e;this.changePrecisionModel||(t=this.changePM(e,this.targetPM));var n=t.buffer(0),r=n;return this.changePrecisionModel||(r=this.changePM(n,e.getPrecisionModel())),r},reducePointwise:function(e){var t=null;if(this.changePrecisionModel){var n=this.createFactory(e.getFactory(),this.targetPM);t=new Me(n)}else t=new Me;var r=this.removeCollapsed;e.getDimension()>=2&&(r=!0);var i=t.edit(e,new uo(this.targetPM,r));return i},changePM:function(e,t){var n=this.createEditor(e.getFactory(),t);return n.edit(e,new Me.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(e){this.removeCollapsed=e},createFactory:function(e,t){var n=new rt(t,e.getSRID(),e.getCoordinateSequenceFactory());return n},setChangePrecisionModel:function(e){this.changePrecisionModel=e},reduce:function(e){var t=this.reducePointwise(e);return this.isPointwise?t:A(t,Ae)?t.isValid()?t:this.fixPolygonalTopology(t):t},setPointwise:function(e){this.isPointwise=e},createEditor:function(e,t){if(e.getPrecisionModel()===t)return new Me;var n=this.createFactory(e,t),r=new Me(n);return r},interfaces_:function(){return[]},getClass:function(){return ho}}),ho.reduce=function(e,t){var n=new ho(t);return n.reduce(e)},ho.reducePointwise=function(e,t){var n=new ho(t);return n.setPointwise(!0),n.reduce(e)};var Is=Object.freeze({GeometryPrecisionReducer:ho});t(po.prototype,{simplifySection:function(e,t){if(e+1===t)return null;this.seg.p0=this.pts[e],this.seg.p1=this.pts[t];for(var n=-1,r=e,i=e+1;i<t;i++){var o=this.seg.distance(this.pts[i]);o>n&&(n=o,r=i)}if(n<=this.distanceTolerance)for(var i=e+1;i<t;i++)this.usePt[i]=!1;else this.simplifySection(e,r),this.simplifySection(r,t)},setDistanceTolerance:function(e){this.distanceTolerance=e},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var e=0;e<this.pts.length;e++)this.usePt[e]=!0;this.simplifySection(0,this.pts.length-1);for(var t=new _,e=0;e<this.pts.length;e++)this.usePt[e]&&t.add(new p(this.pts[e]));return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return po}}),po.simplify=function(e,t){var n=new po(e);return n.setDistanceTolerance(t),n.simplify()},t(fo.prototype,{setEnsureValid:function(e){this.isEnsureValidTopology=e},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new go(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(e){if(e<0)throw new r("Tolerance must be non-negative");this.distanceTolerance=e},interfaces_:function(){return[]},getClass:function(){return fo}}),fo.simplify=function(e,t){var n=new fo(e);return n.setDistanceTolerance(t),n.getResultGeometry()},u(go,bt),t(go.prototype,{transformPolygon:function(e,t){if(e.isEmpty())return null;var n=bt.prototype.transformPolygon.call(this,e,t);return t instanceof Re?n:this.createValidArea(n)},createValidArea:function(e){return this.isEnsureValidTopology?e.buffer(0):e},transformCoordinates:function(e,t){var n=e.toCoordinateArray(),r=null;return r=0===n.length?new Array(0).fill(null):po.simplify(n,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(r)},transformMultiPolygon:function(e,t){var n=bt.prototype.transformMultiPolygon.call(this,e,t);return this.createValidArea(n)},transformLinearRing:function(e,t){var n=t instanceof Te,r=bt.prototype.transformLinearRing.call(this,e,t);return!n||r instanceof Le?r:null},interfaces_:function(){return[]},getClass:function(){return go}}),fo.DPTransformer=go,u(mo,ht),t(mo.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return mo}}),t(vo.prototype,{addToResult:function(e){this.resultSegs.add(e)},asLineString:function(){return this.parentLine.getFactory().createLineString(vo.extractCoordinates(this.resultSegs))},getResultSize:function(){var e=this.resultSegs.size();return 0===e?0:e+1},getParent:function(){return this.parentLine},getSegment:function(e){return this.segs[e]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(vo.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var e=this.parentLine.getCoordinates();this.segs=new Array(e.length-1).fill(null);for(var t=0;t<e.length-1;t++){var n=new mo(e[t],e[t+1],this.parentLine,t);this.segs[t]=n}},getResultCoordinates:function(){return vo.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return vo}}),vo.extractCoordinates=function(e){for(var t=new Array(e.size()+1).fill(null),n=null,r=0;r<e.size();r++)n=e.get(r),t[r]=n.p0;return t[t.length-1]=n.p1,t},t(yo.prototype,{remove:function(e){this.index.remove(new E(e.p0,e.p1),e)},add:function(){if(arguments[0]instanceof vo)for(var e=arguments[0],t=e.getSegments(),n=0;n<t.length;n++){var r=t[n];this.add(r)}else if(arguments[0]instanceof ht){var i=arguments[0];this.index.insert(new E(i.p0,i.p1),i)}},query:function(e){var t=new E(e.p0,e.p1),n=new bo(e);this.index.query(t,n);var r=n.getItems();return r},interfaces_:function(){return[]},getClass:function(){return yo}}),t(bo.prototype,{visitItem:function(e){var t=e;E.intersects(t.p0,t.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(e)},getItems:function(){return this.items},interfaces_:function(){return[Nt]},getClass:function(){return bo}}),t(wo.prototype,{flatten:function(e,t){var n=this.linePts[e],r=this.linePts[t],i=new ht(n,r);return this.remove(this.line,e,t),this.outputIndex.add(i),i},hasBadIntersection:function(e,t,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(e,t,n)},setDistanceTolerance:function(e){this.distanceTolerance=e},simplifySection:function(e,t,n){n+=1;var r=new Array(2).fill(null);if(e+1===t){var i=this.line.getSegment(e);return this.line.addToResult(i),null}var o=!0;if(this.line.getResultSize()<this.line.getMinimumSize()){var s=n+1;s<this.line.getMinimumSize()&&(o=!1)}var a=new Array(1).fill(null),l=this.findFurthestPoint(this.linePts,e,t,a);a[0]>this.distanceTolerance&&(o=!1);var c=new ht;if(c.p0=this.linePts[e],c.p1=this.linePts[t],r[0]=e,r[1]=t,this.hasBadIntersection(this.line,r,c)&&(o=!1),o){var i=this.flatten(e,t);return this.line.addToResult(i),null}this.simplifySection(e,l,n),this.simplifySection(l,t,n)},hasBadOutputIntersection:function(e){for(var t=this.outputIndex.query(e),n=t.iterator();n.hasNext();){var r=n.next();if(this.hasInteriorIntersection(r,e))return!0}return!1},findFurthestPoint:function(e,t,n,r){var i=new ht;i.p0=e[t],i.p1=e[n];for(var o=-1,s=t,a=t+1;a<n;a++){var l=e[a],c=i.distance(l);c>o&&(o=c,s=a)}return r[0]=o,s},simplify:function(e){this.line=e,this.linePts=e.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(e,t,n){for(var r=t;r<n;r++){var i=e.getSegment(r);this.inputIndex.remove(i)}},hasInteriorIntersection:function(e,t){return this.li.computeIntersection(e.p0,e.p1,t.p0,t.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(e,t,n){for(var r=this.inputIndex.query(n),i=r.iterator();i.hasNext();){var o=i.next();if(this.hasInteriorIntersection(o,n)){if(wo.isInLineSection(e,t,o))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return wo}}),wo.isInLineSection=function(e,t,n){if(n.getParent()!==e.getParent())return!1;var r=n.getIndex();return r>=t[0]&&r<t[1]},t(xo.prototype,{setDistanceTolerance:function(e){this.distanceTolerance=e},simplify:function(e){for(var t=e.iterator();t.hasNext();)this.inputIndex.add(t.next());for(var t=e.iterator();t.hasNext();){var n=new wo(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(t.next())}},interfaces_:function(){return[]},getClass:function(){return xo}}),t(_o.prototype,{getResultGeometry:function(){if(this.inputGeom.isEmpty())return this.inputGeom.copy();this.linestringMap=new et,this.inputGeom.apply(new Co(this)),this.lineSimplifier.simplify(this.linestringMap.values());var e=new Eo(this.linestringMap).transform(this.inputGeom);return e},setDistanceTolerance:function(e){if(e<0)throw new r("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(e)},interfaces_:function(){return[]},getClass:function(){return _o}}),_o.simplify=function(e,t){var n=new _o(e);return n.setDistanceTolerance(t),n.getResultGeometry()},u(Eo,bt),t(Eo.prototype,{transformCoordinates:function(e,t){if(0===e.size())return null;if(t instanceof Ce){var n=this.linestringMap.get(t);return this.createCoordinateSequence(n.getResultCoordinates())}return bt.prototype.transformCoordinates.call(this,e,t)},interfaces_:function(){return[]},getClass:function(){return Eo}}),t(Co.prototype,{filter:function(e){if(e instanceof Ce){var t=e;if(t.isEmpty())return null;var n=t.isClosed()?4:2,r=new vo(t,n);this.tps.linestringMap.put(t,r)}},interfaces_:function(){return[B]},getClass:function(){return Co}}),_o.LineStringTransformer=Eo,_o.LineStringMapBuilderFilter=Co;var Ds=Object.freeze({DouglasPeuckerSimplifier:fo,TopologyPreservingSimplifier:_o});t(So.prototype,{splitAt:function(){if(1===arguments.length){var e=arguments[0],t=this.minimumLen/this.segLen;if(e.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(t),null;if(e.distance(this.seg.p1)<this.minimumLen)return this.splitPt=So.pointAlongReverse(this.seg,t),null;this.splitPt=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this.getConstrainedLength(n),o=i/this.segLen;r.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=So.pointAlongReverse(this.seg,o)}},setMinimumLength:function(e){this.minimumLen=e},getConstrainedLength:function(e){return e<this.minimumLen?this.minimumLen:e},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return So}}),So.pointAlongReverse=function(e,t){var n=new p;return n.x=e.p1.x-t*(e.p1.x-e.p0.x),n.y=e.p1.y-t*(e.p1.y-e.p0.y),n},t(ko.prototype,{findSplitPoint:function(e,t){},interfaces_:function(){return[]},getClass:function(){return ko}}),t(Ao.prototype,{findSplitPoint:function(e,t){var n=e.getLineSegment(),r=n.getLength(),i=r/2,o=new So(n),s=Ao.projectedSplitPoint(e,t),a=2*s.distance(t)*.8,l=a;return l>i&&(l=i),o.setMinimumLength(l),o.splitAt(s),o.getSplitPoint()},interfaces_:function(){return[ko]},getClass:function(){return Ao}}),Ao.projectedSplitPoint=function(e,t){var n=e.getLineSegment(),r=n.project(t);return r},t(To.prototype,{interfaces_:function(){return[]},getClass:function(){return To}}),To.triArea=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},To.isInCircleDDNormalized=function(e,t,n,r){var i=M.valueOf(e.x).selfSubtract(r.x),o=M.valueOf(e.y).selfSubtract(r.y),s=M.valueOf(t.x).selfSubtract(r.x),a=M.valueOf(t.y).selfSubtract(r.y),l=M.valueOf(n.x).selfSubtract(r.x),c=M.valueOf(n.y).selfSubtract(r.y),u=i.multiply(a).selfSubtract(s.multiply(o)),h=s.multiply(c).selfSubtract(l.multiply(a)),d=l.multiply(o).selfSubtract(i.multiply(c)),p=i.multiply(i).selfAdd(o.multiply(o)),f=s.multiply(s).selfAdd(a.multiply(a)),g=l.multiply(l).selfAdd(c.multiply(c)),m=p.selfMultiply(h).selfAdd(f.selfMultiply(d)).selfAdd(g.selfMultiply(u)),v=m.doubleValue()>0;return v},To.checkRobustInCircle=function(e,t,n,r){var i=To.isInCircleNonRobust(e,t,n,r),o=To.isInCircleDDSlow(e,t,n,r),s=To.isInCircleCC(e,t,n,r),a=Cr.circumcentre(e,t,n);N.out.println("p radius diff a = "+Math.abs(r.distance(a)-e.distance(a))/e.distance(a)),i===o&&i===s||(N.out.println("inCircle robustness failure (double result = "+i+", DD result = "+o+", CC result = "+s+")"),N.out.println(ot.toLineString(new Oe([e,t,n,r]))),N.out.println("Circumcentre = "+ot.toPoint(a)+" radius = "+e.distance(a)),N.out.println("p radius diff a = "+Math.abs(r.distance(a)/e.distance(a)-1)),N.out.println("p radius diff b = "+Math.abs(r.distance(a)/t.distance(a)-1)),N.out.println("p radius diff c = "+Math.abs(r.distance(a)/n.distance(a)-1)),N.out.println())},To.isInCircleDDFast=function(e,t,n,r){var i=M.sqr(e.x).selfAdd(M.sqr(e.y)).selfMultiply(To.triAreaDDFast(t,n,r)),o=M.sqr(t.x).selfAdd(M.sqr(t.y)).selfMultiply(To.triAreaDDFast(e,n,r)),s=M.sqr(n.x).selfAdd(M.sqr(n.y)).selfMultiply(To.triAreaDDFast(e,t,r)),a=M.sqr(r.x).selfAdd(M.sqr(r.y)).selfMultiply(To.triAreaDDFast(e,t,n)),l=i.selfSubtract(o).selfAdd(s).selfSubtract(a),c=l.doubleValue()>0;return c},To.isInCircleCC=function(e,t,n,r){var i=Cr.circumcentre(e,t,n),o=e.distance(i),s=r.distance(i)-o;return s<=0},To.isInCircleNormalized=function(e,t,n,r){var i=e.x-r.x,o=e.y-r.y,s=t.x-r.x,a=t.y-r.y,l=n.x-r.x,c=n.y-r.y,u=i*a-s*o,h=s*c-l*a,d=l*o-i*c,p=i*i+o*o,f=s*s+a*a,g=l*l+c*c,m=p*h+f*d+g*u;return m>0},To.isInCircleDDSlow=function(e,t,n,r){var i=M.valueOf(r.x),o=M.valueOf(r.y),s=M.valueOf(e.x),a=M.valueOf(e.y),l=M.valueOf(t.x),c=M.valueOf(t.y),u=M.valueOf(n.x),h=M.valueOf(n.y),d=s.multiply(s).add(a.multiply(a)).multiply(To.triAreaDDSlow(l,c,u,h,i,o)),p=l.multiply(l).add(c.multiply(c)).multiply(To.triAreaDDSlow(s,a,u,h,i,o)),f=u.multiply(u).add(h.multiply(h)).multiply(To.triAreaDDSlow(s,a,l,c,i,o)),g=i.multiply(i).add(o.multiply(o)).multiply(To.triAreaDDSlow(s,a,l,c,u,h)),m=d.subtract(p).add(f).subtract(g),v=m.doubleValue()>0;return v},To.isInCircleNonRobust=function(e,t,n,r){var i=(e.x*e.x+e.y*e.y)*To.triArea(t,n,r)-(t.x*t.x+t.y*t.y)*To.triArea(e,n,r)+(n.x*n.x+n.y*n.y)*To.triArea(e,t,r)-(r.x*r.x+r.y*r.y)*To.triArea(e,t,n)>0;return i},To.isInCircleRobust=function(e,t,n,r){return To.isInCircleNormalized(e,t,n,r)},To.triAreaDDSlow=function(e,t,n,r,i,o){return n.subtract(e).multiply(o.subtract(t)).subtract(r.subtract(t).multiply(i.subtract(e)))},To.triAreaDDFast=function(e,t,n){var r=M.valueOf(t.x).selfSubtract(e.x).selfMultiply(M.valueOf(n.y).selfSubtract(e.y)),i=M.valueOf(t.y).selfSubtract(e.y).selfMultiply(M.valueOf(n.x).selfSubtract(e.x));return r.selfSubtract(i)},t(Fo.prototype,{circleCenter:function(e,t){var n=new Fo(this.getX(),this.getY()),r=this.bisector(n,e),i=this.bisector(e,t),o=new P(r,i),s=null;try{s=new Fo(o.getX(),o.getY())}catch(r){if(!(r instanceof S))throw r;N.err.println("a: "+n+"  b: "+e+"  c: "+t),N.err.println(r)}finally{}return s},dot:function(e){return this.p.x*e.getX()+this.p.y*e.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(e,t){var n=t.getX()-e.getX(),r=t.getY()-e.getY(),i=new P(e.getX()+n/2,e.getY()+r/2,1),o=new P(e.getX()-r+n/2,e.getY()+n+r/2,1);return new P(i,o)},equals:function(){if(1===arguments.length){var e=arguments[0];return this.p.x===e.getX()&&this.p.y===e.getY()}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.p.distance(t.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(e,t,n){return To.isInCircleRobust(e.p,t.p,n.p,this.p)},interpolateZValue:function(e,t,n){var r=e.getX(),i=e.getY(),o=t.getX()-r,s=n.getX()-r,a=t.getY()-i,l=n.getY()-i,c=o*l-s*a,u=this.getX()-r,h=this.getY()-i,d=(l*u-s*h)/c,p=(-a*u+o*h)/c,f=e.getZ()+d*(t.getZ()-e.getZ())+p*(n.getZ()-e.getZ());return f},midPoint:function(e){var t=(this.p.x+e.getX())/2,n=(this.p.y+e.getY())/2,r=(this.p.z+e.getZ())/2;return new Fo(t,n,r)},rightOf:function(e){return this.isCCW(e.dest(),e.orig())},isCCW:function(e,t){return(e.p.x-this.p.x)*(t.p.y-this.p.y)-(e.p.y-this.p.y)*(t.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(e){return this.p.x*e.getY()-this.p.y*e.getX()},setZ:function(e){this.p.z=e},times:function(e){return new Fo(e*this.p.x,e*this.p.y)},cross:function(){return new Fo(this.p.y,-this.p.x)},leftOf:function(e){return this.isCCW(e.orig(),e.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(e){return new Fo(this.p.x-e.getX(),this.p.y-e.getY())},getY:function(){return this.p.y},classify:function(e,t){var n=this,r=t.sub(e),i=n.sub(e),o=r.crossProduct(i);return o>0?Fo.LEFT:o<0?Fo.RIGHT:r.getX()*i.getX()<0||r.getY()*i.getY()<0?Fo.BEHIND:r.magn()<i.magn()?Fo.BEYOND:e.equals(n)?Fo.ORIGIN:t.equals(n)?Fo.DESTINATION:Fo.BETWEEN},sum:function(e){return new Fo(this.p.x+e.getX(),this.p.y+e.getY())},distance:function(e,t){return Math.sqrt(Math.pow(t.getX()-e.getX(),2)+Math.pow(t.getY()-e.getY(),2))},circumRadiusRatio:function(e,t){var n=this.circleCenter(e,t),r=this.distance(n,e),i=this.distance(this,e),o=this.distance(e,t);return o<i&&(i=o),o=this.distance(t,this),o<i&&(i=o),r/i},interfaces_:function(){return[]},getClass:function(){return Fo}}),Fo.interpolateZ=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=t.distance(n),i=e.distance(t),o=n.z-t.z,s=t.z+o*(i/r);return s}if(4===arguments.length){var a=arguments[0],l=arguments[1],c=arguments[2],u=arguments[3],h=l.x,d=l.y,p=c.x-h,f=u.x-h,g=c.y-d,m=u.y-d,v=p*m-f*g,y=a.x-h,b=a.y-d,w=(m*y-f*b)/v,x=(-g*y+p*b)/v,_=l.z+w*(c.z-l.z)+x*(u.z-l.z);return _}},Fo.LEFT=0,Fo.RIGHT=1,Fo.BEYOND=2,Fo.BEHIND=3,Fo.BETWEEN=4,Fo.ORIGIN=5,Fo.DESTINATION=6,u(Lo,Fo),t(Lo.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(e){this._isOnConstraint=e},merge:function(e){e._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=e.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(e){this._isOnConstraint=!0,this.constraint=e},interfaces_:function(){return[]},getClass:function(){return Lo}}),t(Ro.prototype,{equalsNonOriented:function(e){return!!this.equalsOriented(e)||!!this.equalsOriented(e.sym())},toLineSegment:function(){return new ht(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(e){return!(!this.orig().getCoordinate().equals2D(e.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(e.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(e){this.vertex=e},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(e){this.sym().setOrig(e)},setData:function(e){this.data=e},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var e=this.vertex.getCoordinate(),t=this.dest().getCoordinate();return ot.toLineString(e,t)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(e){this.next=e},interfaces_:function(){return[]},getClass:function(){return Ro}}),Ro.makeEdge=function(e,t){var n=new Ro,r=new Ro,i=new Ro,o=new Ro;n._rot=r,r._rot=i,i._rot=o,o._rot=n,n.setNext(n),r.setNext(o),i.setNext(i),o.setNext(r);var s=n;return s.setOrig(e),s.setDest(t),s},Ro.swap=function(e){var t=e.oPrev(),n=e.sym().oPrev();Ro.splice(e,t),Ro.splice(e.sym(),n),Ro.splice(e,t.lNext()),Ro.splice(e.sym(),n.lNext()),e.setOrig(t.dest()),e.setDest(n.dest())},Ro.splice=function(e,t){var n=e.oNext().rot(),r=t.oNext().rot(),i=t.oNext(),o=e.oNext(),s=r.oNext(),a=n.oNext();e.setNext(i),t.setNext(o),n.setNext(s),r.setNext(a)},Ro.connect=function(e,t){var n=Ro.makeEdge(e.dest(),t.orig());return Ro.splice(n,e.lNext()),Ro.splice(n.sym(),t),n},t(Mo.prototype,{insertSite:function(e){var t=this.subdiv.locate(e);if(this.subdiv.isVertexOfEdge(t,e))return t;this.subdiv.isOnEdge(t,e.getCoordinate())&&(t=t.oPrev(),this.subdiv.delete(t.oNext()));var n=this.subdiv.makeEdge(t.orig(),e);Ro.splice(n,t);var r=n;do n=this.subdiv.connect(t,n.sym()),t=n.oPrev();while(t.lNext()!==r);for(;;){var i=t.oPrev();if(i.dest().rightOf(t)&&e.isInCircle(t.orig(),i.dest(),t.dest()))Ro.swap(t),t=t.oPrev();else{if(t.oNext()===r)return n;t=t.oNext().lPrev()}}},insertSites:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return Mo}}),t(Io.prototype,{locate:function(e){},interfaces_:function(){return[]},getClass:function(){return Io}}),t(Do.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(e){this.lastEdge.isLive()||this.init();var t=this.subdiv.locateFromEdge(e,this.lastEdge);return this.lastEdge=t,t},findEdge:function(){var e=this.subdiv.getEdges();return e.iterator().next()},interfaces_:function(){return[Io]},getClass:function(){return Do}}),u(No,c),t(No.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return No}}),No.msgWithSpatial=function(e,t){return null!==t?e+" [ "+t+" ]":e},t(Po.prototype,{visit:function(e){},interfaces_:function(){return[]},getClass:function(){return Po}}),t(Oo.prototype,{getTriangleVertices:function(e){var t=new jo;return this.visitTriangles(t,e),t.getTriangleVertices()},isFrameVertex:function(e){return!!e.equals(this.frameVertex[0])||!!e.equals(this.frameVertex[1])||!!e.equals(this.frameVertex[2])},isVertexOfEdge:function(e,t){return!(!t.equals(e.orig(),this.tolerance)&&!t.equals(e.dest(),this.tolerance))},connect:function(e,t){var n=Ro.connect(e,t);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(e,t){var n=new x,r=e;do{var i=e.rot().orig().getCoordinate();n.add(i),e=e.oPrev()}while(e!==r);var o=new _;o.addAll(n,!1),o.closeRing(),o.size()<4&&(N.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=t.createPolygon(t.createLinearRing(s),null),l=r.orig();return a.setUserData(l.getCoordinate()),a},setLocator:function(e){this.locator=e},initSubdiv:function(){var e=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),t=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Ro.splice(e.sym(),t);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Ro.splice(t.sym(),n),Ro.splice(n.sym(),e),e},isFrameBorderEdge:function(e){var t=new Array(3).fill(null);Oo.getTriangleEdges(e,t);var n=new Array(3).fill(null);Oo.getTriangleEdges(e.sym(),n);var r=e.lNext().dest();if(this.isFrameVertex(r))return!0;var i=e.sym().lNext().dest();return!!this.isFrameVertex(i)},makeEdge:function(e,t){var n=Ro.makeEdge(e,t);return this.quadEdges.add(n),n},visitTriangles:function(e,t){this.visitedKey++;var n=new gt;n.push(this.startingEdge);for(var r=new Z;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=this.fetchTriangleToVisit(i,n,t,r);null!==o&&e.visit(o)}}},isFrameEdge:function(e){return!(!this.isFrameVertex(e.orig())&&!this.isFrameVertex(e.dest()))},isOnEdge:function(e,t){this.seg.setCoordinates(e.orig().getCoordinate(),e.dest().getCoordinate());var n=this.seg.distance(t);return n<this.edgeCoincidenceTolerance},getEnvelope:function(){return new E(this.frameEnv)},createFrame:function(e){var t=e.getWidth(),n=e.getHeight(),r=0;r=t>n?10*t:10*n,this.frameVertex[0]=new Fo((e.getMaxX()+e.getMinX())/2,e.getMaxY()+r),this.frameVertex[1]=new Fo(e.getMinX()-r,e.getMinY()-r),this.frameVertex[2]=new Fo(e.getMaxX()+r,e.getMinY()-r),this.frameEnv=new E(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(e){var t=new zo;return this.visitTriangles(t,e),t.getTriangles()},getVertices:function(e){for(var t=new Z,n=this.quadEdges.iterator();n.hasNext();){var r=n.next(),i=r.orig();!e&&this.isFrameVertex(i)||t.add(i);var o=r.dest();!e&&this.isFrameVertex(o)||t.add(o)}return t},fetchTriangleToVisit:function(e,t,n,r){var i=e,o=0,s=!1;do{this.triEdges[o]=i,this.isFrameEdge(i)&&(s=!0);var a=i.sym();r.contains(a)||t.push(a),r.add(i),o++,i=i.lNext()}while(i!==e);return s&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var e=arguments[0],t=this.getPrimaryEdges(!1),n=new Array(t.size()).fill(null),r=0,i=t.iterator();i.hasNext();){var o=i.next();n[r++]=e.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return e.createMultiLineString(n)}},getVertexUniqueEdges:function(e){for(var t=new x,n=new Z,r=this.quadEdges.iterator();r.hasNext();){var i=r.next(),o=i.orig();n.contains(o)||(n.add(o),!e&&this.isFrameVertex(o)||t.add(i));var s=i.sym(),a=s.orig();n.contains(a)||(n.add(a),!e&&this.isFrameVertex(a)||t.add(s))}return t},getTriangleEdges:function(e){var t=new $o;return this.visitTriangles(t,e),t.getTriangleEdges()},getPrimaryEdges:function(e){this.visitedKey++;var t=new x,n=new gt;n.push(this.startingEdge);for(var r=new Z;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=i.getPrimary();!e&&this.isFrameEdge(o)||t.add(o),n.push(i.oNext()),n.push(i.sym().oNext()),r.add(i),r.add(i.sym())}}return t},delete:function(e){Ro.splice(e,e.oPrev()),Ro.splice(e.sym(),e.sym().oPrev());var t=e.sym(),n=e.rot(),r=e.rot().sym();this.quadEdges.remove(e),this.quadEdges.remove(t),this.quadEdges.remove(n),this.quadEdges.remove(r),e.delete(),t.delete(),n.delete(),r.delete()},locateFromEdge:function(e,t){for(var n=0,r=this.quadEdges.size(),i=t;;){if(n++,n>r)throw new No(i.toLineSegment());if(e.equals(i.orig())||e.equals(i.dest()))break;if(e.rightOf(i))i=i.sym();else if(e.rightOf(i.oNext())){if(e.rightOf(i.dPrev()))break;i=i.dPrev()}else i=i.oNext()}return i},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(e){this.visitTriangles(new Bo,!0);for(var t=new x,n=this.getVertexUniqueEdges(!1),r=n.iterator();r.hasNext();){var i=r.next();t.add(this.getVoronoiCellPolygon(i,e))}return t},getVoronoiDiagram:function(e){var t=this.getVoronoiCellPolygons(e);return e.createGeometryCollection(rt.toGeometryArray(t))},getTriangles:function(e){for(var t=this.getTriangleCoordinates(!1),n=new Array(t.size()).fill(null),r=0,i=t.iterator();i.hasNext();){var o=i.next();n[r++]=e.createPolygon(e.createLinearRing(o),null)}return e.createGeometryCollection(n)},insertSite:function(e){var t=this.locate(e);if(e.equals(t.orig(),this.tolerance)||e.equals(t.dest(),this.tolerance))return t;var n=this.makeEdge(t.orig(),e);Ro.splice(n,t);var r=n;do n=this.connect(t,n.sym()),t=n.oPrev();while(t.lNext()!==r);return r},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Fo){var e=arguments[0];return this.locator.locate(e)}if(arguments[0]instanceof p){var t=arguments[0];return this.locator.locate(new Fo(t))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this.locator.locate(new Fo(n));if(null===i)return null;var o=i;i.dest().getCoordinate().equals2D(n)&&(o=i.sym());var s=o;do{if(s.dest().getCoordinate().equals2D(r))return s;s=s.oNext()}while(s!==o);return null}},interfaces_:function(){return[]},getClass:function(){return Oo}}),Oo.getTriangleEdges=function(e,t){if(t[0]=e,t[1]=t[0].lNext(),t[2]=t[1].lNext(),t[2].lNext()!==t[0])throw new r("Edges do not form a triangle")},t(Bo.prototype,{visit:function(e){for(var t=e[0].orig().getCoordinate(),n=e[1].orig().getCoordinate(),r=e[2].orig().getCoordinate(),i=Cr.circumcentre(t,n,r),o=new Fo(i),s=0;s<3;s++)e[s].rot().setOrig(o)},interfaces_:function(){return[Po]},getClass:function(){return Bo}}),t($o.prototype,{getTriangleEdges:function(){return this.triList},visit:function(e){this.triList.add(e.clone())},interfaces_:function(){return[Po]},getClass:function(){return $o}}),t(jo.prototype,{visit:function(e){this.triList.add([e[0].orig(),e[1].orig(),e[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[Po]},getClass:function(){return jo}}),t(zo.prototype,{checkTriangleSize:function(e){var t="";e.length>=2?t=ot.toLineString(e[0],e[1]):e.length>=1&&(t=ot.toPoint(e[0]))},visit:function(e){this.coordList.clear();for(var t=0;t<3;t++){var n=e[t].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var r=this.coordList.toCoordinateArray();if(4!==r.length)return null;this.triCoords.add(r)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[Po]},getClass:function(){return zo}}),Oo.TriangleCircumcentreVisitor=Bo,Oo.TriangleEdgesListVisitor=$o,Oo.TriangleVertexListVisitor=jo,Oo.TriangleCoordinatesVisitor=zo,Oo.EDGE_COINCIDENCE_TOL_FACTOR=1e3,t(Uo.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){var e=this.ls.getCoordinate(1);return e.z},getStartZ:function(){var e=this.ls.getCoordinate(0);return e.z},intersection:function(e){return this.ls.intersection(e.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){var e=this.ls.getCoordinate(1);return e.y},getStartX:function(){var e=this.ls.getCoordinate(0);return e.x},equalsTopo:function(e){return this.ls.equalsTopo(e.getLineSegment())},getStartY:function(){var e=this.ls.getCoordinate(0);return e.y},setData:function(e){this.data=e},getData:function(){return this.data},getEndX:function(){var e=this.ls.getCoordinate(1);return e.x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Uo}}),t(Vo.prototype,{visit:function(e){},interfaces_:function(){return[]},getClass:function(){return Vo}}),t(Wo.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(e){this.left=e},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(e){this.right=e},interfaces_:function(){return[]},getClass:function(){return Wo}}),t(qo.prototype,{insert:function(){if(1===arguments.length){var e=arguments[0];return this.insert(e,null);
}if(2===arguments.length){var t=arguments[0],n=arguments[1];if(null===this.root)return this.root=new Wo(t,n),this.root;if(this.tolerance>0){var r=this.findBestMatchNode(t);if(null!==r)return r.increment(),r}return this.insertExact(t,n)}},query:function(){var e=arguments,t=this;if(1===arguments.length){var n=arguments[0],r=new x;return this.query(n,r),r}if(2===arguments.length)if(arguments[0]instanceof E&&A(arguments[1],y))!function(){var n=e[0],r=e[1];t.queryNode(t.root,n,!0,{interfaces_:function(){return[Vo]},visit:function(e){r.add(e)}})}();else if(arguments[0]instanceof E&&A(arguments[1],Vo)){var i=arguments[0],o=arguments[1];this.queryNode(this.root,i,!0,o)}},queryNode:function(e,t,n,r){if(null===e)return null;var i=null,o=null,s=null;n?(i=t.getMinX(),o=t.getMaxX(),s=e.getX()):(i=t.getMinY(),o=t.getMaxY(),s=e.getY());var a=i<s,l=s<=o;a&&this.queryNode(e.getLeft(),t,!n,r),t.contains(e.getCoordinate())&&r.visit(e),l&&this.queryNode(e.getRight(),t,!n,r)},findBestMatchNode:function(e){var t=new Ho(e,this.tolerance);return this.query(t.queryEnvelope(),t),t.getNode()},isEmpty:function(){return null===this.root},insertExact:function(e,t){for(var n=this.root,r=this.root,i=!0,o=!0;null!==n;){if(null!==n){var s=e.distance(n.getCoordinate())<=this.tolerance;if(s)return n.increment(),n}o=i?e.x<n.getX():e.y<n.getY(),r=n,n=o?n.getLeft():n.getRight(),i=!i}this.numberOfNodes=this.numberOfNodes+1;var a=new Wo(e,t);return o?r.setLeft(a):r.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return qo}}),qo.toCoordinates=function(){if(1===arguments.length){var e=arguments[0];return qo.toCoordinates(e,!1)}if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=new _,i=t.iterator();i.hasNext();)for(var o=i.next(),s=n?o.getCount():1,a=0;a<s;a++)r.add(o.getCoordinate(),!0);return r.toCoordinateArray()}},t(Ho.prototype,{visit:function(e){var t=this.p.distance(e.getCoordinate()),n=t<=this.tolerance;if(!n)return null;var r=!1;(null===this.matchNode||t<this.matchDist||null!==this.matchNode&&t===this.matchDist&&e.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(r=!0),r&&(this.matchNode=e,this.matchDist=t)},queryEnvelope:function(){var e=new E(this.p);return e.expandBy(this.tolerance),e},getNode:function(){return this.matchNode},interfaces_:function(){return[Vo]},getClass:function(){return Ho}}),qo.BestMatchVisitor=Ho,t(Go.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var e=0,t=0;do t=this.enforceGabriel(this.segments),e++;while(t>0&&e<Go.MAX_SPLIT_ITER)},insertSites:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var e=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),t=0,n=this.initialVertices.iterator();n.hasNext();){var r=n.next();e[t++]=r.getCoordinate()}for(var i=this.segVertices.iterator();i.hasNext();){var r=i.next();e[t++]=r.getCoordinate()}return e},setConstraints:function(e,t){this.segments=e,this.segVertices=t},computeConvexHull:function(){var e=new rt,t=this.getPointArray(),n=new vt(t,e);this.convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(e){var t=e.getStart(),n=e.getEnd(),r=new p((t.x+n.x)/2,(t.y+n.y)/2),o=t.distance(r),s=new E(r);s.expandBy(o);for(var a=this.kdt.query(s),l=null,c=i.MAX_VALUE,u=a.iterator();u.hasNext();){var h=u.next(),d=h.getCoordinate();if(!d.equals2D(t)&&!d.equals2D(n)){var f=r.distance(d);if(f<o){var g=f;(null===l||g<c)&&(l=d,c=g)}}}return l},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(e){this.splitFinder=e},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(e){for(var t=new x,n=0,r=new x,i=e.iterator();i.hasNext();){var o=i.next(),s=this.findNonGabrielPoint(o);if(null!==s){this.splitPt=this.splitFinder.findSplitPoint(o,s);var a=this.createVertex(this.splitPt,o),l=(this.insertSite(a),new Uo(o.getStartX(),o.getStartY(),o.getStartZ(),a.getX(),a.getY(),a.getZ(),o.getData())),c=new Uo(a.getX(),a.getY(),a.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());t.add(l),t.add(c),r.add(o),n+=1}}return e.removeAll(r),e.addAll(t),n},createVertex:function(){if(1===arguments.length){var e=arguments[0],t=null;return t=null!==this.vertexFactory?this.vertexFactory.createVertex(e,null):new Lo(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1],t=null;return t=null!==this.vertexFactory?this.vertexFactory.createVertex(n,r):new Lo(n),t.setOnConstraint(!0),t}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var e=Go.computeVertexEnvelope(this.initialVertices),t=Go.computeVertexEnvelope(this.segVertices),n=new E(e);n.expandToInclude(t);var r=.2*n.getWidth(),i=.2*n.getHeight(),o=Math.max(r,i);this.computeAreaEnv=new E(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(e){this.vertexFactory=e},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Oo(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Do(this.subdiv)),this.incDel=new Mo(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof Lo){var e=arguments[0],t=this.kdt.insert(e.getCoordinate(),e);if(t.isRepeated()){var n=t.getData();return n.merge(e),n}return this.incDel.insertSite(e),e}if(arguments[0]instanceof p){var r=arguments[0];this.insertSite(this.createVertex(r))}},interfaces_:function(){return[]},getClass:function(){return Go}}),Go.computeVertexEnvelope=function(e){for(var t=new E,n=e.iterator();n.hasNext();){var r=n.next();t.expandToInclude(r.getCoordinate())}return t},Go.MAX_SPLIT_ITER=99,t(Ko.prototype,{create:function(){if(null!==this.subdiv)return null;var e=Ko.envelope(this.siteCoords),t=Ko.toVertices(this.siteCoords);this.subdiv=new Oo(e,this.tolerance);var n=new Mo(this.subdiv);n.insertSites(t)},setTolerance:function(e){this.tolerance=e},setSites:function(){if(arguments[0]instanceof $){var e=arguments[0];this.siteCoords=Ko.extractUniqueCoordinates(e)}else if(A(arguments[0],m)){var t=arguments[0];this.siteCoords=Ko.unique(H.toCoordinateArray(t))}},getEdges:function(e){return this.create(),this.subdiv.getEdges(e)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(e){return this.create(),this.subdiv.getTriangles(e)},interfaces_:function(){return[]},getClass:function(){return Ko}}),Ko.extractUniqueCoordinates=function(e){if(null===e)return new _;var t=e.getCoordinates();return Ko.unique(t)},Ko.envelope=function(e){for(var t=new E,n=e.iterator();n.hasNext();){var r=n.next();t.expandToInclude(r)}return t},Ko.unique=function(e){var t=H.copyDeep(e);le.sort(t);var n=new _(t,!1);return n},Ko.toVertices=function(e){for(var t=new x,n=e.iterator();n.hasNext();){var r=n.next();t.add(new Fo(r))}return t},t(Yo.prototype,{createSiteVertices:function(e){for(var t=new x,n=e.iterator();n.hasNext();){var r=n.next();this.constraintVertexMap.containsKey(r)||t.add(new Lo(r))}return t},create:function(){if(null!==this.subdiv)return null;var e=Ko.envelope(this.siteCoords),t=new x;null!==this.constraintLines&&(e.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),t=Yo.createConstraintSegments(this.constraintLines));var n=this.createSiteVertices(this.siteCoords),r=new Go(n,this.tolerance);r.setConstraints(t,new x(this.constraintVertexMap.values())),r.formInitialDelaunay(),r.enforceConstraints(),this.subdiv=r.getSubdivision()},setTolerance:function(e){this.tolerance=e},setConstraints:function(e){this.constraintLines=e},setSites:function(e){this.siteCoords=Ko.extractUniqueCoordinates(e)},getEdges:function(e){return this.create(),this.subdiv.getEdges(e)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(e){return this.create(),this.subdiv.getTriangles(e)},createVertices:function(e){for(var t=e.getCoordinates(),n=0;n<t.length;n++){var r=new Lo(t[n]);this.constraintVertexMap.put(t[n],r)}},interfaces_:function(){return[]},getClass:function(){return Yo}}),Yo.createConstraintSegments=function(){if(1===arguments.length){for(var e=arguments[0],t=Un.getLines(e),n=new x,r=t.iterator();r.hasNext();){var i=r.next();Yo.createConstraintSegments(i,n)}return n}if(2===arguments.length)for(var o=arguments[0],s=arguments[1],a=o.getCoordinates(),r=1;r<a.length;r++)s.add(new Uo(a[r-1],a[r]))},t(Xo.prototype,{create:function(){if(null!==this.subdiv)return null;var e=Ko.envelope(this.siteCoords);this.diagramEnv=e;var t=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(t),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Ko.toVertices(this.siteCoords);this.subdiv=new Oo(e,this.tolerance);var r=new Mo(this.subdiv);r.insertSites(n)},getDiagram:function(e){this.create();var t=this.subdiv.getVoronoiDiagram(e);return Xo.clipGeometryCollection(t,this.diagramEnv)},setTolerance:function(e){this.tolerance=e},setSites:function(){if(arguments[0]instanceof $){var e=arguments[0];this.siteCoords=Ko.extractUniqueCoordinates(e)}else if(A(arguments[0],m)){var t=arguments[0];this.siteCoords=Ko.unique(H.toCoordinateArray(t))}},setClipEnvelope:function(e){this.clipEnv=e},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return Xo}}),Xo.clipGeometryCollection=function(e,t){for(var n=e.getFactory().toGeometry(t),r=new x,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i),s=null;t.contains(o.getEnvelopeInternal())?s=o:t.intersects(o.getEnvelopeInternal())&&(s=n.intersection(o),s.setUserData(o.getUserData())),null===s||s.isEmpty()||r.add(s)}return e.getFactory().createGeometryCollection(rt.toGeometryArray(r))};var Ns=Object.freeze({Vertex:Fo}),Ps=Object.freeze({ConformingDelaunayTriangulationBuilder:Yo,DelaunayTriangulationBuilder:Ko,VoronoiDiagramBuilder:Xo,quadedge:Ns});t(Jo.prototype,{interfaces_:function(){return[]},getClass:function(){return Jo}}),Jo.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return rr.createEmptyResult(rr.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),or.overlayOp(e,t,rr.UNION)},t($.prototype,{equalsTopo:function(e){return!!this.getEnvelopeInternal().equals(e.getEnvelopeInternal())&&io.relate(this,e).isEquals(this.getDimension(),e.getDimension())},union:function(){if(0===arguments.length)return co.union(this);if(1===arguments.length){var e=arguments[0];return Jo.union(this,e)}},isValid:function(){return Wi.isValid(this)},intersection:function(e){if(this.isEmpty()||e.isEmpty())return rr.createEmptyResult(rr.INTERSECTION,this,e,this.factory);if(this.isGeometryCollection()){var t=e;return un.map(this,{interfaces_:function(){return[MapOp]},map:function(e){return e.intersection(t)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(e),or.overlayOp(this,e,rr.INTERSECTION)},covers:function(e){return io.covers(this,e)},coveredBy:function(e){return io.coveredBy(this,e)},touches:function(e){return io.touches(this,e)},intersects:function(e){return io.intersects(this,e)},within:function(e){return io.within(this,e)},overlaps:function(e){return io.overlaps(this,e)},disjoint:function(e){return io.disjoint(this,e)},crosses:function(e){return io.crosses(this,e)},buffer:function(){if(1===arguments.length){var e=arguments[0];return fi.bufferOp(this,e)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return fi.bufferOp(this,t,n)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return fi.bufferOp(this,r,i,o)}},convexHull:function(){return new vt(this).getConvexHull()},relate:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return io.relate.apply(io,[this].concat(t))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var e=pt.getCentroid(this);return this.createPointFromInternalCoord(e,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var e=null,t=this.getDimension();if(0===t){var n=new cr(this);e=n.getInteriorPoint()}else if(1===t){var n=new lr(this);e=n.getInteriorPoint()}else{var n=new sr(this);e=n.getInteriorPoint()}return this.createPointFromInternalCoord(e,this)},symDifference:function(e){if(this.isEmpty()||e.isEmpty()){if(this.isEmpty()&&e.isEmpty())return rr.createEmptyResult(rr.SYMDIFFERENCE,this,e,this.factory);if(this.isEmpty())return e.copy();if(e.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(e),or.overlayOp(this,e,rr.SYMDIFFERENCE)},createPointFromInternalCoord:function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},toText:function(){var e=new ot;return e.write(this)},toString:function(){this.toText()},contains:function(e){return io.contains(this,e)},difference:function(e){return this.isEmpty()?rr.createEmptyResult(rr.DIFFERENCE,this,e,this.factory):e.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(e),or.overlayOp(this,e,rr.DIFFERENCE))},isSimple:function(){var e=new Gr(this);return e.isSimple()},isWithinDistance:function(e,t){var n=this.getEnvelopeInternal().distance(e.getEnvelopeInternal());return!(n>t)&&bi.isWithinDistance(this,e,t)},distance:function(e){return bi.distance(this,e)},isEquivalentClass:function(e){return this.getClass()===e.getClass()}});var Os="1.3.0 (6e65adb)";e.version=Os,e.algorithm=ds,e.densify=ps,e.dissolve=fs,e.geom=us,e.geomgraph=gs,e.index=ys,e.io=_s,e.noding=Es,e.operation=Ms,e.precision=Is,e.simplify=Ds,e.triangulate=Ps,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){(function(t){function n(e,t,n){function i(t){var n=g,r=m;return g=m=void 0,C=t,y=e.apply(r,n)}function o(e){return C=e,b=setTimeout(u,t),S?i(e):y}function l(e){var n=e-E,r=e-C,i=t-n;return k?x(i,v-r):i}function c(e){var n=e-E,r=e-C;return void 0===E||n>=t||n<0||k&&r>=v}function u(){var e=_();return c(e)?h(e):void(b=setTimeout(u,l(e)))}function h(e){return b=void 0,A&&g?i(e):(g=m=void 0,y)}function d(){void 0!==b&&clearTimeout(b),C=0,g=E=m=b=void 0}function p(){return void 0===b?y:h(_())}function f(){var e=_(),n=c(e);if(g=arguments,m=this,E=e,n){if(void 0===b)return o(E);if(k)return b=setTimeout(u,t),i(E)}return void 0===b&&(b=setTimeout(u,t)),y}var g,m,v,y,b,E,C=0,S=!1,k=!1,A=!0;if("function"!=typeof e)throw new TypeError(a);return t=s(t)||0,r(n)&&(S=!!n.leading,k="maxWait"in n,v=k?w(s(n.maxWait)||0,t):v,A="trailing"in n?!!n.trailing:A),f.cancel=d,f.flush=p,f}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||i(e)&&b.call(e)==c}function s(e){if("number"==typeof e)return e;if(o(e))return l;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=d.test(e);return n||p.test(e)?f(e.slice(2),n?2:8):h.test(e)?l:+e}var a="Expected a function",l=NaN,c="[object Symbol]",u=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,v=g||m||Function("return this")(),y=Object.prototype,b=y.toString,w=Math.max,x=Math.min,_=function(){return v.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(656).getCoord,i=n(651).radiansToDistance;e.exports=function(e,t,n){var o=Math.PI/180,s=r(e),a=r(t),l=o*(a[1]-s[1]),c=o*(a[0]-s[0]),u=o*s[1],h=o*a[1],d=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(u)*Math.cos(h);return i(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),n)}},function(e,t){function n(e){if(!e)throw new Error("No obj passed");var t=r(e);if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return t;throw new Error("Coordinate is not a valid Point")}function r(e){if(!e)throw new Error("No obj passed");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return i(t),t;throw new Error("No valid coordinates")}function i(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(e[0].length)return i(e[0]);throw new Error("coordinates must only contain numbers")}function o(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)}function s(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}function a(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var i=e.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+i.geometry.type)}}e.exports.geojsonType=o,e.exports.collectionOf=a,e.exports.featureOf=s,e.exports.getCoord=n,e.exports.getCoords=r},function(e,t){e.exports={version:8,name:"Positron",metadata:{"mapbox:autocomposite":!1,"mapbox:type":"template","mapbox:groups":{b6371a3f2f5a9932464fa3867530a2e5:{name:"Transportation",collapsed:!1},a14c9607bc7954ba1df7205bf660433f:{name:"Boundaries"},"101da9f13b64a08fa4b6ac1168e89e5f":{name:"Places",collapsed:!1}},"openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},center:[10.184401828277089,-1.1368683772161603e-13],zoom:.8902641636539237,bearing:0,pitch:0,sources:{openmaptiles:{type:"vector",url:"https://tiles.maphubs.com/open-map-tiles/index.json"}},sprite:"https://openmaptiles.github.io/positron-gl-style/sprite",glyphs:"https://free.tilehosting.com/fonts/{fontstack}/{range}.pbf?key={key}",layers:[{id:"background",type:"background",paint:{"background-color":"rgb(242,243,240)"}},{id:"park",type:"fill",source:"openmaptiles","source-layer":"park",filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"fill-color":"rgb(230, 233, 229)"}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"fill-color":"rgb(194, 200, 202)","fill-antialias":!0,"fill-outline-color":{base:1,stops:[[0,"hsla(180, 6%, 63%, 0.82)"],[22,"hsla(180, 6%, 63%, 0.18)"]]}}},{id:"landcover_ice_shelf",type:"fill",source:"openmaptiles","source-layer":"landcover",maxzoom:8,filter:["all",["==","$type","Polygon"],["==","subclass","ice_shelf"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(0, 0%, 98%)","fill-opacity":.7}},{id:"landcover_glacier",type:"fill",source:"openmaptiles","source-layer":"landcover",maxzoom:8,filter:["all",["==","$type","Polygon"],["==","subclass","glacier"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(0, 0%, 98%)","fill-opacity":{base:1,stops:[[0,1],[8,.5]]}}},{id:"landuse_residential",type:"fill",source:"openmaptiles","source-layer":"landuse",maxzoom:16,filter:["all",["==","$type","Polygon"],["==","class","residential"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(234, 234, 230)","fill-opacity":{base:.6,stops:[[8,.8],[9,.6]]}}},{id:"landcover_wood",type:"fill",source:"openmaptiles","source-layer":"landcover",minzoom:10,filter:["all",["==","$type","Polygon"],["==","class","wood"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(220,224,220)","fill-opacity":{base:1,stops:[[8,0],[12,1]]}}},{id:"waterway",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["==","$type","LineString"],layout:{visibility:"visible"},paint:{"line-color":"hsl(195, 17%, 78%)"}},{id:"water_name",type:"symbol",source:"openmaptiles","source-layer":"water_name",filter:["==","$type","LineString"],layout:{"text-field":"{name}","symbol-placement":"line","text-rotation-alignment":"map","symbol-spacing":500,"text-font":["Metropolis Medium Italic","Klokantech Noto Sans Italic","Klokantech Noto Sans CJK Regular"],"text-size":12},paint:{"text-color":"rgb(157,169,177)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1}},{id:"building",type:"fill",source:"openmaptiles","source-layer":"building",minzoom:12,filter:["==","$type","Polygon"],paint:{"fill-color":"rgb(234, 234, 229)","fill-outline-color":"rgb(219, 219, 218)","fill-antialias":!0}},{id:"tunnel_motorway_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","brunnel","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgb(213, 213, 213)","line-width":{base:1.4,stops:[[5.8,0],[6,3],[20,40]]},"line-opacity":1}},{id:"tunnel_motorway_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","brunnel","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgb(234,234,234)","line-width":{base:1.4,stops:[[4,2],[6,1.3],[20,30]]}}},{id:"highway_path",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","class","path"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgb(234, 234, 234)","line-width":{base:1.2,stops:[[13,1],[20,10]]},"line-opacity":.9}},{id:"highway_minor",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:8,filter:["all",["==","$type","LineString"],["in","class","minor","service","track"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 88%)","line-width":{base:1.55,stops:[[13,1.8],[20,20]]},"line-opacity":.9}},{id:"highway_major_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgb(213, 213, 213)","line-dasharray":[12,0],"line-width":{base:1.3,stops:[[10,3],[20,23]]}}},{id:"highway_major_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#fff","line-width":{base:1.3,stops:[[10,2],[20,20]]}}},{id:"highway_major_subtle",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",maxzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsla(0, 0%, 85%, 0.69)","line-width":2}},{id:"highway_motorway_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["all",["!in","brunnel","bridge","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgb(213, 213, 213)","line-width":{base:1.4,stops:[[5.8,0],[6,3],[20,40]]},"line-dasharray":[2,0],"line-opacity":1}},{id:"highway_motorway_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["all",["!in","brunnel","bridge","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":{base:1,stops:[[5.8,"hsla(0, 0%, 85%, 0.53)"],[6,"#fff"]]},"line-width":{base:1.4,stops:[[4,2],[6,1.3],[20,30]]}}},{id:"highway_motorway_subtle",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",maxzoom:6,filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsla(0, 0%, 85%, 0.53)","line-width":{base:1.4,stops:[[4,2],[6,1.3]]}}},{id:"railway_service",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["all",["==","class","rail"],["has","service"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"#dddddd","line-width":3}},{id:"railway_service_dashline",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["==","class","rail"],["has","service"]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"#fafafa","line-width":2,"line-dasharray":[3,3]}},{id:"railway",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!has","service"],["==","class","rail"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"#dddddd","line-width":{base:1.3,stops:[[16,3],[20,7]]}}},{id:"railway_dashline",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!has","service"],["==","class","rail"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"#fafafa","line-width":{base:1.3,stops:[[16,2],[20,6]]},"line-dasharray":[3,3]}},{id:"highway_motorway_bridge_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","brunnel","bridge"],["==","class","motorway"]]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgb(213, 213, 213)","line-width":{base:1.4,stops:[[5.8,0],[6,5],[20,45]]},"line-dasharray":[2,0],"line-opacity":1}},{id:"highway_motorway_bridge_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","brunnel","bridge"],["==","class","motorway"]]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":{base:1,stops:[[5.8,"hsla(0, 0%, 85%, 0.53)"],[6,"#fff"]]},"line-width":{base:1.4,stops:[[4,2],[6,1.3],[20,30]]}}},{id:"highway_name_other",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",filter:["all",["!=","class","motorway"],["==","$type","LineString"]],layout:{"text-size":10,"text-max-angle":30,"text-transform":"uppercase","symbol-spacing":350,"text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"symbol-placement":"line",visibility:"visible","text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name}"},paint:{"text-color":"#bbb","text-halo-color":"#fff","text-translate":[0,0],"text-halo-width":2,"text-halo-blur":1}},{id:"highway_name_motorway",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"text-size":10,"symbol-spacing":350,"text-font":["Metropolis Light","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"symbol-placement":"line",visibility:"visible","text-rotation-alignment":"viewport","text-pitch-alignment":"viewport","text-field":"{ref}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"hsl(0, 0%, 100%)","text-translate":[0,2],"text-halo-width":1,"text-halo-blur":1}},{id:"boundary_state",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",filter:["==","admin_level",4],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgb(230, 204, 207)","line-width":{base:1.3,stops:[[3,1],[22,15]]},"line-blur":.4,"line-dasharray":[2,2],"line-opacity":1}},{id:"boundary_country",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",filter:["==","admin_level",2],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"rgb(230, 204, 207)","line-width":{base:1.1,stops:[[3,1],[22,20]]},"line-blur":{base:1,stops:[[0,.4],[22,4]]},"line-opacity":1}},{id:"place_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["!in","class","city","suburb","town","village"],["==","$type","Point"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"center",visibility:"visible","text-offset":[.5,0],"text-anchor":"center","text-field":"{name_en}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1}},{id:"place_suburb",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","suburb"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"center",visibility:"visible","text-offset":[.5,0],"text-anchor":"center","text-field":"{name_en}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1}},{id:"place_village",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["==","class","village"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":"left","text-field":"{name_en}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_town",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","town"]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[8,""]]
},"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name_en}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["all",["!=","capital",2],["==","class","city"],[">","rank",3]]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[8,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name_en}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_capital",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["all",["==","capital",2],["==","class","city"]]],layout:{"text-size":14,"icon-image":{base:1,stops:[[0,"star-11"],[8,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":1,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city_large",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["all",["!=","capital",2],["<=","rank",3],["==","class","city"]]],layout:{"text-size":14,"icon-image":{base:1,stops:[[0,"circle-11"],[8,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name}"},paint:{"text-color":"rgb(117, 129, 145)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_state",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","state"]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-transform":"uppercase","text-size":10},paint:{"text-color":"rgb(113, 129, 144)","text-halo-color":"rgb(242,243,240)","text-halo-width":1,"text-halo-blur":1}},{id:"place_country_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:8,filter:["all",["==","$type","Point"],["all",["==","class","country"],[">=","rank",2]]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-transform":"uppercase","text-size":{base:1,stops:[[0,10],[6,12]]}},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(236,236,234,0.7)","text-color":{base:1,stops:[[3,"rgb(157,169,177)"],[4,"rgb(153, 153, 153)"]]}}},{id:"place_country_major",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:6,filter:["all",["==","$type","Point"],["all",["<=","rank",1],["==","class","country"]]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-transform":"uppercase","text-size":{base:1.4,stops:[[0,10],[3,12],[4,14]]},"text-anchor":"center"},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(236,236,234,0.7)","text-color":{base:1,stops:[[3,"rgb(157,169,177)"],[4,"rgb(153, 153, 153)"]]}}}],id:"ciwf3o3u2008z2pmq7pmvm6xq"}},function(e,t){e.exports={version:8,name:"Dark Matter",metadata:{"mapbox:autocomposite":!1,"mapbox:type":"template","mapbox:groups":{b6371a3f2f5a9932464fa3867530a2e5:{name:"Transportation",collapsed:!1},a14c9607bc7954ba1df7205bf660433f:{name:"Boundaries"},"101da9f13b64a08fa4b6ac1168e89e5f":{name:"Places",collapsed:!1}},"openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t"},center:[20.745027854803,50.39944115761509],zoom:3.8053494517746405,bearing:0,pitch:0,sources:{openmaptiles:{type:"vector",url:"https://tiles.maphubs.com/open-map-tiles/index.json"}},sprite:"https://openmaptiles.github.io/dark-matter-gl-style/sprite",glyphs:"https://free.tilehosting.com/fonts/{fontstack}/{range}.pbf?key={key}",layers:[{id:"background",type:"background",paint:{"background-color":"rgb(12,12,12)"}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"fill-color":"rgb(27 ,27 ,29)","fill-antialias":!1}},{id:"landcover_ice_shelf",type:"fill",source:"openmaptiles","source-layer":"landcover",maxzoom:8,filter:["all",["==","$type","Polygon"],["==","subclass","ice_shelf"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(12,12,12)","fill-opacity":.7}},{id:"landcover_glacier",type:"fill",source:"openmaptiles","source-layer":"landcover",maxzoom:8,filter:["all",["==","$type","Polygon"],["==","subclass","glacier"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(0, 1%, 2%)","fill-opacity":{base:1,stops:[[0,1],[8,.5]]}}},{id:"landuse_residential",type:"fill",source:"openmaptiles","source-layer":"landuse",maxzoom:9,filter:["all",["==","$type","Polygon"],["==","class","residential"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(0, 2%, 5%)","fill-opacity":.4}},{id:"landcover_wood",type:"fill",source:"openmaptiles","source-layer":"landcover",minzoom:10,filter:["all",["==","$type","Polygon"],["==","class","wood"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(32,32,32)","fill-opacity":{base:.3,stops:[[8,0],[10,.8],[13,.4]]},"fill-translate":[0,0],"fill-pattern":"wood-pattern"}},{id:"landuse_park",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["all",["==","$type","Polygon"],["==","class","park"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(32,32,32)"}},{id:"waterway",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["==","$type","LineString"],layout:{visibility:"visible"},paint:{"line-color":"rgb(27 ,27 ,29)"}},{id:"water_name",type:"symbol",source:"openmaptiles","source-layer":"water_name",filter:["==","$type","LineString"],layout:{"text-field":"{name}","symbol-placement":"line","text-rotation-alignment":"map","symbol-spacing":500,"text-font":["Metropolis Medium Italic","Klokantech Noto Sans Italic","Klokantech Noto Sans CJK Regular"],"text-size":12},paint:{"text-color":"hsla(0, 0%, 0%, 0.7)","text-halo-color":"hsl(0, 0%, 27%)"}},{id:"building",type:"fill",source:"openmaptiles","source-layer":"building",minzoom:12,filter:["==","$type","Polygon"],paint:{"fill-color":"rgb(10,10,10)","fill-outline-color":"rgb(27 ,27 ,29)","fill-antialias":!0}},{id:"highway_path",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","class","path"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgb(27 ,27 ,29)","line-width":{base:1.2,stops:[[13,1],[20,10]]},"line-opacity":.9,"line-dasharray":[1.5,1.5]}},{id:"highway_minor",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:8,filter:["all",["==","$type","LineString"],["in","class","minor","service","track"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#181818","line-width":{base:1.55,stops:[[13,1.8],[20,20]]},"line-opacity":.9}},{id:"highway_major_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgba(60,60,60,0.8)","line-dasharray":[12,0],"line-width":{base:1.3,stops:[[10,3],[20,23]]}}},{id:"highway_major_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 7%)","line-width":{base:1.3,stops:[[10,2],[20,20]]}}},{id:"highway_major_subtle",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",maxzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#2a2a2a","line-width":2}},{id:"highway_motorway_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgba(60,60,60,0.8)","line-width":{base:1.4,stops:[[5.8,0],[6,3],[20,40]]},"line-dasharray":[2,0],"line-opacity":1}},{id:"highway_motorway_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":{base:1,stops:[[5.8,"hsla(0, 0%, 85%, 0.53)"],[6,"#000"]]},"line-width":{base:1.4,stops:[[4,2],[6,1.3],[20,30]]}}},{id:"highway_motorway_subtle",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",maxzoom:6,filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#181818","line-width":{base:1.4,stops:[[4,2],[6,1.3]]}}},{id:"railway_minor",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["all",["==","class","rail"],["has","service"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(35,35,35)","line-width":3}},{id:"railway_minor_dashline",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["all",["==","class","rail"],["has","service"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(12,12,12)","line-width":2,"line-dasharray":[3,3]}},{id:"railway",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["==","$type","LineString"],["==","class","rail"]],layout:{visibility:"visible","line-join":"round"},paint:{"line-width":{base:1.3,stops:[[16,3],[20,7]]},"line-color":"rgb(35,35,35)"}},{id:"railway_dashline",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["==","$type","LineString"],["==","class","rail"]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(12,12,12)","line-width":{base:1.3,stops:[[16,2],[20,6]]},"line-dasharray":[3,3]}},{id:"highway_name_other",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",filter:["all",["!=","class","motorway"],["==","$type","LineString"]],layout:{"text-size":10,"text-max-angle":30,"text-transform":"uppercase","symbol-spacing":350,"text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"symbol-placement":"line",visibility:"visible","text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name}"},paint:{"text-color":"rgba(80, 78, 78, 1)","text-translate":[0,0],"text-halo-color":"rgba(0, 0, 0, 1)","text-halo-width":1,"text-halo-blur":0}},{id:"highway_name_motorway",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"text-size":10,"symbol-spacing":350,"text-font":["Metropolis Light","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"symbol-placement":"line",visibility:"visible","text-rotation-alignment":"viewport","text-pitch-alignment":"viewport","text-field":"{ref}"},paint:{"text-color":"hsl(0, 0%, 37%)","text-translate":[0,2]}},{id:"boundary_state",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",filter:["==","admin_level",4],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 21%)","line-width":{base:1.3,stops:[[3,1],[22,15]]},"line-blur":.4,"line-dasharray":[2,2],"line-opacity":1}},{id:"boundary_country",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",filter:["==","admin_level",2],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 23%)","line-width":{base:1.1,stops:[[3,1],[22,20]]},"line-blur":{base:1,stops:[[0,.4],[22,4]]},"line-opacity":1}},{id:"place_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["in","class","hamlet","isolated_dwelling","neighbourhood"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"center",visibility:"visible","text-offset":[.5,0],"text-anchor":"center","text-field":"{name_en}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_suburb",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","suburb"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"center",visibility:"visible","text-offset":[.5,0],"text-anchor":"center","text-field":"{name_en}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_village",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["==","class","village"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":"left","text-field":"{name_en}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_town",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","town"]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name_en}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["any",["==","class","city"],[">","rank",2]]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name_en}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city_large",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["all",["<=","rank",3],["==","class","city"]]],layout:{"text-size":14,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-justify":"left",visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_state",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","state"]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-transform":"uppercase","text-size":10},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_country_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:8,filter:["all",["==","$type","Point"],["all",["==","class","country"],[">=","rank",2]]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-transform":"uppercase","text-size":{base:1,stops:[[0,10],[6,12]]}},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}},{id:"place_country_major",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:6,filter:["all",["==","$type","Point"],["all",["<=","rank",1],["==","class","country"]]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Metropolis Regular","Klokantech Noto Sans Regular","Klokantech Noto Sans CJK Regular"],"text-transform":"uppercase","text-size":{base:1.4,stops:[[0,10],[3,12],[4,14]]},"text-anchor":"center"},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}}],id:"ciwf4jmfe00882qmzvu5vh0zx"}},function(e,t){e.exports={version:8,name:"OSM Liberty",metadata:{"mapbox:type":"template"},sources:{natural_earth_shaded_relief:{maxzoom:6,tileSize:256,tiles:["https://klokantech.github.io/naturalearthtiles/tiles/natural_earth_2_shaded_relief.raster/{z}/{x}/{y}.png"],type:"raster"},openmaptiles:{type:"vector",url:"https://tiles.maphubs.com/open-map-tiles/index.json"}},sprite:"https://rawgit.com/lukasmartinelli/osm-liberty/gh-pages/sprites/osm-liberty",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"rgb(239,239,239)"}},{id:"natural_earth",type:"raster",source:"natural_earth_shaded_relief",maxzoom:6,layout:{visibility:"visible"},paint:{"raster-opacity":{base:1.5,stops:[[0,.6],[6,.1]]}}},{id:"park",type:"fill",source:"openmaptiles","source-layer":"park",filter:["all"],paint:{"fill-color":"#d8e8c8","fill-opacity":.7,"fill-outline-color":"rgba(95, 208, 100, 1)"}},{id:"park_outline",type:"line",source:"openmaptiles","source-layer":"park",filter:["all"],layout:{},paint:{"line-dasharray":[1,1.5],"line-color":"rgba(228, 241, 215, 1)","line-opacity":1}},{id:"landuse_residential",type:"fill",metadata:{},source:"openmaptiles","source-layer":"landuse",maxzoom:8,filter:["==","class","residential"],layout:{visibility:"visible"},paint:{"fill-color":{base:1,stops:[[9,"hsla(0, 3%, 85%, 0.84)"],[12,"hsla(35, 57%, 88%, 0.49)"]]}}},{id:"landcover_wood",type:"fill",metadata:{},source:"openmaptiles","source-layer":"landcover",filter:["all",["==","class","wood"]],paint:{"fill-antialias":!1,"fill-color":"hsla(98, 61%, 72%, 0.7)","fill-opacity":.4}},{id:"landcover_grass",type:"fill",metadata:{},source:"openmaptiles","source-layer":"landcover",filter:["all",["==","class","grass"]],paint:{"fill-antialias":!1,"fill-color":"rgba(176, 213, 154, 1)","fill-opacity":.3}},{id:"landuse_cemetery",type:"fill",metadata:{},source:"openmaptiles","source-layer":"landuse",filter:["==","class","cemetery"],layout:{visibility:"visible"},paint:{"fill-color":"hsl(75, 37%, 81%)"}},{id:"landuse_hospital",type:"fill",metadata:{},source:"openmaptiles","source-layer":"landuse",filter:["==","class","hospital"],paint:{"fill-color":"#fde"}},{id:"landuse_school",type:"fill",metadata:{},source:"openmaptiles","source-layer":"landuse",filter:["==","class","school"],paint:{"fill-color":"rgb(236,238,204)"}},{id:"waterway_river",type:"line",metadata:{},source:"openmaptiles","source-layer":"waterway",filter:["==","class","river"],layout:{"line-cap":"round"},paint:{"line-color":"#a0c8f0","line-width":{base:1.2,stops:[[11,.5],[20,6]]}}},{id:"waterway_other",type:"line",metadata:{},source:"openmaptiles","source-layer":"waterway",filter:["all",["!=","class","river"]],layout:{"line-cap":"round"},paint:{"line-color":"#a0c8f0","line-width":{base:1.3,stops:[[13,.5],[20,6]]}}},{id:"water",type:"fill",metadata:{},source:"openmaptiles","source-layer":"water",paint:{"fill-color":"rgb(158,189,255)"}},{id:"aeroway_fill",type:"fill",metadata:{},source:"openmaptiles","source-layer":"aeroway",minzoom:11,filter:["==","$type","Polygon"],paint:{"fill-color":"rgba(229, 228, 224, 1)","fill-opacity":.7}},{id:"aeroway_runway",type:"line",metadata:{},source:"openmaptiles","source-layer":"aeroway",minzoom:11,filter:["all",["==","$type","LineString"],["==","class","runway"]],paint:{"line-color":"#f0ede9","line-width":{base:1.2,stops:[[11,3],[20,16]]}}},{id:"aeroway_taxiway",type:"line",metadata:{},source:"openmaptiles","source-layer":"aeroway",minzoom:11,filter:["all",["==","$type","LineString"],["==","class","taxiway"]],paint:{"line-color":"#f0ede9","line-width":{base:1.2,stops:[[11,.5],[20,6]]}}},{id:"tunnel_motorway_link_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway"],["==","ramp",1],["==","brunnel","tunnel"]],layout:{"line-join":"round",visibility:"visible"},paint:{"line-color":"#e9ac77","line-dasharray":[.5,.25],"line-opacity":1,"line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]}}},{id:"tunnel_service_track_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","service","track"]],layout:{"line-join":"round"},paint:{"line-color":"#cfcdca","line-dasharray":[.5,.25],"line-width":{base:1.2,stops:[[15,1],[16,4],[20,11]]}}},{id:"tunnel_link_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","ramp","1"],["==","brunnel","tunnel"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]}}},{id:"tunnel_street_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","street","street_limited"]],layout:{"line-join":"round"},paint:{"line-color":"#cfcdca","line-opacity":{stops:[[12,0],[12.5,1]]},"line-width":{base:1.2,stops:[[12,.5],[13,1],[14,4],[20,15]]}}},{id:"tunnel_secondary_tertiary_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","secondary","tertiary"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[8,1.5],[20,17]]}}},{id:"tunnel_trunk_primary_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","primary","trunk"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.7],[7,1.75],[20,22]]}}},{id:"tunnel_motorway_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway"],["==","brunnel","tunnel"]],layout:{"line-join":"round",visibility:"visible"},paint:{"line-color":"#e9ac77","line-dasharray":[.5,.25],"line-width":{base:1.2,stops:[[5,.4],[6,.7],[7,1.75],[20,22]]}}},{id:"tunnel_path_pedestrian",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","path","pedestrian"]],paint:{"line-color":"hsl(0, 0%, 100%)","line-dasharray":[1,.75],"line-width":{base:1.2,stops:[[14,.5],[20,10]]}}},{id:"tunnel_motorway_link",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway_link"],["==","ramp",1],["==","brunnel","tunnel"]],layout:{"line-join":"round",visibility:"visible"},paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}}},{id:"tunnel_service_track",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","service","track"]],layout:{"line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[15.5,0],[16,2],[20,7.5]]}}},{id:"tunnel_link",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","ramp","1"],["==","brunnel","tunnel"]],layout:{"line-join":"round"},paint:{"line-color":"#fff4c6","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}}},{id:"tunnel_minor",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","minor"]],layout:{"line-join":"round"},paint:{"line-color":"#fff","line-opacity":1,"line-width":{base:1.2,stops:[[13.5,0],[14,2.5],[20,11.5]]}}},{id:"tunnel_secondary_tertiary",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","secondary","tertiary"]],layout:{"line-join":"round"},paint:{"line-color":"#fff4c6","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,10]]}}},{id:"tunnel_trunk_primary",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","primary","trunk"]],layout:{"line-join":"round"},paint:{"line-color":"#fff4c6","line-width":{base:1.2,stops:[[5,0],[7,1],[20,18]]}}},{id:"tunnel_motorway",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway"],["==","brunnel","tunnel"]],layout:{"line-join":"round",visibility:"visible"},paint:{"line-color":"#ffdaa6","line-width":{base:1.2,stops:[[5,0],[7,1],[20,18]]}}},{id:"tunnel_major_rail",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["in","class","rail"]],paint:{"line-color":"#bbb","line-width":{base:1.4,stops:[[14,.4],[15,.75],[20,2]]}}},{id:"tunnel_major_rail_hatching",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","tunnel"],["==","class","rail"]],paint:{"line-color":"#bbb","line-dasharray":[.2,8],"line-width":{base:1.4,stops:[[14.5,0],[15,3],[20,8]]}}},{id:"road_area_pattern",type:"fill",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","Polygon"]],layout:{visibility:"visible"},paint:{"fill-pattern":"pedestrian_polygon"}},{id:"road_motorway_link_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",minzoom:12,filter:["all",["!in","brunnel","bridge","tunnel"],["==","class","motorway"],["==","ramp",1]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]}}},{id:"road_service_track_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["in","class","service","track"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#cfcdca","line-width":{base:1.2,stops:[[15,1],[16,4],[20,11]]}}},{id:"road_link_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["!in","brunnel","bridge","tunnel"],["!in","class","pedestrian","path","track","service"],["==","ramp","1"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]}}},{id:"road_minor_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["!in","brunnel","bridge","tunnel"],["in","class","minor"],["!=","ramp","1"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#cfcdca","line-opacity":{stops:[[12,0],[12.5,1]]},"line-width":{base:1.2,stops:[[12,.5],[13,1],[14,4],[20,20]]}}},{id:"road_secondary_tertiary_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["in","class","secondary","tertiary"],["!=","ramp",1]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[8,1.5],[20,17]]}}},{id:"road_trunk_primary_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["in","class","primary","trunk"],["!=","ramp",1]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[5,.4],[6,.7],[7,1.75],[20,22]]}}},{id:"road_motorway_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["!in","brunnel","bridge","tunnel"],["==","class","motorway"],["!=","ramp","1"]],
layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.7],[7,1.75],[20,22]]}}},{id:"road_path_pedestrian",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",minzoom:14,filter:["all",["==","$type","LineString"],["!in","brunnel","bridge","tunnel"],["in","class","path","pedestrian"]],layout:{"line-join":"round"},paint:{"line-color":"hsl(0, 0%, 100%)","line-dasharray":[1,.7],"line-width":{base:1.2,stops:[[14,1],[20,10]]}}},{id:"road_motorway_link",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",minzoom:12,filter:["all",["!in","brunnel","bridge","tunnel"],["==","class","motorway"],["==","ramp",1]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}}},{id:"road_service_track",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["in","class","service","track"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[15.5,0],[16,2],[20,7.5]]}}},{id:"road_link",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["!in","brunnel","bridge","tunnel"],["==","ramp",1],["!in","class","pedestrian","path","track","service"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}}},{id:"road_secondary_tertiary",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["in","class","secondary","tertiary"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[6.5,0],[8,.5],[20,13]]}}},{id:"road_trunk_primary",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["in","class","primary","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[5,0],[7,1],[20,18]]}}},{id:"road_motorway",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["!in","brunnel","bridge","tunnel"],["==","class","motorway"],["!=","ramp",1]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":{base:1,stops:[[5,"hsl(26, 87%, 62%)"],[6,"#fc8"]]},"line-width":{base:1.2,stops:[[5,0],[7,1],[20,18]]}}},{id:"road_major_rail",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["==","class","rail"]],paint:{"line-color":"#bbb","line-width":{base:1.4,stops:[[14,.4],[15,.75],[20,2]]}}},{id:"road_major_rail_hatching",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["!in","brunnel","bridge","tunnel"],["==","class","rail"]],paint:{"line-color":"#bbb","line-dasharray":[.2,8],"line-width":{base:1.4,stops:[[14.5,0],[15,3],[20,8]]}}},{id:"road_minor-copy",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["all",["!in","brunnel","bridge","tunnel"],["in","class","minor"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fff","line-opacity":1,"line-width":{base:1.2,stops:[[13.5,0],[14,2.5],[20,18]]}}},{id:"building",type:"fill",metadata:{},source:"openmaptiles","source-layer":"building",minzoom:13,maxzoom:14,layout:{visibility:"visible"},paint:{"fill-color":"hsl(35, 8%, 85%)","fill-outline-color":{base:1,stops:[[13,"hsla(35, 6%, 79%, 0.32)"],[14,"hsl(35, 6%, 79%)"]]}}},{id:"building-3d",type:"fill-extrusion",metadata:{},source:"openmaptiles","source-layer":"building",minzoom:14,layout:{visibility:"visible"},paint:{"fill-extrusion-color":"hsl(35, 8%, 85%)","fill-extrusion-height":{property:"render_height",type:"identity"},"fill-extrusion-base":{property:"render_min_height",type:"identity"},"fill-extrusion-opacity":.8}},{id:"bridge_motorway_link_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway_link"],["==","ramp",1],["==","brunnel","bridge"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]}}},{id:"bridge_service_track_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","service","track"]],layout:{"line-join":"round"},paint:{"line-color":"#cfcdca","line-width":{base:1.2,stops:[[15,1],[16,4],[20,11]]}}},{id:"bridge_link_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","link"],["==","brunnel","bridge"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]}}},{id:"bridge_street_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","street","street_limited"]],layout:{"line-join":"round"},paint:{"line-color":"hsl(36, 6%, 74%)","line-opacity":{stops:[[12,0],[12.5,1]]},"line-width":{base:1.2,stops:[[12,.5],[13,1],[14,4],[20,25]]}}},{id:"bridge_path_pedestrian_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","path","pedestrian"]],layout:{"line-join":"miter",visibility:"visible"},paint:{"line-color":"hsl(35, 6%, 80%)","line-dasharray":[1,0],"line-width":{base:1.2,stops:[[14,1.5],[20,18]]}}},{id:"bridge_secondary_tertiary_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","secondary","tertiary"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-opacity":1,"line-width":{base:1.2,stops:[[8,1.5],[20,17]]}}},{id:"bridge_trunk_primary_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","primary","trunk"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.7],[7,1.75],[20,22]]}}},{id:"bridge_motorway_casing",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway"],["==","brunnel","bridge"]],layout:{"line-join":"round"},paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.7],[7,1.75],[20,22]]}}},{id:"bridge_path_pedestrian",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","path","pedestrian"]],paint:{"line-color":"hsl(0, 0%, 100%)","line-dasharray":[1,.3],"line-width":{base:1.2,stops:[[14,.5],[20,10]]}}},{id:"bridge_motorway_link",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway_link"],["==","ramp",1],["==","brunnel","bridge"]],layout:{"line-join":"round"},paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}}},{id:"bridge_service_track",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","service","track"]],layout:{"line-join":"round"},paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[15.5,0],[16,2],[20,7.5]]}}},{id:"bridge_link",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","link"],["==","brunnel","bridge"]],layout:{"line-join":"round"},paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}}},{id:"bridge_street",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","minor"]],layout:{"line-join":"round"},paint:{"line-color":"#fff","line-opacity":1,"line-width":{base:1.2,stops:[[13.5,0],[14,2.5],[20,18]]}}},{id:"bridge_secondary_tertiary",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","secondary","tertiary"]],layout:{"line-join":"round"},paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,10]]}}},{id:"bridge_trunk_primary",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","brunnel","bridge"],["in","class","primary","trunk"]],layout:{"line-join":"round"},paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[5,0],[7,1],[20,18]]}}},{id:"bridge_motorway",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","motorway"],["==","brunnel","bridge"]],layout:{"line-join":"round"},paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[5,0],[7,1],[20,18]]}}},{id:"bridge_major_rail",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","rail"],["==","brunnel","bridge"]],paint:{"line-color":"#bbb","line-width":{base:1.4,stops:[[14,.4],[15,.75],[20,2]]}}},{id:"bridge_major_rail_hatching",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","rail"],["==","brunnel","bridge"]],paint:{"line-color":"#bbb","line-dasharray":[.2,8],"line-width":{base:1.4,stops:[[14.5,0],[15,3],[20,8]]}}},{id:"boundary_3",type:"line",metadata:{},source:"openmaptiles","source-layer":"boundary",filter:["all",["in","admin_level",3,4]],layout:{"line-join":"round"},paint:{"line-color":"#9e9cab","line-dasharray":[5,1],"line-width":{base:1,stops:[[4,.4],[5,1],[12,1.8]]}}},{id:"boundary_2",type:"line",metadata:{},source:"openmaptiles","source-layer":"boundary",filter:["all",["==","admin_level",2]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(248, 1%, 41%)","line-opacity":{base:1,stops:[[0,.4],[4,1]]},"line-width":{base:1,stops:[[3,1],[5,1.2],[12,3]]}}},{id:"water_name_line",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"water_name",minzoom:0,filter:["all",["==","$type","LineString"]],layout:{"text-field":"{name}","text-font":["Roboto Regular"],"text-max-width":5,"text-size":12,"symbol-placement":"line"},paint:{"text-color":"#5d60be","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":1}},{id:"water_name_point",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"water_name",minzoom:0,filter:["==","$type","Point"],layout:{"text-field":"{name}","text-font":["Roboto Regular"],"text-max-width":5,"text-size":12},paint:{"text-color":"#5d60be","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":1}},{id:"poi_z16",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"poi",minzoom:16,filter:["all",["==","$type","Point"],[">=","rank",20]],layout:{"icon-image":"{class}_11","text-anchor":"top","text-field":"{name}","text-font":["Roboto Condensed Italic"],"text-max-width":9,"text-offset":[0,.6],"text-padding":2,"text-size":12},paint:{"text-color":"#666","text-halo-blur":.5,"text-halo-color":"#ffffff","text-halo-width":1}},{id:"poi_z15",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"poi",minzoom:15,filter:["all",["==","$type","Point"],[">=","rank",7],["<","rank",20]],layout:{"icon-image":"{class}_11","text-anchor":"top","text-field":"{name}","text-font":["Roboto Condensed Italic"],"text-max-width":9,"text-offset":[0,.6],"text-padding":2,"text-size":12},paint:{"text-color":"#666","text-halo-blur":.5,"text-halo-color":"#ffffff","text-halo-width":1}},{id:"poi_z14",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"poi",minzoom:14,filter:["all",["==","$type","Point"],[">=","rank",1],["<","rank",7]],layout:{"icon-image":"{class}_11","text-anchor":"top","text-field":"{name}","text-font":["Roboto Condensed Italic"],"text-max-width":9,"text-offset":[0,.6],"text-padding":2,"text-size":12},paint:{"text-color":"#666","text-halo-blur":.5,"text-halo-color":"#ffffff","text-halo-width":1}},{id:"poi_transit",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"poi",filter:["all",["in","class","bus","rail","airport"]],layout:{"icon-image":"{maki}_11","text-anchor":"left","text-field":"{name_en}","text-font":["Roboto Condensed Italic"],"text-max-width":9,"text-offset":[.9,0],"text-padding":2,"text-size":12,visibility:"visible"},paint:{"text-color":"#4898ff","text-halo-blur":.5,"text-halo-color":"#ffffff","text-halo-width":1}},{id:"road_label",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"transportation_name",filter:["all"],layout:{"symbol-placement":"line","text-anchor":"center","text-field":"{name}","text-font":["Roboto Regular"],"text-offset":[0,.15],"text-size":{base:1,stops:[[13,12],[14,13]]}},paint:{"text-color":"#765","text-halo-blur":.5,"text-halo-width":1}},{id:"road_shield",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"transportation_name",minzoom:7,filter:["all",["<=","ref_length",6]],layout:{"icon-image":"default_{ref_length}","icon-rotation-alignment":"viewport","symbol-placement":{base:1,stops:[[10,"point"],[11,"line"]]},"symbol-spacing":500,"text-field":"{ref}","text-font":["Roboto Regular"],"text-offset":[0,.1],"text-rotation-alignment":"viewport","text-size":10,"icon-size":.8},paint:{}},{id:"place_other",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",filter:["all",["in","class","hamlet","island","islet","neighbourhood","suburb"]],layout:{"text-field":"{name_en}","text-font":["Roboto Condensed Italic"],"text-letter-spacing":.1,"text-max-width":9,"text-size":{base:1.2,stops:[[12,10],[15,14]]},"text-transform":"uppercase"},paint:{"text-color":"#633","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2}},{id:"place_village",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",filter:["all",["==","class","village"]],layout:{"text-field":"{name_en}","text-font":["Roboto Regular"],"text-max-width":8,"text-size":{base:1.2,stops:[[10,12],[15,22]]}},paint:{"text-color":"#333","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2}},{id:"place_town",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",filter:["all",["==","class","town"]],layout:{"icon-image":{base:1,stops:[[0,"dot_9"],[8,""]]},"text-anchor":"bottom","text-field":"{name_en}","text-font":["Roboto Regular"],"text-max-width":8,"text-offset":[0,0],"text-size":{base:1.2,stops:[[7,12],[11,16]]}},paint:{"text-color":"#333","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2}},{id:"place_city",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",minzoom:5,filter:["all",["==","class","city"]],layout:{"icon-image":{base:1,stops:[[0,"dot_9"],[8,""]]},"text-anchor":"bottom","text-field":"{name_en}","text-font":["Roboto Medium"],"text-max-width":8,"text-offset":[0,0],"text-size":{base:1.2,stops:[[7,14],[11,24]]},"icon-allow-overlap":!0,"icon-optional":!1},paint:{"text-color":"#333","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2}},{id:"state",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",maxzoom:6,filter:["all",["==","class","state"]],layout:{"text-field":"{name_en}","text-font":["Roboto Condensed Italic"],"text-size":{stops:[[4,11],[6,15]]},"text-transform":"uppercase"},paint:{"text-color":"#633","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":1}},{id:"country_3",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",filter:["all",[">=","rank",3],["==","class","country"]],layout:{"text-field":"{name_en}","text-font":["Roboto Condensed Italic"],"text-max-width":6.25,"text-size":{stops:[[3,11],[7,17]]},"text-transform":"none"},paint:{"text-color":"#334","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1}},{id:"country_2",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",filter:["all",["==","rank",2],["==","class","country"]],layout:{"text-field":"{name_en}","text-font":["Roboto Condensed Italic"],"text-max-width":6.25,"text-size":{stops:[[2,11],[5,17]]},"text-transform":"none"},paint:{"text-color":"#334","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1}},{id:"country_1",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",filter:["all",["==","rank",1],["==","class","country"]],layout:{"text-field":"{name_en}","text-font":["Roboto Condensed Italic"],"text-max-width":6.25,"text-size":{stops:[[1,11],[4,17]]},"text-transform":"none"},paint:{"text-color":"#334","text-halo-blur":1,"text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1}},{id:"continent",type:"symbol",metadata:{},source:"openmaptiles","source-layer":"place",maxzoom:1,filter:["all",["==","class","continent"]],layout:{"text-field":"{name_en}","text-font":["Roboto Condensed Italic"],"text-size":13,"text-transform":"uppercase","text-justify":"center"},paint:{"text-color":"#633","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":1}}],id:"osm-liberty"}},function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(661),s=n(196),a=n(201)("stores/DataEditorStore"),l=n(662),c=n(663),u=n(205).checkClientError;e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return{editing:!1,editingLayer:null,originals:[],edits:[],redo:[],selectedEditFeature:null}},reset:function(){this.setState(this.getInitialState())},storeDidUpdate:function(){a("store updated")},startEditing:function(e){this.setState({editing:!0,editingLayer:e})},stopEditing:function(){this.setState({editing:!1,editingLayer:null})},updateFeatures:function(e){var t=this,n=this;e.forEach(function(e){a("Updating feature: "+e.id);var r={status:"modify",geojson:JSON.parse(JSON.stringify(e))};t.state.selectedEditFeature&&e.id===t.state.selectedEditFeature.geojson.id&&(t.state.selectedEditFeature=r);var i=JSON.parse(JSON.stringify(r));n.state.edits.push(i),n.state.redo=[]}),this.trigger(this.state)},resetEdits:function(){this.setState({edits:[],redo:[]})},undoEdit:function(){if(this.state.edits.length>0){var e=this.state.edits.pop(),t=JSON.parse(JSON.stringify(e));this.state.redo.push(t);var n=this.getLastEditForID(e.geojson.id);this.state.selectedEditFeature&&e.geojson.id===this.state.selectedEditFeature.geojson.id&&(this.state.selectedEditFeature=n),"create"===e.status?o.onFeatureUpdate("delete",e):o.onFeatureUpdate("update",n),this.trigger(this.state)}},redoEdit:function(){if(this.state.redo.length>0){var e=this.state.redo.pop(),t=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(e));this.state.edits.push(t),this.state.selectedEditFeature&&e.geojson.id===this.state.selectedEditFeature.geojson.id&&(this.state.selectedEditFeature=n),o.onFeatureUpdate("update",e),this.trigger(this.state)}},getLastEditForID:function(e){var t=[];if(c(this.state.edits,function(n){n.geojson.id===e&&t.push(n)}),t.length>0)return JSON.parse(JSON.stringify(t[0]));var n;return this.state.originals.forEach(function(t){t.geojson.id===e&&(n=t)}),n?JSON.parse(JSON.stringify(n)):null},saveEdits:function(e,t){var n=this,r=this.getUniqueFeatureIds(),i=[];r.forEach(function(e){var t=n.getAllEditsForFeatureId(e),r=t[t.length-1];t.length>1&&"create"===t[0].status&&(r.status="create"),i.push(r)}),s.post("/api/edits/save").type("json").accept("json").send({layer_id:this.state.editingLayer.layer_id,edits:i,_csrf:e}).end(function(e,r){u(r,e,t,function(t){e?t(e):(n.setState({originals:[],edits:[],redo:[],selectedEditFeature:null}),t())})})},getUniqueFeatureIds:function(){var e=[];return this.state.edits.forEach(function(t){var n=t.geojson.id;n&&!e.includes(n)&&e.push(n)}),e},getAllEditsForFeatureId:function(e){var t=[];return this.state.edits.forEach(function(n){n.geojson.id===e&&t.push(n)}),t},updateSelectedFeatureTags:function(e){var t=this,n=this.state.selectedEditFeature,r={status:"modify",geojson:JSON.parse(JSON.stringify(n.geojson))};l(r.geojson.properties,e);var i=JSON.parse(JSON.stringify(r));t.state.edits.push(i),t.state.redo=[],this.state.selectedEditFeature=n,this.trigger(this.state)},selectFeature:function(e,t){var n=this,r=this.getLastEditForID(e);if(r)this.setState({selectedEditFeature:r});else{var i=e.split(":")[1];s.get("/api/feature/json/"+this.state.editingLayer.layer_id+"/"+i+"/data.geojson").accept("json").end(function(r,i){u(i,r,t,function(t){var r=i.body,o=r.features[0],s={status:"original",geojson:o};s.geojson.id=e;var a=JSON.parse(JSON.stringify(s));n.state.originals.push(a),n.setState({selectedEditFeature:s}),t(s.geojson)})})}},createFeature:function(e){var t={status:"create",geojson:JSON.parse(JSON.stringify(e))};this.state.edits.push(t),this.setState({selectedEditFeature:t})},deleteFeature:function(e){var t={status:"delete",geojson:JSON.parse(JSON.stringify(e))};this.state.edits.push(t),this.state.redo=[],this.trigger(this.state)}})},function(e,t,n){"use strict";var r=n(170),i=r.createActions({saveEdits:{},startEditing:{},stopEditing:{},selectFeature:{},resetEdits:{},undoEdit:{},redoEdit:{},updateSelectedFeatureTags:{},updateFeatures:{},onFeatureUpdate:{},createFeature:{},deleteFeature:{}});e.exports=i},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){var n=I(e)||g(e)?r(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!F.call(e,s)||o&&("length"==s||u(s,i))||n.push(s);return n}function o(e,t,n){var r=e[t];F.call(e,t)&&f(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function s(e){if(!w(e))return p(e);var t=d(e),n=[];for(var r in e)("constructor"!=r||!t&&F.call(e,r))&&n.push(r);return n}function a(e,t){return t=M(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=M(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=s,n(e,this,a)}}function l(e,t,n,r){n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;o(n,a,void 0===l?e[a]:l)}return n}function c(e){return a(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&h(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}function u(e,t){return t=null==t?E:t,!!t&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function h(e,t,n){if(!w(n))return!1;var r=typeof t;return!!("number"==r?m(n)&&u(t,n.length):"string"==r&&t in n)&&f(n[t],e)}function d(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||T;return e===n}function p(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function f(e,t){return e===t||e!==e&&t!==t}function g(e){return v(e)&&F.call(e,"callee")&&(!R.call(e,"callee")||L.call(e)==C)}function m(e){return null!=e&&b(e.length)&&!y(e)}function v(e){return x(e)&&m(e)}function y(e){var t=w(e)?L.call(e):"";return t==S||t==k}function b(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=E}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}function _(e){return m(e)?i(e,!0):s(e)}var E=9007199254740991,C="[object Arguments]",S="[object Function]",k="[object GeneratorFunction]",A=/^(?:0|[1-9]\d*)$/,T=Object.prototype,F=T.hasOwnProperty,L=T.toString,R=T.propertyIsEnumerable,M=Math.max,I=Array.isArray,D=c(function(e,t){l(t,_(t),e)});e.exports=D},function(e,t){function n(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){return function(n){return e(t(n))}}function o(e,t){var n=D(e)||p(e)?r(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!T.call(e,s)||o&&("length"==s||u(s,i))||n.push(s);return n}function s(e,t){return e&&I(e,t,w)}function a(e){if(!h(e))return R(e);var t=[];for(var n in Object(e))T.call(e,n)&&"constructor"!=n&&t.push(n);return t}function l(e,t){return function(n,r){if(null==n)return n;if(!f(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function c(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(n(o[l],l,o)===!1)break}return t}}function u(e,t){return t=null==t?_:t,!!t&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function h(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||A;return e===n}function d(e,t){var r=D(e)?n:M;return r(e,"function"==typeof t?t:x)}function p(e){return g(e)&&T.call(e,"callee")&&(!L.call(e,"callee")||F.call(e)==E)}function f(e){return null!=e&&v(e.length)&&!m(e)}function g(e){return b(e)&&f(e)}function m(e){var t=y(e)?F.call(e):"";return t==C||t==S}function v(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function w(e){return f(e)?o(e):a(e)}function x(e){return e}var _=9007199254740991,E="[object Arguments]",C="[object Function]",S="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,A=Object.prototype,T=A.hasOwnProperty,F=A.toString,L=A.propertyIsEnumerable,R=i(Object.keys,Object),M=l(s,!0),I=c(!0),D=Array.isArray;e.exports=d},function(e,t,n){"use strict";var r=n(1),i=n(168),o=r.createClass({displayName:"MapToolButton",propTypes:{icon:r.PropTypes.string,top:r.PropTypes.string,right:r.PropTypes.string,bottom:r.PropTypes.string,left:r.PropTypes.string,tooltipText:r.PropTypes.string,color:r.PropTypes.string,onClick:r.PropTypes.func.isRequired,show:r.PropTypes.bool,disabled:r.PropTypes.bool},getDefaultProps:function(){return{icon:"edit",top:"10px",color:MAPHUBS_CONFIG.primaryColor,right:"10px",bottom:"auto",left:"auto",tooltipText:"",show:!0,disabled:!1}},componentDidMount:function(){this.props.tooltipText&&""!=this.props.tooltipText&&i(this.refs.mapToolButton).tooltip()},onClick:function(e){this.props.disabled||(i(this.refs.mapToolButton).tooltip("remove"),i(this.refs.mapToolButton).tooltip(),this.props.onClick(e))},render:function(){if(this.props.show){var e="white",t=this.props.color;return this.props.disabled&&(e="#DFDFDF",t="#9F9F9F"),r.createElement("a",{ref:"mapToolButton",onClick:this.onClick,style:{position:"absolute",top:this.props.top,right:this.props.right,bottom:this.props.bottom,left:this.props.left,height:"30px",zIndex:"100",lineHeight:"30px",borderRadius:"4px",textAlign:"center",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)",width:"30px"},"data-position":"bottom","data-delay":"50","data-tooltip":this.props.tooltipText},r.createElement("i",{className:"material-icons",style:{height:"30px",lineHeight:"30px",width:"30px",color:t,borderRadius:"4px",cursor:"pointer",backgroundColor:e,borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px",textAlign:"center",fontSize:"18px"}},this.props.icon))}return null}});e.exports=o},function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(666),s=n(667),a=n(669),l=n(679),c=n(170),u=n(189)(c),h=n(266),d=n(268),p=n(680),f=r.createClass({displayName:"MapToolPanel",mixins:[u.connect(h)],__:function(e){return d.getLocaleString(this.state.locale,e)},propTypes:{show:r.PropTypes.bool,gpxLink:r.PropTypes.string,onChangeBaseMap:r.PropTypes.func.isRequired,toggleMeasurementTools:r.PropTypes.func.isRequired,toggleForestAlerts:r.PropTypes.func.isRequired,toggleForestLoss:r.PropTypes.func.isRequired,calculateForestAlerts:r.PropTypes.func.isRequired,enableMeasurementTools:r.PropTypes.bool,forestAlerts:r.PropTypes.object,forestLoss:r.PropTypes.object},getDefaultProps:function(){return{show:!1,buttonTooltipText:"",enableMeasurementTools:!1,forestAlerts:{enableGLAD2017:!1,result:null},forestLoss:{enableForestLoss:!1,result:null}}},componentDidMount:function(){i(this.refs.mapToolButton).tooltip(),i(this.refs.mapToolButton).sideNav({menuWidth:240,edge:"right",closeOnClick:!1,draggable:!1}),i(this.refs.mapToolPanel).collapsible()},closePanel:function(){i(this.refs.mapToolButton).sideNav("hide")},onChangeBaseMap:function(e){this.closePanel(),this.props.onChangeBaseMap(e)},toggleMeasurementTools:function(e){e.enableMeasurementTools&&this.closePanel(),this.props.toggleMeasurementTools(e.enableMeasurementTools)},toggleForestAlerts:function(e){this.props.toggleForestAlerts(e)},toggleForestLoss:function(e){this.props.toggleForestLoss(e)},render:function(){var e="";return this.props.forestAlerts.result&&(e=r.createElement("div",null,r.createElement("div",{className:"row no-margin"},r.createElement("div",{className:"col s12",style:{height:"50px",border:"1px solid #ddd"}},r.createElement("span",null,r.createElement("b",null,this.__("Alert Count: ")),this.props.forestAlerts.result.alertCount))),r.createElement("div",{className:"row no-margin"},r.createElement("div",{className:"col s12",style:{height:"50px",border:"1px solid #ddd"}},r.createElement("span",null,r.createElement("b",null,this.__("Total Area: ")),this.props.forestAlerts.result.areaMessage))))),r.createElement("div",null,r.createElement("a",{ref:"mapToolButton",href:"#","data-activates":"map-tool-panel",style:{display:this.props.show?"inherit":"none",position:"absolute",top:"10px",right:"10px",height:"30px",zIndex:"100",borderRadius:"4px",lineHeight:"30px",textAlign:"center",boxShadow:"0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)",width:"30px"},"data-position":"bottom","data-delay":"50","data-tooltip":this.__("Tools")},r.createElement("i",{className:"material-icons",style:{height:"30px",lineHeight:"30px",width:"30px",color:"#000",borderRadius:"4px",cursor:"pointer",backgroundColor:"white",borderColor:"#ddd",borderStyle:"none",borderWidth:"1px",textAlign:"center",fontSize:"18px"}},"build")),r.createElement("div",{className:"side-nav",id:"map-tool-panel",style:{backgroundColor:"#FFF",height:"calc(100% - 100px)",overflow:"hidden",padding:0,marginTop:"50px",border:"1px solid #d3d3d3"}},r.createElement("ul",{ref:"mapToolPanel",className:"collapsible no-margin","data-collapsible":"accordion",style:{height:"100%"}},r.createElement("li",null,r.createElement("div",{className:"collapsible-header",style:{borderBottom:"1px solid #ddd"}},r.createElement("i",{className:"material-icons"},"layers"),this.__("Change Base Map")),r.createElement("div",{className:"collapsible-body"},r.createElement("div",{style:{height:"calc(100vh - 250px)",overflow:"auto"}},r.createElement(s,{onChange:this.onChangeBaseMap})))),r.createElement("li",null,r.createElement("div",{className:"collapsible-header",style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},r.createElement("i",{className:"material-icons"},"straighten"),this.__("Measurement Tools")),r.createElement("div",{className:"collapsible-body center"},r.createElement("div",{style:{height:"calc(100vh - 250px)",overflow:"auto"}},r.createElement(a.Form,{onChange:this.toggleMeasurementTools},r.createElement("b",null,this.__("Show Measurement Tools")),r.createElement(l,{name:"enableMeasurementTools",labelOff:this.__("Off"),labelOn:this.__("On"),className:"col s12",checked:this.props.enableMeasurementTools}))))),r.createElement("li",null,r.createElement("div",{className:"collapsible-header",style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},r.createElement("i",{className:"material-icons"},"warning"),this.__("Forest Alerts")),r.createElement("div",{className:"collapsible-body center"},r.createElement("div",{style:{height:"calc(100vh - 250px)",overflow:"auto"}},r.createElement(a.Form,{onChange:this.toggleForestAlerts},r.createElement("b",null,this.__("2017 GLAD Alerts")),r.createElement(l,{name:"enableGLAD2017",labelOff:this.__("Off"),labelOn:this.__("On"),className:"col s12",checked:this.props.forestAlerts.enableGLAD2017
})),r.createElement("button",{className:"btn",onClick:this.props.calculateForestAlerts},this.__("Calculate")),e,r.createElement(a.Form,{onChange:this.toggleForestLoss},r.createElement("b",null,this.__("2001 - 2014 Forest Loss")),r.createElement(l,{name:"enableForestLoss",labelOff:this.__("Off"),labelOn:this.__("On"),className:"col s12",checked:this.props.forestLoss.enableForestLoss})),r.createElement("button",{className:"btn-floating",style:{marginRight:"5px"},onClick:p.play},r.createElement("i",{className:"material-icons"},"play_arrow")),r.createElement("button",{className:"btn-floating",onClick:p.stop},r.createElement("i",{className:"material-icons"},"pause"))))),r.createElement("li",null,r.createElement("div",{className:"collapsible-header",style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},r.createElement("i",{className:"material-icons"},"edit"),this.__("Edit OpenStreetMap")),r.createElement("div",{className:"collapsible-body"},r.createElement("div",{style:{height:"calc(100vh - 250px)",overflow:"auto"}},r.createElement(o,{gpxLink:this.props.gpxLink})))))))}});e.exports=f},function(e,t,n){"use strict";var r=n(1),i=(n(648),n(170)),o=n(189)(i),s=n(266),a=n(268),l=r.createClass({displayName:"EditBaseMapBox",mixins:[o.connect(s)],__:function(e){return a.getLocaleString(this.state.locale,e)},propTypes:{gpxLink:r.PropTypes.string},getLinks:function(){var e=window.location.hash.replace("#",""),t=e.split("/"),n=Math.round(t[0]),r=t[1],i=t[2],o="https://www.openstreetmap.org/edit#map="+n+"/"+r+"/"+i,s="http://id.loggingroads.org/#map="+n+"/"+i+"/"+r;return this.props.gpxLink&&(o+="&gpx="+this.props.gpxLink,s+="&gpx="+this.props.gpxLink),{osm:o,loggingroads:s}},openOSM:function(){var e=this.getLinks();window.location=e.osm},openLogginRoads:function(){var e=this.getLinks();window.location=e.loggingroads},render:function(){return r.createElement("div",{style:{width:"100%",textAlign:"center"}},r.createElement("p",{style:{padding:"5px"}},"Edit OpenStreetMap at this location"),r.createElement("ul",{className:"collection with-header custom-scroll-bar",style:{margin:0,width:"100%",overflow:"auto"}},r.createElement("li",{className:"collection-item",style:{paddingLeft:0}},r.createElement("a",{className:"btn",onClick:this.openOSM},this.__("OpenStreetMap"))),r.createElement("li",{className:"collection-item",style:{paddingLeft:0}},r.createElement("a",{className:"btn",onClick:this.openLoggingRoads},this.__("LoggingRoads")))))}});e.exports=l},function(e,t,n){"use strict";var r=n(1),i=n(668),o=n(669),s=n(170),a=n(189)(s),l=n(649),c=n(266),u=n(268),h=r.createClass({displayName:"BaseMapSelection",mixins:[a.connect(l),a.connect(c)],__:function(e){return u.getLocaleString(this.state.locale,e)},propTypes:{onChange:r.PropTypes.func.isRequired},onChange:function(e){this.props.onChange(e)},render:function(){var e=[{value:"default",label:this.__("Default (Light)")},{value:"dark",label:this.__("Dark")},{value:"streets",label:this.__("Streets")}];return MAPHUBS_CONFIG.useMapboxBaseMaps&&(e.push({value:"outdoors",label:this.__("Outdoors")}),e.push({value:"mapbox-satellite",label:this.__("Mapbox Satellite")})),e.push({value:"bing-satellite",label:this.__("Bing Aerial")}),e.push({value:"landsat-2016",label:this.__("Landsat - 2016")}),e.push({value:"landsat-2014",label:this.__("Landsat - 2014")}),e.push({value:"stamen-toner",label:this.__("Stamen - Toner")}),e.push({value:"stamen-terrain",label:this.__("Stamen - Terrain")}),e.push({value:"stamen-watercolor",label:this.__("Stamen - Watercolor")}),r.createElement("div",{style:{width:"100%",marginRight:"10px",backgroundColor:"white",textAlign:"left"}},r.createElement(o.Form,null,r.createElement("h6",null,this.__("Choose a Base Map")),r.createElement(i,{name:"baseMap",label:"",className:"base-map-selection",defaultValue:this.state.baseMap,options:e,onChange:this.onChange})))}});e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(284),s=n(676),a=r.createClass({displayName:"Radio",mixins:[s,i.Mixin],propTypes:{className:r.PropTypes.string,dataTooltip:r.PropTypes.string,dataDelay:r.PropTypes.number,dataPosition:r.PropTypes.string,defaultValue:r.PropTypes.string,label:r.PropTypes.string,name:r.PropTypes.string,onChange:r.PropTypes.func,options:r.PropTypes.array},getDefaultProps:function(){return{options:{},defaultValue:void 0,dataDelay:100}},changeValue:function(e){this.setValue(e.target.id),this.props.onChange&&this.props.onChange(e.target.id)},componentWillMount:function(){this.setValue(this.props.defaultValue)},render:function(){var e=o(this.props.className,{tooltipped:!!this.props.dataTooltip}),t=this.getValue(),n=this.props.name,i=this;return r.createElement("div",{className:e,"data-delay":this.props.dataDelay,"data-position":this.props.dataPosition,"data-tooltip":this.props.dataTooltip},r.createElement("label",null,this.props.label),this.props.options.map(function(e){var o=!1;return e.value==t&&(o=!0),r.createElement("p",{key:e.value},r.createElement("input",{name:n,type:"radio",id:e.value,onChange:i.changeValue,checked:o}),r.createElement("label",{htmlFor:e.value},e.label))}))}});e.exports=a},function(e,t,n){(function(t){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=t.React||n(1),a={},l=n(670),c=n(671),u=n(672),h=n(673),d=n(674),p=n(675),f={},g=[];a.Mixin=h,a.HOC=d,a.Decorator=p,a.defaults=function(e){f=e},a.addValidationRule=function(e,t){l[e]=t},a.Form=s.createClass({displayName:"Formsy",getInitialState:function(){return{isValid:!0,isSubmitting:!1,canChange:!1}},getDefaultProps:function(){return{onSuccess:function(){},onError:function(){},onSubmit:function(){},onValidSubmit:function(){},onInvalidSubmit:function(){},onValid:function(){},onInvalid:function(){},onChange:function(){},validationErrors:null,preventExternalInvalidation:!1}},childContextTypes:{formsy:s.PropTypes.object},getChildContext:function(){var e=this;return{formsy:{attachToForm:this.attachToForm,detachFromForm:this.detachFromForm,validate:this.validate,isFormDisabled:this.isFormDisabled,isValidValue:function(t,n){return e.runValidation(t,n).isValid}}}},componentWillMount:function(){this.inputs=[]},componentDidMount:function(){this.validateForm()},componentWillUpdate:function(){this.prevInputNames=this.inputs.map(function(e){return e.props.name})},componentDidUpdate:function(){this.props.validationErrors&&"object"===o(this.props.validationErrors)&&Object.keys(this.props.validationErrors).length>0&&this.setInputValidationErrors(this.props.validationErrors);var e=this.inputs.map(function(e){return e.props.name});u.arraysDiffer(this.prevInputNames,e)&&this.validateForm()},reset:function(e){this.setFormPristine(!0),this.resetModel(e)},submit:function(e){e&&e.preventDefault(),this.setFormPristine(!1);var t=this.getModel();this.props.onSubmit(t,this.resetModel,this.updateInputsWithError),this.state.isValid?this.props.onValidSubmit(t,this.resetModel,this.updateInputsWithError):this.props.onInvalidSubmit(t,this.resetModel,this.updateInputsWithError)},mapModel:function(e){return this.props.mapping?this.props.mapping(e):c.toObj(Object.keys(e).reduce(function(t,n){for(var r=n.split("."),i=t;r.length;){var o=r.shift();i=i[o]=r.length?i[o]||{}:e[n]}return t},{}))},getModel:function(){var e=this.getCurrentValues();return this.mapModel(e)},resetModel:function(e){this.inputs.forEach(function(t){var n=t.props.name;e&&e.hasOwnProperty(n)?t.setValue(e[n]):t.resetValue()}),this.validateForm()},setInputValidationErrors:function(e){this.inputs.forEach(function(t){var n=t.props.name,r=[{_isValid:!(n in e),_validationError:"string"==typeof e[n]?[e[n]]:e[n]}];t.setState.apply(t,r)})},isChanged:function(){return!u.isSame(this.getPristineValues(),this.getCurrentValues())},getPristineValues:function(){return this.inputs.reduce(function(e,t){var n=t.props.name;return e[n]=t.props.value,e},{})},updateInputsWithError:function(e){var t=this;Object.keys(e).forEach(function(n,r){var i=u.find(t.inputs,function(e){return e.props.name===n});if(!i)throw new Error("You are trying to update an input that does not exist. Verify errors object with input names. "+JSON.stringify(e));var o=[{_isValid:t.props.preventExternalInvalidation||!1,_externalError:"string"==typeof e[n]?[e[n]]:e[n]}];i.setState.apply(i,o)})},isFormDisabled:function(){return this.props.disabled},getCurrentValues:function(){return this.inputs.reduce(function(e,t){var n=t.props.name;return e[n]=t.state._value,e},{})},setFormPristine:function(e){this.setState({_formSubmitted:!e}),this.inputs.forEach(function(t,n){t.setState({_formSubmitted:!e,_isPristine:e})})},validate:function(e){this.state.canChange&&this.props.onChange(this.getCurrentValues(),this.isChanged());var t=this.runValidation(e);e.setState({_isValid:t.isValid,_isRequired:t.isRequired,_validationError:t.error,_externalError:null},this.validateForm)},runValidation:function(e,t){var n=this.getCurrentValues(),r=e.props.validationErrors,i=e.props.validationError;t=2===arguments.length?t:e.state._value;var o=this.runRules(t,n,e._validations),s=this.runRules(t,n,e._requiredValidations);"function"==typeof e.validate&&(o.failed=e.validate()?[]:["failed"]);var a=!!Object.keys(e._requiredValidations).length&&!!s.success.length,l=!(o.failed.length||this.props.validationErrors&&this.props.validationErrors[e.props.name]);return{isRequired:a,isValid:!a&&l,error:function(){if(l&&!a)return g;if(o.errors.length)return o.errors;if(this.props.validationErrors&&this.props.validationErrors[e.props.name])return"string"==typeof this.props.validationErrors[e.props.name]?[this.props.validationErrors[e.props.name]]:this.props.validationErrors[e.props.name];if(a){var t=r[s.success[0]];return t?[t]:null}return o.failed.length?o.failed.map(function(e){return r[e]?r[e]:i}).filter(function(e,t,n){return n.indexOf(e)===t}):void 0}.call(this)}},runRules:function(e,t,n){var r={errors:[],failed:[],success:[]};return Object.keys(n).length&&Object.keys(n).forEach(function(i){if(l[i]&&"function"==typeof n[i])throw new Error("Formsy does not allow you to override default validations: "+i);if(!l[i]&&"function"!=typeof n[i])throw new Error("Formsy does not have the validation rule: "+i);if("function"==typeof n[i]){var o=n[i](t,e);return void("string"==typeof o?(r.errors.push(o),r.failed.push(i)):o||r.failed.push(i))}if("function"!=typeof n[i]){var o=l[i](t,e,n[i]);return void("string"==typeof o?(r.errors.push(o),r.failed.push(i)):o?r.success.push(i):r.failed.push(i))}return r.success.push(i)}),r},validateForm:function(){var e=this,t=function(){var e=this.inputs.every(function(e){return e.state._isValid});this.setState({isValid:e}),e?this.props.onValid():this.props.onInvalid(),this.setState({canChange:!0})}.bind(this);this.inputs.forEach(function(n,r){var i=e.runValidation(n);i.isValid&&n.state._externalError&&(i.isValid=!1),n.setState({_isValid:i.isValid,_isRequired:i.isRequired,_validationError:i.error,_externalError:!i.isValid&&n.state._externalError?n.state._externalError:null},r===e.inputs.length-1?t:null)}),!this.inputs.length&&this.isMounted()&&this.setState({canChange:!0})},attachToForm:function(e){this.inputs.indexOf(e)===-1&&this.inputs.push(e),this.validate(e)},detachFromForm:function(e){var t=this.inputs.indexOf(e);t!==-1&&(this.inputs=this.inputs.slice(0,t).concat(this.inputs.slice(t+1))),this.validateForm()},render:function(){var e=this.props,t=(e.mapping,e.validationErrors,e.onSubmit,e.onValid,e.onValidSubmit,e.onInvalid,e.onInvalidSubmit,e.onChange,e.reset,e.preventExternalInvalidation,e.onSuccess,e.onError,r(e,["mapping","validationErrors","onSubmit","onValid","onValidSubmit","onInvalid","onInvalidSubmit","onChange","reset","preventExternalInvalidation","onSuccess","onError"]));return s.createElement("form",i({},t,{onSubmit:this.submit}),this.props.children)}}),t.exports||t.module||t.define&&t.define.amd||(t.Formsy=a),e.exports=a}).call(t,function(){return this}())},function(e,t){"use strict";var n=function(e){return null!==e&&void 0!==e},r=function(e){return""===e},i={isDefaultRequiredValue:function(e,t){return void 0===t||""===t},isExisty:function(e,t){return n(t)},matchRegexp:function(e,t,i){return!n(t)||r(t)||i.test(t)},isUndefined:function(e,t){return void 0===t},isEmptyString:function(e,t){return r(t)},isEmail:function(e,t){return i.matchRegexp(e,t,/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i)},isUrl:function(e,t){return i.matchRegexp(e,t,/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i)},isTrue:function(e,t){return t===!0},isFalse:function(e,t){return t===!1},isNumeric:function(e,t){return"number"==typeof t||i.matchRegexp(e,t,/^[-+]?(?:\d*[.])?\d+$/)},isAlpha:function(e,t){return i.matchRegexp(e,t,/^[A-Z]+$/i)},isAlphanumeric:function(e,t){return i.matchRegexp(e,t,/^[0-9A-Z]+$/i)},isInt:function(e,t){return i.matchRegexp(e,t,/^(?:[-+]?(?:0|[1-9]\d*))$/)},isFloat:function(e,t){return i.matchRegexp(e,t,/^(?:[-+]?(?:\d+))?(?:\.\d*)?(?:[eE][\+\-]?(?:\d+))?$/)},isWords:function(e,t){return i.matchRegexp(e,t,/^[A-Z\s]+$/i)},isSpecialWords:function(e,t){return i.matchRegexp(e,t,/^[A-Z\s\u00C0-\u017F]+$/i)},isLength:function(e,t,i){return!n(t)||r(t)||t.length===i},equals:function(e,t,i){return!n(t)||r(t)||t==i},equalsField:function(e,t,n){return t==e[n]},maxLength:function(e,t,r){return!n(t)||t.length<=r},minLength:function(e,t,i){return!n(t)||r(t)||t.length>=i}};e.exports=i},function(e,t){function n(e){return Object.keys(e).reduce(function(t,n){var r=n.match(/[^\[]*/i),i=n.match(/\[.*?\]/g)||[];i=[r[0]].concat(i).map(function(e){return e.replace(/\[|\]/g,"")});for(var o=t;i.length;){var s=i.shift();s in o?o=o[s]:(o[s]=i.length?isNaN(i[0])?{}:[]:e[n],o=o[s])}return t},{})}function r(e){function t(e,n,r){return Array.isArray(r)||"[object Object]"===Object.prototype.toString.call(r)?(Object.keys(r).forEach(function(i){t(e,n+"["+i+"]",r[i])}),e):(e[n]=r,e)}var n=Object.keys(e);return n.reduce(function(n,r){return t(n,r,e[r])},{})}e.exports={fromObj:r,toObj:n}},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={arraysDiffer:function(e,t){var n=!1;return e.length!==t.length?n=!0:e.forEach(function(e,r){this.isSame(e,t[r])||(n=!0)},this),n},objectsDiffer:function(e,t){var n=!1;return Object.keys(e).length!==Object.keys(t).length?n=!0:Object.keys(e).forEach(function(r){this.isSame(e[r],t[r])||(n=!0)},this),n},isSame:function(e,t){return("undefined"==typeof e?"undefined":n(e))===("undefined"==typeof t?"undefined":n(t))&&(Array.isArray(e)&&Array.isArray(t)?!this.arraysDiffer(e,t):"function"==typeof e?e.toString()===t.toString():"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e&&null!==t?!this.objectsDiffer(e,t):e===t)},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i))return i}return null}}},function(e,t,n){(function(t){"use strict";var r=n(672),i=t.React||n(1),o=function(e){return"string"==typeof e?e.split(/\,(?![^{\[]*[}\]])/g).reduce(function(e,t){var n=t.split(":"),r=n.shift();if(n=n.map(function(e){try{return JSON.parse(e)}catch(t){return e}}),n.length>1)throw new Error("Formsy does not support multiple args on string validations. Use object format of validations instead.");return e[r]=!n.length||n[0],e},{}):e||{}};e.exports={getInitialState:function(){return{_value:this.props.value,_isRequired:!1,_isValid:!0,_isPristine:!0,_pristineValue:this.props.value,_validationError:[],_externalError:null,_formSubmitted:!1}},contextTypes:{formsy:i.PropTypes.object},getDefaultProps:function(){return{validationError:"",validationErrors:{}}},componentWillMount:function(){var e=function(){this.setValidations(this.props.validations,this.props.required),this.context.formsy.attachToForm(this)}.bind(this);if(!this.props.name)throw new Error("Form Input requires a name property when used");e()},componentWillReceiveProps:function(e){this.setValidations(e.validations,e.required)},componentDidUpdate:function(e){r.isSame(this.props.value,e.value)||this.setValue(this.props.value),r.isSame(this.props.validations,e.validations)&&r.isSame(this.props.required,e.required)||this.context.formsy.validate(this)},componentWillUnmount:function(){this.context.formsy.detachFromForm(this)},setValidations:function(e,t){this._validations=o(e)||{},this._requiredValidations=t===!0?{isDefaultRequiredValue:!0}:o(t)},setValue:function(e){this.setState({_value:e,_isPristine:!1},function(){this.context.formsy.validate(this)}.bind(this))},resetValue:function(){this.setState({_value:this.state._pristineValue,_isPristine:!0},function(){this.context.formsy.validate(this)})},getValue:function(){return this.state._value},hasValue:function(){return""!==this.state._value},getErrorMessage:function(){var e=this.getErrorMessages();return e.length?e[0]:null},getErrorMessages:function(){return!this.isValid()||this.showRequired()?this.state._externalError||this.state._validationError||[]:[]},isFormDisabled:function(){return this.context.formsy.isFormDisabled()},isValid:function(){return this.state._isValid},isPristine:function(){return this.state._isPristine},isFormSubmitted:function(){return this.state._formSubmitted},isRequired:function(){return!!this.props.required},showRequired:function(){return this.state._isRequired},showError:function(){return!this.showRequired()&&!this.isValid()},isValidValue:function(e){return this.context.formsy.isValidValue.call(null,this,e)}}}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(e){return e.displayName||e.name||("string"==typeof e?e:"Component")}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=t.React||n(1),s=n(673);e.exports=function(e){return o.createClass({displayName:"Formsy("+r(e)+")",mixins:[s],render:function(){var t=this.props.innerRef,n=i({setValidations:this.setValidations,setValue:this.setValue,resetValue:this.resetValue,getValue:this.getValue,hasValue:this.hasValue,getErrorMessage:this.getErrorMessage,getErrorMessages:this.getErrorMessages,isFormDisabled:this.isFormDisabled,isValid:this.isValid,isPristine:this.isPristine,isFormSubmitted:this.isFormSubmitted,isRequired:this.isRequired,showRequired:this.showRequired,showError:this.showError,isValidValue:this.isValidValue},this.props);return t&&(n.ref=t),o.createElement(e,n)}})}}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t.React||n(1),o=n(673);e.exports=function(){return function(e){return i.createClass({mixins:[o],render:function(){return i.createElement(e,r({setValidations:this.setValidations,setValue:this.setValue,resetValue:this.resetValue,getValue:this.getValue,hasValue:this.hasValue,getErrorMessage:this.getErrorMessage,getErrorMessages:this.getErrorMessages,isFormDisabled:this.isFormDisabled,isValid:this.isValid,isPristine:this.isPristine,isFormSubmitted:this.isFormSubmitted,isRequired:this.isRequired,showRequired:this.showRequired,showError:this.showError,isValidValue:this.isValidValue},this.props))}})}}}).call(t,function(){return this}())},function(e,t,n){e.exports=n(677)},function(e,t,n){"use strict";var r=n(678),i={shouldComponentUpdate:function(e,t){return r(this,e,t)}};e.exports=i},function(e,t,n){"use strict";function r(e,t,n){return!i(e.props,t)||!i(e.state,n)}var i=n(113);e.exports=r},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=n(669),s=n(284),a=n(168),l=n(676),c=n(201)("Toggle"),u=i.createClass({displayName:"Toggle",mixins:[l,o.Mixin],propTypes:{className:i.PropTypes.string,dataTooltip:i.PropTypes.string,dataDelay:i.PropTypes.number,dataPosition:i.PropTypes.string,labelOn:i.PropTypes.string.isRequired,labelOff:i.PropTypes.string.isRequired,name:i.PropTypes.string.isRequired,style:i.PropTypes.object,disabled:i.PropTypes.bool,onChange:i.PropTypes.func,defaultChecked:i.PropTypes.bool,checked:i.PropTypes.bool},getDefaultProps:function(){return{style:{},defaultChecked:!1,dataDelay:100,disabled:!1}},changeValue:function(e){e.stopPropagation();var t=e.currentTarget.checked;c("change value: "+t),t!==this.getValue()&&this.setValue(t),this.props.onChange&&this.props.onChange(e.currentTarget.checked)},componentWillMount:function(){"checked"in this.props?this.setValue(this.props.checked):this.setValue(this.props.defaultChecked)},componentDidMount:function(){this.props.dataTooltip&&a(this.refs.toggle).tooltip()},componentWillReceiveProps:function(e){var t=this.props.checked;"checked"in e&&e.checked!==t&&this.setValue(e.checked)},componentDidUpdate:function(e){!e.dataTooltip&&this.props.dataTooltip&&a(this.refs.toggle).tooltip()},render:function(){var e=r({},this.props);delete e.defaultChecked;var t=s("switch",this.props.className,{tooltipped:!!this.props.dataTooltip}),n=this.getValue();return"boolean"==typeof n&&(n=n?1:0),i.createElement("div",{ref:"toggle",className:t,disabled:e.disabled,"data-delay":e.dataDelay,"data-position":e.dataPosition,style:e.style,"data-tooltip":e.dataTooltip},i.createElement("label",null,e.labelOff,i.createElement("input",{type:"checkbox",id:e.name,checked:!!n,disabled:e.disabled,onChange:this.changeValue}),i.createElement("span",{className:"lever"}),e.labelOn))}});e.exports=u},function(e,t,n){"use strict";var r=n(170),i=r.createActions({play:{},stop:{},reset:{},tick:{}});e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(201)("map"),o=n(168),s=n(682),a=n(664),l={};"undefined"!=typeof window&&(l=n(684));var c=r.createClass({displayName:"InsetMap",propTypes:{id:r.PropTypes.string,bottom:r.PropTypes.string,attributionControl:r.PropTypes.bool,collapsed:r.PropTypes.bool},getDefaultProps:function(){return{id:"map",bottom:"30px",attributionControl:!1,collapsed:!1}},getInitialState:function(){return{collapsed:this.props.collapsed}},componentDidMount:function(){this.refs.insetMap&&o(this.refs.insetMap).show()},componentDidUpdate:function(){this.insetMap&&(this.state.collapsed||o(this.refs.insetMapArrow).show(),this.insetMapActive||(o(this.refs.insetMap).addClass("z-depth-1"),o(this.refs.insetMap).css("border","0.5px solid rgba(222,222,222,50)"),this.insetMapActive=!0))},createInsetMap:function(e,t,n){var r=this,i=new l.Map({container:this.props.id+"_inset",style:n,zoom:0,interactive:!1,center:e,attributionControl:this.props.attributionControl});i.on("style.load",function(){i.fitBounds(t,{maxZoom:1.8,padding:10});var e=r.getGeoJSONFromBounds(t);e.features[0].properties={v:1};var n=s(e);n.properties={v:1},i.addSource("inset-bounds",{type:"geojson",data:e}),i.addSource("inset-centroid",{type:"geojson",data:n}),i.addLayer({id:"bounds",type:"line",source:"inset-bounds",paint:{"line-color":"rgb(244, 118, 144)","line-opacity":.75,"line-width":5}}),i.addLayer({id:"center",type:"circle",source:"inset-centroid",paint:{"circle-color":"rgb(244, 118, 144)","circle-opacity":.75}}),r.showInsetAsPoint()?(i.setFilter("center",["==","v",1]),i.setFilter("bounds",["==","v",2])):(i.setFilter("center",["==","v",2]),i.setFilter("bounds",["==","v",1]))}),r.insetMap=i},reloadInset:function(e){this.insetMap&&this.insetMap.setStyle(e)},fitBounds:function(e,t){this.insetMap&&this.insetMap.fitBounds(e,t)},toggleCollapsed:function(){this.state.collapsed?this.setState({collapsed:!1}):(this.setState({collapsed:!0}),o(this.refs.insetMap).show())},getInsetMap:function(){return this.insetMap},getGeoJSONFromBounds:function(e){var t=e.getNorthWest().toArray(),n=e.getNorthEast().toArray(),r=e.getSouthEast().toArray(),i=e.getSouthWest().toArray(),o=t;return{type:"FeatureCollection",features:[{type:"Feature",properties:{name:"bounds"},geometry:{type:"Polygon",coordinates:[[t,n,r,i,o]]}}]}},showInsetAsPoint:function(e){return!!(e&&e>9)},updateInsetGeomFromBounds:function(e,t){if(this.insetMap){var n=this.insetMap.getSource("inset-bounds"),r=this.insetMap.getSource("inset-centroid");if(n)try{var o=this.getGeoJSONFromBounds(e);o.features[0].properties={v:1},n.setData(o);var a=s(o);a.properties={v:1},r.setData(a),this.setState({insetGeoJSONData:n,insetGeoJSONCentroidData:r}),t<2.3?(this.insetMap.setFilter("center",["==","v",2]),this.insetMap.setFilter("bounds",["==","v",2])):this.showInsetAsPoint(t)?(this.insetMap.setFilter("center",["==","v",1]),this.insetMap.setFilter("bounds",["==","v",2])):(this.insetMap.setFilter("center",["==","v",2]),this.insetMap.setFilter("bounds",["==","v",1])),this.insetMap.fitBounds(e,{maxZoom:1.8,padding:10,animate:!1})}catch(e){i(e)}}},render:function(){return this.state.collapsed?r.createElement("div",{style:{position:"absolute",bottom:this.props.bottom,left:"5px",minHeight:"100px",maxHeight:"145px",minWidth:"100px",maxWidth:"145px",height:"25vw",width:"25vw"}},r.createElement("div",{id:this.props.id+"_inset",ref:"insetMap",style:{display:"none"}},r.createElement(a,{onClick:this.toggleCollapsed,color:"#212121",top:"auto",right:"auto",bottom:"5px",left:"5px",icon:"near_me"}))):r.createElement("div",{style:{position:"absolute",bottom:this.props.bottom,left:"5px",minHeight:"100px",maxHeight:"145px",minWidth:"100px",maxWidth:"145px",height:"25vw",width:"25vw"}},r.createElement("div",{id:this.props.id+"_inset",ref:"insetMap",className:"map",style:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"none",zIndex:1}}),r.createElement("i",{className:"material-icons",ref:"insetMapArrow",onClick:this.toggleCollapsed,style:{position:"absolute",top:"-5px",right:"-5px",height:"30px",display:"none",lineHeight:"30px",width:"30px",color:"#717171",cursor:"pointer",textAlign:"center",zIndex:2,transform:"rotate(45deg)",fontSize:"18px"}},"arrow_downward"))}});e.exports=c},function(e,t,n){var r=n(683).coordEach,i=n(651).point;e.exports=function(e){var t=0,n=0,o=0;return r(e,function(e){t+=e[0],n+=e[1],o++},!0),i([t/o,n/o])}},,function(e,t){!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.mapboxgl=n()}}(function(){var e;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e){var i=e[r].paintVertexArray;if(0!==i.length){var o=i.serialize(t),s=i.constructor.serialize();n[r]={array:o,type:s}}}return n}var i=e("./program_configuration"),o=function(e,t){this.vertexOffset=e,this.primitiveOffset=t,this.vertexLength=0,this.primitiveLength=0},s=function(e,t,n){var r=this;this.globalProperties={zoom:n};var o=e.layoutVertexArrayType;this.layoutVertexArray=new o;var s=e.elementArrayType;s&&(this.elementArray=new s);var a=e.elementArrayType2;a&&(this.elementArray2=new a),this.layerData={};for(var l=0,c=t;l<c.length;l+=1){var u=c[l],h=i.createDynamic(e.paintAttributes||[],u,n);r.layerData[u.id]={layer:u,programConfiguration:h,paintVertexArray:new h.PaintVertexArray}}this.segments=[],this.segments2=[]};s.prototype.prepareSegment=function(e){var t=this.segments[this.segments.length-1];return(!t||t.vertexLength+e>s.MAX_VERTEX_ARRAY_LENGTH)&&(t=new o(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(t)),t},s.prototype.prepareSegment2=function(e){var t=this.segments2[this.segments2.length-1];return(!t||t.vertexLength+e>s.MAX_VERTEX_ARRAY_LENGTH)&&(t=new o(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(t)),t},s.prototype.populatePaintArrays=function(e){var t=this;for(var n in this.layerData){var r=t.layerData[n];0!==r.paintVertexArray.bytesPerElement&&r.programConfiguration.populatePaintArray(r.layer,r.paintVertexArray,t.layoutVertexArray.length,t.globalProperties,e)}},s.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},s.prototype.serialize=function(e){return{layoutVertexArray:this.layoutVertexArray.serialize(e),elementArray:this.elementArray&&this.elementArray.serialize(e),elementArray2:this.elementArray2&&this.elementArray2.serialize(e),paintVertexArrays:r(this.layerData,e),segments:this.segments,segments2:this.segments2}},s.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,t.exports=s},{"./program_configuration":15}],2:[function(e,t,n){"use strict";var r=e("./array_group"),i=e("./buffer_group"),o=e("../util/util"),s=function(e,t){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.index=e.index,e.arrays?this.buffers=new i(t,e.layers,e.zoom,e.arrays):this.arrays=new r(t,e.layers,e.zoom)};s.prototype.populate=function(e,t){for(var n=this,r=0,i=e;r<i.length;r+=1){var o=i[r];n.layers[0].filter(o)&&(n.addFeature(o),t.featureIndex.insert(o,n.index))}},s.prototype.isEmpty=function(){return this.arrays.isEmpty()},s.prototype.serialize=function(e){return{zoom:this.zoom,layerIds:this.layers.map(function(e){return e.id}),arrays:this.arrays.serialize(e)}},s.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),
this.buffers=null)},t.exports=s,s.deserialize=function(e,t){if(t){for(var n={},r=0,i=e;r<i.length;r+=1){var s=i[r],a=s.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==a.length)for(var l=a[0].createBucket(o.extend({layers:a},s)),c=0,u=a;c<u.length;c+=1){var h=u[c];n[h.id]=l}}return n}}},{"../util/util":131,"./array_group":1,"./buffer_group":9}],3:[function(e,t,n){"use strict";function r(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var i=e("../bucket"),o=e("../vertex_array_type"),s=e("../element_array_type"),a=e("../load_geometry"),l=e("../extent"),c={layoutVertexArrayType:o([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:s(),paintAttributes:[{property:"circle-color",type:"Uint8"},{property:"circle-radius",type:"Uint16",multiplier:10},{property:"circle-blur",type:"Uint16",multiplier:10},{property:"circle-opacity",type:"Uint8",multiplier:255},{property:"circle-stroke-color",type:"Uint8"},{property:"circle-stroke-width",type:"Uint16",multiplier:10},{property:"circle-stroke-opacity",type:"Uint8",multiplier:255}]},u=function(e){function t(t){e.call(this,t,c)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,i=a(e);n<i.length;n+=1)for(var o=i[n],s=0,c=o;s<c.length;s+=1){var u=c[s],h=u.x,d=u.y;if(!(h<0||h>=l||d<0||d>=l)){var p=t.prepareSegment(4),f=p.vertexLength;r(t.layoutVertexArray,h,d,-1,-1),r(t.layoutVertexArray,h,d,1,-1),r(t.layoutVertexArray,h,d,1,1),r(t.layoutVertexArray,h,d,-1,1),t.elementArray.emplaceBack(f,f+1,f+2),t.elementArray.emplaceBack(f,f+3,f+2),p.vertexLength+=4,p.primitiveLength+=2}}t.populatePaintArrays(e.properties)},t}(i);t.exports=u},{"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17}],4:[function(e,t,n){"use strict";var r=e("../bucket"),i=e("../vertex_array_type"),o=e("../element_array_type"),s=e("../load_geometry"),a=e("earcut"),l=e("../../util/classify_rings"),c=500,u={layoutVertexArrayType:i([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:o(3),elementArrayType2:o(2),paintAttributes:[{property:"fill-color",type:"Uint8"},{property:"fill-outline-color",type:"Uint8"},{property:"fill-opacity",type:"Uint8",multiplier:255}]},h=function(e){function t(t){e.call(this,t,u)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,r=l(s(e),c);n<r.length;n+=1){for(var i=r[n],o=0,u=0,h=i;u<h.length;u+=1){var d=h[u];o+=d.length}for(var p=t.prepareSegment(o),f=p.vertexLength,g=[],m=[],v=0,y=i;v<y.length;v+=1){var b=y[v];if(0!==b.length){b!==i[0]&&m.push(g.length/2);var w=t.prepareSegment2(b.length),x=w.vertexLength;t.layoutVertexArray.emplaceBack(b[0].x,b[0].y),t.elementArray2.emplaceBack(x+b.length-1,x),g.push(b[0].x),g.push(b[0].y);for(var _=1;_<b.length;_++)t.layoutVertexArray.emplaceBack(b[_].x,b[_].y),t.elementArray2.emplaceBack(x+_-1,x+_),g.push(b[_].x),g.push(b[_].y);w.vertexLength+=b.length,w.primitiveLength+=b.length}}for(var E=a(g,m),C=0;C<E.length;C+=3)t.elementArray.emplaceBack(f+E[C],f+E[C+1],f+E[C+2]);p.vertexLength+=o,p.primitiveLength+=E.length/3}t.populatePaintArrays(e.properties)},t}(r);t.exports=h},{"../../util/classify_rings":115,"../bucket":2,"../element_array_type":10,"../load_geometry":13,"../vertex_array_type":17,earcut:143}],5:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){e.emplaceBack(t,n,2*Math.floor(r*f)+s,i*f*2,o*f*2,Math.round(a))}function i(e,t){return e.x===t.x&&(e.x<0||e.x>c)||e.y===t.y&&(e.y<0||e.y>c)}var o=e("../bucket"),s=e("../vertex_array_type"),a=e("../element_array_type"),l=e("../load_geometry"),c=e("../extent"),u=e("earcut"),h=e("../../util/classify_rings"),d=500,p={layoutVertexArrayType:s([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}]),elementArrayType:a(3),paintAttributes:[{property:"fill-extrusion-base",type:"Uint16"},{property:"fill-extrusion-height",type:"Uint16"},{property:"fill-extrusion-color",type:"Uint8"}]},f=Math.pow(2,13),g=function(e){function t(t){e.call(this,t,p)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,o=h(l(e),d);n<o.length;n+=1){for(var s=o[n],a=0,c=0,p=s;c<p.length;c+=1){var f=p[c];a+=f.length}for(var g=t.prepareSegment(5*a),m=[],v=[],y=[],b=0,w=s;b<w.length;b+=1){var x=w[b];if(0!==x.length){x!==s[0]&&v.push(m.length/2);for(var _=0,E=0;E<x.length;E++){var C=x[E];if(r(t.layoutVertexArray,C.x,C.y,0,0,1,1,0),y.push(g.vertexLength++),E>=1){var S=x[E-1];if(!i(C,S)){var k=C.sub(S)._perp()._unit();r(t.layoutVertexArray,C.x,C.y,k.x,k.y,0,0,_),r(t.layoutVertexArray,C.x,C.y,k.x,k.y,0,1,_),_+=S.dist(C),r(t.layoutVertexArray,S.x,S.y,k.x,k.y,0,0,_),r(t.layoutVertexArray,S.x,S.y,k.x,k.y,0,1,_);var A=g.vertexLength;t.elementArray.emplaceBack(A,A+1,A+2),t.elementArray.emplaceBack(A+1,A+2,A+3),g.vertexLength+=4,g.primitiveLength+=2}}m.push(C.x),m.push(C.y)}}}for(var T=u(m,v),F=0;F<T.length;F+=3)t.elementArray.emplaceBack(y[T[F]],y[T[F+1]],y[T[F+2]]);g.primitiveLength+=T.length/3}t.populatePaintArrays(e.properties)},t}(o);t.exports=g},{"../../util/classify_rings":115,"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17,earcut:143}],6:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){e.emplaceBack(t.x<<1|r,t.y<<1|i,Math.round(c*n.x)+128,Math.round(c*n.y)+128,(0===o?0:o<0?-1:1)+1|(s*p&63)<<2,s*p>>6)}var i=e("../bucket"),o=e("../vertex_array_type"),s=e("../element_array_type"),a=e("../load_geometry"),l=e("../extent"),c=63,u=Math.cos(37.5*(Math.PI/180)),h=15,d=15,p=.5,f=Math.pow(2,d-1)/p,g={layoutVertexArrayType:o([{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}]),paintAttributes:[{property:"line-color",type:"Uint8"},{property:"line-blur",multiplier:10,type:"Uint8"},{property:"line-opacity",multiplier:10,type:"Uint8"},{property:"line-gap-width",multiplier:10,type:"Uint8",name:"a_gapwidth"},{property:"line-offset",multiplier:1,type:"Int8"}],elementArrayType:s()},m=function(e){function t(t){e.call(this,t,g)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this,n=this.layers[0].layout,r=n["line-join"],i=n["line-cap"],o=n["line-miter-limit"],s=n["line-round-limit"],l=0,c=a(e,d);l<c.length;l+=1){var u=c[l];t.addLine(u,e.properties,r,i,o,s)}},t.prototype.addLine=function(e,t,n,r,i,o){for(var s=this,a=e.length;a>2&&e[a-1].equals(e[a-2]);)a--;if(!(e.length<2)){"bevel"===n&&(i=1.05);var c=h*(l/(512*this.overscaling)),d=e[0],p=e[a-1],f=d.equals(p),g=this.arrays,m=g.prepareSegment(10*a);if(2!==a||!f){this.distance=0;var v,y,b,w,x,_,E,C=r,S=f?"butt":r,k=!0;this.e1=this.e2=this.e3=-1,f&&(v=e[a-2],x=d.sub(v)._unit()._perp());for(var A=0;A<a;A++)if(b=f&&A===a-1?e[1]:e[A+1],!b||!e[A].equals(b)){x&&(w=x),v&&(y=v),v=e[A],x=b?b.sub(v)._unit()._perp():w,w=w||x;var T=w.add(x);0===T.x&&0===T.y||T._unit();var F=T.x*x.x+T.y*x.y,L=0!==F?1/F:1/0,R=F<u&&y&&b;if(R&&A>0){var M=v.dist(y);if(M>2*c){var I=v.sub(v.sub(y)._mult(c/M)._round());s.distance+=I.dist(y),s.addCurrentVertex(I,s.distance,w.mult(1),0,0,!1,m),y=I}}var D=y&&b,N=D?n:b?C:S;if(D&&"round"===N&&(L<o?N="miter":L<=2&&(N="fakeround")),"miter"===N&&L>i&&(N="bevel"),"bevel"===N&&(L>2&&(N="flipbevel"),L<i&&(N="miter")),y&&(s.distance+=v.dist(y)),"miter"===N)T._mult(L),s.addCurrentVertex(v,s.distance,T,0,0,!1,m);else if("flipbevel"===N){if(L>100)T=x.clone().mult(-1);else{var P=w.x*x.y-w.y*x.x>0?-1:1,O=L*w.add(x).mag()/w.sub(x).mag();T._perp()._mult(O*P)}s.addCurrentVertex(v,s.distance,T,0,0,!1,m),s.addCurrentVertex(v,s.distance,T.mult(-1),0,0,!1,m)}else if("bevel"===N||"fakeround"===N){var B=w.x*x.y-w.y*x.x>0,$=-Math.sqrt(L*L-1);if(B?(E=0,_=$):(_=0,E=$),k||s.addCurrentVertex(v,s.distance,w,_,E,!1,m),"fakeround"===N){for(var j,z=Math.floor(8*(.5-(F-.5))),U=0;U<z;U++)j=x.mult((U+1)/(z+1))._add(w)._unit(),s.addPieSliceVertex(v,s.distance,j,B,m);s.addPieSliceVertex(v,s.distance,T,B,m);for(var V=z-1;V>=0;V--)j=w.mult((V+1)/(z+1))._add(x)._unit(),s.addPieSliceVertex(v,s.distance,j,B,m)}b&&s.addCurrentVertex(v,s.distance,x,-_,-E,!1,m)}else"butt"===N?(k||s.addCurrentVertex(v,s.distance,w,0,0,!1,m),b&&s.addCurrentVertex(v,s.distance,x,0,0,!1,m)):"square"===N?(k||(s.addCurrentVertex(v,s.distance,w,1,1,!1,m),s.e1=s.e2=-1),b&&s.addCurrentVertex(v,s.distance,x,-1,-1,!1,m)):"round"===N&&(k||(s.addCurrentVertex(v,s.distance,w,0,0,!1,m),s.addCurrentVertex(v,s.distance,w,1,1,!0,m),s.e1=s.e2=-1),b&&(s.addCurrentVertex(v,s.distance,x,-1,-1,!0,m),s.addCurrentVertex(v,s.distance,x,0,0,!1,m)));if(R&&A<a-1){var W=v.dist(b);if(W>2*c){var q=v.add(b.sub(v)._mult(c/W)._round());s.distance+=q.dist(v),s.addCurrentVertex(q,s.distance,x.mult(1),0,0,!1,m),v=q}}k=!1}g.populatePaintArrays(t)}}},t.prototype.addCurrentVertex=function(e,t,n,i,o,s,a){var l,c=s?1:0,u=this.arrays,h=u.layoutVertexArray,d=u.elementArray;l=n.clone(),i&&l._sub(n.perp()._mult(i)),r(h,e,l,c,0,i,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(d.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=n.mult(-1),o&&l._sub(n.perp()._mult(o)),r(h,e,l,c,1,-o,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(d.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>f/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,n,i,o,s,a))},t.prototype.addPieSliceVertex=function(e,t,n,i,o){var s=i?1:0;n=n.mult(i?-1:1);var a=this.arrays,l=a.layoutVertexArray,c=a.elementArray;r(l,e,n,0,s,0,t),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},t}(i);t.exports=m},{"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17}],7:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a,l,c,u){e.emplaceBack(t,n,Math.round(64*r),Math.round(64*i),o/4,s/4,10*(c||0),u,10*(a||0),10*Math.min(l||25,25))}function i(e,t,n,r,i){return e.emplaceBack(t.x,t.y,Math.round(n.x),Math.round(n.y),10*r,10*i)}var o=e("point-geometry"),s=e("../array_group"),a=e("../buffer_group"),l=e("../vertex_array_type"),c=e("../element_array_type"),u=e("../extent"),h=e("../../symbol/anchor"),d=e("../../symbol/get_anchors"),p=e("../../util/token"),f=e("../../symbol/quads"),g=e("../../symbol/shaping"),m=e("../../symbol/resolve_text"),v=e("../../symbol/mergelines"),y=e("../../symbol/clip_line"),b=e("../../util/util"),w=e("../../util/script_detection"),x=e("../load_geometry"),_=e("../../symbol/collision_feature"),E=e("../../util/find_pole_of_inaccessibility"),C=e("../../util/classify_rings"),S=e("vector-tile").VectorTileFeature,k=e("../../source/rtl_text_plugin"),A=g.shapeText,T=g.shapeIcon,F=g.WritingMode,L=f.getGlyphQuads,R=f.getIconQuads,M=c(),I=l([{name:"a_pos",components:2,type:"Int16"},{name:"a_offset",components:2,type:"Int16"},{name:"a_texture_pos",components:2,type:"Uint16"},{name:"a_data",components:4,type:"Uint8"}]),D={glyph:{layoutVertexArrayType:I,elementArrayType:M},icon:{layoutVertexArrayType:I,elementArrayType:M},collisionBox:{layoutVertexArrayType:l([{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}]),elementArrayType:c(2)}},N=function(e){var t=this;if(this.collisionBoxArray=e.collisionBoxArray,this.symbolQuadsArray=e.symbolQuadsArray,this.symbolInstancesArray=e.symbolInstancesArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.index=e.index,this.sdfIcons=e.sdfIcons,this.iconsNeedLinear=e.iconsNeedLinear,this.adjustedTextSize=e.adjustedTextSize,this.adjustedIconSize=e.adjustedIconSize,this.fontstack=e.fontstack,e.arrays){this.buffers={};for(var n in e.arrays)e.arrays[n]&&(t.buffers[n]=new a(D[n],e.layers,e.zoom,e.arrays[n]))}};N.prototype.populate=function(e,t){var n=this,r=this.layers[0].layout,i=r["text-field"],o=r["text-font"],s=r["icon-image"],a=i&&o,l=s;if(this.features=[],a||l){for(var c=t.iconDependencies,u=t.glyphDependencies,h=u[o]=u[o]||{},d=0;d<e.length;d++){var f=e[d];if(n.layers[0].filter(f)){var g;a&&(g=k.applyArabicShaping?k.applyArabicShaping(m(f,r)):m(f,r));var y;if(l&&(y=p(f.properties,s)),(g||y)&&(n.features.push({text:g,icon:y,index:d,sourceLayerIndex:f.sourceLayerIndex,geometry:x(f),properties:f.properties,type:S.types[f.type]}),y&&(c[y]=!0),g))for(var b=0;b<g.length;b++)h[g.charCodeAt(b)]=!0}}"line"===r["symbol-placement"]&&(this.features=v(this.features))}},N.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},N.prototype.serialize=function(e){return{zoom:this.zoom,layerIds:this.layers.map(function(e){return e.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,adjustedTextSize:this.adjustedTextSize,adjustedIconSize:this.adjustedIconSize,fontstack:this.fontstack,arrays:b.mapObject(this.arrays,function(t){return t.isEmpty()?null:t.serialize(e)})}},N.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},N.prototype.createArrays=function(){var e=this;this.arrays=b.mapObject(D,function(t){return new s(t,e.layers,e.zoom)})},N.prototype.prepare=function(e,t){var n=this;this.createArrays(),this.adjustedTextMaxSize=this.layers[0].getLayoutValue("text-size",{zoom:18}),this.adjustedTextSize=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1}),this.adjustedIconMaxSize=this.layers[0].getLayoutValue("icon-size",{zoom:18}),this.adjustedIconSize=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1});var r=512*this.overscaling;this.tilePixelRatio=u/r,this.compareText={},this.iconsNeedLinear=!1,this.symbolInstancesStartIndex=this.symbolInstancesArray.length;var i=this.layers[0].layout,o=.5,s=.5;switch(i["text-anchor"]){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(i["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}for(var a="right"===i["text-justify"]?1:"left"===i["text-justify"]?0:.5,l=24,c=i["text-line-height"]*l,h="line"!==i["symbol-placement"]?i["text-max-width"]*l:0,d=i["text-letter-spacing"]*l,p=[i["text-offset"][0]*l,i["text-offset"][1]*l],f=this.fontstack=i["text-font"].join(","),g="map"===i["text-rotation-alignment"]&&"line"===i["symbol-placement"],m=0,v=this.features;m<v.length;m+=1){var y,x=v[m];if(x.text){var _=w.allowsVerticalWritingMode(x.text);y={},y[F.horizontal]=A(x.text,e[f],h,c,o,s,a,d,p,l,F.horizontal),y[F.vertical]=_&&g&&A(x.text,e[f],h,c,o,s,a,d,p,l,F.vertical)}else y={};var E;if(x.icon){var C=t[x.icon],S=n.layers[0].getLayoutValue("icon-offset",{zoom:n.zoom},x.properties);E=T(C,S),C&&(void 0===n.sdfIcons?n.sdfIcons=C.sdf:n.sdfIcons!==C.sdf&&b.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==C.pixelRatio?n.iconsNeedLinear=!0:0===i["icon-rotate"]&&n.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(n.iconsNeedLinear=!0))}(y[F.horizontal]||E)&&n.addFeature(x,y,E)}this.symbolInstancesEndIndex=this.symbolInstancesArray.length},N.prototype.addFeature=function(e,t,n){var r=this,i=this.layers[0].layout,o=24,s=this.adjustedTextSize/o,a=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,l=this.tilePixelRatio*s,c=this.tilePixelRatio*a/o,p=this.tilePixelRatio*this.adjustedIconSize,f=this.tilePixelRatio*i["symbol-spacing"],g=i["symbol-avoid-edges"],m=i["text-padding"]*this.tilePixelRatio,v=i["icon-padding"]*this.tilePixelRatio,b=i["text-max-angle"]/180*Math.PI,w="map"===i["text-rotation-alignment"]&&"line"===i["symbol-placement"],x="map"===i["icon-rotation-alignment"]&&"line"===i["symbol-placement"],_=i["text-allow-overlap"]||i["icon-allow-overlap"]||i["text-ignore-placement"]||i["icon-ignore-placement"],S=i["symbol-placement"],k=f/2,A=function(i,o){var s=!(o.x<0||o.x>u||o.y<0||o.y>u);if(!g||s){var a=s||_;r.addSymbolInstance(o,i,t,n,r.layers[0],a,r.symbolInstancesArray.length,r.collisionBoxArray,e.index,e.sourceLayerIndex,r.index,l,m,w,p,v,x,{zoom:r.zoom},e.properties)}};if("line"===S)for(var T=0,L=y(e.geometry,0,0,u,u);T<L.length;T+=1)for(var R=L[T],M=d(R,f,b,t[F.vertical]||t[F.horizontal],n,o,c,r.overscaling,u),I=0,D=M;I<D.length;I+=1){var N=D[I],P=t[F.horizontal];P&&r.anchorIsTooClose(P.text,k,N)||A(R,N)}else if("Polygon"===e.type)for(var O=0,B=C(e.geometry,0);O<B.length;O+=1){var $=B[O],j=E($,16);A($[0],new h(j.x,j.y,0))}else if("LineString"===e.type)for(var z=0,U=e.geometry;z<U.length;z+=1){var V=U[z];A(V,new h(V[0].x,V[0].y,0))}else if("Point"===e.type)for(var W=0,q=e.geometry;W<q.length;W+=1)for(var H=q[W],G=0,K=H;G<K.length;G+=1){var Y=K[G];A([Y],new h(Y.x,Y.y,0))}},N.prototype.anchorIsTooClose=function(e,t,n){var r=this.compareText;if(e in r){for(var i=r[e],o=i.length-1;o>=0;o--)if(n.dist(i[o])<t)return!0}else r[e]=[];return r[e].push(n),!1},N.prototype.place=function(e,t){var n=this;this.createArrays();var r=this.layers[0].layout,i=e.maxScale,o="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],s="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"],a=r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"];if(a){var l=this.symbolInstancesArray.toArray(this.symbolInstancesStartIndex,this.symbolInstancesEndIndex),c=e.angle,u=Math.sin(c),h=Math.cos(c);this.sortedSymbolInstances=l.sort(function(e,t){var n=u*e.anchorPointX+h*e.anchorPointY|0,r=u*t.anchorPointX+h*t.anchorPointY|0;return n-r||t.index-e.index})}for(var d=this.symbolInstancesStartIndex;d<this.symbolInstancesEndIndex;d++){var p=n.sortedSymbolInstances?n.sortedSymbolInstances[d-n.symbolInstancesStartIndex]:n.symbolInstancesArray.get(d),f={boxStartIndex:p.textBoxStartIndex,boxEndIndex:p.textBoxEndIndex},g={boxStartIndex:p.iconBoxStartIndex,boxEndIndex:p.iconBoxEndIndex},m=!(p.textBoxStartIndex===p.textBoxEndIndex),v=!(p.iconBoxStartIndex===p.iconBoxEndIndex),y=r["text-optional"]||!m,b=r["icon-optional"]||!v,w=m?e.placeCollisionFeature(f,r["text-allow-overlap"],r["symbol-avoid-edges"]):e.minScale,x=v?e.placeCollisionFeature(g,r["icon-allow-overlap"],r["symbol-avoid-edges"]):e.minScale;y||b?!b&&w?w=Math.max(x,w):!y&&x&&(x=Math.max(x,w)):x=w=Math.max(x,w),m&&(e.insertCollisionFeature(f,w,r["text-ignore-placement"]),w<=i&&n.addSymbols(n.arrays.glyph,p.glyphQuadStartIndex,p.glyphQuadEndIndex,w,r["text-keep-upright"],o,e.angle,p.writingModes)),v&&(e.insertCollisionFeature(g,x,r["icon-ignore-placement"]),x<=i&&n.addSymbols(n.arrays.icon,p.iconQuadStartIndex,p.iconQuadEndIndex,x,r["icon-keep-upright"],s,e.angle))}t&&this.addToDebugBuffers(e)},N.prototype.addSymbols=function(e,t,n,i,o,s,a,l){for(var c=this,u=e.elementArray,h=e.layoutVertexArray,d=this.zoom,p=Math.max(Math.log(i)/Math.LN2+d,0),f=t;f<n;f++){var g=c.symbolQuadsArray.get(f).SymbolQuad,m=(g.anchorAngle+a+Math.PI)%(2*Math.PI);if(l&F.vertical){if(s&&g.writingMode===F.vertical){if(o&&s&&m<=5*Math.PI/4||m>7*Math.PI/4)continue}else if(o&&s&&m<=3*Math.PI/4||m>5*Math.PI/4)continue}else if(o&&s&&(m<=Math.PI/2||m>3*Math.PI/2))continue;var v=g.tl,y=g.tr,b=g.bl,w=g.br,x=g.tex,_=g.anchorPoint,E=Math.max(d+Math.log(g.minScale)/Math.LN2,p),C=Math.min(d+Math.log(g.maxScale)/Math.LN2,25);if(!(C<=E)){E===p&&(E=0);var S=Math.round(g.glyphAngle/(2*Math.PI)*256),k=e.prepareSegment(4),A=k.vertexLength;r(h,_.x,_.y,v.x,v.y,x.x,x.y,E,C,p,S),r(h,_.x,_.y,y.x,y.y,x.x+x.w,x.y,E,C,p,S),r(h,_.x,_.y,b.x,b.y,x.x,x.y+x.h,E,C,p,S),r(h,_.x,_.y,w.x,w.y,x.x+x.w,x.y+x.h,E,C,p,S),u.emplaceBack(A,A+1,A+2),u.emplaceBack(A+1,A+2,A+3),k.vertexLength+=4,k.primitiveLength+=2}}},N.prototype.addToDebugBuffers=function(e){for(var t=this,n=this.arrays.collisionBox,r=n.layoutVertexArray,s=n.elementArray,a=-e.angle,l=e.yStretch,c=this.symbolInstancesStartIndex;c<this.symbolInstancesEndIndex;c++){var u=t.symbolInstancesArray.get(c);u.textCollisionFeature={boxStartIndex:u.textBoxStartIndex,boxEndIndex:u.textBoxEndIndex},u.iconCollisionFeature={boxStartIndex:u.iconBoxStartIndex,boxEndIndex:u.iconBoxEndIndex};for(var h=0;h<2;h++){var d=u[0===h?"textCollisionFeature":"iconCollisionFeature"];if(d)for(var p=d.boxStartIndex;p<d.boxEndIndex;p++){var f=t.collisionBoxArray.get(p),g=f.anchorPoint,m=new o(f.x1,f.y1*l)._rotate(a),v=new o(f.x2,f.y1*l)._rotate(a),y=new o(f.x1,f.y2*l)._rotate(a),b=new o(f.x2,f.y2*l)._rotate(a),w=Math.max(0,Math.min(25,t.zoom+Math.log(f.maxScale)/Math.LN2)),x=Math.max(0,Math.min(25,t.zoom+Math.log(f.placementScale)/Math.LN2)),_=n.prepareSegment(4),E=_.vertexLength;i(r,g,m,w,x),i(r,g,v,w,x),i(r,g,b,w,x),i(r,g,y,w,x),s.emplaceBack(E,E+1),s.emplaceBack(E+1,E+2),s.emplaceBack(E+2,E+3),s.emplaceBack(E+3,E),_.vertexLength+=4,_.primitiveLength+=4}}}},N.prototype.addSymbolInstance=function(e,t,n,r,i,o,s,a,l,c,u,h,d,p,f,g,m,v,y){var w,x,E,C=this,S=[];for(var k in n){var A=parseInt(k,10);n[A]&&(S=S.concat(o?L(e,n[A],h,t,i,p,A):[]),w=new _(a,t,e,l,c,u,n[A],h,d,p,!1))}var T=this.symbolQuadsArray.length;if(S&&S.length)for(var M=0;M<S.length;M++)C.addSymbolQuad(S[M]);var I=this.symbolQuadsArray.length,D=w?w.boxStartIndex:this.collisionBoxArray.length,P=w?w.boxEndIndex:this.collisionBoxArray.length;r&&(E=o?R(e,r,f,t,i,m,n[F.horizontal],v,y):[],x=new _(a,t,e,l,c,u,r,f,g,m,!0));var O=this.symbolQuadsArray.length;E&&1===E.length&&this.addSymbolQuad(E[0]);var B=this.symbolQuadsArray.length,$=x?x.boxStartIndex:this.collisionBoxArray.length,j=x?x.boxEndIndex:this.collisionBoxArray.length;B>N.MAX_QUADS&&b.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),I>N.MAX_QUADS&&b.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var z=(n[F.vertical]?F.vertical:0)|(n[F.horizontal]?F.horizontal:0);return this.symbolInstancesArray.emplaceBack(D,P,$,j,T,I,O,B,e.x,e.y,s,z)},N.prototype.addSymbolQuad=function(e){return this.symbolQuadsArray.emplaceBack(e.anchorPoint.x,e.anchorPoint.y,e.tl.x,e.tl.y,e.tr.x,e.tr.y,e.bl.x,e.bl.y,e.br.x,e.br.y,e.tex.h,e.tex.w,e.tex.x,e.tex.y,e.anchorAngle,e.glyphAngle,e.maxScale,e.minScale,e.writingMode)},N.MAX_QUADS=65535,t.exports=N},{"../../source/rtl_text_plugin":51,"../../symbol/anchor":77,"../../symbol/clip_line":79,"../../symbol/collision_feature":81,"../../symbol/get_anchors":83,"../../symbol/mergelines":86,"../../symbol/quads":87,"../../symbol/resolve_text":88,"../../symbol/shaping":89,"../../util/classify_rings":115,"../../util/find_pole_of_inaccessibility":121,"../../util/script_detection":128,"../../util/token":130,"../../util/util":131,"../array_group":1,"../buffer_group":9,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17,"point-geometry":200,"vector-tile":209}],8:[function(e,t,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"},i=function(e,t,n){this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.attributes=t.members,this.itemSize=t.bytesPerElement,this.type=n,this.arrayType=t};i.fromStructArray=function(e,t){return new i(e.serialize(),e.constructor.serialize(),t)},i.prototype.bind=function(e){var t=e[this.type];this.buffer?e.bindBuffer(t,this.buffer):(this.gl=e,this.buffer=e.createBuffer(),e.bindBuffer(t,this.buffer),e.bufferData(t,this.arrayBuffer,e.STATIC_DRAW),this.arrayBuffer=null)},i.prototype.setVertexAttribPointers=function(e,t,n){for(var i=this,o=0;o<this.attributes.length;o++){var s=i.attributes[o],a=t[s.name];void 0!==a&&e.vertexAttribPointer(a,s.components,e[r[s.type]],!1,i.arrayType.bytesPerElement,s.offset+(i.arrayType.bytesPerElement*n||0))}},i.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},i.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},t.exports=i},{}],9:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("./buffer"),o=e("./program_configuration"),s=e("../render/vertex_array_object"),a=function(e,t,n,a){var l=this;this.layoutVertexBuffer=new i(a.layoutVertexArray,e.layoutVertexArrayType.serialize(),i.BufferType.VERTEX),a.elementArray&&(this.elementBuffer=new i(a.elementArray,e.elementArrayType.serialize(),i.BufferType.ELEMENT)),a.elementArray2&&(this.elementBuffer2=new i(a.elementArray2,e.elementArrayType2.serialize(),i.BufferType.ELEMENT)),this.layerData={};for(var c=0,u=t;c<u.length;c+=1){var h=u[c],d=a.paintVertexArrays&&a.paintVertexArrays[h.id],p=o.createDynamic(e.paintAttributes||[],h,n),f=d?new i(d.array,d.type,i.BufferType.VERTEX):null;l.layerData[h.id]={programConfiguration:p,paintVertexBuffer:f}}this.segments=a.segments,this.segments2=a.segments2;for(var g=0,m=[this.segments,this.segments2];g<m.length;g+=1)for(var v=m[g],y=0,b=v||[];y<b.length;y+=1){var w=b[y];w.vaos=r.mapObject(l.layerData,function(){return new s})}};a.prototype.destroy=function(){var e=this;this.layoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var t in this.layerData){var n=e.layerData[t].paintVertexBuffer;n&&n.destroy()}for(var r=0,i=[this.segments,this.segments2];r<i.length;r+=1)for(var o=i[r],s=0,a=o||[];s<a.length;s+=1){var l=a[s];for(var c in l.vaos)l.vaos[c].destroy()}},t.exports=a},{"../render/vertex_array_object":39,"../util/util":131,"./buffer":8,"./program_configuration":15}],10:[function(e,t,n){"use strict";function r(e){return i({members:[{type:"Uint16",name:"vertices",components:e||3}]})}var i=e("../util/struct_array");t.exports=r},{"../util/struct_array":129}],11:[function(e,t,n){"use strict";t.exports=8192},{}],12:[function(e,t,n){"use strict";function r(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function i(e,t){return t-e}function o(e){return e["line-gap-width"]>0?e["line-gap-width"]+2*e["line-width"]:e["line-width"]}function s(e,t,n,r,i){if(!t[0]&&!t[1])return e;t=l.convert(t),"viewport"===n&&t._rotate(-r);for(var o=[],s=0;s<e.length;s++){for(var a=e[s],c=[],u=0;u<a.length;u++)c.push(a[u].sub(t._mult(i)));o.push(c)}return o}function a(e,t){for(var n=[],r=new l(0,0),i=0;i<e.length;i++){for(var o=e[i],s=[],a=0;a<o.length;a++){var c=o[a-1],u=o[a],h=o[a+1],d=0===a?r:u.sub(c)._unit()._perp(),p=a===o.length-1?r:h.sub(u)._unit()._perp(),f=d._add(p)._unit(),g=f.x*p.x+f.y*p.y;f._mult(1/g),s.push(f._mult(t)._add(u))}n.push(s)}return n}var l=e("point-geometry"),c=e("./load_geometry"),u=e("./extent"),h=e("feature-filter"),d=e("../util/struct_array"),p=e("grid-index"),f=e("../util/dictionary_coder"),g=e("vector-tile"),m=e("pbf"),v=e("../util/vectortile_to_geojson"),y=e("../util/util").arraysIntersect,b=e("../util/intersection_tests"),w=b.multiPolygonIntersectsBufferedMultiPoint,x=b.multiPolygonIntersectsMultiPolygon,_=b.multiPolygonIntersectsBufferedMultiLine,E=d({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),C=function(e,t,n){if(e.grid){var r=e,i=t;e=r.coord,t=r.overscaling,this.grid=new p(r.grid),this.featureIndexArray=new E(r.featureIndexArray),this.rawTileData=i,this.bucketLayerIDs=r.bucketLayerIDs}else this.grid=new p(u,16,0),this.featureIndexArray=new E;this.coord=e,this.overscaling=t,this.x=e.x,this.y=e.y,this.z=e.z-Math.log(t)/Math.LN2,this.setCollisionTile(n)};C.prototype.insert=function(e,t){var n=this,r=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e.index,e.sourceLayerIndex,t);for(var i=c(e),o=0;o<i.length;o++){for(var s=i[o],a=[1/0,1/0,-(1/0),-(1/0)],l=0;l<s.length;l++){var u=s[l];a[0]=Math.min(a[0],u.x),a[1]=Math.min(a[1],u.y),a[2]=Math.max(a[2],u.x),a[3]=Math.max(a[3],u.y)}n.grid.insert(r,a[0],a[1],a[2],a[3])}},C.prototype.setCollisionTile=function(e){this.collisionTile=e},C.prototype.serialize=function(e){var t=this.grid.toArrayBuffer();return e&&e.push(t),{coord:this.coord,overscaling:this.overscaling,grid:t,featureIndexArray:this.featureIndexArray.serialize(e),bucketLayerIDs:this.bucketLayerIDs}},C.prototype.query=function(e,t){this.vtLayers||(this.vtLayers=new g.VectorTile(new m(this.rawTileData)).layers,this.sourceLayerCoder=new f(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var n={},s=e.params||{},a=u/e.tileSize/e.scale,c=h(s.filter),d=0;for(var p in t){var v=t[p],y=v.paint,b=0;"line"===v.type?b=o(y)/2+Math.abs(y["line-offset"])+r(y["line-translate"]):"fill"===v.type?b=r(y["fill-translate"]):"fill-extrusion"===v.type?b=r(y["fill-extrusion-translate"]):"circle"===v.type&&(b=y["circle-radius"]+r(y["circle-translate"])),d=Math.max(d,b*a)}for(var w=e.queryGeometry.map(function(e){return e.map(function(e){return new l(e.x,e.y)})}),x=1/0,_=1/0,E=-(1/0),C=-(1/0),S=0;S<w.length;S++)for(var k=w[S],A=0;A<k.length;A++){var T=k[A];x=Math.min(x,T.x),_=Math.min(_,T.y),E=Math.max(E,T.x),C=Math.max(C,T.y)}var F=this.grid.query(x-d,_-d,E+d,C+d);F.sort(i),this.filterMatching(n,F,this.featureIndexArray,w,c,s.layers,t,e.bearing,a);var L=this.collisionTile.queryRenderedSymbols(w,e.scale);return L.sort(),this.filterMatching(n,L,this.collisionTile.collisionBoxArray,w,c,s.layers,t,e.bearing,a),n},C.prototype.filterMatching=function(e,t,n,r,i,l,u,h,d){for(var p,f=this,g=0;g<t.length;g++){var m=t[g];if(m!==p){p=m;var b=n.get(m),E=f.bucketLayerIDs[b.bucketIndex];if(!l||y(l,E)){var C=f.sourceLayerCoder.decode(b.sourceLayerIndex),S=f.vtLayers[C],k=S.feature(b.featureIndex);if(i(k))for(var A=null,T=0;T<E.length;T++){var F=E[T];if(!(l&&l.indexOf(F)<0)){var L=u[F];if(L){var R;if("symbol"!==L.type){A||(A=c(k));var M=L.paint;if("line"===L.type){R=s(r,M["line-translate"],M["line-translate-anchor"],h,d);var I=o(M)/2*d;if(M["line-offset"]&&(A=a(A,M["line-offset"]*d)),!_(R,A,I))continue}else if("fill"===L.type||"fill-extrusion"===L.type){var D=L.type;if(R=s(r,M[D+"-translate"],M[D+"-translate-anchor"],h,d),!x(R,A))continue}else if("circle"===L.type){R=s(r,M["circle-translate"],M["circle-translate-anchor"],h,d);var N=M["circle-radius"]*d;if(!w(R,A,N))continue}}var P=new v(k,f.z,f.x,f.y);P.layer=L.serialize();var O=e[F];void 0===O&&(O=e[F]=[]),O.push(P)}}}}}}},t.exports=C},{"../util/dictionary_coder":117,"../util/intersection_tests":124,"../util/struct_array":129,"../util/util":131,"../util/vectortile_to_geojson":132,"./extent":11,"./load_geometry":13,"feature-filter":145,"grid-index":157,pbf:198,"point-geometry":200,"vector-tile":209}],13:[function(e,t,n){"use strict";function r(e){return{min:-1*Math.pow(2,e-1),max:Math.pow(2,e-1)-1}}var i=e("../util/util"),o=e("./extent"),s={15:r(15),16:r(16)};t.exports=function(e,t){for(var n=s[t||16],r=o/e.extent,a=e.loadGeometry(),l=0;l<a.length;l++)for(var c=a[l],u=0;u<c.length;u++){var h=c[u];h.x=Math.round(h.x*r),h.y=Math.round(h.y*r),(h.x<n.min||h.x>n.max||h.y<n.min||h.y>n.max)&&i.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return a}},{"../util/util":131,"./extent":11}],14:[function(e,t,n){"use strict";var r=e("../util/struct_array"),i=r({members:[{name:"a_pos",type:"Int16",components:2}]});t.exports=i},{"../util/struct_array":129}],15:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.zoomStops)return t.getPaintValue(e.property,n,r);var i=e.zoomStops.map(function(i){return t.getPaintValue(e.property,s.extend({},n,{zoom:i}),r)});return 1===i.length?i[0]:i}function i(e,t){var n=e.property.replace(t.type+"-","").replace(/-/g,"_"),r="color"===t._paintSpecifications[e.property].type;return s.extend({name:"a_"+n,components:r?4:1,multiplier:r?255:1},e)}var o=e("./vertex_array_type"),s=e("../util/util"),a=function(){this.attributes=[],this.uniforms=[],this.interpolationUniforms=[],this.pragmas={vertex:{},fragment:{}},this.cacheKey=""};a.createDynamic=function(e,t,n){for(var r=new a,s=0,l=e;s<l.length;s+=1){var c=l[s],u=i(c,t),h=u.name.slice(2);
t.isPaintValueFeatureConstant(u.property)?r.addZoomAttribute(h,u):t.isPaintValueZoomConstant(u.property)?r.addPropertyAttribute(h,u):r.addZoomAndPropertyAttribute(h,u,t,n)}return r.PaintVertexArray=o(r.attributes),r},a.createStatic=function(e){for(var t=new a,n=0,r=e;n<r.length;n+=1){var i=r[n];t.addUniform(i,"u_"+i)}return t},a.prototype.addUniform=function(e,t){var n=this.getPragmas(e);n.define.push("uniform {precision} {type} "+t+";"),n.initialize.push("{precision} {type} "+e+" = "+t+";"),this.cacheKey+="/u_"+e},a.prototype.addZoomAttribute=function(e,t){this.uniforms.push(t),this.addUniform(e,t.name)},a.prototype.addPropertyAttribute=function(e,t){var n=this.getPragmas(e);this.attributes.push(t),n.define.push("varying {precision} {type} "+e+";"),n.vertex.define.push("attribute {precision} {type} "+t.name+";"),n.vertex.initialize.push(e+" = "+t.name+" / "+t.multiplier+".0;"),this.cacheKey+="/a_"+e},a.prototype.addZoomAndPropertyAttribute=function(e,t,n,r){var i=this,o=this.getPragmas(e);o.define.push("varying {precision} {type} "+e+";");for(var a=0,l=n.getPaintValueStopZoomLevels(t.property);a<l.length&&l[a]<r;)a++;var c=Math.max(0,Math.min(l.length-4,a-2)),u="u_"+e+"_t";o.vertex.define.push("uniform lowp float "+u+";"),this.interpolationUniforms.push({name:u,property:t.property,stopOffset:c});for(var h=[],d=0;d<4;d++)h.push(l[Math.min(c+d,l.length-1)]);var p=[];if(1===t.components)this.attributes.push(s.extend({},t,{components:4,zoomStops:h})),o.vertex.define.push("attribute {precision} vec4 "+t.name+";"),p.push(t.name);else for(var f=0;f<4;f++){var g=t.name+f;p.push(g),i.attributes.push(s.extend({},t,{name:g,zoomStops:[h[f]]})),o.vertex.define.push("attribute {precision} {type} "+g+";")}o.vertex.initialize.push(e+" = evaluate_zoom_function_"+t.components+"(            "+p.join(", ")+", "+u+") / "+t.multiplier+".0;"),this.cacheKey+="/z_"+e},a.prototype.getPragmas=function(e){return this.pragmas[e]||(this.pragmas[e]={define:[],initialize:[]},this.pragmas[e].fragment={define:[],initialize:[]},this.pragmas[e].vertex={define:[],initialize:[]}),this.pragmas[e]},a.prototype.applyPragmas=function(e,t){var n=this;return e.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(e,r,i,o,s){return n.pragmas[s][r].concat(n.pragmas[s][t][r]).join("\n").replace(/{type}/g,o).replace(/{precision}/g,i)})},a.prototype.populatePaintArray=function(e,t,n,i,o){var s=t.length;t.resize(n);for(var a=0,l=this.attributes;a<l.length;a+=1)for(var c=l[a],u=r(c,e,i,o),h=s;h<n;h++){var d=t.get(h);if(4===c.components)for(var p=0;p<4;p++)d[c.name+p]=u[p]*c.multiplier;else d[c.name]=u*c.multiplier}},a.prototype.setUniforms=function(e,t,n,r){for(var i=0,o=this.uniforms;i<o.length;i+=1){var s=o[i],a=n.getPaintValue(s.property,r);4===s.components?e.uniform4fv(t[s.name],a):e.uniform1f(t[s.name],a)}for(var l=0,c=this.interpolationUniforms;l<c.length;l+=1){var u=c[l],h=n.getPaintInterpolationT(u.property,r);e.uniform1f(t[u.name],Math.max(0,Math.min(4,h-u.stopOffset)))}},t.exports=a},{"../util/util":131,"./vertex_array_type":17}],16:[function(e,t,n){"use strict";var r=e("../util/struct_array"),i=r({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});t.exports=i},{"../util/struct_array":129}],17:[function(e,t,n){"use strict";function r(e){return i({members:e,alignment:4})}var i=e("../util/struct_array");t.exports=r},{"../util/struct_array":129}],18:[function(e,t,n){"use strict";var r=function(e,t,n){this.column=e,this.row=t,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(e){return this.clone()._zoomTo(e)},r.prototype.sub=function(e){return this.clone()._sub(e)},r.prototype._zoomTo=function(e){var t=Math.pow(2,e-this.zoom);return this.column*=t,this.row*=t,this.zoom=e,this},r.prototype._sub=function(e){return e=e.zoomTo(this.zoom),this.column-=e.column,this.row-=e.row,this},t.exports=r},{}],19:[function(e,t,n){"use strict";var r=e("../util/util").wrap,i=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};i.prototype.wrap=function(){return new i(r(this.lng,-180,180),this.lat)},i.prototype.toArray=function(){return[this.lng,this.lat]},i.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},i.convert=function(e){if(e instanceof i)return e;if(e&&e.hasOwnProperty("lng")&&e.hasOwnProperty("lat"))return new i(e.lng,e.lat);if(Array.isArray(e)&&2===e.length)return new i(e[0],e[1]);throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},t.exports=i},{"../util/util":131}],20:[function(e,t,n){"use strict";var r=e("./lng_lat"),i=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};i.prototype.setNorthEast=function(e){return this._ne=r.convert(e),this},i.prototype.setSouthWest=function(e){return this._sw=r.convert(e),this},i.prototype.extend=function(e){var t,n,o=this._sw,s=this._ne;if(e instanceof r)t=e,n=e;else{if(!(e instanceof i))return Array.isArray(e)?e.every(Array.isArray)?this.extend(i.convert(e)):this.extend(r.convert(e)):this;if(t=e._sw,n=e._ne,!t||!n)return this}return o||s?(o.lng=Math.min(t.lng,o.lng),o.lat=Math.min(t.lat,o.lat),s.lng=Math.max(n.lng,s.lng),s.lat=Math.max(n.lat,s.lat)):(this._sw=new r(t.lng,t.lat),this._ne=new r(n.lng,n.lat)),this},i.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},i.prototype.getSouthWest=function(){return this._sw},i.prototype.getNorthEast=function(){return this._ne},i.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},i.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},i.prototype.getWest=function(){return this._sw.lng},i.prototype.getSouth=function(){return this._sw.lat},i.prototype.getEast=function(){return this._ne.lng},i.prototype.getNorth=function(){return this._ne.lat},i.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},i.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},i.convert=function(e){return!e||e instanceof i?e:new i(e)},t.exports=i},{"./lng_lat":19}],21:[function(e,t,n){"use strict";var r=e("./lng_lat"),i=e("point-geometry"),o=e("./coordinate"),s=e("../util/util"),a=e("../util/interpolate"),l=e("../source/tile_coord"),c=e("../data/extent"),u=e("@mapbox/gl-matrix"),h=u.vec4,d=u.mat4,p=u.mat2,f=function(e,t,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=e||0,this._maxZoom=t||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},g={minZoom:{},maxZoom:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};g.minZoom.get=function(){return this._minZoom},g.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},g.maxZoom.get=function(){return this._maxZoom},g.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},g.worldSize.get=function(){return this.tileSize*this.scale},g.centerPoint.get=function(){return this.size._div(2)},g.size.get=function(){return new i(this.width,this.height)},g.bearing.get=function(){return-this.angle/Math.PI*180},g.bearing.set=function(e){var t=-s.wrap(e,-180,180)*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=p.create(),p.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},g.pitch.get=function(){return this._pitch/Math.PI*180},g.pitch.set=function(e){var t=s.clamp(e,0,60)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())},g.fov.get=function(){return this._fov/Math.PI*180},g.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},g.zoom.get=function(){return this._zoom},g.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},g.center.get=function(){return this._center},g.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},f.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},f.prototype.coveringTiles=function(e){var t=this.coveringZoomLevel(e),n=t;if(t<e.minzoom)return[];t>e.maxzoom&&(t=e.maxzoom);var r=this.pointCoordinate(this.centerPoint,t),o=new i(r.column-.5,r.row-.5),s=[this.pointCoordinate(new i(0,0),t),this.pointCoordinate(new i(this.width,0),t),this.pointCoordinate(new i(this.width,this.height),t),this.pointCoordinate(new i(0,this.height),t)];return l.cover(t,s,e.reparseOverscaled?n:t,this._renderWorldCopies).sort(function(e,t){return o.dist(e)-o.dist(t)})},f.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},g.unmodified.get=function(){return this._unmodified},f.prototype.zoomScale=function(e){return Math.pow(2,e)},f.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},f.prototype.project=function(e){return new i(this.lngX(e.lng),this.latY(e.lat))},f.prototype.unproject=function(e){return new r(this.xLng(e.x),this.yLat(e.y))},g.x.get=function(){return this.lngX(this.center.lng)},g.y.get=function(){return this.latY(this.center.lat)},g.point.get=function(){return new i(this.x,this.y)},f.prototype.lngX=function(e){return(180+e)*this.worldSize/360},f.prototype.latY=function(e){var t=180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360));return(180-t)*this.worldSize/360},f.prototype.xLng=function(e){return 360*e/this.worldSize-180},f.prototype.yLat=function(e){var t=180-360*e/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90},f.prototype.setLocationAtPoint=function(e,t){var n=this.pointCoordinate(t)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(e)._sub(n))},f.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},f.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},f.prototype.locationCoordinate=function(e){return new o(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},f.prototype.coordinateLocation=function(e){var t=e.zoomTo(this.zoom);return new r(this.xLng(t.column*this.tileSize),this.yLat(t.row*this.tileSize))},f.prototype.pointCoordinate=function(e,t){void 0===t&&(t=this.tileZoom);var n=0,r=[e.x,e.y,0,1],i=[e.x,e.y,1,1];h.transformMat4(r,r,this.pixelMatrixInverse),h.transformMat4(i,i,this.pixelMatrixInverse);var s=r[3],l=i[3],c=r[0]/s,u=i[0]/l,d=r[1]/s,p=i[1]/l,f=r[2]/s,g=i[2]/l,m=f===g?0:(n-f)/(g-f);return new o(a(c,u,m)/this.tileSize,a(d,p,m)/this.tileSize,this.zoom)._zoomTo(t)},f.prototype.coordinatePoint=function(e){var t=e.zoomTo(this.zoom),n=[t.column*this.tileSize,t.row*this.tileSize,0,1];return h.transformMat4(n,n,this.pixelMatrix),new i(n[0]/n[3],n[1]/n[3])},f.prototype.calculatePosMatrix=function(e,t){var n=e.toCoordinate(t),r=this.worldSize/this.zoomScale(n.zoom),i=d.identity(new Float64Array(16));return d.translate(i,i,[n.column*r,n.row*r,0]),d.scale(i,i,[r/c,r/c,1]),d.multiply(i,this.projMatrix,i),new Float32Array(i)},f.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,t,n,r,o,s,a,l,c=this.size,u=this._unmodified;this.latRange&&(e=this.latY(this.latRange[1]),t=this.latY(this.latRange[0]),o=t-e<c.y?c.y/(t-e):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),r=this.lngX(this.lngRange[1]),s=r-n<c.x?c.x/(r-n):0);var h=Math.max(s||0,o||0);if(h)return this.center=this.unproject(new i(s?(r+n)/2:this.x,o?(t+e)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var d=this.y,p=c.y/2;d-p<e&&(l=e+p),d+p>t&&(l=t-p)}if(this.lngRange){var f=this.x,g=c.x/2;f-g<n&&(a=n+g),f+g>r&&(a=r-g)}void 0===a&&void 0===l||(this.center=this.unproject(new i(void 0!==a?a:this.x,void 0!==l?l:this.y))),this._unmodified=u,this._constraining=!1}},f.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,t=Math.PI/2+this._pitch,n=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-t-e),r=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,i=1.01*r,o=new Float64Array(16);d.perspective(o,this._fov,this.width/this.height,1,i),d.scale(o,o,[1,-1,1]),d.translate(o,o,[0,0,-this.cameraToCenterDistance]),d.rotateX(o,o,this._pitch),d.rotateZ(o,o,this.angle),d.translate(o,o,[-this.x,-this.y,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(d.scale(o,o,[1,1,s,1]),this.projMatrix=o,o=d.create(),d.scale(o,o,[this.width/2,-this.height/2,1]),d.translate(o,o,[1,-1,0]),this.pixelMatrix=d.multiply(new Float64Array(16),o,this.projMatrix),o=d.invert(new Float64Array(16),this.pixelMatrix),!o)throw new Error("failed to invert matrix");this.pixelMatrixInverse=o}},Object.defineProperties(f.prototype,g),t.exports=f},{"../data/extent":11,"../source/tile_coord":55,"../util/interpolate":123,"../util/util":131,"./coordinate":18,"./lng_lat":19,"@mapbox/gl-matrix":135,"point-geometry":200}],22:[function(e,t,n){"use strict";var r,i=e("./util/worker_pool");t.exports=function(){return r||(r=new i),r}},{"./util/worker_pool":134}],23:[function(e,t,n){"use strict";var r={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};t.exports=function(e,t,n,i){i=i||1;var o,s,a,l,c,u,h,d,p=[];for(o=0,s=e.length;o<s;o++)if(c=r[e[o]]){for(d=null,a=0,l=c[1].length;a<l;a+=2)c[1][a]===-1&&c[1][a+1]===-1?d=null:(u=t+c[1][a]*i,h=n-c[1][a+1]*i,d&&p.push(d.x,d.y,u,h),d={x:u,y:h});t+=c[0]*i}return p}},{}],24:[function(e,t,n){"use strict";var r=e("./util/browser"),i=t.exports={};i.version=e("../package.json").version,i.workerCount=Math.max(Math.floor(r.hardwareConcurrency/2),1),i.Map=e("./ui/map"),i.NavigationControl=e("./ui/control/navigation_control"),i.GeolocateControl=e("./ui/control/geolocate_control"),i.AttributionControl=e("./ui/control/attribution_control"),i.ScaleControl=e("./ui/control/scale_control"),i.Popup=e("./ui/popup"),i.Marker=e("./ui/marker"),i.Style=e("./style/style"),i.LngLat=e("./geo/lng_lat"),i.LngLatBounds=e("./geo/lng_lat_bounds"),i.Point=e("point-geometry"),i.Evented=e("./util/evented"),i.util=e("./util/util"),i.supported=e("./util/browser").supported;var o=e("./util/ajax");i.util.getJSON=o.getJSON,i.util.getArrayBuffer=o.getArrayBuffer;var s=e("./util/config");i.config=s;var a=e("./source/rtl_text_plugin");i.setRTLTextPlugin=a.setRTLTextPlugin,Object.defineProperty(i,"accessToken",{get:function(){return s.ACCESS_TOKEN},set:function(e){s.ACCESS_TOKEN=e}})},{"../package.json":218,"./geo/lng_lat":19,"./geo/lng_lat_bounds":20,"./source/rtl_text_plugin":51,"./style/style":65,"./ui/control/attribution_control":95,"./ui/control/geolocate_control":96,"./ui/control/navigation_control":97,"./ui/control/scale_control":98,"./ui/map":107,"./ui/marker":108,"./ui/popup":109,"./util/ajax":111,"./util/browser":112,"./util/config":116,"./util/evented":120,"./util/util":131,"point-geometry":200}],25:[function(e,t,n){"use strict";function r(e,t,n){var r=e.gl,o=e.transform,s=o.tileSize,a=n.paint["background-color"],l=n.paint["background-pattern"],c=n.paint["background-opacity"],u=!l&&1===a[3]&&1===c;if(e.isOpaquePass===u){r.disable(r.STENCIL_TEST),e.setDepthSublayer(0);var h;l?(h=e.useProgram("fillPattern",e.basicFillProgramConfiguration),i.prepare(l,e,h),e.tileExtentPatternVAO.bind(r,h,e.tileExtentBuffer)):(h=e.useProgram("fill",e.basicFillProgramConfiguration),r.uniform4fv(h.u_color,a),e.tileExtentVAO.bind(r,h,e.tileExtentBuffer)),r.uniform1f(h.u_opacity,c);for(var d=o.coveringTiles({tileSize:s}),p=0,f=d;p<f.length;p+=1){var g=f[p];l&&i.setTile({coord:g,tileSize:s},e,h),r.uniformMatrix4fv(h.u_matrix,!1,e.transform.calculatePosMatrix(g)),r.drawArrays(r.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}}}var i=e("./pattern");t.exports=r},{"./pattern":37}],26:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=e.gl;e.setDepthSublayer(0),e.depthMask(!1),o.disable(o.STENCIL_TEST);for(var s=0;s<r.length;s++){var a=r[s],l=t.getTile(a),c=l.getBucket(n);if(c){var u=c.buffers,h=u.layerData[n.id],d=h.programConfiguration,p=e.useProgram("circle",d);d.setUniforms(o,p,n,{zoom:e.transform.zoom}),"map"===n.paint["circle-pitch-scale"]?(o.uniform1i(p.u_scale_with_map,!0),o.uniform2f(p.u_extrude_scale,e.transform.pixelsToGLUnits[0]*e.transform.cameraToCenterDistance,e.transform.pixelsToGLUnits[1]*e.transform.cameraToCenterDistance)):(o.uniform1i(p.u_scale_with_map,!1),o.uniform2fv(p.u_extrude_scale,e.transform.pixelsToGLUnits)),o.uniform1f(p.u_devicepixelratio,i.devicePixelRatio),o.uniformMatrix4fv(p.u_matrix,!1,e.translatePosMatrix(a.posMatrix,l,n.paint["circle-translate"],n.paint["circle-translate-anchor"]));for(var f=0,g=u.segments;f<g.length;f+=1){var m=g[f];m.vaos[n.id].bind(o,p,u.layoutVertexBuffer,u.elementBuffer,h.paintVertexBuffer,m.vertexOffset),o.drawElements(o.TRIANGLES,3*m.primitiveLength,o.UNSIGNED_SHORT,3*m.primitiveOffset*2)}}}}}var i=e("../util/browser");t.exports=r},{"../util/browser":112}],27:[function(e,t,n){"use strict";function r(e,t,n,r){var i=e.gl;i.enable(i.STENCIL_TEST);for(var o=e.useProgram("collisionBox"),s=0;s<r.length;s++){var a=r[s],l=t.getTile(a),c=l.getBucket(n);if(c){var u=c.buffers.collisionBox;if(u){i.uniformMatrix4fv(o.u_matrix,!1,a.posMatrix),e.enableTileClippingMask(a),e.lineWidth(1),i.uniform1f(o.u_scale,Math.pow(2,e.transform.zoom-l.coord.z)),i.uniform1f(o.u_zoom,10*e.transform.zoom),i.uniform1f(o.u_maxzoom,10*(l.coord.z+1));for(var h=0,d=u.segments;h<d.length;h+=1){var p=d[h];p.vaos[n.id].bind(i,o,u.layoutVertexBuffer,u.elementBuffer,null,p.vertexOffset),i.drawElements(i.LINES,2*p.primitiveLength,i.UNSIGNED_SHORT,2*p.primitiveOffset*2)}}}}}t.exports=r},{}],28:[function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n.length;r++)i(e,t,n[r])}function i(e,t,n){var r=e.gl;r.disable(r.STENCIL_TEST),e.lineWidth(1*s.devicePixelRatio);var i=n.posMatrix,d=e.useProgram("debug");r.uniformMatrix4fv(d.u_matrix,!1,i),r.uniform4f(d.u_color,1,0,0,1),e.debugVAO.bind(r,d,e.debugBuffer),r.drawArrays(r.LINE_STRIP,0,e.debugBuffer.length);for(var p=o(n.toString(),50,200,5),f=new h,g=0;g<p.length;g+=2)f.emplaceBack(p[g],p[g+1]);var m=c.fromStructArray(f,c.BufferType.VERTEX),v=new u;v.bind(r,d,m),r.uniform4f(d.u_color,1,1,1,1);for(var y=t.getTile(n).tileSize,b=l/(Math.pow(2,e.transform.zoom-n.z)*y),w=[[-1,-1],[-1,1],[1,-1],[1,1]],x=0;x<w.length;x++){var _=w[x];r.uniformMatrix4fv(d.u_matrix,!1,a.translate([],i,[b*_[0],b*_[1],0])),r.drawArrays(r.LINES,0,m.length)}r.uniform4f(d.u_color,0,0,0,1),r.uniformMatrix4fv(d.u_matrix,!1,i),r.drawArrays(r.LINES,0,m.length)}var o=e("../lib/debugtext"),s=e("../util/browser"),a=e("@mapbox/gl-matrix").mat4,l=e("../data/extent"),c=e("../data/buffer"),u=e("./vertex_array_object"),h=e("../data/pos_array");t.exports=r},{"../data/buffer":8,"../data/extent":11,"../data/pos_array":14,"../lib/debugtext":23,"../util/browser":112,"./vertex_array_object":39,"@mapbox/gl-matrix":135}],29:[function(e,t,n){"use strict";function r(e,t,n,r){var a=e.gl;a.enable(a.STENCIL_TEST);var l=!n.paint["fill-pattern"]&&n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"];e.isOpaquePass===l&&(e.setDepthSublayer(1),i(e,t,n,r,o)),!e.isOpaquePass&&n.paint["fill-antialias"]&&(e.lineWidth(2),e.depthMask(!1),e.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),i(e,t,n,r,s))}function i(e,t,n,r,i){for(var o=!0,s=0,a=r;s<a.length;s+=1){var l=a[s],c=t.getTile(l),u=c.getBucket(n);u&&(e.enableTileClippingMask(l),i(e,t,n,c,l,u.buffers,o),o=!1)}}function o(e,t,n,r,i,o,s){for(var l=e.gl,c=o.layerData[n.id],u=a("fill",n.paint["fill-pattern"],e,c,n,r,i,s),h=0,d=o.segments;h<d.length;h+=1){var p=d[h];p.vaos[n.id].bind(l,u,o.layoutVertexBuffer,o.elementBuffer,c.paintVertexBuffer,p.vertexOffset),l.drawElements(l.TRIANGLES,3*p.primitiveLength,l.UNSIGNED_SHORT,3*p.primitiveOffset*2)}}function s(e,t,n,r,i,o,s){var l=e.gl,c=o.layerData[n.id],u=n.paint["fill-pattern"]&&!n.getPaintProperty("fill-outline-color"),h=a("fillOutline",u,e,c,n,r,i,s);l.uniform2f(h.u_world,l.drawingBufferWidth,l.drawingBufferHeight);for(var d=0,p=o.segments2;d<p.length;d+=1){var f=p[d];f.vaos[n.id].bind(l,h,o.layoutVertexBuffer,o.elementBuffer2,c.paintVertexBuffer,f.vertexOffset),l.drawElements(l.LINES,2*f.primitiveLength,l.UNSIGNED_SHORT,2*f.primitiveOffset*2)}}function a(e,t,n,r,i,o,s,a){var c,u=n.currentProgram;return t?(c=n.useProgram(e+"Pattern",r.programConfiguration),(a||c!==u)&&(r.programConfiguration.setUniforms(n.gl,c,i,{zoom:n.transform.zoom}),l.prepare(i.paint["fill-pattern"],n,c)),l.setTile(o,n,c)):(c=n.useProgram(e,r.programConfiguration),(a||c!==u)&&r.programConfiguration.setUniforms(n.gl,c,i,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(c.u_matrix,!1,n.translatePosMatrix(s.posMatrix,o,i.paint["fill-translate"],i.paint["fill-translate-anchor"])),c}var l=e("./pattern");t.exports=r},{"./pattern":37}],30:[function(e,t,n){"use strict";function r(e,t,n,r){if(0!==n.paint["fill-extrusion-opacity"]){var s=e.gl;s.disable(s.STENCIL_TEST),s.enable(s.DEPTH_TEST),e.depthMask(!0);var a=new i(s,e,n);a.bindFramebuffer(),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);for(var l=0;l<r.length;l++)o(e,t,n,r[l]);a.unbindFramebuffer(),a.renderToMap()}}function i(e,t,n){this.gl=e,this.width=t.width,this.height=t.height,this.painter=t,this.layer=n,this.texture=null,this.fbo=null,this.fbos=this.painter.preFbos[this.width]&&this.painter.preFbos[this.width][this.height]}function o(e,t,n,r){if(!e.isOpaquePass){var i=t.getTile(r),o=i.getBucket(n);if(o){var a=o.buffers,l=e.gl,c=n.paint["fill-extrusion-pattern"],u=a.layerData[n.id],d=u.programConfiguration,p=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",d);d.setUniforms(l,p,n,{zoom:e.transform.zoom}),c&&(h.prepare(c,e,p),h.setTile(i,e,p),l.uniform1f(p.u_height_factor,-Math.pow(2,r.z)/i.tileSize/8)),e.gl.uniformMatrix4fv(p.u_matrix,!1,e.translatePosMatrix(r.posMatrix,i,n.paint["fill-extrusion-translate"],n.paint["fill-extrusion-translate-anchor"])),s(p,e);for(var f=0,g=a.segments;f<g.length;f+=1){var m=g[f];m.vaos[n.id].bind(l,p,a.layoutVertexBuffer,a.elementBuffer,u.paintVertexBuffer,m.vertexOffset),l.drawElements(l.TRIANGLES,3*m.primitiveLength,l.UNSIGNED_SHORT,3*m.primitiveOffset*2)}}}}function s(e,t){var n=t.gl,r=t.style.light,i=r.calculated.position,o=[i.x,i.y,i.z],s=d.create();"viewport"===r.calculated.anchor&&d.fromRotation(s,-t.transform.angle),f.transformMat3(o,o,s),n.uniform3fv(e.u_lightpos,o),n.uniform1f(e.u_lightintensity,r.calculated.intensity),n.uniform3fv(e.u_lightcolor,r.calculated.color.slice(0,3))}var a=e("@mapbox/gl-matrix"),l=e("../data/buffer"),c=e("./vertex_array_object"),u=e("../data/pos_array"),h=e("./pattern"),d=a.mat3,p=a.mat4,f=a.vec3;t.exports=r,i.prototype.bindFramebuffer=function(){var e=this.gl;if(this.texture=this.painter.getViewportTexture(this.width,this.height),e.activeTexture(e.TEXTURE1),this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),this.texture.width=this.width,this.texture.height=this.height),this.fbos)this.fbo=this.fbos.pop(),e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);else{this.fbo=e.createFramebuffer();var t=e.createRenderbuffer(),n=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,t),e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,this.width,this.height),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,t),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,n),
e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0)}},i.prototype.unbindFramebuffer=function(){this.painter.bindDefaultFramebuffer(),this.fbos?this.fbos.push(this.fbo):(this.painter.preFbos[this.width]||(this.painter.preFbos[this.width]={}),this.painter.preFbos[this.width][this.height]=[this.fbo]),this.painter.saveViewportTexture(this.texture)},i.prototype.renderToMap=function(){var e=this.gl,t=this.painter,n=t.useProgram("extrusionTexture");e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture),e.uniform1f(n.u_opacity,this.layer.paint["fill-extrusion-opacity"]),e.uniform1i(n.u_texture,1),e.uniformMatrix4fv(n.u_matrix,!1,p.ortho(p.create(),0,t.width,t.height,0,0,1)),e.disable(e.DEPTH_TEST),e.uniform1i(n.u_xdim,t.width),e.uniform1i(n.u_ydim,t.height);var r=new u;r.emplaceBack(0,0),r.emplaceBack(t.width,0),r.emplaceBack(0,t.height),r.emplaceBack(t.width,t.height);var i=l.fromStructArray(r,l.BufferType.VERTEX),o=new c;o.bind(e,n,i),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.enable(e.DEPTH_TEST)}},{"../data/buffer":8,"../data/pos_array":14,"./pattern":37,"./vertex_array_object":39,"@mapbox/gl-matrix":135}],31:[function(e,t,n){"use strict";function r(e,t,n,r,s,a,l,c,u){var h,d,p,f,g=t.gl,m=s.paint["line-dasharray"],v=s.paint["line-pattern"];if(c||u){var y=1/o(n,1,t.transform.tileZoom);if(m){h=t.lineAtlas.getDash(m.from,"round"===s.layout["line-cap"]),d=t.lineAtlas.getDash(m.to,"round"===s.layout["line-cap"]);var b=h.width*m.fromScale,w=d.width*m.toScale;g.uniform2f(e.u_patternscale_a,y/b,-h.height/2),g.uniform2f(e.u_patternscale_b,y/w,-d.height/2),g.uniform1f(e.u_sdfgamma,t.lineAtlas.width/(256*Math.min(b,w)*i.devicePixelRatio)/2)}else if(v){if(p=t.spriteAtlas.getPosition(v.from,!0),f=t.spriteAtlas.getPosition(v.to,!0),!p||!f)return;g.uniform2f(e.u_pattern_size_a,p.size[0]*v.fromScale/y,f.size[1]),g.uniform2f(e.u_pattern_size_b,f.size[0]*v.toScale/y,f.size[1])}g.uniform2f(e.u_gl_units_to_pixels,1/t.transform.pixelsToGLUnits[0],1/t.transform.pixelsToGLUnits[1])}c&&(m?(g.uniform1i(e.u_image,0),g.activeTexture(g.TEXTURE0),t.lineAtlas.bind(g),g.uniform1f(e.u_tex_y_a,h.y),g.uniform1f(e.u_tex_y_b,d.y),g.uniform1f(e.u_mix,m.t)):v&&(g.uniform1i(e.u_image,0),g.activeTexture(g.TEXTURE0),t.spriteAtlas.bind(g,!0),g.uniform2fv(e.u_pattern_tl_a,p.tl),g.uniform2fv(e.u_pattern_br_a,p.br),g.uniform2fv(e.u_pattern_tl_b,f.tl),g.uniform2fv(e.u_pattern_br_b,f.br),g.uniform1f(e.u_fade,v.t)),g.uniform1f(e.u_width,s.paint["line-width"])),t.enableTileClippingMask(a);var x=t.translatePosMatrix(a.posMatrix,n,s.paint["line-translate"],s.paint["line-translate-anchor"]);g.uniformMatrix4fv(e.u_matrix,!1,x),g.uniform1f(e.u_ratio,1/o(n,1,t.transform.zoom));for(var _=0,E=r.segments;_<E.length;_+=1){var C=E[_];C.vaos[s.id].bind(g,e,r.layoutVertexBuffer,r.elementBuffer,l.paintVertexBuffer,C.vertexOffset),g.drawElements(g.TRIANGLES,3*C.primitiveLength,g.UNSIGNED_SHORT,3*C.primitiveOffset*2)}}var i=e("../util/browser"),o=e("../source/pixels_to_tile_units");t.exports=function(e,t,n,i){if(!e.isOpaquePass){e.setDepthSublayer(0),e.depthMask(!1);var o=e.gl;if(o.enable(o.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var s,a=n.paint["line-dasharray"]?"lineSDF":n.paint["line-pattern"]?"linePattern":"line",l=!0,c=0,u=i;c<u.length;c+=1){var h=u[c],d=t.getTile(h),p=d.getBucket(n);if(p){var f=p.buffers.layerData[n.id],g=e.currentProgram,m=e.useProgram(a,f.programConfiguration),v=l||m!==g,y=s!==d.coord.z;v&&f.programConfiguration.setUniforms(e.gl,m,n,{zoom:e.transform.zoom}),r(m,e,d,p.buffers,n,h,f,v,y),s=d.coord.z,l=!1}}}}},{"../source/pixels_to_tile_units":48,"../util/browser":112}],32:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=e.gl;o.enable(o.DEPTH_TEST),e.depthMask(!0),o.depthFunc(o.LESS);for(var s=r.length&&r[0].z,a=0;a<r.length;a++){var l=r[a];e.setDepthSublayer(l.z-s),i(e,t,n,l)}o.depthFunc(o.LEQUAL)}}function i(e,t,n,r){var i=e.gl;i.disable(i.STENCIL_TEST);var c=t.getTile(r),u=e.transform.calculatePosMatrix(r,t.getSource().maxzoom);c.registerFadeDuration(e.style.animationLoop,n.paint["raster-fade-duration"]);var h=e.useProgram("raster");i.uniformMatrix4fv(h.u_matrix,!1,u),i.uniform1f(h.u_brightness_low,n.paint["raster-brightness-min"]),i.uniform1f(h.u_brightness_high,n.paint["raster-brightness-max"]),i.uniform1f(h.u_saturation_factor,a(n.paint["raster-saturation"])),i.uniform1f(h.u_contrast_factor,s(n.paint["raster-contrast"])),i.uniform3fv(h.u_spin_weights,o(n.paint["raster-hue-rotate"]));var d,p,f=c.sourceCache&&c.sourceCache.findLoadedParent(r,0,{}),g=l(c,f,n,e.transform);i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,c.texture),i.activeTexture(i.TEXTURE1),f?(i.bindTexture(i.TEXTURE_2D,f.texture),d=Math.pow(2,f.coord.z-c.coord.z),p=[c.coord.x*d%1,c.coord.y*d%1]):i.bindTexture(i.TEXTURE_2D,c.texture),i.uniform2fv(h.u_tl_parent,p||[0,0]),i.uniform1f(h.u_scale_parent,d||1),i.uniform1f(h.u_buffer_scale,1),i.uniform1f(h.u_fade_t,g.mix),i.uniform1f(h.u_opacity,g.opacity*n.paint["raster-opacity"]),i.uniform1i(h.u_image0,0),i.uniform1i(h.u_image1,1);var m=c.boundsBuffer||e.rasterBoundsBuffer,v=c.boundsVAO||e.rasterBoundsVAO;v.bind(i,h,m),i.drawArrays(i.TRIANGLE_STRIP,0,m.length)}function o(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}function s(e){return e>0?1/(1-e):1+e}function a(e){return e>0?1-1/(1.001-e):-e}function l(e,t,n,r){var i=n.paint["raster-fade-duration"];if(e.sourceCache&&i>0){var o=Date.now(),s=(o-e.timeAdded)/i,a=t?(o-t.timeAdded)/i:-1,l=e.sourceCache.getSource(),u=r.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!t||Math.abs(t.coord.z-u)>Math.abs(e.coord.z-u),d=c.clamp(h?s:1-a,0,1);return t?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var c=e("../util/util");t.exports=r},{"../util/util":131}],33:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),s=e.gl;o?s.disable(s.STENCIL_TEST):s.enable(s.STENCIL_TEST),e.setDepthSublayer(0),e.depthMask(!1),i(e,t,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"],n.layout["icon-size"],n.paint["icon-halo-width"],n.paint["icon-halo-color"],n.paint["icon-halo-blur"],n.paint["icon-opacity"],n.paint["icon-color"]),i(e,t,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"],n.layout["text-size"],n.paint["text-halo-width"],n.paint["text-halo-color"],n.paint["text-halo-blur"],n.paint["text-opacity"],n.paint["text-color"]),t.map.showCollisionBoxes&&c(e,t,n,r)}}function i(e,t,n,r,i,a,l,c,u,h,d,p,f,g,m){if(i||!e.style.sprite||e.style.sprite.loaded()){var v=e.gl,y="map"===c,b="map"===u,w=b;w?v.enable(v.DEPTH_TEST):v.disable(v.DEPTH_TEST);for(var x,_,E=0,C=r;E<C.length;E+=1){var S=C[E],k=t.getTile(S),A=k.getBucket(n);if(A){var T=i?A.buffers.glyph:A.buffers.icon;if(T&&T.segments.length){var F=i||A.sdfIcons;x&&A.fontstack===_||(x=e.useProgram(F?"symbolSDF":"symbolIcon"),o(x,e,i,F,y,b,A.fontstack,h,A.iconsNeedLinear,i?A.adjustedTextSize:A.adjustedIconSize,g)),e.enableTileClippingMask(S),v.uniformMatrix4fv(x.u_matrix,!1,e.translatePosMatrix(S.posMatrix,k,a,l)),s(x,e,n,k,T,i,F,b,h,d,p,f,m),_=A.fontstack}}}w||v.enable(v.DEPTH_TEST)}}function o(e,t,n,r,i,o,s,a,c,u,h){var d=t.gl,p=t.transform;if(d.uniform1i(e.u_rotate_with_map,i),d.uniform1i(e.u_pitch_with_map,o),d.activeTexture(d.TEXTURE0),d.uniform1i(e.u_texture,0),n){var f=s&&t.glyphSource.getGlyphAtlas(s);if(!f)return;f.updateTexture(d),d.uniform2f(e.u_texsize,f.width/4,f.height/4)}else{var g=t.options.rotating||t.options.zooming,m=1!==a||l.devicePixelRatio!==t.spriteAtlas.pixelRatio||c,v=o||p.pitch;t.spriteAtlas.bind(d,r||g||m||v),d.uniform2f(e.u_texsize,t.spriteAtlas.width/4,t.spriteAtlas.height/4)}d.activeTexture(d.TEXTURE1),t.frameHistory.bind(d),d.uniform1i(e.u_fadetexture,1);var y=Math.log(a/u)/Math.LN2||0;d.uniform1f(e.u_zoom,10*(p.zoom-y)),d.uniform1f(e.u_pitch,p.pitch/360*2*Math.PI),d.uniform1f(e.u_bearing,p.bearing/360*2*Math.PI),d.uniform1f(e.u_aspect_ratio,p.width/p.height),d.uniform1f(e.u_opacity,h)}function s(e,t,n,r,i,o,s,l,c,g,m,v,y){var b=t.gl,w=t.transform,x=c/(o?24:1);if(l){var _=u(r,x,w.zoom);b.uniform2f(e.u_extrude_scale,_,_)}else{var E=w.cameraToCenterDistance*x;b.uniform2f(e.u_extrude_scale,w.pixelsToGLUnits[0]*E,w.pixelsToGLUnits[1]*E)}if(s){var C=x*(l?Math.cos(w._pitch):1)*w.cameraToCenterDistance;g&&(b.uniform1f(e.u_gamma,(v*d/h+f)/C),b.uniform4fv(e.u_color,m),b.uniform1f(e.u_buffer,(p-g/x)/h),a(i,n,b,e)),b.uniform1f(e.u_gamma,f/C),b.uniform4fv(e.u_color,y),b.uniform1f(e.u_buffer,.75)}a(i,n,b,e)}function a(e,t,n,r){for(var i=0,o=e.segments;i<o.length;i+=1){var s=o[i];s.vaos[t.id].bind(n,r,e.layoutVertexBuffer,e.elementBuffer,null,s.vertexOffset),n.drawElements(n.TRIANGLES,3*s.primitiveLength,n.UNSIGNED_SHORT,3*s.primitiveOffset*2)}}var l=e("../util/browser"),c=e("./draw_collision_debug"),u=e("../source/pixels_to_tile_units");t.exports=r;var h=8,d=1.19,p=6,f=.105/l.devicePixelRatio},{"../source/pixels_to_tile_units":48,"../util/browser":112,"./draw_collision_debug":27}],34:[function(e,t,n){"use strict";var r=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};r.prototype.record=function(e,t,n){var r=this;this.firstFrame&&(e=0,this.firstFrame=!1),t=Math.floor(10*t);var i;if(t<this.previousZoom)for(i=t+1;i<=this.previousZoom;i++)r.changeTimes[i]=e,r.changeOpacities[i]=r.opacities[i];else for(i=t;i>this.previousZoom;i--)r.changeTimes[i]=e,r.changeOpacities[i]=r.opacities[i];for(i=0;i<256;i++){var o=e-r.changeTimes[i],s=255*(n?o/n:1);i<=t?r.opacities[i]=r.changeOpacities[i]+s:r.opacities[i]=r.changeOpacities[i]-s}this.changed=!0,this.previousZoom=t},r.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.changed&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,256,1,e.ALPHA,e.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,256,1,0,e.ALPHA,e.UNSIGNED_BYTE,this.array))},t.exports=r},{}],35:[function(e,t,n){"use strict";var r=e("../util/util"),i=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};i.prototype.setSprite=function(e){this.sprite=e},i.prototype.getDash=function(e,t){var n=e.join(",")+t;return this.positions[n]||(this.positions[n]=this.addDash(e,t)),this.positions[n]},i.prototype.addDash=function(e,t){var n=this,i=t?7:0,o=2*i+1,s=128;if(this.nextRow+o>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var a=0,l=0;l<e.length;l++)a+=e[l];for(var c=this.width/a,u=c/2,h=e.length%2===1,d=-i;d<=i;d++)for(var p=n.nextRow+i+d,f=n.width*p,g=h?-e[e.length-1]:0,m=e[0],v=1,y=0;y<this.width;y++){for(;m<y/c;)g=m,m+=e[v],h&&v===e.length-1&&(m+=e[0]),v++;var b,w=Math.abs(y-g*c),x=Math.abs(y-m*c),_=Math.min(w,x),E=v%2===1;if(t){var C=i?d/i*(u+1):0;if(E){var S=u-Math.abs(C);b=Math.sqrt(_*_+S*S)}else b=u-Math.sqrt(_*_+C*C)}else b=(E?1:-1)*_;n.data[3+4*(f+y)]=Math.max(0,Math.min(255,b+s))}var k={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:a};return this.nextRow+=o,this.dirty=!0,k},i.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))},t.exports=i},{"../util/util":131}],36:[function(e,t,n){"use strict";var r=e("../util/browser"),i=e("@mapbox/gl-matrix").mat4,o=e("./frame_history"),s=e("../source/source_cache"),a=e("../data/extent"),l=e("../source/pixels_to_tile_units"),c=e("../util/util"),u=e("../data/buffer"),h=e("./vertex_array_object"),d=e("../data/raster_bounds_array"),p=e("../data/pos_array"),f=e("../data/program_configuration"),g=e("./shaders"),m={symbol:e("./draw_symbol"),circle:e("./draw_circle"),line:e("./draw_line"),fill:e("./draw_fill"),"fill-extrusion":e("./draw_fill_extrusion"),raster:e("./draw_raster"),background:e("./draw_background"),debug:e("./draw_debug")},v=function(e,t){this.gl=e,this.transform=t,this.reusableTextures={tiles:{},viewport:null},this.preFbos={},this.frameHistory=new o,this.setup(),this.numSublayers=s.maxUnderzooming+s.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=f.createStatic(["color","opacity"]),this.emptyProgramConfiguration=new f};v.prototype.resize=function(e,t){var n=this.gl;this.width=e*r.devicePixelRatio,this.height=t*r.devicePixelRatio,n.viewport(0,0,this.width,this.height)},v.prototype.setup=function(){var e=this.gl;e.verbose=!0,e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.STENCIL_TEST),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),this._depthMask=!1,e.depthMask(!1);var t=new p;t.emplaceBack(0,0),t.emplaceBack(a,0),t.emplaceBack(0,a),t.emplaceBack(a,a),this.tileExtentBuffer=u.fromStructArray(t,u.BufferType.VERTEX),this.tileExtentVAO=new h,this.tileExtentPatternVAO=new h;var n=new p;n.emplaceBack(0,0),n.emplaceBack(a,0),n.emplaceBack(a,a),n.emplaceBack(0,a),n.emplaceBack(0,0),this.debugBuffer=u.fromStructArray(n,u.BufferType.VERTEX),this.debugVAO=new h;var r=new d;r.emplaceBack(0,0,0,0),r.emplaceBack(a,0,32767,0),r.emplaceBack(0,a,0,32767),r.emplaceBack(a,a,32767,32767),this.rasterBoundsBuffer=u.fromStructArray(r,u.BufferType.VERTEX),this.rasterBoundsVAO=new h},v.prototype.clearColor=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},v.prototype.clearStencil=function(){var e=this.gl;e.clearStencil(0),e.stencilMask(255),e.clear(e.STENCIL_BUFFER_BIT)},v.prototype.clearDepth=function(){var e=this.gl;e.clearDepth(1),this.depthMask(!0),e.clear(e.DEPTH_BUFFER_BIT)},v.prototype._renderTileClippingMasks=function(e){var t=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(248),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var i=0,o=e;i<o.length;i+=1){var s=o[i],a=t._tileClippingMaskIDs[s.id]=r++<<3;n.stencilFunc(n.ALWAYS,a,248);var l=t.useProgram("fill",t.basicFillProgramConfiguration);n.uniformMatrix4fv(l.u_matrix,!1,s.posMatrix),t.tileExtentVAO.bind(n,l,t.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},v.prototype.enableTileClippingMask=function(e){var t=this.gl;t.stencilFunc(t.EQUAL,this._tileClippingMaskIDs[e.id],248)},v.prototype.prepareBuffers=function(){},v.prototype.bindDefaultFramebuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},v.prototype.render=function(e,t){if(this.style=e,this.options=t,this.lineAtlas=e.lineAtlas,this.spriteAtlas=e.spriteAtlas,this.spriteAtlas.setSprite(e.sprite),this.glyphSource=e.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,e.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(t.showOverdrawInspector),this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var n=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];n&&m.debug(this,n,n.getVisibleCoordinates())}},v.prototype.renderPass=function(){var e,t,n=this,r=this.style._order;this.currentLayer=this.isOpaquePass?r.length-1:0,this.isOpaquePass?this._showOverdrawInspector||this.gl.disable(this.gl.BLEND):this.gl.enable(this.gl.BLEND);for(var i=0;i<r.length;i++){var o=n.style._layers[r[n.currentLayer]];o.source!==(e&&e.id)&&(e=n.style.sourceCaches[o.source],t=[],e&&(e.prepare&&e.prepare(),n.clearStencil(),t=e.getVisibleCoordinates(),e.getSource().isTileClipped&&n._renderTileClippingMasks(t)),n.isOpaquePass||t.reverse()),n.renderLayer(n,e,o,t),n.currentLayer+=n.isOpaquePass?-1:1}},v.prototype.depthMask=function(e){e!==this._depthMask&&(this._depthMask=e,this.gl.depthMask(e))},v.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,m[n.type](e,t,n,r))},v.prototype.setDepthSublayer=function(e){var t=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,n=t-1+this.depthRange;this.gl.depthRange(n,t)},v.prototype.translatePosMatrix=function(e,t,n,r){if(!n[0]&&!n[1])return e;if("viewport"===r){var o=Math.sin(-this.transform.angle),s=Math.cos(-this.transform.angle);n=[n[0]*s-n[1]*o,n[0]*o+n[1]*s]}var a=[l(t,n[0],this.transform.zoom),l(t,n[1],this.transform.zoom),0],c=new Float32Array(16);return i.translate(c,e,a),c},v.prototype.saveTileTexture=function(e){var t=this.reusableTextures.tiles[e.size];t?t.push(e):this.reusableTextures.tiles[e.size]=[e]},v.prototype.saveViewportTexture=function(e){this.reusableTextures.viewport=e},v.prototype.getTileTexture=function(e){var t=this.reusableTextures.tiles[e];return t&&t.length>0?t.pop():null},v.prototype.getViewportTexture=function(e,t){var n=this.reusableTextures.viewport;if(n)return n.width===e&&n.height===t?n:(this.gl.deleteTexture(n),void(this.reusableTextures.viewport=null))},v.prototype.lineWidth=function(e){this.gl.lineWidth(c.clamp(e,this.lineWidthRange[0],this.lineWidthRange[1]))},v.prototype.showOverdrawInspector=function(e){if(e||this._showOverdrawInspector){this._showOverdrawInspector=e;var t=this.gl;if(e){t.blendFunc(t.CONSTANT_COLOR,t.ONE);var n=8,r=1/n;t.blendColor(r,r,r,0),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)}else t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}},v.prototype.createProgram=function(e,t){var n=this.gl,i=n.createProgram(),o=g[e],s="#define MAPBOX_GL_JS\n#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1)+"\n";this._showOverdrawInspector&&(s+="#define OVERDRAW_INSPECTOR;\n");var a=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(a,t.applyPragmas(s+g.prelude.fragmentSource+o.fragmentSource,"fragment")),n.compileShader(a),n.attachShader(i,a);var l=n.createShader(n.VERTEX_SHADER);n.shaderSource(l,t.applyPragmas(s+g.prelude.vertexSource+o.vertexSource,"vertex")),n.compileShader(l),n.attachShader(i,l),n.linkProgram(i);for(var c=n.getProgramParameter(i,n.ACTIVE_ATTRIBUTES),u={program:i,numAttributes:c},h=0;h<c;h++){var d=n.getActiveAttrib(i,h);u[d.name]=n.getAttribLocation(i,d.name)}for(var p=n.getProgramParameter(i,n.ACTIVE_UNIFORMS),f=0;f<p;f++){var m=n.getActiveUniform(i,f);u[m.name]=n.getUniformLocation(i,m.name)}return u},v.prototype._createProgramCached=function(e,t){this.cache=this.cache||{};var n=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=this.createProgram(e,t)),this.cache[n]},v.prototype.useProgram=function(e,t){var n=this.gl,r=this._createProgramCached(e,t||this.emptyProgramConfiguration);return this.currentProgram!==r&&(n.useProgram(r.program),this.currentProgram=r),r},t.exports=v},{"../data/buffer":8,"../data/extent":11,"../data/pos_array":14,"../data/program_configuration":15,"../data/raster_bounds_array":16,"../source/pixels_to_tile_units":48,"../source/source_cache":53,"../util/browser":112,"../util/util":131,"./draw_background":25,"./draw_circle":26,"./draw_debug":28,"./draw_fill":29,"./draw_fill_extrusion":30,"./draw_line":31,"./draw_raster":32,"./draw_symbol":33,"./frame_history":34,"./shaders":38,"./vertex_array_object":39,"@mapbox/gl-matrix":135}],37:[function(e,t,n){"use strict";var r=e("../source/pixels_to_tile_units");n.prepare=function(e,t,n){var r=t.gl,i=t.spriteAtlas.getPosition(e.from,!0),o=t.spriteAtlas.getPosition(e.to,!0);i&&o&&(r.uniform1i(n.u_image,0),r.uniform2fv(n.u_pattern_tl_a,i.tl),r.uniform2fv(n.u_pattern_br_a,i.br),r.uniform2fv(n.u_pattern_tl_b,o.tl),r.uniform2fv(n.u_pattern_br_b,o.br),r.uniform1f(n.u_mix,e.t),r.uniform2fv(n.u_pattern_size_a,i.size),r.uniform2fv(n.u_pattern_size_b,o.size),r.uniform1f(n.u_scale_a,e.fromScale),r.uniform1f(n.u_scale_b,e.toScale),r.activeTexture(r.TEXTURE0),t.spriteAtlas.bind(r,!0))},n.setTile=function(e,t,n){var i=t.gl;i.uniform1f(n.u_tile_units_to_pixels,1/r(e,1,t.transform.tileZoom));var o=Math.pow(2,e.coord.z),s=e.tileSize*Math.pow(2,t.transform.tileZoom)/o,a=s*(e.coord.x+e.coord.w*o),l=s*e.coord.y;i.uniform2f(n.u_pixel_coord_upper,a>>16,l>>16),i.uniform2f(n.u_pixel_coord_lower,65535&a,65535&l)}},{"../source/pixels_to_tile_units":48}],38:[function(e,t,n){"use strict";e("path");t.exports={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\nfloat evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    float extrude_length = length(v_extrude);\n    float antialiased_blur = -max(blur, v_antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * (radius + stroke_width) * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"},debug:{fragmentSource:"uniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"
},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize lowp vec4 color\n\n    gl_FragColor = v_color;\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\nuniform lowp vec4 u_outline_color;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize lowp vec4 color\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n#ifdef OUTLINE\n    color = u_outline_color;\n#endif\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_texture;\nuniform float u_opacity;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_pos) * u_opacity;\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform int u_xdim;\nuniform int u_ydim;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos.x = a_pos.x / float(u_xdim);\n    v_pos.y = 1.0 - a_pos.y / float(u_ydim);\n}\n"},line:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_width;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset;\n \n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp float u_opacity;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * u_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},symbolSDF:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * fade_alpha;\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = gl_Position.w;\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"}}},{path:137}],39:[function(e,t,n){"use strict";var r=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};r.prototype.bind=function(e,t,n,r,i,o){void 0===e.extVertexArrayObject&&(e.extVertexArrayObject=e.getExtension("OES_vertex_array_object"));var s=!this.vao||this.boundProgram!==t||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==i||this.boundElementBuffer!==r||this.boundVertexOffset!==o;!e.extVertexArrayObject||s?(this.freshBind(e,t,n,r,i,o),this.gl=e):e.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(e,t,n,r,i,o){var s,a=t.numAttributes;if(e.extVertexArrayObject)this.vao&&this.destroy(),this.vao=e.extVertexArrayObject.createVertexArrayOES(),e.extVertexArrayObject.bindVertexArrayOES(this.vao),s=0,this.boundProgram=t,this.boundVertexBuffer=n,this.boundVertexBuffer2=i,this.boundElementBuffer=r,this.boundVertexOffset=o;else{s=e.currentNumAttributes||0;for(var l=a;l<s;l++)e.disableVertexAttribArray(l)}for(var c=s;c<a;c++)e.enableVertexAttribArray(c);n.bind(e),n.setVertexAttribPointers(e,t,o),i&&(i.bind(e),i.setVertexAttribPointers(e,t,o)),r&&r.bind(e),e.currentNumAttributes=a},r.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},t.exports=r},{}],40:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/ajax"),o=e("../util/evented"),s=e("./load_arcgis_mapserver"),a=/\{ *([\w_]+) *\}/g,l=function(e,t){return e.replace(a,function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r})},c=function(e,t){if(t){var n=Math.abs(e.x+e.y)%t.length;return t[n]}return null},u=function(e){function t(t,n,i,o){var a=this;e.call(this),this.id=t,this.dispatcher=i,this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.tileSize=512,this._loaded=!1,this.dispatcher=i,r.extend(this,r.pick(n,["url","scheme","tileSize"])),this.setEventedParent(o),this.fire("dataloading",{dataType:"source"}),s(n,function(e,t){return e?a.fire("error",e):(r.extend(a,t),a.fire("data",{dataType:"source"}),void a.fire("source.load"))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e;var t=this.url.split("?")[0];this.tileUrl=t+" /tile/{z}/{y}/{x}";var n=new RegExp(/tiles.arcgis(online)?\.com/g);n.test(this.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),this.subdomains=["1","2","3","4"]),this.token&&(this.tileUrl+="?token="+this.token)},t.prototype.serialize=function(){return{type:"arcgisraster",url:this.url,tileSize:this.tileSize,tiles:this.tiles}},t.prototype.loadTile=function(e,t){function n(n,r){if(delete e.request,e.aborted)return this.state="unloaded",t(null);if(n)return this.state="errored",t(n);var i=this.map.painter.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?(i.bindTexture(i.TEXTURE_2D,e.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,r)):(e.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,e.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,r),
e.texture.size=r.width),i.generateMipmap(i.TEXTURE_2D),e.state="loaded",t(null)}var o=e.coord,s=l(this.tileUrl,r.extend({s:c(o,this.subdomains),z:this._lodMap&&this._lodMap[o.z]?this._lodMap[o.z]:o.z,x:o.x,y:o.y},this.options));e.request=i.getImage(s,n.bind(this))},t.prototype.abortTile=function(e){e.request&&(e.request.abort(),delete e.request)},t.prototype.unloadTile=function(e){e.texture&&this.map.painter.saveTileTexture(e.texture)},t}(o);t.exports=u},{"../util/ajax":111,"../util/evented":120,"../util/util":131,"./load_arcgis_mapserver":46}],41:[function(e,t,n){"use strict";var r=e("./image_source"),i=e("../util/window"),o=function(e){function t(t,n,r,i){e.call(this,t,n,r,i),this.options=n,this.animate=!n.hasOwnProperty("animate")||n.animate}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){if(this.canvas=this.canvas||i.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions(this.canvas))return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var e;this.play=function(){e=this.map.style.animationLoop.set(1/0),this.map._rerender()},this.pause=function(){this.map.style.animationLoop.cancel(e)},this._finishLoading()},t.prototype.getCanvas=function(){return this.canvas},t.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.canvas&&(this.animate&&this.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){var e=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions()||this.tile&&this._prepareImage(this.map.painter.gl,this.canvas,e)},t.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},t.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},t}(r);t.exports=o},{"../util/window":114,"./image_source":45}],42:[function(e,t,n){"use strict";function r(e){var t=s.document.createElement("a");return t.href=e,t.href}var i=e("../util/evented"),o=e("../util/util"),s=e("../util/window"),a=e("../data/extent"),l=function(e){function t(t,n,r,i){e.call(this),n=n||{},this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(i),this._data=n.data,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var s=a/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*s,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*s,extent:a,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(n.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:a,radius:(n.clusterRadius||50)*s,log:!1}},n.workerOptions)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){return t?void e.fire("error",{error:t}):(e.fire("data",{dataType:"source"}),void e.fire("source.load"))})},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.setData=function(e){var t=this;return this._data=e,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?t.fire("error",{error:e}):void t.fire("data",{dataType:"source"})}),this},t.prototype._updateWorkerData=function(e){var t=this,n=o.extend({},this.workerOptions),i=this._data;"string"==typeof i?n.url=r(i):n.data=JSON.stringify(i),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){t._loaded=!0,e(n)})},t.prototype.loadTile=function(e,t){var n=this,r=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,i={type:this.type,uid:e.uid,coord:e.coord,zoom:e.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send("loadTile",i,function(r,i){if(e.unloadVectorData(),!e.aborted)return r?t(r):(e.loadVectorData(i,n.map.painter),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(n)),t(null))},this.workerID)},t.prototype.abortTile=function(e){e.aborted=!0},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},function(){},e.workerID)},t.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},t.prototype.serialize=function(){return{type:this.type,data:this._data}},t}(i);t.exports=l},{"../data/extent":11,"../util/evented":120,"../util/util":131,"../util/window":114}],43:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("geojson-rewind"),o=e("./geojson_wrapper"),s=e("vt-pbf"),a=e("supercluster"),l=e("geojson-vt"),c=e("./vector_tile_worker_source"),u=function(e){function t(t,n,r){e.call(this,t,n),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadVectorData=function(e,t){var n=e.source,r=e.coord;if(!this._geoJSONIndexes[n])return t(null,null);var i=this._geoJSONIndexes[n].getTile(Math.min(r.z,e.maxZoom),r.x,r.y);if(!i)return t(null,null);var a=new o(i.features);a.name="_geojsonTileLayer";var l=s({layers:{_geojsonTileLayer:a}});0===l.byteOffset&&l.byteLength===l.buffer.byteLength||(l=new Uint8Array(l)),a.rawData=l.buffer,t(null,a)},t.prototype.loadData=function(e,t){var n=function(n,r){var o=this;return n?t(n):"object"!=typeof r?t(new Error("Input data is not a valid GeoJSON object.")):(i(r,!0),void this._indexData(r,e,function(n,r){return n?t(n):(o._geoJSONIndexes[e.source]=r,void t(null))}))}.bind(this);this.loadGeoJSON(e,n)},t.prototype.loadGeoJSON=function(e,t){if(e.url)r.getJSON(e.url,t);else{if("string"!=typeof e.data)return t(new Error("Input data is not a valid GeoJSON object."));try{return t(null,JSON.parse(e.data))}catch(e){return t(new Error("Input data is not a valid GeoJSON object."))}}},t.prototype.removeSource=function(e){this._geoJSONIndexes[e.source]&&delete this._geoJSONIndexes[e.source]},t.prototype._indexData=function(e,t,n){try{t.cluster?n(null,a(t.superclusterOptions).load(e.features)):n(null,l(e,t.geojsonVtOptions))}catch(e){return n(e)}},t}(c);t.exports=u},{"../util/ajax":111,"./geojson_wrapper":44,"./vector_tile_worker_source":57,"geojson-rewind":146,"geojson-vt":152,supercluster:203,"vt-pbf":213}],44:[function(e,t,n){"use strict";var r=e("point-geometry"),i=e("vector-tile").VectorTileFeature,o=e("../data/extent"),s=function(e){var t=this;if(this.type=e.type,1===e.type){this.rawGeometry=[];for(var n=0;n<e.geometry.length;n++)t.rawGeometry.push([e.geometry[n]])}else this.rawGeometry=e.geometry;this.properties=e.tags,this.extent=o};s.prototype.loadGeometry=function(){var e=this,t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var i=t[n],o=[],s=0;s<i.length;s++)o.push(new r(i[s][0],i[s][1]));e.geometry.push(o)}return this.geometry},s.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-(1/0),r=1/0,i=-(1/0),o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var l=s[a];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},s.prototype.toGeoJSON=function(){i.prototype.toGeoJSON.call(this)};var a=function(e){this.features=e,this.length=e.length,this.extent=o};a.prototype.feature=function(e){return new s(this.features[e])},t.exports=a},{"../data/extent":11,"point-geometry":200,"vector-tile":209}],45:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/window"),o=e("./tile_coord"),s=e("../geo/lng_lat"),a=e("point-geometry"),l=e("../util/evented"),c=e("../util/ajax"),u=e("../data/extent"),h=e("../data/raster_bounds_array"),d=e("../data/buffer"),p=e("../render/vertex_array_object"),f=function(e){function t(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.setEventedParent(i),this.options=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,c.getImage(this.options.url,function(t,n){return t?e.fire("error",{error:t}):(e.image=n,void e._finishLoading())})},t.prototype._finishLoading=function(){this.fire("source.load"),this.map&&this.setCoordinates(this.coordinates)},t.prototype.onAdd=function(e){this.load(),this.map=e,this.image&&this.setCoordinates(this.coordinates)},t.prototype.setCoordinates=function(e){this.coordinates=e;var t=this.map,n=e.map(function(e){return t.transform.locationCoordinate(s.convert(e)).zoomTo(0)}),i=this.centerCoord=r.getCoordinatesCenter(n);return i.column=Math.round(i.column),i.row=Math.round(i.row),this.minzoom=this.maxzoom=i.zoom,this.coord=new o(i.zoom,i.column,i.row),this._tileCoords=n.map(function(e){var t=e.zoomTo(i.zoom);return new a(Math.round((t.column-i.column)*u),Math.round((t.row-i.row)*u))}),this.fire("data",{dataType:"source"}),this},t.prototype._setTile=function(e){this.tile=e;var t=32767,n=new h;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,t,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,t),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,t,t),this.tile.buckets={},this.tile.boundsBuffer=d.fromStructArray(n,d.BufferType.VERTEX),this.tile.boundsVAO=new p},t.prototype.prepare=function(){this.tile&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},t.prototype._prepareImage=function(e,t,n){"loaded"!==this.tile.state?(this.tile.state="loaded",this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)):n?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t):(t instanceof i.HTMLVideoElement||t instanceof i.ImageData||t instanceof i.HTMLCanvasElement)&&(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,t))},t.prototype.loadTile=function(e,t){this.coord&&this.coord.toString()===e.coord.toString()?(this._setTile(e),t(null)):(e.state="errored",t(null))},t.prototype.serialize=function(){return{type:"image",urls:this.url,coordinates:this.coordinates}},t}(l);t.exports=f},{"../data/buffer":8,"../data/extent":11,"../data/raster_bounds_array":16,"../geo/lng_lat":19,"../render/vertex_array_object":39,"../util/ajax":111,"../util/evented":120,"../util/util":131,"../util/window":114,"./tile_coord":55,"point-geometry":200}],46:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/ajax"),o=e("../util/browser"),s={0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763},a=function(e,t,n){var r=Math.abs(e/t-1);return r<n};t.exports=function(e,t){var n=function(e,n){if(e)return t(e);var i=r.pick(n,["tileInfo","initialExtent","spatialReference","tileServers","documentInfo"]);i._lodMap={};var o=.1,l=n.spatialReference.latestWkid||n.spatialReference.wkid;if(102100===l||3857===l){var c=n.tileInfo.lods,u=s;i.minzoom=c[0].level,i.maxzoom=c[c.length-1].level;for(var h=0;h<c.length;h++){var d=c[h];for(var p in u){var f=u[p];if(a(d.resolution,f,o)){i._lodMap[p]=d.level;break}}}}else t(new Error("non-mercator spatial reference"));t(null,i)};e.url?i.getJSON(e.url,n):o.frame(n.bind(null,null,e))}},{"../util/ajax":111,"../util/browser":112,"../util/util":131}],47:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/ajax"),o=e("../util/browser"),s=e("../util/mapbox").normalizeSourceURL;t.exports=function(e,t){var n=function(e,n){if(e)return t(e);var i=r.pick(n,["tiles","minzoom","maxzoom","attribution"]);n.vector_layers&&(i.vectorLayers=n.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(e){return e.id})),t(null,i)};e.url?i.getJSON(s(e.url),n):o.frame(n.bind(null,null,e))}},{"../util/ajax":111,"../util/browser":112,"../util/mapbox":127,"../util/util":131}],48:[function(e,t,n){"use strict";var r=e("../data/extent");t.exports=function(e,t,n){return t*(r/(e.tileSize*Math.pow(2,n-e.coord.z)))}},{"../data/extent":11}],49:[function(e,t,n){"use strict";function r(e,t){var n=e.coord,r=t.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function i(e){for(var t=e[0]||{},n=1;n<e.length;n++){var r=e[n];for(var i in r){var o=r[i],s=t[i];if(void 0===s)s=t[i]=o;else for(var a=0;a<o.length;a++)s.push(o[a])}}return t}var o=e("./tile_coord");n.rendered=function(e,t,n,o,s,a){var l=e.tilesIn(n);l.sort(r);for(var c=[],u=0;u<l.length;u++){var h=l[u];h.tile.featureIndex&&c.push(h.tile.featureIndex.query({queryGeometry:h.queryGeometry,scale:h.scale,tileSize:h.tile.tileSize,bearing:a,params:o},t))}return i(c)},n.source=function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],i={},s=0;s<n.length;s++){var a=n[s],l=new o(Math.min(a.sourceMaxZoom,a.coord.z),a.coord.x,a.coord.y,0).id;i[l]||(i[l]=!0,a.querySourceFeatures(r,t))}return r}},{"./tile_coord":55}],50:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/ajax"),o=e("../util/evented"),s=e("./load_tilejson"),a=e("../util/mapbox").normalizeTileURL,l=function(e){function t(t,n,i,o){e.call(this),this.id=t,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this.options=n,r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),s(this.options,function(t,n){return t?e.fire("error",t):(r.extend(e,n),e.fire("data",{dataType:"source"}),void e.fire("source.load"))})},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.serialize=function(){return{type:"raster",url:this.url,tileSize:this.tileSize,tiles:this.tiles}},t.prototype.loadTile=function(e,t){function n(n,r){if(delete e.request,e.aborted)return this.state="unloaded",t(null);if(n)return this.state="errored",t(n);e.setExpiryData(r),delete r.cacheControl,delete r.expires;var i=this.map.painter.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?(i.bindTexture(i.TEXTURE_2D,e.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,r)):(e.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,e.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,r),e.texture.size=r.width),i.generateMipmap(i.TEXTURE_2D),e.state="loaded",t(null)}var r=a(e.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);e.request=i.getImage(r,n.bind(this))},t.prototype.abortTile=function(e){e.request&&(e.request.abort(),delete e.request)},t.prototype.unloadTile=function(e){e.texture&&this.map.painter.saveTileTexture(e.texture)},t}(o);t.exports=l},{"../util/ajax":111,"../util/evented":120,"../util/mapbox":127,"../util/util":131,"./load_tilejson":47}],51:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("../util/window"),o=[],s=!1,a=null;t.exports.registerForPluginAvailability=function(e){a?e(a):o.push(e)},t.exports.errorCallback=null,t.exports.setRTLTextPlugin=function(e,n){if(s)throw new Error("setRTLTextPlugin cannot be called multiple times.");s=!0,t.exports.errorCallback=n,r.getArrayBuffer(e,function(e,t){if(e)n(e);else{a=i.URL.createObjectURL(new i.Blob([t.data]),{type:"text/javascript"});for(var r=0,s=o;r<s.length;r+=1){var l=s[r];l(a)}}})}},{"../util/ajax":111,"../util/window":114}],52:[function(e,t,n){"use strict";var r=e("../util/util"),i={vector:e("../source/vector_tile_source"),raster:e("../source/raster_tile_source"),arcgisraster:e("../source/arcgis_raster_tile_source"),geojson:e("../source/geojson_source"),video:e("../source/video_source"),image:e("../source/image_source"),canvas:e("../source/canvas_source")};n.create=function(e,t,n,o){if(t=new i[t.type](e,t,n,o),t.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+t.id);return r.bindAll(["load","abort","unload","serialize","prepare"],t),t},n.getType=function(e){return i[e]},n.setType=function(e,t){i[e]=t}},{"../source/arcgis_raster_tile_source":40,"../source/canvas_source":41,"../source/geojson_source":42,"../source/image_source":45,"../source/raster_tile_source":50,"../source/vector_tile_source":56,"../source/video_source":58,"../util/util":131}],53:[function(e,t,n){"use strict";function r(e,t,n){var r=n.zoomTo(Math.min(e.z,t));return{x:(r.column-(e.x+e.w*Math.pow(2,e.z)))*p,y:(r.row-e.y)*p}}function i(e,t){return e%32-t%32}function o(e){return"raster"===e||"image"===e||"video"===e}var s=e("./source"),a=e("./tile"),l=e("../util/evented"),c=e("./tile_coord"),u=e("../util/lru_cache"),h=e("../geo/coordinate"),d=e("../util/util"),p=e("../data/extent"),f=function(e){function t(t,n,r){e.call(this),this.id=t,this.dispatcher=r,this.on("source.load",function(){this._sourceLoaded=!0}),this.on("error",function(){this._sourceErrored=!0}),this.on("data",function(e){this._sourceLoaded&&"source"===e.dataType&&(this.reload(),this.transform&&this.update(this.transform))}),this._source=s.create(t,n,r,this),this._tiles={},this._cache=new u(0,this.unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._isIdRenderable=this._isIdRenderable.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e,this._source&&this._source.onAdd&&this._source.onAdd(e)},t.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},t.prototype.loaded=function(){var e=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var n=e._tiles[t];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},t.prototype.getSource=function(){return this._source},t.prototype.loadTile=function(e,t){return this._source.loadTile(e,t)},t.prototype.unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e)},t.prototype.abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e)},t.prototype.serialize=function(){return this._source.serialize()},t.prototype.prepare=function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},t.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(i)},t.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},t.prototype._isIdRenderable=function(e){return this._tiles[e].hasData()&&!this._coveredTiles[e]},t.prototype.reload=function(){var e=this;this._cache.reset();for(var t in this._tiles)e.reloadTile(t,"reloading")},t.prototype.reloadTile=function(e,t){var n=this._tiles[e];"loading"!==n.state&&(n.state=t),this.loadTile(n,this._tileLoaded.bind(this,n,e))},t.prototype._tileLoaded=function(e,t,n){return n?(e.state="errored",void this._source.fire("error",{tile:e,error:n})):(e.sourceCache=this,e.timeAdded=(new Date).getTime(),this._setTileReloadTimer(t,e),this._source.fire("data",{tile:e,coord:e.coord,dataType:"tile"}),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},t.prototype.getTile=function(e){return this.getTileByID(e.id)},t.prototype.getTileByID=function(e){return this._tiles[e]},t.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},t.prototype.findLoadedChildren=function(e,t,n){var r=this,i=!1;for(var o in this._tiles){var s=r._tiles[o];if(!(n[o]||!s.hasData()||s.coord.z<=e.z||s.coord.z>t)){var a=Math.pow(2,Math.min(s.coord.z,r._source.maxzoom)-Math.min(e.z,r._source.maxzoom));if(Math.floor(s.coord.x/a)===e.x&&Math.floor(s.coord.y/a)===e.y)for(n[o]=!0,i=!0;s&&s.coord.z-1>e.z;){var l=s.coord.parent(r._source.maxzoom).id;s=r._tiles[l],s&&s.hasData()&&(delete n[o],n[l]=!0)}}}return i},t.prototype.findLoadedParent=function(e,t,n){for(var r=this,i=e.z-1;i>=t;i--){e=e.parent(r._source.maxzoom);var o=r._tiles[e.id];if(o&&o.hasData())return n[e.id]=!0,o;if(r._cache.has(e.id))return n[e.id]=!0,r._cache.get(e.id)}},t.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/e.tileSize)+1,n=Math.ceil(e.height/e.tileSize)+1,r=t*n,i=5;this._cache.setMaxSize(Math.floor(r*i))},t.prototype.update=function(e){var n=this;if(this._sourceLoaded){var r,i,s,a;this.updateCacheSize(e);var l=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),u=Math.max(l-t.maxOverzooming,this._source.minzoom),h=Math.max(l+t.maxUnderzooming,this._source.minzoom),p={};this._coveredTiles={};var f;for(f=this.used?this._source.coord?[this._source.coord]:e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}):[],r=0;r<f.length;r++)i=f[r],s=n.addTile(i),p[i.id]=!0,s.hasData()||n.findLoadedChildren(i,h,p)||(a=n.findLoadedParent(i,u,p),a&&n.addTile(a.coord));var g={};if(o(this._source.type))for(var m=Object.keys(p),v=0;v<m.length;v++){var y=m[v];i=c.fromID(y),s=n._tiles[y],s&&("undefined"==typeof s.fadeEndTime||s.fadeEndTime>=Date.now())&&(n.findLoadedChildren(i,h,p)&&(p[y]=!0),a=n.findLoadedParent(i,u,g),a&&n.addTile(a.coord))}var b;for(b in g)p[b]||(n._coveredTiles[b]=!0);for(b in g)p[b]=!0;var w=d.keysDifference(this._tiles,p);for(r=0;r<w.length;r++)n.removeTile(+w[r]);this.transform=e}},t.prototype.addTile=function(e){var t=this._tiles[e.id];if(t)return t;var n=e.wrapped();if(t=this._tiles[n.id],t||(t=this._cache.get(n.id),t&&(t.redoPlacement(this._source),this._cacheTimers[n.id]&&(clearTimeout(this._cacheTimers[n.id]),this._cacheTimers[n.id]=void 0,this._setTileReloadTimer(n.id,t)))),!t){var r=e.z,i=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;t=new a(n,this._source.tileSize*i,this._source.maxzoom),this.loadTile(t,this._tileLoaded.bind(this,t,e.id))}return t.uses++,this._tiles[e.id]=t,this._source.fire("dataloading",{tile:t,coord:t.coord,dataType:"tile"}),t},t.prototype._setTileReloadTimer=function(e,t){var n=this,r=t.getExpiry();r&&(this._timers[e]=setTimeout(function(){n.reloadTile(e,"expired"),n._timers[e]=void 0},r-(new Date).getTime()))},t.prototype._setCacheInvalidationTimer=function(e,t){var n=this,r=t.getExpiry();r&&(this._cacheTimers[e]=setTimeout(function(){n._cache.remove(e),n._cacheTimers[e]=void 0},r-(new Date).getTime()))},t.prototype.removeTile=function(e){var t=this._tiles[e];if(t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),this._timers[e]=void 0),this._source.fire("data",{tile:t,coord:t.coord,dataType:"tile"}),!(t.uses>0)))if(t.hasData()){var n=t.coord.wrapped().id;this._cache.add(n,t),this._setCacheInvalidationTimer(n,t)}else t.aborted=!0,this.abortTile(t),this.unloadTile(t)},t.prototype.clearTiles=function(){var e=this;for(var t in this._tiles)e.removeTile(t);this._cache.reset()},t.prototype.tilesIn=function(e){for(var t=this,n={},i=this.getIds(),o=1/0,s=1/0,a=-(1/0),l=-(1/0),u=e[0].zoom,d=0;d<e.length;d++){var f=e[d];o=Math.min(o,f.column),s=Math.min(s,f.row),a=Math.max(a,f.column),l=Math.max(l,f.row)}for(var g=0;g<i.length;g++){var m=t._tiles[i[g]],v=c.fromID(i[g]),y=[r(v,m.sourceMaxZoom,new h(o,s,u)),r(v,m.sourceMaxZoom,new h(a,l,u))];if(y[0].x<p&&y[0].y<p&&y[1].x>=0&&y[1].y>=0){for(var b=[],w=0;w<e.length;w++)b.push(r(v,m.sourceMaxZoom,e[w]));var x=n[m.coord.id];void 0===x&&(x=n[m.coord.id]={tile:m,coord:v,queryGeometry:[],scale:Math.pow(2,t.transform.zoom-m.coord.z)}),x.queryGeometry.push(b)}}var _=[];for(var E in n)_.push(n[E]);return _},t.prototype.redoPlacement=function(){for(var e=this,t=this.getIds(),n=0;n<t.length;n++){var r=e.getTileByID(t[n]);r.redoPlacement(e._source)}},t.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(c.fromID),n=0,r=t;n<r.length;n+=1){var i=r[n];i.posMatrix=e.transform.calculatePosMatrix(i,e._source.maxzoom)}return t},t}(l);f.maxOverzooming=10,f.maxUnderzooming=3,t.exports=f},{"../data/extent":11,"../geo/coordinate":18,"../util/evented":120,"../util/lru_cache":126,"../util/util":131,"./source":52,"./tile":54,"./tile_coord":55}],54:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../data/bucket"),o=e("../data/feature_index"),s=e("vector-tile"),a=e("pbf"),l=e("../util/vectortile_to_geojson"),c=e("feature-filter"),u=e("../symbol/collision_tile"),h=e("../symbol/collision_box"),d=e("../symbol/symbol_instances"),p=e("../symbol/symbol_quads"),f=function(e,t,n){this.coord=e,this.uid=r.uniqueId(),this.uses=0,this.tileSize=t,this.sourceMaxZoom=n,this.buckets={},this.expires=null,this.cacheControl=null,this.state="loading"};f.prototype.registerFadeDuration=function(e,t){var n=t+this.timeAdded;n<Date.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n,e.set(this.fadeEndTime-Date.now()))},f.prototype.loadVectorData=function(e,t){this.hasData()&&this.unloadVectorData(t),this.state="loaded",e&&(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=new h(e.collisionBoxArray),this.collisionTile=new u(e.collisionTile,this.collisionBoxArray),this.symbolInstancesArray=new d(e.symbolInstancesArray),this.symbolQuadsArray=new p(e.symbolQuadsArray),this.featureIndex=new o(e.featureIndex,this.rawTileData,this.collisionTile),this.buckets=i.deserialize(e.buckets,t.style))},f.prototype.reloadSymbolData=function(e,t){var n=this;if("unloaded"!==this.state){this.collisionTile=new u(e.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var o in this.buckets){var s=n.buckets[o];"symbol"===s.layers[0].type&&(s.destroy(),delete n.buckets[o])}r.extend(this.buckets,i.deserialize(e.buckets,t))}},f.prototype.unloadVectorData=function(){var e=this;for(var t in this.buckets)e.buckets[t].destroy();this.buckets={},this.collisionBoxArray=null,this.symbolQuadsArray=null,this.symbolInstancesArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},f.prototype.redoPlacement=function(e){var t=this;if("vector"===e.type||"geojson"===e.type)return"loaded"!==this.state?void(this.redoWhenDone=!0):void(this.collisionTile&&(this.state="reloading",e.dispatcher.send("redoPlacement",{type:e.type,uid:this.uid,source:e.id,angle:e.map.transform.angle,pitch:e.map.transform.pitch,showCollisionBoxes:e.map.showCollisionBoxes},function(n,r){t.reloadSymbolData(r,e.map.style),e.fire("data",{tile:t,coord:t.coord,dataType:"tile"}),e.map&&(e.map.painter.tileExtentVAO.vao=null),t.state="loaded",t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(e))},this.workerID)))},f.prototype.getBucket=function(e){return this.buckets[e.id]},f.prototype.querySourceFeatures=function(e,t){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new s.VectorTile(new a(this.rawTileData)).layers);var r=this.vtLayers._geojsonTileLayer||this.vtLayers[t.sourceLayer];if(r)for(var i=c(t&&t.filter),o={z:this.coord.z,x:this.coord.x,y:this.coord.y},u=0;u<r.length;u++){var h=r.feature(u);if(i(h)){var d=new l(h,n.coord.z,n.coord.x,n.coord.y);d.tile=o,e.push(d)}}}},f.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},f.prototype.setExpiryData=function(e){e.cacheControl&&(this.cacheControl=e.cacheControl),e.expires&&(this.expires=e.expires)},f.prototype.getExpiry=function(){if(this.cacheControl){var e=r.parseCacheControl(this.cacheControl);if(e["max-age"])return this.timeAdded+1e3*e["max-age"]}else if(this.expires)return new Date(this.expires).getTime()},t.exports=f},{"../data/bucket":2,"../data/feature_index":12,"../symbol/collision_box":80,"../symbol/collision_tile":82,"../symbol/symbol_instances":91,"../symbol/symbol_quads":92,"../util/util":131,"../util/vectortile_to_geojson":132,"feature-filter":145,pbf:198,"vector-tile":209}],55:[function(e,t,n){"use strict";function r(e,t){if(e.row>t.row){var n=e;e=t,t=n}return{x0:e.column,y0:e.row,x1:t.column,y1:t.row,dx:t.column-e.column,dy:t.row-e.row}}function i(e,t,n,r,i){var o=Math.max(n,Math.floor(t.y0)),s=Math.min(r,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var a=e;e=t,t=a}for(var l=e.dx/e.dy,c=t.dx/t.dy,u=e.dx>0,h=t.dx<0,d=o;d<s;d++){var p=l*Math.max(0,Math.min(e.dy,d+u-e.y0))+e.x0,f=c*Math.max(0,Math.min(t.dy,d+h-t.y0))+t.x0;i(Math.floor(f),Math.ceil(p),d)}}function o(e,t,n,o,s,a){var l,c=r(e,t),u=r(t,n),h=r(n,e);c.dy>u.dy&&(l=c,c=u,u=l),c.dy>h.dy&&(l=c,c=h,h=l),u.dy>h.dy&&(l=u,u=h,h=l),c.dy&&i(h,c,o,s,a),u.dy&&i(h,u,o,s,a)}function s(e,t,n){for(var r,i="",o=e;o>0;o--)r=1<<o-1,i+=(t&r?1:0)+(n&r?2:0);return i}var a=e("whoots-js"),l=e("../geo/coordinate"),c=function(e,t,n,r){isNaN(r)&&(r=0),this.z=+e,this.x=+t,this.y=+n,this.w=+r,r*=2,r<0&&(r=r*-1-1);var i=1<<this.z;this.id=32*(i*i*r+i*this.y+this.x)+this.z,this.posMatrix=null};c.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},c.prototype.toCoordinate=function(e){var t=Math.min(this.z,void 0===e?this.z:e),n=Math.pow(2,t),r=this.y,i=this.x+n*this.w;return new l(i,r,t)},c.prototype.url=function(e,t,n){var r=a.getTileBBox(this.x,this.y,this.z),i=s(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,t||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",i).replace("{bbox-epsg-3857}",r)},c.prototype.parent=function(e){return 0===this.z?null:this.z>e?new c(this.z-1,this.x,this.y,this.w):new c(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},c.prototype.wrapped=function(){return new c(this.z,this.x,this.y,0)},c.prototype.children=function(e){if(this.z>=e)return[new c(this.z+1,this.x,this.y,this.w)];var t=this.z+1,n=2*this.x,r=2*this.y;return[new c(t,n,r,this.w),new c(t,n+1,r,this.w),new c(t,n,r+1,this.w),new c(t,n+1,r+1,this.w)]},c.cover=function(e,t,n,r){function i(e,t,i){var o,l,u,h;if(i>=0&&i<=s)for(o=e;o<t;o++)l=Math.floor(o/s),u=(o%s+s)%s,0!==l&&r!==!0||(h=new c(n,u,i,l),a[h.id]=h)}void 0===r&&(r=!0);var s=1<<e,a={};return o(t[0],t[1],t[2],0,s,i),o(t[2],t[3],t[0],0,s,i),Object.keys(a).map(function(e){return a[e]})},c.fromID=function(e){var t=e%32,n=1<<t,r=(e-t)/32,i=r%n,o=(r-i)/n%n,s=Math.floor(r/(n*n));return s%2!==0&&(s=s*-1-1),s/=2,new c(t,i,o,s)},t.exports=c},{"../geo/coordinate":18,"whoots-js":217}],56:[function(e,t,n){"use strict";var r=e("../util/evented"),i=e("../util/util"),o=e("./load_tilejson"),s=e("../util/mapbox").normalizeTileURL,a=function(e){function t(t,n,r,o){if(e.call(this),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,i.extend(this,i.pick(n,["url","scheme","tileSize"])),this._options=i.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");
this.setEventedParent(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),o(this._options,function(t,n){return t?void e.fire("error",t):(i.extend(e,n),e.fire("data",{dataType:"source"}),void e.fire("source.load"))})},t.prototype.onAdd=function(e){this.load(),this.map=e},t.prototype.serialize=function(){return i.extend({},this._options)},t.prototype.loadTile=function(e,t){function n(n,r){if(!e.aborted){if(n)return t(n);e.setExpiryData(r),e.loadVectorData(r,this.map.painter),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(this)),t(null),e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)}}var r=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,i={url:s(e.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:e.uid,coord:e.coord,zoom:e.coord.z,tileSize:this.tileSize*r,type:this.type,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=t:this.dispatcher.send("reloadTile",i,n.bind(this),e.workerID):e.workerID=this.dispatcher.send("loadTile",i,n.bind(this))},t.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t}(r);t.exports=a},{"../util/evented":120,"../util/mapbox":127,"../util/util":131,"./load_tilejson":47}],57:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("vector-tile"),o=e("pbf"),s=e("./worker_tile"),a=e("../util/util"),l=function(e,t,n){this.actor=e,this.layerIndex=t,n&&(this.loadVectorData=n),this.loading={},this.loaded={}};l.prototype.loadTile=function(e,t){function n(e,n){return delete this.loading[r][i],e?t(e):n?(o.vectorTile=n,o.parse(n,this.layerIndex,this.actor,function(e,r,i){if(e)return t(e);var o={};n.expires&&(o.expires=n.expires),n.cacheControl&&(o.cacheControl=n.cacheControl),t(null,a.extend({rawTileData:n.rawData},r,o),i)}),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][i]=o)):t(null,null)}var r=e.source,i=e.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new s(e);o.abort=this.loadVectorData(e,n.bind(this))},l.prototype.reloadTile=function(e,t){function n(e,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,r)}t(e,n)}var r=this.loaded[e.source],i=e.uid,o=this;if(r&&r[i]){var s=r[i];"parsing"===s.status?s.reloadCallback=t:"done"===s.status&&s.parse(s.vectorTile,this.layerIndex,this.actor,n.bind(s))}},l.prototype.abortTile=function(e){var t=this.loading[e.source],n=e.uid;t&&t[n]&&t[n].abort&&(t[n].abort(),delete t[n])},l.prototype.removeTile=function(e){var t=this.loaded[e.source],n=e.uid;t&&t[n]&&delete t[n]},l.prototype.loadVectorData=function(e,t){function n(e,n){if(e)return t(e);var r=new i.VectorTile(new o(n.data));r.rawData=n.data,r.cacheControl=n.cacheControl,r.expires=n.expires,t(e,r)}var s=r.getArrayBuffer(e.url,n.bind(this));return function(){s.abort()}},l.prototype.redoPlacement=function(e,t){var n=this.loaded[e.source],r=this.loading[e.source],i=e.uid;if(n&&n[i]){var o=n[i],s=o.redoPlacement(e.angle,e.pitch,e.showCollisionBoxes);s.result&&t(null,s.result,s.transferables)}else r&&r[i]&&(r[i].angle=e.angle)},t.exports=l},{"../util/ajax":111,"../util/util":131,"./worker_tile":60,pbf:198,"vector-tile":209}],58:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("./image_source"),o=function(e){function t(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this,t=this.options;this.urls=t.urls,r.getVideo(t.urls,function(t,n){if(t)return e.fire("error",{error:t});e.video=n,e.video.loop=!0;var r;e.video.addEventListener("playing",function(){r=e.map.style.animationLoop.set(1/0),e.map._rerender()}),e.video.addEventListener("pause",function(){e.map.style.animationLoop.cancel(r)}),e.map&&e.video.play(),e._finishLoading()})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(e){this.map||(this.load(),this.map=e,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){!this.tile||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t}(i);t.exports=o},{"../util/ajax":111,"./image_source":45}],59:[function(e,t,n){"use strict";var r=e("../util/actor"),i=e("../style/style_layer_index"),o=e("./vector_tile_worker_source"),s=e("./geojson_worker_source"),a=e("./rtl_text_plugin"),l=function(e){var t=this;this.self=e,this.actor=new r(e,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:s},this.workerSources={},this.self.registerWorkerSource=function(e,n){if(t.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');t.workerSourceTypes[e]=n},this.self.registerRTLTextPlugin=function(e){if(a.applyArabicShaping||a.processBidirectionalText)throw new Error("RTL text plugin already registered.");a.applyArabicShaping=e.applyArabicShaping,a.processBidirectionalText=e.processBidirectionalText}};l.prototype.setLayers=function(e,t){this.getLayerIndex(e).replace(t)},l.prototype.updateLayers=function(e,t){this.getLayerIndex(e).update(t.layers,t.removedIds,t.symbolOrder)},l.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type).loadTile(t,n)},l.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type).reloadTile(t,n)},l.prototype.abortTile=function(e,t){this.getWorkerSource(e,t.type).abortTile(t)},l.prototype.removeTile=function(e,t){this.getWorkerSource(e,t.type).removeTile(t)},l.prototype.removeSource=function(e,t){var n=this.getWorkerSource(e,t.type);void 0!==n.removeSource&&n.removeSource(t)},l.prototype.redoPlacement=function(e,t,n){this.getWorkerSource(e,t.type).redoPlacement(t,n)},l.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e)}},l.prototype.loadRTLTextPlugin=function(e,t,n){try{a.applyArabicShaping||a.processBidirectionalText||this.self.importScripts(t)}catch(e){n(e)}},l.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t},l.prototype.getWorkerSource=function(e,t){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),!this.workerSources[e][t]){var r={send:function(t,r,i,o){n.actor.send(t,r,i,o,e)}};this.workerSources[e][t]=new this.workerSourceTypes[t](r,this.getLayerIndex(e))}return this.workerSources[e][t]},t.exports=function(e){return new l(e)}},{"../style/style_layer_index":73,"../util/actor":110,"./geojson_worker_source":43,"./rtl_text_plugin":51,"./vector_tile_worker_source":57}],60:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.layers;n<r.length;n+=1){var i=r[n];i.recalculate(t)}}function i(e,t){return e.filter(function(e){return!e.isEmpty()}).map(function(e){return e.serialize(t)})}var o=e("../data/feature_index"),s=e("../symbol/collision_tile"),a=e("../symbol/collision_box"),l=e("../util/dictionary_coder"),c=e("../util/util"),u=e("../symbol/symbol_instances"),h=e("../symbol/symbol_quads"),d=function(e){this.coord=e.coord,this.uid=e.uid,this.zoom=e.zoom,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.angle=e.angle,this.pitch=e.pitch,this.showCollisionBoxes=e.showCollisionBoxes};d.prototype.parse=function(e,t,n,d){var p=this;e.layers||(e={layers:{_geojsonTileLayer:e}}),this.status="parsing",this.data=e,this.collisionBoxArray=new a,this.symbolInstancesArray=new u,this.symbolQuadsArray=new h;var f=new l(Object.keys(e.layers).sort()),g=new o(this.coord,this.overscaling);g.bucketLayerIDs={};var m={},v=0,y={featureIndex:g,iconDependencies:{},glyphDependencies:{}},b=t.familiesBySource[this.source];for(var w in b){var x=e.layers[w];if(x){1===x.version&&c.warnOnce('Vector tile source "'+p.source+'" layer "'+w+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=f.encode(w),E=[],C=0;C<x.length;C++){var S=x.feature(C);S.index=C,S.sourceLayerIndex=_,E.push(S)}for(var k=0,A=b[w];k<A.length;k+=1){var T=A[k],F=T[0];if(!(F.minzoom&&p.zoom<F.minzoom||F.maxzoom&&p.zoom>=F.maxzoom||F.layout&&"none"===F.layout.visibility)){for(var L=0,R=T;L<R.length;L+=1){var M=R[L];M.recalculate(p.zoom)}var I=m[F.id]=F.createBucket({index:v,layers:T,zoom:p.zoom,overscaling:p.overscaling,collisionBoxArray:p.collisionBoxArray,symbolQuadsArray:p.symbolQuadsArray,symbolInstancesArray:p.symbolInstancesArray});I.populate(E,y),g.bucketLayerIDs[v]=T.map(function(e){return e.id}),v++}}}}var D=function(e){p.status="done";var t=[];d(null,{buckets:i(c.values(m),t),featureIndex:g.serialize(t),collisionTile:e.serialize(t),collisionBoxArray:p.collisionBoxArray.serialize(),symbolInstancesArray:p.symbolInstancesArray.serialize(),symbolQuadsArray:p.symbolQuadsArray.serialize()},t)};this.symbolBuckets=[];for(var N=t.symbolOrder.length-1;N>=0;N--){var P=m[t.symbolOrder[N]];P&&p.symbolBuckets.push(P)}if(0===this.symbolBuckets.length)return D(new s(this.angle,this.pitch,this.collisionBoxArray));var O=0,B=Object.keys(y.iconDependencies),$=c.mapObject(y.glyphDependencies,function(e){return Object.keys(e).map(Number)}),j=function(e){if(e)return d(e);if(O++,2===O){for(var t=new s(p.angle,p.pitch,p.collisionBoxArray),n=0,i=p.symbolBuckets;n<i.length;n+=1){var o=i[n];r(o,p.zoom),o.prepare($,B),o.place(t,p.showCollisionBoxes)}D(t)}};Object.keys($).length?n.send("getGlyphs",{uid:this.uid,stacks:$},function(e,t){$=t,j(e)}):j(),B.length?n.send("getIcons",{icons:B},function(e,t){B=t,j(e)}):j()},d.prototype.redoPlacement=function(e,t,n){var o=this;if(this.angle=e,this.pitch=t,"done"!==this.status)return{};for(var a=new s(this.angle,this.pitch,this.collisionBoxArray),l=0,c=this.symbolBuckets;l<c.length;l+=1){var u=c[l];r(u,o.zoom),u.place(a,n)}var h=[];return{result:{buckets:i(this.symbolBuckets,h),collisionTile:a.serialize(h)},transferables:h}},t.exports=d},{"../data/feature_index":12,"../symbol/collision_box":80,"../symbol/collision_tile":82,"../symbol/symbol_instances":91,"../symbol/symbol_quads":92,"../util/dictionary_coder":117,"../util/util":131}],61:[function(e,t,n){"use strict";var r=function(){this.n=0,this.times=[]};r.prototype.stopped=function(){return this.times=this.times.filter(function(e){return e.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(e){return this.times.push({id:this.n,time:e+(new Date).getTime()}),this.n++},r.prototype.cancel=function(e){this.times=this.times.filter(function(t){return t.id!==e})},t.exports=r},{}],62:[function(e,t,n){"use strict";var r=e("../util/evented"),i=e("../util/ajax"),o=e("../util/browser"),s=e("../util/mapbox").normalizeSpriteURL,a=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},l=function(e){function t(t,n){var r=this;e.call(this),this.base=t,this.retina=o.devicePixelRatio>1,this.setEventedParent(n);var a=this.retina?"@2x":"";i.getJSON(s(t,a,".json"),function(e,t){return e?void r.fire("error",{error:e}):(r.data=t,void(r.imgData&&r.fire("data",{dataType:"style"})))}),i.getImage(s(t,a,".png"),function(e,t){if(e)return void r.fire("error",{error:e});r.imgData=o.getImageData(t);for(var n=0;n<r.imgData.length;n+=4){var i=r.imgData[n+3]/255;r.imgData[n+0]*=i,r.imgData[n+1]*=i,r.imgData[n+2]*=i}r.width=t.width,r.data&&r.fire("data",{dataType:"style"})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toJSON=function(){return this.base},t.prototype.loaded=function(){return!(!this.data||!this.imgData)},t.prototype.resize=function(){var e=this;if(o.devicePixelRatio>1!==this.retina){var n=new t(this.base);n.on("data",function(){e.data=n.data,e.imgData=n.imgData,e.width=n.width,e.retina=n.retina})}},t.prototype.getSpritePosition=function(e){if(!this.loaded())return new a;var t=this.data&&this.data[e];return t&&this.imgData?t:new a},t}(r);t.exports=l},{"../util/ajax":111,"../util/browser":112,"../util/evented":120,"../util/mapbox":127}],63:[function(e,t,n){"use strict";var r=e("./style_spec"),i=e("../util/util"),o=e("../util/evented"),s=e("./validate_style"),a=e("./style_declaration"),l=e("./style_transition"),c="-transition",u=function(e){function t(t){e.call(this),this.properties=["anchor","color","position","intensity"],this._specifications=r.light,this.set(t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){var t=this;if(!this._validate(s.light,e)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},e=i.extend({anchor:this._specifications.anchor.default,color:this._specifications.color.default,position:this._specifications.position.default,intensity:this._specifications.intensity.default},e);for(var n=0,r=this.properties;n<r.length;n+=1){var o=r[n];t._declarations[o]=new a(t._specifications[o],e[o])}return this}},t.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},t.prototype.getLightProperty=function(e){return i.endsWith(e,c)?this._transitionOptions[e]:this._declarations[e]&&this._declarations[e].value},t.prototype.getLightValue=function(e,t){if("position"===e){var n=this._transitions[e].calculate(t),r=i.sphericalToCartesian(n);return{x:r[0],y:r[1],z:r[2]}}return this._transitions[e].calculate(t)},t.prototype.setLight=function(e){var t=this;if(!this._validate(s.light,e))for(var n in e){var r=e[n];i.endsWith(n,c)?t._transitionOptions[n]=r:null===r||void 0===r?delete t._declarations[n]:t._declarations[n]=new a(t._specifications[n],r)}},t.prototype.recalculate=function(e){var t=this;for(var n in this._declarations)t.calculated[n]=t.getLightValue(n,{zoom:e})},t.prototype._applyLightDeclaration=function(e,t,n,r,o){var s=n.transition?this._transitions[e]:void 0,u=this._specifications[e];if(null!==t&&void 0!==t||(t=new a(u,u.default)),!s||s.declaration.json!==t.json){var h=i.extend({duration:300,delay:0},r,this.getLightProperty(e+c)),d=this._transitions[e]=new l(u,t,s,h);d.instant()||(d.loopID=o.set(d.endTime-Date.now())),s&&o.cancel(s.loopID)}},t.prototype.updateLightTransitions=function(e,t,n){var r,i=this;for(r in this._declarations)i._applyLightDeclaration(r,i._declarations[r],e,t,n)},t.prototype._validate=function(e,t){return s.emitErrors(this,e.call(s,i.extend({value:t,style:{glyphs:!0,sprite:!0},styleSpec:r})))},t}(o);t.exports=u},{"../util/evented":120,"../util/util":131,"./style_declaration":66,"./style_spec":74,"./style_transition":75,"./validate_style":76}],64:[function(e,t,n){"use strict";var r=e("csscolorparser").parseCSSColor,i=e("../util/util"),o=e("mapbox-gl-function"),s={};t.exports=function e(t){if(t&&o.isFunctionDefinition(t))return t.stops?i.extend({},t,{stops:t.stops.map(function(t){return[t[0],e(t[1])]})}):t;if("string"==typeof t){if(!s[t]){var n=r(t);if(!n)throw new Error("Invalid color "+t);s[t]=[n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]]}return s[t]}if(Array.isArray(t))return t;throw new Error("Invalid color "+t)}},{"../util/util":131,csscolorparser:142,"mapbox-gl-function":167}],65:[function(e,t,n){"use strict";var r=e("../util/evented"),i=e("./style_layer"),o=e("./image_sprite"),s=e("./light"),a=e("../symbol/glyph_source"),l=e("../symbol/sprite_atlas"),c=e("../render/line_atlas"),u=e("../util/util"),h=e("../util/ajax"),d=e("../util/mapbox"),p=e("../util/browser"),f=e("../util/dispatcher"),g=e("./animation_loop"),m=e("./validate_style"),v=e("../source/source"),y=e("../source/query_features"),b=e("../source/source_cache"),w=e("./style_spec"),x=e("mapbox-gl-function"),_=e("../global_worker_pool"),E=e("mapbox-gl-style-spec/lib/deref"),C=e("mapbox-gl-style-spec/lib/diff"),S=e("../source/rtl_text_plugin"),k=u.pick(C.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition"]),A=u.pick(C.operations,["setCenter","setZoom","setBearing","setPitch"]),T=function(e){function t(t,n,r){var i=this;e.call(this),this.map=n,this.animationLoop=n&&n.animationLoop||new g,this.dispatcher=new f(_(),this),this.spriteAtlas=new l(1024,1024),this.lineAtlas=new c(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,u.bindAll(["_redoPlacement"],this),this._resetUpdates(),r=u.extend({validate:"string"!=typeof t||!d.isMapboxURL(t)},r),this.setEventedParent(n),this.fire("dataloading",{dataType:"style"});var s=this;S.registerForPluginAvailability(function(e){s.dispatcher.broadcast("loadRTLTextPlugin",e,S.errorCallback);for(var t in s.sourceCaches)s.sourceCaches[t].reload()});var v=function(e,t){if(e)return void i.fire("error",{error:e});if(!r.validate||!m.emitErrors(i,m(t))){i._loaded=!0,i.stylesheet=t,i.updateClasses();for(var n in t.sources)i.addSource(n,t.sources[n],r);t.sprite&&(i.sprite=new o(t.sprite,i)),i.glyphSource=new a(t.glyphs),i._resolve(),i.fire("data",{dataType:"style"}),i.fire("style.load")}};"string"==typeof t?h.getJSON(d.normalizeStyleURL(t),v):p.frame(v.bind(this,null,t)),this.on("source.load",function(e){var t=i.sourceCaches[e.sourceId].getSource();if(t&&t.vectorLayerIds)for(var n in i._layers){var r=i._layers[n];r.source===t.id&&i._validateLayer(r)}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._validateLayer=function(e){var t=this.sourceCaches[e.source];if(e.sourceLayer&&t){var n=t.getSource();("geojson"===n.type||n.vectorLayerIds&&n.vectorLayerIds.indexOf(e.sourceLayer)===-1)&&this.fire("error",{error:new Error('Source layer "'+e.sourceLayer+'" does not exist on source "'+n.id+'" as specified by style layer "'+e.id+'"')})}},t.prototype.loaded=function(){var e=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!e.sourceCaches[t].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},t.prototype._resolve=function(){var e=this,t=E(this.stylesheet.layers);this._order=t.map(function(e){return e.id}),this._layers={};for(var n=0,r=t;n<r.length;n+=1){var o=r[n];o=i.create(o),o.setEventedParent(e,{layer:{id:o.id}}),e._layers[o.id]=o}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new s(this.stylesheet.light)},t.prototype._serializeLayers=function(e){var t=this;return e.map(function(e){return t._layers[e].serialize()})},t.prototype._applyClasses=function(e,t){var n=this;if(this._loaded){e=e||[],t=t||{transition:!0};var r=this.stylesheet.transition||{},i=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var o in i){var s=n._layers[o],a=n._updatedPaintProps[o];if(n._updatedAllPaintProps||a.all)s.updatePaintTransitions(e,t,r,n.animationLoop,n.zoomHistory);else for(var l in a)n._layers[o].updatePaintTransition(l,e,t,r,n.animationLoop,n.zoomHistory)}this.light.updateLightTransitions(t,r,this.animationLoop)}},t.prototype._recalculate=function(e){var t=this;if(this._loaded){for(var n in this.sourceCaches)t.sourceCaches[n].used=!1;this._updateZoomHistory(e);for(var r=0,i=this._order;r<i.length;r+=1){var o=i[r],s=t._layers[o];s.recalculate(e),!s.isHidden(e)&&s.source&&(t.sourceCaches[s.source].used=!0)}this.light.recalculate(e);var a=300;Math.floor(this.z)!==Math.floor(e)&&this.animationLoop.set(a),this.z=e}},t.prototype._updateZoomHistory=function(e){var t=this.zoomHistory;void 0===t.lastIntegerZoom&&(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=0,t.lastZoom=e),Math.floor(t.lastZoom)<Math.floor(e)?(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=Date.now()):Math.floor(t.lastZoom)>Math.floor(e)&&(t.lastIntegerZoom=Math.floor(e+1),t.lastIntegerZoomTime=Date.now()),t.lastZoom=e},t.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},t.prototype.update=function(e,t){var n=this;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(r.length||i.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(r,i);for(var o in this._updatedSources){var s=n._updatedSources[o];"reload"===s?n._reloadSource(o):"clear"===s&&n._clearSource(o)}this._applyClasses(e,t),this._resetUpdates(),this.fire("data",{dataType:"style"})}},t.prototype._updateWorkerLayers=function(e,t){var n=this,r=this._updatedSymbolOrder?this._order.filter(function(e){return"symbol"===n._layers[e].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t,symbolOrder:r})},t.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},t.prototype.setState=function(e){var t=this;if(this._checkLoaded(),m.emitErrors(this,m(e)))return!1;e=u.extend({},e),e.layers=E(e.layers);var n=C(this.serialize(),e).filter(function(e){return!(e.command in A)});if(0===n.length)return!1;var r=n.filter(function(e){return!(e.command in k)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(e){return e.command}).join(", ")+".");return n.forEach(function(e){"setTransition"!==e.command&&t[e.command].apply(t,e.args)}),this.stylesheet=e,!0},t.prototype.addSource=function(e,t,n){if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!t.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(t)+".");var r=["vector","raster","geojson","video","image","canvas"],i=r.indexOf(t.type)>=0;if(!i||!this._validate(m.source,"sources."+e,t,null,n)){var o=this.sourceCaches[e]=new b(e,t,this.dispatcher);o.style=this,o.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:o.serialize(),sourceId:e}}),o.onAdd(this.map),this._changed=!0}},t.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");var t=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],t.setEventedParent(null),t.clearTiles(),t.onRemove&&t.onRemove(this.map),this._changed=!0},t.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},t.prototype.addLayer=function(e,t,n){this._checkLoaded();var r=e.id;if("object"==typeof e.source&&(this.addSource(r,e.source),e=u.extend(e,{source:r})),!this._validate(m.layer,"layers."+r,e,{arrayIndex:-1},n)){var o=i.create(e);this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}});var s=t?this._order.indexOf(t):this._order.length;if(this._order.splice(s,0,r),this._layers[r]=o,this._removedLayers[r]&&o.source){var a=this._removedLayers[r];delete this._removedLayers[r],this._updatedSources[o.source]=a.type!==o.type?"clear":"reload"}this._updateLayer(o),"symbol"===o.type&&(this._updatedSymbolOrder=!0),this.updateClasses(r)}},t.prototype.moveLayer=function(e,t){this._checkLoaded(),this._changed=!0;var n=this._layers[e];if(!n)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")});var r=this._order.indexOf(e);this._order.splice(r,1);var i=t?this._order.indexOf(t):this._order.length;this._order.splice(i,0,e),"symbol"===n.type&&(this._updatedSymbolOrder=!0,n.source&&!this._updatedSources[n.source]&&(this._updatedSources[n.source]="reload"))},t.prototype.removeLayer=function(e){this._checkLoaded();var t=this._layers[e];if(!t)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")});t.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),"symbol"===t.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[e]=t,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]},t.prototype.getLayer=function(e){return this._layers[e]},t.prototype.setLayerZoomRange=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);return r?void(r.minzoom===t&&r.maxzoom===n||(null!=t&&(r.minzoom=t),null!=n&&(r.maxzoom=n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")})},t.prototype.setFilter=function(e,t){this._checkLoaded();var n=this.getLayer(e);return n?void(null!==t&&void 0!==t&&this._validate(m.filter,"layers."+n.id+".filter",t)||u.deepEqual(n.filter,t)||(n.filter=u.clone(t),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")})},t.prototype.getFilter=function(e){return u.clone(this.getLayer(e).filter)},t.prototype.setLayoutProperty=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);return r?void(u.deepEqual(r.getLayoutProperty(t),n)||(r.setLayoutProperty(t,n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")})},t.prototype.getLayoutProperty=function(e,t){return this.getLayer(e).getLayoutProperty(t)},t.prototype.setPaintProperty=function(e,t,n,r){this._checkLoaded();var i=this.getLayer(e);if(!i)return void this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")});if(!u.deepEqual(i.getPaintProperty(t,r),n)){var o=i.isPaintValueFeatureConstant(t);i.setPaintProperty(t,n,r);var s=!(n&&x.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);s&&o||this._updateLayer(i),this.updateClasses(e,t)}},t.prototype.getPaintProperty=function(e,t,n){return this.getLayer(e).getPaintProperty(t,n)},t.prototype.getTransition=function(){return u.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},t.prototype.updateClasses=function(e,t){if(this._changed=!0,e){var n=this._updatedPaintProps;n[e]||(n[e]={}),n[e][t||"all"]=!0}else this._updatedAllPaintProps=!0},t.prototype.serialize=function(){var e=this;return u.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:u.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(e){return void 0!==e})},t.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload"),this._changed=!0},t.prototype._flattenRenderedFeatures=function(e){for(var t=this,n=[],r=this._order.length-1;r>=0;r--)for(var i=t._order[r],o=0,s=e;o<s.length;o+=1){var a=s[o],l=a[i];if(l)for(var c=0,u=l;c<u.length;c+=1){var h=u[c];n.push(h)}}return n},t.prototype.queryRenderedFeatures=function(e,t,n,r){var i=this;t&&t.filter&&this._validate(m.filter,"queryRenderedFeatures.filter",t.filter);var o={};if(t&&t.layers)for(var s=0,a=t.layers;s<a.length;s+=1){var l=a[s],c=i._layers[l];if(!c)return void i.fire("error",{error:"The layer '"+l+"' does not exist in the map's style and cannot be queried for features."});o[c.source]=!0}var u=[];for(var h in this.sourceCaches)if(!t.layers||o[h]){var d=y.rendered(i.sourceCaches[h],i._layers,e,t,n,r);u.push(d)}return this._flattenRenderedFeatures(u)},t.prototype.querySourceFeatures=function(e,t){t&&t.filter&&this._validate(m.filter,"querySourceFeatures.filter",t.filter);var n=this.sourceCaches[e];return n?y.source(n,t):[]},t.prototype.addSourceType=function(e,t,n){return v.getType(e)?n(new Error('A source type called "'+e+'" already exists.')):(v.setType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},t.prototype.getLight=function(){return this.light.getLight()},t.prototype.setLight=function(e,t){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var i in e)if(!u.deepEqual(e[i],n[i])){r=!0;break}if(r){var o=this.stylesheet.transition||{};this.light.setLight(e),this.light.updateLightTransitions(t||{transition:!0},o,this.animationLoop)}},t.prototype._validate=function(e,t,n,r,i){return(!i||i.validate!==!1)&&m.emitErrors(this,e.call(m,u.extend({key:t,style:this.serialize(),value:n,styleSpec:w},r)))},t.prototype._remove=function(){var e=this;for(var t in this.sourceCaches)e.sourceCaches[t].clearTiles();this.dispatcher.remove()},t.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},t.prototype._reloadSource=function(e){this.sourceCaches[e].reload()},t.prototype._updateSources=function(e){var t=this;for(var n in this.sourceCaches)t.sourceCaches[n].update(e)},t.prototype._redoPlacement=function(){var e=this;for(var t in this.sourceCaches)e.sourceCaches[t].redoPlacement()},t.prototype.getIcons=function(e,t,n){var r=this,i=function(){r.spriteAtlas.setSprite(r.sprite),r.spriteAtlas.addIcons(t.icons,n)};this.sprite.loaded()?i():this.sprite.on("data",i)},t.prototype.getGlyphs=function(e,t,n){function r(e,t,r){e&&console.error(e),a[r]=t,s--,0===s&&n(null,a)}var i=this,o=t.stacks,s=Object.keys(o).length,a={};for(var l in o)i.glyphSource.getSimpleGlyphs(l,o[l],t.uid,r)},t}(r);t.exports=T},{"../global_worker_pool":22,"../render/line_atlas":35,"../source/query_features":49,"../source/rtl_text_plugin":51,"../source/source":52,"../source/source_cache":53,"../symbol/glyph_source":85,"../symbol/sprite_atlas":90,"../util/ajax":111,"../util/browser":112,"../util/dispatcher":118,"../util/evented":120,"../util/mapbox":127,"../util/util":131,"./animation_loop":61,"./image_sprite":62,"./light":63,"./style_layer":67,"./style_spec":74,"./validate_style":76,"mapbox-gl-function":167,"mapbox-gl-style-spec/lib/deref":168,"mapbox-gl-style-spec/lib/diff":169}],66:[function(e,t,n){"use strict";var r=e("mapbox-gl-function"),i=e("./parse_color"),o=e("../util/util"),s=function(e,t){var n=this;this.value=o.clone(t),this.isFunction=r.isFunctionDefinition(t),this.json=JSON.stringify(this.value),this.minimum=e.minimum,this.isColor="color"===e.type;var s=this.isColor&&this.value?i(this.value):t,a=e.default;if(a&&"color"===e.type&&(a=i(a)),this.function=r[e.function||"piecewise-constant"](s,a),this.isFeatureConstant=this.function.isFeatureConstant,this.isZoomConstant=this.function.isZoomConstant,!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var l=[],c=0,u=this.value.stops;c<u.length;c+=1){var h=u[c],d=h[0].zoom;n.stopZoomLevels.indexOf(d)<0&&(n.stopZoomLevels.push(d),l.push([d,l.length]))}this.functionInterpolationT=r.interpolated({stops:l,base:t.base,colorSpace:t.colorSpace})}};s.prototype.calculate=function(e,t){var n=this.function(e&&e.zoom,t||{});return this.isColor&&n?i(n):void 0!==this.minimum&&n<this.minimum?this.minimum:n},s.prototype.calculateInterpolationT=function(e,t){return this.functionInterpolationT(e&&e.zoom,t||{})},t.exports=s},{"../util/util":131,"./parse_color":64,"mapbox-gl-function":167}],67:[function(e,t,n){"use strict";function r(e){return e.value}var i=e("../util/util"),o=e("./style_transition"),s=e("./style_declaration"),a=e("./style_spec"),l=e("./validate_style"),c=e("./parse_color"),u=e("../util/evented"),h="-transition",d=function(e){function t(t){var n=this;e.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,
this.maxzoom=t.maxzoom,this.filter=t.filter,this.paint={},this.layout={},this._paintSpecifications=a["paint_"+this.type],this._layoutSpecifications=a["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var r,i,o={validate:!1};for(var s in t){var l=s.match(/^paint(?:\.(.*))?$/);if(l){var c=l[1]||"";for(r in t[s])n.setPaintProperty(r,t[s][r],c,o)}}for(i in t.layout)n.setLayoutProperty(i,t.layout[i],o);for(r in this._paintSpecifications)n.paint[r]=n.getPaintValue(r);for(i in this._layoutSpecifications)n._updateLayoutValue(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setLayoutProperty=function(e,t,n){if(null==t)delete this._layoutDeclarations[e];else{var r="layers."+this.id+".layout."+e;if(this._validate(l.layoutProperty,r,e,t,n))return;this._layoutDeclarations[e]=new s(this._layoutSpecifications[e],t)}this._updateLayoutValue(e)},t.prototype.getLayoutProperty=function(e){return this._layoutDeclarations[e]&&this._layoutDeclarations[e].value},t.prototype.getLayoutValue=function(e,t,n){var r=this._layoutSpecifications[e],i=this._layoutDeclarations[e];return i?i.calculate(t,n):r.default},t.prototype.setPaintProperty=function(e,t,n,r){var o="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+e;if(i.endsWith(e,h))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===t||void 0===t)delete this._paintTransitionOptions[n||""][e];else{if(this._validate(l.paintProperty,o,e,t,r))return;this._paintTransitionOptions[n||""][e]=t}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===t||void 0===t)delete this._paintDeclarations[n||""][e];else{if(this._validate(l.paintProperty,o,e,t,r))return;this._paintDeclarations[n||""][e]=new s(this._paintSpecifications[e],t)}},t.prototype.getPaintProperty=function(e,t){return t=t||"",i.endsWith(e,h)?this._paintTransitionOptions[t]&&this._paintTransitionOptions[t][e]:this._paintDeclarations[t]&&this._paintDeclarations[t][e]&&this._paintDeclarations[t][e].value},t.prototype.getPaintValue=function(e,t,n){var r=this._paintSpecifications[e],i=this._paintTransitions[e];return i?i.calculate(t,n):"color"===r.type&&r.default?c(r.default):r.default},t.prototype.getPaintValueStopZoomLevels=function(e){var t=this._paintTransitions[e];return t?t.declaration.stopZoomLevels:[]},t.prototype.getPaintInterpolationT=function(e,t){var n=this._paintTransitions[e];return n.declaration.calculateInterpolationT(t)},t.prototype.isPaintValueFeatureConstant=function(e){var t=this._paintTransitions[e];return!t||t.declaration.isFeatureConstant},t.prototype.isLayoutValueFeatureConstant=function(e){var t=this._layoutDeclarations[e];return!t||t.isFeatureConstant},t.prototype.isPaintValueZoomConstant=function(e){var t=this._paintTransitions[e];return!t||t.declaration.isZoomConstant},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.layout.visibility},t.prototype.updatePaintTransitions=function(e,t,n,r,o){for(var s=this,a=i.extend({},this._paintDeclarations[""]),l=0;l<e.length;l++)i.extend(a,s._paintDeclarations[e[l]]);var c;for(c in a)s._applyPaintDeclaration(c,a[c],t,n,r,o);for(c in this._paintTransitions)c in a||s._applyPaintDeclaration(c,null,t,n,r,o)},t.prototype.updatePaintTransition=function(e,t,n,r,i,o){for(var s=this,a=this._paintDeclarations[""][e],l=0;l<t.length;l++){var c=s._paintDeclarations[t[l]];c&&c[e]&&(a=c[e])}this._applyPaintDeclaration(e,a,n,r,i,o)},t.prototype.recalculate=function(e){var t=this;for(var n in this._paintTransitions)t.paint[n]=t.getPaintValue(n,{zoom:e});for(var r in this._layoutFunctions)t.layout[r]=t.getLayoutValue(r,{zoom:e})},t.prototype.serialize=function(){var e=this,t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:i.mapObject(this._layoutDeclarations,r)};for(var n in this._paintDeclarations){var o=""===n?"paint":"paint."+n;t[o]=i.mapObject(e._paintDeclarations[n],r)}return i.filterObject(t,function(e,t){return void 0!==e&&!("layout"===t&&!Object.keys(e).length)})},t.prototype._applyPaintDeclaration=function(e,t,n,r,a,l){var c=n.transition?this._paintTransitions[e]:void 0,u=this._paintSpecifications[e];if(null!==t&&void 0!==t||(t=new s(u,u.default)),!c||c.declaration.json!==t.json){var d=i.extend({duration:300,delay:0},r,this.getPaintProperty(e+h)),p=this._paintTransitions[e]=new o(u,t,c,d,l);p.instant()||(p.loopID=a.set(p.endTime-Date.now())),c&&a.cancel(c.loopID)}},t.prototype._updateLayoutValue=function(e){var t=this._layoutDeclarations[e];t&&t.isFunction?this._layoutFunctions[e]=!0:(delete this._layoutFunctions[e],this.layout[e]=this.getLayoutValue(e))},t.prototype._validate=function(e,t,n,r,i){return(!i||i.validate!==!1)&&l.emitErrors(this,e.call(l,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:a,style:{glyphs:!0,sprite:!0}}))},t}(u);t.exports=d;var p={circle:e("./style_layer/circle_style_layer"),fill:e("./style_layer/fill_style_layer"),"fill-extrusion":e("./style_layer/fill_extrusion_style_layer"),line:e("./style_layer/line_style_layer"),symbol:e("./style_layer/symbol_style_layer")};d.create=function(e){var t=p[e.type]||d;return new t(e)}},{"../util/evented":120,"../util/util":131,"./parse_color":64,"./style_declaration":66,"./style_layer/circle_style_layer":68,"./style_layer/fill_extrusion_style_layer":69,"./style_layer/fill_style_layer":70,"./style_layer/line_style_layer":71,"./style_layer/symbol_style_layer":72,"./style_spec":74,"./style_transition":75,"./validate_style":76}],68:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/circle_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new i(e)},t}(r);t.exports=o},{"../../data/bucket/circle_bucket":3,"../style_layer":67}],69:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/fill_extrusion_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var i=e.prototype.getPaintValue.call(this,t,n,r);return"fill-extrusion-color"===t&&i&&(i[3]=1),i},t.prototype.createBucket=function(e){return new i(e)},t}(r);t.exports=o},{"../../data/bucket/fill_extrusion_bucket":5,"../style_layer":67}],70:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/fill_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var i=this;if("fill-outline-color"===t){if(void 0===this.getPaintProperty("fill-outline-color"))return e.prototype.getPaintValue.call(this,"fill-color",n,r);for(var o=this._paintTransitions["fill-outline-color"];o;){var s=o&&o.declaration&&o.declaration.value;if(!s)return e.prototype.getPaintValue.call(i,"fill-color",n,r);o=o.oldTransition}}return e.prototype.getPaintValue.call(this,t,n,r)},t.prototype.getPaintValueStopZoomLevels=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):e.prototype.getPaintValueStopZoomLevels.call(this,t)},t.prototype.getPaintInterpolationT=function(t,n){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.getPaintInterpolationT.call(this,"fill-color",n):e.prototype.getPaintInterpolationT.call(this,t,n)},t.prototype.isPaintValueFeatureConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):e.prototype.isPaintValueFeatureConstant.call(this,t)},t.prototype.isPaintValueZoomConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.isPaintValueZoomConstant.call(this,"fill-color"):e.prototype.isPaintValueZoomConstant.call(this,t)},t.prototype.createBucket=function(e){return new i(e)},t}(r);t.exports=o},{"../../data/bucket/fill_bucket":4,"../style_layer":67}],71:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/line_bucket"),o=e("../../util/util"),s=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var i=e.prototype.getPaintValue.call(this,t,n,r);if(i&&"line-dasharray"===t){var s=this.getPaintValue("line-width",o.extend({},n,{zoom:Math.floor(n.zoom)}),r);i.fromScale*=s,i.toScale*=s}return i},t.prototype.createBucket=function(e){return new i(e)},t}(r);t.exports=s},{"../../data/bucket/line_bucket":6,"../../util/util":131,"../style_layer":67}],72:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/symbol_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLayoutValue=function(t,n,r){var i=e.prototype.getLayoutValue.call(this,t,n,r);if("auto"!==i)return i;switch(t){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",n,r)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",n,r);default:return i}},t.prototype.createBucket=function(e){return new i(e)},t}(r);t.exports=o},{"../../data/bucket/symbol_bucket":7,"../style_layer":67}],73:[function(e,t,n){"use strict";var r=e("./style_layer"),i=e("../util/util"),o=e("feature-filter"),s=e("mapbox-gl-style-spec/lib/group_by_layout"),a=function(e){e&&this.replace(e)};a.prototype.replace=function(e){var t=this;this.symbolOrder=[];for(var n=0,r=e;n<r.length;n+=1){var i=r[n];"symbol"===i.type&&t.symbolOrder.push(i.id)}this._layerConfigs={},this._layers={},this.update(e,[])},a.prototype.update=function(e,t,n){for(var a=this,l=0,c=e;l<c.length;l+=1){var u=c[l];a._layerConfigs[u.id]=u;var h=a._layers[u.id]=r.create(u);h.updatePaintTransitions({},{transition:!1}),h.filter=o(h.filter)}for(var d=0,p=t;d<p.length;d+=1){var f=p[d];delete a._layerConfigs[f],delete a._layers[f]}n&&(this.symbolOrder=n),this.familiesBySource={};for(var g=s(i.values(this._layerConfigs)),m=0,v=g;m<v.length;m+=1){var y=v[m],b=y.map(function(e){return a._layers[e.id]}),w=b[0];if(!w.layout||"none"!==w.layout.visibility){var x=w.source||"",_=a.familiesBySource[x];_||(_=a.familiesBySource[x]={});var E=w.sourceLayer||"_geojsonTileLayer",C=_[E];C||(C=_[E]=[]),C.push(b)}}},t.exports=a},{"../util/util":131,"./style_layer":67,"feature-filter":145,"mapbox-gl-style-spec/lib/group_by_layout":171}],74:[function(e,t,n){"use strict";t.exports=e("mapbox-gl-style-spec/reference/latest.min")},{"mapbox-gl-style-spec/reference/latest.min":194}],75:[function(e,t,n){"use strict";function r(e,t,n){if(void 0!==e&&void 0!==t)return{from:e.to,fromScale:e.toScale,to:t.to,toScale:t.toScale,t:n}}var i=e("../util/util"),o=e("../util/interpolate"),s={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},a=function(e,t,n,i,a){this.declaration=t,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=n,this.duration=i.duration||0,this.delay=i.delay||0,this.zoomTransitioned="piecewise-constant"===e.function&&e.transition,this.interp=this.zoomTransitioned?r:o[e.type],this.zoomHistory=a||s,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),n&&n.endTime<=this.startTime&&delete n.oldTransition};a.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},a.prototype.calculate=function(e,t,n){var r=this._calculateTargetValue(e,t);if(this.instant())return r;if(n=n||Date.now(),n>=this.endTime)return r;var o=this.oldTransition.calculate(e,t,this.startTime),s=i.easeCubicInOut((n-this.startTime-this.delay)/this.duration);return this.interp(o,r,s)},a.prototype._calculateTargetValue=function(e,t){if(!this.zoomTransitioned)return this.declaration.calculate(e,t);var n=e.zoom,r=this.zoomHistory.lastIntegerZoom,i=n>r?2:.5,s=this.declaration.calculate({zoom:n>r?n-1:n+1},t),a=this.declaration.calculate({zoom:n},t),l=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),c=Math.abs(n-r),u=o(l,1,c);return void 0!==s&&void 0!==a?{from:s,fromScale:i,to:a,toScale:1,t:u}:void 0},t.exports=a},{"../util/interpolate":123,"../util/util":131}],76:[function(e,t,n){"use strict";t.exports=e("mapbox-gl-style-spec/lib/validate_style.min"),t.exports.emitErrors=function(e,t){if(t&&t.length){for(var n=0;n<t.length;n++)e.fire("error",{error:new Error(t[n].message)});return!0}return!1}},{"mapbox-gl-style-spec/lib/validate_style.min":193}],77:[function(e,t,n){"use strict";var r=e("point-geometry"),i=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(r);t.exports=i},{"point-geometry":200}],78:[function(e,t,n){"use strict";function r(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,s=t.segment+1,a=0;a>-n/2;){if(s--,s<0)return!1;a-=e[s].dist(o),o=e[s]}a+=e[s].dist(e[s+1]),s++;for(var l=[],c=0;a<n/2;){var u=e[s-1],h=e[s],d=e[s+1];if(!d)return!1;var p=u.angleTo(h)-h.angleTo(d);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:a,angleDelta:p}),c+=p;a-l[0].distance>r;)c-=l.shift().angleDelta;if(c>i)return!1;s++,a+=h.dist(d)}return!0}t.exports=r},{}],79:[function(e,t,n){"use strict";function r(e,t,n,r,o){for(var s=[],a=0;a<e.length;a++)for(var l,c=e[a],u=0;u<c.length-1;u++){var h=c[u],d=c[u+1];h.x<t&&d.x<t||(h.x<t?h=new i(t,h.y+(d.y-h.y)*((t-h.x)/(d.x-h.x)))._round():d.x<t&&(d=new i(t,h.y+(d.y-h.y)*((t-h.x)/(d.x-h.x)))._round()),h.y<n&&d.y<n||(h.y<n?h=new i(h.x+(d.x-h.x)*((n-h.y)/(d.y-h.y)),n)._round():d.y<n&&(d=new i(h.x+(d.x-h.x)*((n-h.y)/(d.y-h.y)),n)._round()),h.x>=r&&d.x>=r||(h.x>=r?h=new i(r,h.y+(d.y-h.y)*((r-h.x)/(d.x-h.x)))._round():d.x>=r&&(d=new i(r,h.y+(d.y-h.y)*((r-h.x)/(d.x-h.x)))._round()),h.y>=o&&d.y>=o||(h.y>=o?h=new i(h.x+(d.x-h.x)*((o-h.y)/(d.y-h.y)),o)._round():d.y>=o&&(d=new i(h.x+(d.x-h.x)*((o-h.y)/(d.y-h.y)),o)._round()),l&&h.equals(l[l.length-1])||(l=[h],s.push(l)),l.push(d)))))}return s}var i=e("point-geometry");t.exports=r},{"point-geometry":200}],80:[function(e,t,n){"use strict";var r=e("../util/struct_array"),i=e("point-geometry"),o=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new i(this.anchorPointX,this.anchorPointY)}}),t.exports=o},{"../util/struct_array":129,"point-geometry":200}],81:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,s,a,l,c,u){var h=s.top*a-l,d=s.bottom*a+l,p=s.left*a-l,f=s.right*a+l;if(this.boxStartIndex=e.length,c){var g=d-h,m=f-p;if(g>0)if(g=Math.max(10*a,g),u){var v=t[n.segment+1].sub(t[n.segment])._unit()._mult(m),y=[n.sub(v),n.add(v)];this._addLineCollisionBoxes(e,y,n,0,m,g,r,i,o)}else this._addLineCollisionBoxes(e,t,n,n.segment,m,g,r,i,o)}else e.emplaceBack(n.x,n.y,p,h,f,d,1/0,r,i,o,0,0,0,0,0);this.boxEndIndex=e.length};r.prototype._addLineCollisionBoxes=function(e,t,n,r,i,o,s,a,l){var c=o/2,u=Math.floor(i/c),h=-o/2,d=this.boxes,p=n,f=r+1,g=h;do{if(f--,f<0)return d;g-=t[f].dist(p),p=t[f]}while(g>-i/2);for(var m=t[f].dist(t[f+1]),v=0;v<u;v++){for(var y=-i/2+v*c;g+m<y;){if(g+=m,f++,f+1>=t.length)return d;m=t[f].dist(t[f+1])}var b=y-g,w=t[f],x=t[f+1],_=x.sub(w)._unit()._mult(b)._add(w)._round(),E=Math.max(Math.abs(y-h)-c/2,0),C=i/2/E;e.emplaceBack(_.x,_.y,-o/2,-o/2,o/2,o/2,C,s,a,l,0,0,0,0,0)}return d},t.exports=r},{}],82:[function(e,t,n){"use strict";var r=e("point-geometry"),i=e("../data/extent"),o=e("grid-index"),s=e("../util/intersection_tests"),a=function(e,t,n){if("object"==typeof e){var r=e;n=t,e=r.angle,t=r.pitch,this.grid=new o(r.grid),this.ignoredGrid=new o(r.ignoredGrid)}else this.grid=new o(i,12,6),this.ignoredGrid=new o(i,12,0);this.minScale=.5,this.maxScale=2,this.angle=e,this.pitch=t;var s=Math.sin(e),a=Math.cos(e);if(this.rotationMatrix=[a,-s,s,a],this.reverseRotationMatrix=[a,s,-s,a],this.yStretch=1/Math.cos(t/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();var l=32767;n.emplaceBack(0,0,0,-l,0,l,l,0,0,0,0,0,0,0,0,0),n.emplaceBack(i,0,0,-l,0,l,l,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-l,0,l,0,l,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,i,-l,0,l,0,l,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]};a.prototype.serialize=function(e){var t=this.grid.toArrayBuffer(),n=this.ignoredGrid.toArrayBuffer();return e&&(e.push(t),e.push(n)),{angle:this.angle,pitch:this.pitch,grid:t,ignoredGrid:n}},a.prototype.placeCollisionFeature=function(e,t,n){for(var i=this,o=this.collisionBoxArray,s=this.minScale,a=this.rotationMatrix,l=this.yStretch,c=e.boxStartIndex;c<e.boxEndIndex;c++){var u=o.get(c),h=u.anchorPoint._matMult(a),d=h.x,p=h.y,f=d+u.x1,g=p+u.y1*l,m=d+u.x2,v=p+u.y2*l;if(u.bbox0=f,u.bbox1=g,u.bbox2=m,u.bbox3=v,!t)for(var y=i.grid.query(f,g,m,v),b=0;b<y.length;b++){var w=o.get(y[b]),x=w.anchorPoint._matMult(a);if(s=i.getPlacementScale(s,h,u,x,w),s>=i.maxScale)return s}if(n){var _;if(i.angle){var E=i.reverseRotationMatrix,C=new r(u.x1,u.y1).matMult(E),S=new r(u.x2,u.y1).matMult(E),k=new r(u.x1,u.y2).matMult(E),A=new r(u.x2,u.y2).matMult(E);_=i.tempCollisionBox,_.anchorPointX=u.anchorPoint.x,_.anchorPointY=u.anchorPoint.y,_.x1=Math.min(C.x,S.x,k.x,A.x),_.y1=Math.min(C.y,S.x,k.x,A.x),_.x2=Math.max(C.x,S.x,k.x,A.x),_.y2=Math.max(C.y,S.x,k.x,A.x),_.maxScale=u.maxScale}else _=u;for(var T=0;T<this.edges.length;T++){var F=i.edges[T];if(s=i.getPlacementScale(s,u.anchorPoint,_,F.anchorPoint,F),s>=i.maxScale)return s}}}return s},a.prototype.queryRenderedSymbols=function(e,t){var n={},i=[];if(0===e.length||0===this.grid.length&&0===this.ignoredGrid.length)return i;for(var o=this.collisionBoxArray,a=this.rotationMatrix,l=this.yStretch,c=[],u=1/0,h=1/0,d=-(1/0),p=-(1/0),f=0;f<e.length;f++)for(var g=e[f],m=0;m<g.length;m++){var v=g[m].matMult(a);u=Math.min(u,v.x),h=Math.min(h,v.y),d=Math.max(d,v.x),p=Math.max(p,v.y),c.push(v)}for(var y=this.grid.query(u,h,d,p),b=this.ignoredGrid.query(u,h,d,p),w=0;w<b.length;w++)y.push(b[w]);for(var x=Math.pow(2,Math.ceil(Math.log(t)/Math.LN2*10)/10),_=0;_<y.length;_++){var E=o.get(y[_]),C=E.sourceLayerIndex,S=E.featureIndex;if(void 0===n[C]&&(n[C]={}),!n[C][S]&&!(x<E.placementScale||x>E.maxScale)){var k=E.anchorPoint.matMult(a),A=k.x+E.x1/t,T=k.y+E.y1/t*l,F=k.x+E.x2/t,L=k.y+E.y2/t*l,R=[new r(A,T),new r(F,T),new r(F,L),new r(A,L)];s.polygonIntersectsPolygon(c,R)&&(n[C][S]=!0,i.push(y[_]))}}return i},a.prototype.getPlacementScale=function(e,t,n,r,i){var o=t.x-r.x,s=t.y-r.y,a=(i.x1-n.x2)/o,l=(i.x2-n.x1)/o,c=(i.y1-n.y2)*this.yStretch/s,u=(i.y2-n.y1)*this.yStretch/s;(isNaN(a)||isNaN(l))&&(a=l=1),(isNaN(c)||isNaN(u))&&(c=u=1);var h=Math.min(Math.max(a,l),Math.max(c,u)),d=i.maxScale,p=n.maxScale;return h>d&&(h=d),h>p&&(h=p),h>e&&h>=i.placementScale&&(e=h),e},a.prototype.insertCollisionFeature=function(e,t,n){for(var r=this,i=n?this.ignoredGrid:this.grid,o=this.collisionBoxArray,s=e.boxStartIndex;s<e.boxEndIndex;s++){var a=o.get(s);a.placementScale=t,t<r.maxScale&&i.insert(s,a.bbox0,a.bbox1,a.bbox2,a.bbox3)}},t.exports=a},{"../data/extent":11,"../util/intersection_tests":124,"grid-index":157,"point-geometry":200}],83:[function(e,t,n){"use strict";function r(e,t,n,r,o,s,a,l,c){var u=r?.6*s*a:0,h=Math.max(r?r.right-r.left:0,o?o.right-o.left:0),d=0===e[0].x||e[0].x===c||0===e[0].y||e[0].y===c;t-h*a<t/4&&(t=h*a+t/4);var p=2*s,f=d?t/2*l%t:(h/2+p)*a*l%t;return i(e,f,t,u,n,h*a,d,!1,c)}function i(e,t,n,r,l,c,u,h,d){for(var p=c/2,f=0,g=0;g<e.length-1;g++)f+=e[g].dist(e[g+1]);for(var m=0,v=t-n,y=[],b=0;b<e.length-1;b++){for(var w=e[b],x=e[b+1],_=w.dist(x),E=x.angleTo(w);v+n<m+_;){v+=n;var C=(v-m)/_,S=o(w.x,x.x,C),k=o(w.y,x.y,C);if(S>=0&&S<d&&k>=0&&k<d&&v-p>=0&&v+p<=f){var A=new s(S,k,E,b)._round();r&&!a(e,A,c,r,l)||y.push(A)}}m+=_}return h||y.length||u||(y=i(e,m/2,n,r,l,c,u,!0,d)),y}var o=e("../util/interpolate"),s=e("../symbol/anchor"),a=e("./check_max_angle");t.exports=r},{"../symbol/anchor":77,"../util/interpolate":123,"./check_max_angle":78}],84:[function(e,t,n){"use strict";var r=e("shelf-pack"),i=e("../util/util"),o=4,s=128,a=2048,l=function(){this.width=s,this.height=s,this.bin=new r(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};l.prototype.getGlyphs=function(){var e,t,n,r={};for(var i in this.ids)e=i.split("#"),t=e[0],n=e[1],r[t]||(r[t]=[]),r[t].push(n);return r},l.prototype.getRects=function(){var e,t,n,r=this,i={};for(var o in this.ids)e=o.split("#"),t=e[0],n=e[1],i[t]||(i[t]={}),i[t][n]=r.index[o];return i},l.prototype.addGlyph=function(e,t,n,r){var o=this;if(!n)return null;var s=t+"#"+n.id;if(this.index[s])return this.ids[s].indexOf(e)<0&&this.ids[s].push(e),this.index[s];if(!n.bitmap)return null;var a=n.width+2*r,l=n.height+2*r,c=1,u=a+2*c,h=l+2*c;u+=4-u%4,h+=4-h%4;var d=this.bin.packOne(u,h);if(d||(this.resize(),d=this.bin.packOne(u,h)),!d)return i.warnOnce("glyph bitmap overflow"),null;this.index[s]=d,this.ids[s]=[e];for(var p=this.data,f=n.bitmap,g=0;g<l;g++)for(var m=o.width*(d.y+g+c)+d.x+c,v=a*g,y=0;y<a;y++)p[m+y]=f[v+y];return this.dirty=!0,d},l.prototype.resize=function(){var e=this,t=this.width,n=this.height;if(!(t>=a||n>=a)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=o,this.height*=o,this.bin.resize(this.width,this.height);for(var r=new ArrayBuffer(this.width*this.height),i=0;i<n;i++){var s=new Uint8Array(e.data.buffer,n*i,t),l=new Uint8Array(r,n*i*o,t);l.set(s)}this.data=new Uint8Array(r)}},l.prototype.bind=function(e){this.gl=e,this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,null))},l.prototype.updateTexture=function(e){this.bind(e),this.dirty&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data),this.dirty=!1)},t.exports=l},{"../util/util":131,"shelf-pack":202}],85:[function(e,t,n){"use strict";function r(e,t,n,r){return r=r||"abc",n.replace("{s}",r[e.length%r.length]).replace("{fontstack}",e).replace("{range}",t)}var i=e("../util/mapbox").normalizeGlyphsURL,o=e("../util/ajax"),s=e("../util/verticalize_punctuation"),a=e("../util/glyphs"),l=e("../symbol/glyph_atlas"),c=e("pbf"),u=function(e,t,n){var r=1;this.advance=e.advance,this.left=e.left-n-r,this.top=e.top+n+r,this.rect=t},h=function(e){this.url=e&&i(e),this.atlases={},this.stacks={},this.loading={}};h.prototype.getSimpleGlyphs=function(e,t,n,r){var i=this;void 0===this.stacks[e]&&(this.stacks[e]={}),void 0===this.atlases[e]&&(this.atlases[e]=new l);for(var o={},a=this.stacks[e],c=this.atlases[e],h=3,d={},p=0,f=function(t){var r=Math.floor(t/256);if(a[r]){var i=a[r].glyphs[t],s=c.addGlyph(n,e,i,h);i&&(o[t]=new u(i,s,h))}else void 0===d[r]&&(d[r]=[],p++),d[r].push(t)},g=0;g<t.length;g++){var m=t[g],v=String.fromCharCode(m);f(m),s.lookup[v]&&f(s.lookup[v].charCodeAt(0))}p||r(void 0,o,e);var y=function(t,s,a){if(!t)for(var l=i.stacks[e][s]=a.stacks[0],f=0;f<d[s].length;f++){var g=d[s][f],m=l.glyphs[g],v=c.addGlyph(n,e,m,h);m&&(o[g]=new u(m,v,h))}p--,p||r(void 0,o,e)};for(var b in d)i.loadRange(e,b,y)},h.prototype.loadRange=function(e,t,n){if(256*t>65535)return n("glyphs > 65535 not supported");void 0===this.loading[e]&&(this.loading[e]={});var i=this.loading[e];if(i[t])i[t].push(n);else{i[t]=[n];var s=256*t+"-"+(256*t+255),l=r(e,s,this.url);o.getArrayBuffer(l,function(e,n){for(var r=!e&&new a(new c(n.data)),o=0;o<i[t].length;o++)i[t][o](e,t,r);delete i[t]})}},h.prototype.getGlyphAtlas=function(e){return this.atlases[e]},t.exports=h},{"../symbol/glyph_atlas":84,"../util/ajax":111,"../util/glyphs":122,"../util/mapbox":127,"../util/verticalize_punctuation":133,pbf:198}],86:[function(e,t,n){"use strict";t.exports=function(e){function t(t){a.push(e[t]),l++}function n(e,t,n){var r=s[e];return delete s[e],s[t]=r,a[r].geometry[0].pop(),a[r].geometry[0]=a[r].geometry[0].concat(n[0]),r}function r(e,t,n){var r=o[t];return delete o[t],o[e]=r,a[r].geometry[0].shift(),a[r].geometry[0]=n[0].concat(a[r].geometry[0]),r}function i(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var o={},s={},a=[],l=0,c=0;c<e.length;c++){var u=e[c],h=u.geometry,d=u.text;if(d){var p=i(d,h),f=i(d,h,!0);if(p in s&&f in o&&s[p]!==o[f]){var g=r(p,f,h),m=n(p,f,a[g].geometry);delete o[p],delete s[f],s[i(d,a[m].geometry,!0)]=m,a[g].geometry=null}else p in s?n(p,f,h):f in o?r(p,f,h):(t(c),o[p]=l-1,s[f]=l-1)}else t(c)}return a.filter(function(e){return e.geometry})}},{}],87:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a,l,c,u){this.anchorPoint=e,this.tl=t,this.tr=n,this.bl=r,this.br=i,this.tex=o,this.anchorAngle=s,this.glyphAngle=a,this.minScale=l,this.maxScale=c,this.writingMode=u}function i(e,t,n,i,o,s,c,u,h){var d,p,f,g,m=t.image.rect,v=o.layout,y=1,b=t.left-y,w=b+m.w/t.image.pixelRatio,x=t.top-y,_=x+m.h/t.image.pixelRatio;if("none"!==v["icon-text-fit"]&&c){var E=w-b,C=_-x,S=v["text-size"]/24,k=c.left*S,A=c.right*S,T=c.top*S,F=c.bottom*S,L=A-k,R=F-T,M=v["icon-text-fit-padding"][0],I=v["icon-text-fit-padding"][1],D=v["icon-text-fit-padding"][2],N=v["icon-text-fit-padding"][3],P="width"===v["icon-text-fit"]?.5*(R-C):0,O="height"===v["icon-text-fit"]?.5*(L-E):0,B="width"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?L:E,$="height"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?R:C;d=new a(k+O-N,T+P-M),p=new a(k+O+I+B,T+P-M),f=new a(k+O+I+B,T+P+D+$),g=new a(k+O-N,T+P+D+$)}else d=new a(b,x),p=new a(w,x),f=new a(w,_),g=new a(b,_);var j=o.getLayoutValue("icon-rotate",u,h)*Math.PI/180;if(s){var z=i[e.segment];if(e.y===z.y&&e.x===z.x&&e.segment+1<i.length){var U=i[e.segment+1];j+=Math.atan2(e.y-U.y,e.x-U.x)+Math.PI}else j+=Math.atan2(e.y-z.y,e.x-z.x)}if(j){var V=Math.sin(j),W=Math.cos(j),q=[W,-V,V,W];d=d.matMult(q),p=p.matMult(q),g=g.matMult(q),f=f.matMult(q)}return[new r(new a(e.x,e.y),d,p,g,f,t.image.rect,0,0,l,1/0)]}function o(e,t,n,i,o,c){for(var u=o.layout["text-rotate"]*Math.PI/180,h=o.layout["text-keep-upright"],d=t.positionedGlyphs,p=[],f=0;f<d.length;f++){var g=d[f],m=g.glyph;if(m){var v=m.rect;if(v){var y,b=(g.x+m.advance/2)*n,w=l;c?(y=[],w=s(y,e,b,i,e.segment,!0),h&&(w=Math.min(w,s(y,e,b,i,e.segment,!1)))):y=[{anchorPoint:new a(e.x,e.y),offset:0,angle:0,maxScale:1/0,minScale:l}];var x=g.x+m.left,_=g.y-m.top,E=x+v.w,C=_+v.h,S=new a(g.x,m.advance/2),k=new a(x,_),A=new a(E,_),T=new a(x,C),F=new a(E,C);0!==g.angle&&(k._sub(S)._rotate(g.angle)._add(S),A._sub(S)._rotate(g.angle)._add(S),T._sub(S)._rotate(g.angle)._add(S),F._sub(S)._rotate(g.angle)._add(S));for(var L=0;L<y.length;L++){var R=y[L],M=k,I=A,D=T,N=F;if(u){var P=Math.sin(u),O=Math.cos(u),B=[O,-P,P,O];M=M.matMult(B),I=I.matMult(B),D=D.matMult(B),N=N.matMult(B)}var $=Math.max(R.minScale,w),j=(e.angle+R.offset+2*Math.PI)%(2*Math.PI),z=(R.angle+R.offset+2*Math.PI)%(2*Math.PI);p.push(new r(R.anchorPoint,M,I,D,N,v,j,z,$,R.maxScale,t.writingMode))}}}}return p}function s(e,t,n,r,i,o){var s=!o;n<0&&(o=!o),o&&i++;var c=new a(t.x,t.y),u=r[i],h=1/0;n=Math.abs(n);for(var d=l;;){var p=c.dist(u),f=n/p,g=Math.atan2(u.y-c.y,u.x-c.x);if(o||(g+=Math.PI),e.push({anchorPoint:c,offset:s?Math.PI:0,minScale:f,maxScale:h,angle:(g+2*Math.PI)%(2*Math.PI)}),f<=d)break;for(c=u;c.equals(u);)if(i+=o?1:-1,u=r[i],!u)return f;var m=u.sub(c)._unit();c=c.sub(m._mult(p)),h=f}return d}var a=e("point-geometry");t.exports={getIconQuads:i,getGlyphQuads:o,SymbolQuad:r};var l=.5},{"point-geometry":200}],88:[function(e,t,n){"use strict";var r=e("../util/token");t.exports=function(e,t){var n=r(e.properties,t["text-field"]);if(n){n=n.toString();var i=t["text-transform"];return"uppercase"===i?n=n.toLocaleUpperCase():"lowercase"===i&&(n=n.toLocaleLowerCase()),n}}},{"../util/token":130}],89:[function(e,t,n){"use strict";function r(e,t,n,r,i){this.codePoint=e,this.x=t,this.y=n,this.glyph=r||null,this.angle=i}function i(e,t,n,r,i,o,s){this.positionedGlyphs=e,this.text=t,this.top=n,this.bottom=r,this.left=i,this.right=o,this.writingMode=s}function o(e,t){for(var n=[],r=0,i=0,o=t;i<o.length;i+=1){var s=o[i];n.push(e.substring(r,s)),r=s}return r<e.length&&n.push(e.substring(r,e.length)),n}function s(e,t,n,r,s,a,l,c,u,h,f){var g=e.trim();f===x.vertical&&(g=b(g));var m,v=[],y=new i(v,g,u[1],u[1],u[0],u[0],f);return m=w.processBidirectionalText?w.processBidirectionalText(g,d(g,c,n,t)):o(g,d(g,c,n,t)),p(y,t,m,r,s,a,l,u,f,c,h),!!v.length&&y}function a(e,t,n,r){var i=0;for(var o in e){var s=r[e.charCodeAt(o)];s&&(i+=s.advance+t)}var a=Math.max(1,Math.ceil(i/n));return i/a}function l(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function c(e,t){var n=0;return 10===e&&(n-=1e4),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function u(e,t,n,r,i,o){for(var s=null,a=l(t,n,i,o),c=0,u=r;c<u.length;c+=1){var h=u[c],d=t-h.x,p=l(d,n,i,o)+h.badness;p<=a&&(s=h,a=p)}return{index:e,x:t,priorBreak:s,badness:a}}function h(e){return e?h(e.priorBreak).concat(e.index):[]}function d(e,t,n,r){if(!n)return[];if(!e)return[];for(var i=[],o=a(e,t,n,r),s=0,l=0;l<e.length;l++){var d=e.charCodeAt(l),p=r[d];p&&!_[d]&&(s+=p.advance+t),l<e.length-1&&(E[d]||y.charAllowsIdeographicBreaking(d))&&i.push(u(l+1,s,o,i,c(d,e.charCodeAt(l+1)),!1))}return h(u(e.length,s,o,i,0,!0))}function p(e,t,n,i,o,s,a,l,c,u,h){var d=-17,p=0,m=d,v=0,b=e.positionedGlyphs;for(var w in n){var _=n[w].trim();if(_.length){for(var E=b.length,C=0;C<_.length;C++){var S=_.charCodeAt(C),k=t[S];k&&(y.charHasUprightVerticalOrientation(S)&&c!==x.horizontal?(b.push(new r(S,p,0,k,-Math.PI/2)),p+=h+u):(b.push(new r(S,p,m,k,0)),p+=k.advance+u))}if(b.length!==E){var A=p-u;v=Math.max(A,v),f(b,t,E,b.length-1,a)}p=0,m+=i}else m+=i}g(b,a,o,s,v,i,n.length,l);var T=n.length*i;e.top+=-s*T,e.bottom=e.top+T,e.left+=-o*v,e.right=e.left+v}function f(e,t,n,r,i){if(i)for(var o=t[e[r].codePoint].advance,s=(e[r].x+o)*i,a=n;a<=r;a++)e[a].x-=s}function g(e,t,n,r,i,o,s,a){for(var l=(t-n)*i+a[0],c=(-r*s+.5)*o+a[1],u=0;u<e.length;u++)e[u].x+=l,e[u].y+=c}function m(e,t){if(!e||!e.rect)return null;var n=t[0],r=t[1],i=n-e.width/2,o=i+e.width,s=r-e.height/2,a=s+e.height;return new v(e,s,a,i,o)}function v(e,t,n,r,i){this.image=e,this.top=t,this.bottom=n,this.left=r,this.right=i}var y=e("../util/script_detection"),b=e("../util/verticalize_punctuation"),w=e("../source/rtl_text_plugin"),x={horizontal:1,vertical:2};t.exports={shapeText:s,shapeIcon:m,WritingMode:x};var _={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},E={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":51,"../util/script_detection":128,
"../util/verticalize_punctuation":133}],90:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a,l,c,u){var h,d,p=r*t+n,f=a*o+s;if(u)for(f-=o,d=-1;d<=c;d++,p=((d+c)%c+r)*t+n,f+=o)for(h=-1;h<=l;h++)i[f+h]=e[p+(h+l)%l];else for(d=0;d<c;d++,p+=t,f+=o)for(h=0;h<l;h++)i[f+h]=e[p+h]}var i=e("shelf-pack"),o=e("../util/browser"),s=e("../util/util"),a=function(e,t,n,r,i){this.rect=e,this.width=t,this.height=n,this.sdf=r,this.pixelRatio=i},l=function(e,t){this.width=e,this.height=t,this.bin=new i(e,t),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0};l.prototype.allocateImage=function(e,t){e/=this.pixelRatio,t/=this.pixelRatio;var n=2,r=e+n+(4-(e+n)%4),i=t+n+(4-(t+n)%4),o=this.bin.packOne(r,i);return o?o:(s.warnOnce("SpriteAtlas out of space."),null)},l.prototype.getImage=function(e,t){if(this.images[e])return this.images[e];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(e);if(!n.width||!n.height)return null;var r=this.allocateImage(n.width,n.height);if(!r)return null;var i=new a(r,n.width/n.pixelRatio,n.height/n.pixelRatio,n.sdf,n.pixelRatio/this.pixelRatio);return this.images[e]=i,this.copy(r,n,t),i},l.prototype.getPosition=function(e,t){var n=this.getImage(e,t),r=n&&n.rect;if(!r)return null;var i=n.width*n.pixelRatio,o=n.height*n.pixelRatio,s=1;return{size:[n.width,n.height],tl:[(r.x+s)/this.width,(r.y+s)/this.height],br:[(r.x+s+i)/this.width,(r.y+s+o)/this.height]}},l.prototype.allocate=function(){var e=this;if(!this.data){var t=Math.floor(this.width*this.pixelRatio),n=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*n);for(var r=0;r<this.data.length;r++)e.data[r]=0}},l.prototype.copy=function(e,t,n){if(this.sprite.imgData){var i=new Uint32Array(this.sprite.imgData.buffer);this.allocate();var o=this.data,s=1;r(i,this.sprite.width,t.x,t.y,o,this.width*this.pixelRatio,(e.x+s)*this.pixelRatio,(e.y+s)*this.pixelRatio,t.width,t.height,n),this.dirty=!0}},l.prototype.setSprite=function(e){e&&(this.pixelRatio=o.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=e},l.prototype.addIcons=function(e,t){for(var n=this,r=0;r<e.length;r++)n.getImage(e[r]);t(null,this.images)},l.prototype.bind=function(e,t){var n=!1;this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n=!0);var r=t?e.LINEAR:e.NEAREST;r!==this.filter&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},t.exports=l},{"../util/browser":112,"../util/util":131,"shelf-pack":202}],91:[function(e,t,n){"use strict";var r=e("../util/struct_array"),i=e("point-geometry"),o=r({members:[{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"glyphQuadStartIndex"},{type:"Uint16",name:"glyphQuadEndIndex"},{type:"Uint16",name:"iconQuadStartIndex"},{type:"Uint16",name:"iconQuadEndIndex"},{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int8",name:"index"},{type:"Uint8",name:"writingModes"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new i(this.anchorPointX,this.anchorPointY)}}),t.exports=o},{"../util/struct_array":129,"point-geometry":200}],92:[function(e,t,n){"use strict";var r=e("../util/struct_array"),i=e("point-geometry"),o=e("./quads").SymbolQuad,s=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"tlX"},{type:"Float32",name:"tlY"},{type:"Float32",name:"trX"},{type:"Float32",name:"trY"},{type:"Float32",name:"blX"},{type:"Float32",name:"blY"},{type:"Float32",name:"brX"},{type:"Float32",name:"brY"},{type:"Int16",name:"texH"},{type:"Int16",name:"texW"},{type:"Int16",name:"texX"},{type:"Int16",name:"texY"},{type:"Float32",name:"anchorAngle"},{type:"Float32",name:"glyphAngle"},{type:"Float32",name:"maxScale"},{type:"Float32",name:"minScale"},{type:"Uint8",name:"writingMode"}]});Object.defineProperty(s.prototype.StructType.prototype,"anchorPoint",{get:function(){return new i(this.anchorPointX,this.anchorPointY)}}),Object.defineProperty(s.prototype.StructType.prototype,"SymbolQuad",{get:function(){return new o(this.anchorPoint,new i(this.tlX,this.tlY),new i(this.trX,this.trY),new i(this.blX,this.blY),new i(this.brX,this.brY),{x:this.texX,y:this.texY,h:this.texH,w:this.texW,height:this.texH,width:this.texW},this.anchorAngle,this.glyphAngle,this.minScale,this.maxScale,this.writingMode)}}),t.exports=s},{"../util/struct_array":129,"./quads":87,"point-geometry":200}],93:[function(e,t,n){"use strict";var r=e("../util/dom"),i=e("point-geometry"),o={scrollZoom:e("./handler/scroll_zoom"),boxZoom:e("./handler/box_zoom"),dragRotate:e("./handler/drag_rotate"),dragPan:e("./handler/drag_pan"),keyboard:e("./handler/keyboard"),doubleClickZoom:e("./handler/dblclick_zoom"),touchZoomRotate:e("./handler/touch_zoom_rotate")};t.exports=function(e,t){function n(e){v("mouseout",e)}function s(t){e.stop(),_=r.mousePos(b,t),v("mousedown",t),x=!0}function a(t){var n=e.dragRotate&&e.dragRotate.isActive();w&&!n&&v("contextmenu",w),w=null,x=!1,v("mouseup",t)}function l(t){if(!(e.dragPan&&e.dragPan.isActive()||e.dragRotate&&e.dragRotate.isActive())){for(var n=t.toElement||t.target;n&&n!==b;)n=n.parentNode;n===b&&v("mousemove",t)}}function c(t){e.stop(),y("touchstart",t),!t.touches||t.touches.length>1||(E?(clearTimeout(E),E=null,v("dblclick",t)):E=setTimeout(p,300))}function u(e){y("touchmove",e)}function h(e){y("touchend",e)}function d(e){y("touchcancel",e)}function p(){E=null}function f(e){var t=r.mousePos(b,e);t.equals(_)&&v("click",e)}function g(e){v("dblclick",e),e.preventDefault()}function m(t){var n=e.dragRotate&&e.dragRotate.isActive();x||n?x&&(w=t):v("contextmenu",t),t.preventDefault()}function v(t,n){var i=r.mousePos(b,n);return e.fire(t,{lngLat:e.unproject(i),point:i,originalEvent:n})}function y(t,n){var o=r.touchPos(b,n),s=o.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new i(0,0));return e.fire(t,{lngLat:e.unproject(s),point:s,lngLats:o.map(function(t){return e.unproject(t)},this),points:o,originalEvent:n})}var b=e.getCanvasContainer(),w=null,x=!1,_=null,E=null;for(var C in o)e[C]=new o[C](e,t),t.interactive&&t[C]&&e[C].enable(t[C]);b.addEventListener("mouseout",n,!1),b.addEventListener("mousedown",s,!1),b.addEventListener("mouseup",a,!1),b.addEventListener("mousemove",l,!1),b.addEventListener("touchstart",c,!1),b.addEventListener("touchend",h,!1),b.addEventListener("touchmove",u,!1),b.addEventListener("touchcancel",d,!1),b.addEventListener("click",f,!1),b.addEventListener("dblclick",g,!1),b.addEventListener("contextmenu",m,!1)}},{"../util/dom":119,"./handler/box_zoom":99,"./handler/dblclick_zoom":100,"./handler/drag_pan":101,"./handler/drag_rotate":102,"./handler/keyboard":103,"./handler/scroll_zoom":104,"./handler/touch_zoom_rotate":105,"point-geometry":200}],94:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/interpolate"),o=e("../util/browser"),s=e("../geo/lng_lat"),a=e("../geo/lng_lat_bounds"),l=e("point-geometry"),c=e("../util/evented"),u=function(e){function t(t,n){e.call(this),this.moving=!1,this.transform=t,this._bearingSnap=n.bearingSnap}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCenter=function(){return this.transform.center},t.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t),this},t.prototype.panBy=function(e,t,n){return this.panTo(this.transform.center,r.extend({offset:l.convert(e).mult(-1)},t),n),this},t.prototype.panTo=function(e,t,n){return this.easeTo(r.extend({center:e},t),n)},t.prototype.getZoom=function(){return this.transform.zoom},t.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},t.prototype.zoomTo=function(e,t,n){return this.easeTo(r.extend({zoom:e},t),n)},t.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},t.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},t.prototype.getBearing=function(){return this.transform.bearing},t.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},t.prototype.rotateTo=function(e,t,n){return this.easeTo(r.extend({bearing:e},t),n)},t.prototype.resetNorth=function(e,t){return this.rotateTo(0,r.extend({duration:1e3},e),t),this},t.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},t.prototype.getPitch=function(){return this.transform.pitch},t.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},t.prototype.fitBounds=function(e,t,n){t=r.extend({padding:0,offset:[0,0],maxZoom:this.getMaxZoom()},t),e=a.convert(e);var i=l.convert(t.offset),o=this.transform,s=o.project(e.getNorthWest()),c=o.project(e.getSouthEast()),u=c.sub(s),h=(o.width-2*t.padding-2*Math.abs(i.x))/u.x,d=(o.height-2*t.padding-2*Math.abs(i.y))/u.y;return t.center=o.unproject(s.add(c).div(2)),t.zoom=Math.min(o.scaleZoom(o.scale*Math.min(h,d)),t.maxZoom),t.bearing=0,t.linear?this.easeTo(t,n):this.flyTo(t,n)},t.prototype.jumpTo=function(e,t){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),"center"in e&&(n.center=s.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),this.fire("movestart",t).fire("move",t),r&&this.fire("zoomstart",t).fire("zoom",t).fire("zoomend",t),i&&this.fire("rotate",t),o&&this.fire("pitch",t),this.fire("moveend",t)},t.prototype.easeTo=function(e,t){var n=this;this.stop(),e=r.extend({offset:[0,0],duration:500,easing:r.ease},e);var o,a,c=this.transform,u=l.convert(e.offset),h=this.getZoom(),d=this.getBearing(),p=this.getPitch(),f="zoom"in e?+e.zoom:h,g="bearing"in e?this._normalizeBearing(e.bearing,d):d,m="pitch"in e?+e.pitch:p;"center"in e?(o=s.convert(e.center),a=c.centerPoint.add(u)):"around"in e?(o=s.convert(e.around),a=c.locationPoint(o)):(a=c.centerPoint.add(u),o=c.pointLocation(a));var v=c.locationPoint(o);return e.animate===!1&&(e.duration=0),this.zooming=f!==h,this.rotating=d!==g,this.pitching=m!==p,e.smoothEasing&&0!==e.duration&&(e.easing=this._smoothOutEasing(e.duration)),e.noMoveStart||(this.moving=!0,this.fire("movestart",t)),this.zooming&&this.fire("zoomstart",t),clearTimeout(this._onEaseEnd),this._ease(function(e){this.zooming&&(c.zoom=i(h,f,e)),this.rotating&&(c.bearing=i(d,g,e)),this.pitching&&(c.pitch=i(p,m,e)),c.setLocationAtPoint(o,v.add(a.sub(v)._mult(e))),this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},function(){e.delayEndEvents?n._onEaseEnd=setTimeout(n._easeToEnd.bind(n,t),e.delayEndEvents):n._easeToEnd(t)},e),this},t.prototype._easeToEnd=function(e){var t=this.zooming;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,t&&this.fire("zoomend",e),this.fire("moveend",e)},t.prototype.flyTo=function(e,t){function n(e){var t=(C*C-E*E+(e?-1:1)*T*T*S*S)/(2*(e?C:E)*T*S);return Math.log(Math.sqrt(t*t+1)-t)}function o(e){return(Math.exp(e)-Math.exp(-e))/2}function a(e){return(Math.exp(e)+Math.exp(-e))/2}function c(e){return o(e)/a(e)}this.stop(),e=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},e);var u=this.transform,h=l.convert(e.offset),d=this.getZoom(),p=this.getBearing(),f=this.getPitch(),g="center"in e?s.convert(e.center):this.getCenter(),m="zoom"in e?+e.zoom:d,v="bearing"in e?this._normalizeBearing(e.bearing,p):p,y="pitch"in e?+e.pitch:f;Math.abs(u.center.lng)+Math.abs(g.lng)>180&&(u.center.lng>0&&g.lng<0?g.lng+=360:u.center.lng<0&&g.lng>0&&(g.lng-=360));var b=u.zoomScale(m-d),w=u.point,x="center"in e?u.project(g).sub(h.div(b)):w,_=e.curve,E=Math.max(u.width,u.height),C=E/b,S=x.sub(w).mag();if("minZoom"in e){var k=r.clamp(Math.min(e.minZoom,d,m),u.minZoom,u.maxZoom),A=E/u.zoomScale(k-d);_=Math.sqrt(A/S*2)}var T=_*_,F=n(0),L=function(e){return a(F)/a(F+_*e)},R=function(e){return E*((a(F)*c(F+_*e)-o(F))/T)/S},M=(n(1)-F)/_;if(Math.abs(S)<1e-6){if(Math.abs(E-C)<1e-6)return this.easeTo(e);var I=C<E?-1:1;M=Math.abs(Math.log(C/E))/_,R=function(){return 0},L=function(e){return Math.exp(I*_*e)}}if("duration"in e)e.duration=+e.duration;else{var D="screenSpeed"in e?+e.screenSpeed/_:+e.speed;e.duration=1e3*M/D}return this.moving=!0,this.zooming=!0,p!==v&&(this.rotating=!0),f!==y&&(this.pitching=!0),this.fire("movestart",t),this.fire("zoomstart",t),this._ease(function(e){var n=e*M,r=R(n),o=1/L(n);u.zoom=d+u.scaleZoom(o),u.center=u.unproject(w.add(x.sub(w).mult(r)).mult(o)),this.rotating&&(u.bearing=i(p,v,e)),this.pitching&&(u.pitch=i(f,y,e)),this.fire("move",t),this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},function(){this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("zoomend",t),this.fire("moveend",t)},e),this},t.prototype.isEasing=function(){return!!this._abortFn},t.prototype.isMoving=function(){return this.moving},t.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},t.prototype._ease=function(e,t,n){this._finishFn=t,this._abortFn=o.timed(function(t){e.call(this,n.easing(t)),1===t&&this._finishEase()},n.animate===!1?0:n.duration,this)},t.prototype._finishEase=function(){delete this._abortFn;var e=this._finishFn;delete this._finishFn,e.call(this)},t.prototype._normalizeBearing=function(e,t){e=r.wrap(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e},t.prototype._smoothOutEasing=function(e){var t=r.ease;if(this._prevEase){var n=this._prevEase,i=(Date.now()-n.start)/n.duration,o=n.easing(i+.01)-n.easing(i),s=.27/Math.sqrt(o*o+1e-4)*.01,a=Math.sqrt(.0729-s*s);t=r.bezier(s,a,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:e,easing:t},t},t}(c);t.exports=u},{"../geo/lng_lat":19,"../geo/lng_lat_bounds":20,"../util/browser":112,"../util/evented":120,"../util/interpolate":123,"../util/util":131,"point-geometry":200}],95:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=function(e){this.options=e,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};o.prototype.getDefaultPosition=function(){return"bottom-right"},o.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),t&&this._container.classList.add("compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("data",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},o.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("data",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},o.prototype._updateEditLink=function(){if(this._editLink||(this._editLink=this._container.querySelector(".mapbox-improve-map")),this._editLink){var e=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+e.lng+"/"+e.lat+"/"+Math.round(this._map.getZoom()+1)}},o.prototype._updateData=function(e){"source"===e.dataType&&(this._updateAttributions(),this._updateEditLink())},o.prototype._updateAttributions=function(){if(this._map.style){var e=[],t=this._map.style.sourceCaches;for(var n in t){var r=t[n].getSource();r.attribution&&e.indexOf(r.attribution)<0&&e.push(r.attribution)}e.sort(function(e,t){return e.length-t.length}),e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}),this._container.innerHTML=e.join(" | "),this._editLink=null}},o.prototype._updateCompact=function(){var e=this._map.getCanvasContainer().offsetWidth<=640;this._container.classList[e?"add":"remove"]("compact")},t.exports=o},{"../../util/dom":119,"../../util/util":131}],96:[function(e,t,n){"use strict";function r(e){void 0!==i?e(i):void 0!==a.navigator.permissions?a.navigator.permissions.query({name:"geolocation"}).then(function(t){i="denied"!==t.state,e(i)}):(i=!!a.navigator.geolocation,e(i))}var i,o=e("../../util/evented"),s=e("../../util/dom"),a=e("../../util/window"),l=e("../../util/util"),c={enableHighAccuracy:!1,timeout:6e3},u="mapboxgl-ctrl",h=function(e){function t(t){e.call(this),this.options=t||{},l.bindAll(["_onSuccess","_onError","_finish","_setupUI"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){return this._map=e,this._container=s.create("div",u+" "+u+"-group"),r(this._setupUI),this._container},t.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},t.prototype._onSuccess=function(e){this._map.jumpTo({center:[e.coords.longitude,e.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",e),this._finish()},t.prototype._onError=function(e){this.fire("error",e),this._finish()},t.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},t.prototype._setupUI=function(e){e!==!1&&(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=s.create("button",u+"-icon "+u+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.watchPosition&&this._geolocateButton.setAttribute("aria-pressed",!1),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)))},t.prototype._onClickGeolocate=function(){var e=l.extend(c,this.options&&this.options.positionOptions||{});this.options.watchPosition?void 0!==this._geolocationWatchID?(this._geolocateButton.classList.remove("watching"),this._geolocateButton.setAttribute("aria-pressed",!1),a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0):(this._geolocateButton.classList.add("watching"),this._geolocateButton.setAttribute("aria-pressed",!0),this._geolocationWatchID=a.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)):(a.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,e),this._timeoutId=setTimeout(this._finish,1e4))},t}(o);t.exports=h},{"../../util/dom":119,"../../util/evented":120,"../../util/util":131,"../../util/window":114}],97:[function(e,t,n){"use strict";function r(e){return new o.MouseEvent(e.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:e.detail,view:e.view,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,movementX:e.movementX,movementY:e.movementY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey})}var i=e("../../util/dom"),o=e("../../util/window"),s=e("../../util/util"),a="mapboxgl-ctrl",l=function(){s.bindAll(["_rotateCompassArrow"],this)};l.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},l.prototype.onAdd=function(e){return this._map=e,this._container=i.create("div",a+" "+a+"-group",e.getContainer()),this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(a+"-icon "+a+"-zoom-in","Zoom In",e.zoomIn.bind(e)),this._zoomOutButton=this._createButton(a+"-icon "+a+"-zoom-out","Zoom Out",e.zoomOut.bind(e)),this._compass=this._createButton(a+"-icon "+a+"-compass","Reset North",e.resetNorth.bind(e)),this._compassArrow=i.create("span","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},l.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("rotate",this._rotateCompassArrow),this._map=void 0},l.prototype._onContextMenu=function(e){e.preventDefault()},l.prototype._onCompassDown=function(e){0===e.button&&(i.disableDrag(),o.document.addEventListener("mousemove",this._onCompassMove),o.document.addEventListener("mouseup",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},l.prototype._onCompassMove=function(e){0===e.button&&(this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},l.prototype._onCompassUp=function(e){0===e.button&&(o.document.removeEventListener("mousemove",this._onCompassMove),o.document.removeEventListener("mouseup",this._onCompassUp),i.enableDrag(),this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},l.prototype._createButton=function(e,t,n){var r=i.create("button",e,this._container);return r.type="button",r.setAttribute("aria-label",t),r.addEventListener("click",function(){n()}),r},t.exports=l},{"../../util/dom":119,"../../util/util":131,"../../util/window":114}],98:[function(e,t,n){"use strict";function r(e,t,n){var r=n&&n.maxWidth||100,s=e._container.clientHeight/2,a=o(e.unproject([0,s]),e.unproject([r,s]));if(n&&"imperial"===n.unit){var l=3.2808*a;if(l>5280){var c=l/5280;i(t,r,c,"mi")}else i(t,r,l,"ft")}else i(t,r,a,"m")}function i(e,t,n,r){var i=s(n),o=i/n;"m"===r&&i>=1e3&&(i/=1e3,r="km"),e.style.width=t*o+"px",e.innerHTML=i+r}function o(e,t){var n=6371e3,r=Math.PI/180,i=e.lat*r,o=t.lat*r,s=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((t.lng-e.lng)*r),a=n*Math.acos(Math.min(s,1));return a}function s(e){var t=Math.pow(10,(""+Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}var a=e("../../util/dom"),l=e("../../util/util"),c=function(e){this.options=e,l.bindAll(["_onMove"],this)};c.prototype.getDefaultPosition=function(){return"bottom-left"},c.prototype._onMove=function(){r(this._map,this._container,this.options)},c.prototype.onAdd=function(e){return this._map=e,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},c.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("move",this._onMove),this._map=void 0},t.exports=c},{"../../util/dom":119,"../../util/util":131}],99:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../geo/lng_lat_bounds"),o=e("../../util/util"),s=e("../../util/window"),a=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};a.prototype.isEnabled=function(){return!!this._enabled},a.prototype.isActive=function(){return!!this._active},a.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onMouseDown,!1),this._enabled=!0)},a.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},a.prototype._onMouseDown=function(e){e.shiftKey&&0===e.button&&(s.document.addEventListener("mousemove",this._onMouseMove,!1),s.document.addEventListener("keydown",this._onKeyDown,!1),s.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,e),this._active=!0)},a.prototype._onMouseMove=function(e){var t=this._startPos,n=r.mousePos(this._el,e);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var i=Math.min(t.x,n.x),o=Math.max(t.x,n.x),s=Math.min(t.y,n.y),a=Math.max(t.y,n.y);r.setTransform(this._box,"translate("+i+"px,"+s+"px)"),this._box.style.width=o-i+"px",this._box.style.height=a-s+"px"},a.prototype._onMouseUp=function(e){if(0===e.button){var t=this._startPos,n=r.mousePos(this._el,e),o=(new i).extend(this._map.unproject(t)).extend(this._map.unproject(n));this._finish(),t.x===n.x&&t.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:e,boxZoomBounds:o})}},a.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},a.prototype._finish=function(){this._active=!1,s.document.removeEventListener("mousemove",this._onMouseMove,!1),s.document.removeEventListener("keydown",this._onKeyDown,!1),s.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},a.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},t.exports=a},{"../../geo/lng_lat_bounds":20,"../../util/dom":119,"../../util/util":131,"../../util/window":114}],100:[function(e,t,n){"use strict";var r=function(e){this._map=e,this._onDblClick=this._onDblClick.bind(this)};r.prototype.isEnabled=function(){return!!this._enabled},r.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},r.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},r.prototype._onDblClick=function(e){this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},t.exports=r},{}],101:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/window"),s=.3,a=i.bezier(0,0,s,1),l=1400,c=2500,u=function(e){this._map=e,this._el=e.getCanvasContainer(),i.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};u.prototype.isEnabled=function(){return!!this._enabled},u.prototype.isActive=function(){return!!this._active},u.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},u.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},u.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(e.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),this._active=!1,this._startPos=this._pos=r.mousePos(this._el,e),this._inertia=[[Date.now(),this._pos]])},u.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._fireEvent("dragstart",e),this._fireEvent("movestart",e));var t=r.mousePos(this._el,e),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),t]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),t),this._fireEvent("drag",e),this._fireEvent("move",e),this._pos=t,e.preventDefault()}},u.prototype._onUp=function(e){var t=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",e),this._drainInertiaBuffer();var n=function(){return t._fireEvent("moveend",e)},r=this._inertia;if(r.length<2)return void n();var i=r[r.length-1],o=r[0],u=i[1].sub(o[1]),h=(i[0]-o[0])/1e3;if(0===h||i[1].equals(o[1]))return void n();var d=u.mult(s/h),p=d.mag();p>l&&(p=l,d._unit()._mult(p));var f=p/(c*s),g=d.mult(-f/2);this._map.panBy(g,{duration:1e3*f,easing:a,noMoveStart:!0},{originalEvent:e})}},u.prototype._onMouseUp=function(e){this._ignoreEvent(e)||(this._onUp(e),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp))},u.prototype._onTouchEnd=function(e){this._ignoreEvent(e)||(this._onUp(e),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},u.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},u.prototype._ignoreEvent=function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragRotate&&t.dragRotate.isActive())return!0;if(e.touches)return e.touches.length>1;if(e.ctrlKey)return!0;var n=1,r=0;return"mousemove"===e.type?e.buttons&0===n:e.button!==r},u.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>0&&t-e[0][0]>n;)e.shift()},t.exports=u},{"../../util/dom":119,"../../util/util":131,"../../util/window":114}],102:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/window"),s=.25,a=i.bezier(0,0,s,1),l=180,c=720,u=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._bearingSnap=t.bearingSnap,this._pitchWithRotate=t.pitchWithRotate!==!1,i.bindAll(["_onDown","_onMove","_onUp"],this)};u.prototype.isEnabled=function(){return!!this._enabled},u.prototype.isActive=function(){return!!this._active},u.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},u.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},u.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault())},u.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._fireEvent("rotatestart",e),this._fireEvent("movestart",e));var t=this._map;t.stop();var n=this._pos,i=r.mousePos(this._el,e),o=.8*(n.x-i.x),s=(n.y-i.y)*-.5,a=t.getBearing()-o,l=t.getPitch()-s,c=this._inertia,u=c[c.length-1];this._drainInertiaBuffer(),c.push([Date.now(),t._normalizeBearing(a,u[1])]),t.transform.bearing=a,this._pitchWithRotate&&(t.transform.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),this._pos=i}},u.prototype._onUp=function(e){var t=this;if(!this._ignoreEvent(e)&&(o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",e),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,u=function(){Math.abs(r)<t._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e)};if(i.length<2)return void u();var h=i[0],d=i[i.length-1],p=i[i.length-2],f=n._normalizeBearing(r,p[1]),g=d[1]-h[1],m=g<0?-1:1,v=(d[0]-h[0])/1e3;if(0===g||0===v)return void u();var y=Math.abs(g*(s/v));y>l&&(y=l);var b=y/(c*s),w=m*y*(b/2);f+=w,Math.abs(n._normalizeBearing(f,0))<this._bearingSnap&&(f=n._normalizeBearing(0,f)),n.rotateTo(f,{duration:1e3*b,easing:a,noMoveStart:!0},{originalEvent:e})}},u.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},u.prototype._ignoreEvent=function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragPan&&t.dragPan.isActive())return!0;if(e.touches)return e.touches.length>1;var n=e.ctrlKey?1:2,r=e.ctrlKey?0:2,i=e.button;return"undefined"!=typeof InstallTrigger&&2===e.button&&e.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(i=0),"mousemove"===e.type?e.buttons&0===n:i!==r},u.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>0&&t-e[0][0]>n;)e.shift()},t.exports=u},{"../../util/dom":119,"../../util/util":131,"../../util/window":114
}],103:[function(e,t,n){"use strict";function r(e){return e*(2-e)}var i=100,o=15,s=10,a=function(e){this._map=e,this._el=e.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};a.prototype.isEnabled=function(){return!!this._enabled},a.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},a.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},a.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,n=0,a=0,l=0,c=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),l=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),l=1);break;case 38:e.shiftKey?a=1:(e.preventDefault(),c=-1);break;case 40:e.shiftKey?a=-1:(c=1,e.preventDefault())}var u=this._map,h=u.getZoom(),d={duration:300,delayEndEvents:500,easing:r,zoom:t?Math.round(h)+t*(e.shiftKey?2:1):h,bearing:u.getBearing()+n*o,pitch:u.getPitch()+a*s,offset:[-l*i,-c*i],center:u.getCenter()};u.easeTo(d,{originalEvent:e})}},t.exports=a},{}],104:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/browser"),s=e("../../util/window"),a=s.navigator.userAgent.toLowerCase(),l=a.indexOf("firefox")!==-1,c=a.indexOf("safari")!==-1&&a.indexOf("chrom")===-1,u=function(e){this._map=e,this._el=e.getCanvasContainer(),i.bindAll(["_onWheel","_onTimeout"],this)};u.prototype.isEnabled=function(){return!!this._enabled},u.prototype.enable=function(e){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},u.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},u.prototype._onWheel=function(e){var t;"wheel"===e.type?(t=e.deltaY,l&&e.deltaMode===s.WheelEvent.DOM_DELTA_PIXEL&&(t/=o.devicePixelRatio),e.deltaMode===s.WheelEvent.DOM_DELTA_LINE&&(t*=40)):"mousewheel"===e.type&&(t=-e.wheelDeltaY,c&&(t/=3));var n=o.now(),i=n-(this._time||0);this._pos=r.mousePos(this._el,e),this._time=n,0!==t&&t%4.000244140625===0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(i*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&this._zoom(-t,e),e.preventDefault()},u.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},u.prototype._zoom=function(e,t){if(0!==e){var n=this._map,r=2/(1+Math.exp(-Math.abs(e/100)));e<0&&0!==r&&(r=1/r);var i=n.ease?n.ease.to:n.transform.scale,o=n.transform.scaleZoom(i*r);n.zoomTo(o,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?n.getCenter():n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:t})}},t.exports=u},{"../../util/browser":112,"../../util/dom":119,"../../util/util":131,"../../util/window":114}],105:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/window"),s=.15,a=i.bezier(0,0,s,1),l=12,c=2.5,u=.15,h=4,d=function(e){this._map=e,this._el=e.getCanvasContainer(),i.bindAll(["_onStart","_onMove","_onEnd"],this)};d.prototype.isEnabled=function(){return!!this._enabled},d.prototype.enable=function(e){this.isEnabled()||(this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},d.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},d.prototype.disableRotation=function(){this._rotationDisabled=!0},d.prototype.enableRotation=function(){this._rotationDisabled=!1},d.prototype._onStart=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]);this._startVec=t.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},d.prototype._onMove=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),i=t.add(n).div(2),o=t.sub(n),s=o.mag()/this._startVec.mag(),a=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var c={duration:0,around:l.unproject(i)};"rotate"===this._gestureIntent&&(c.bearing=this._startBearing+a),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(c.zoom=l.transform.scaleZoom(this._startScale*s)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),s,i]),l.easeTo(c,{originalEvent:e})}else{var d=Math.abs(1-s)>u,p=Math.abs(a)>h;p?this._gestureIntent="rotate":d&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}e.preventDefault()}},d.prototype._onEnd=function(e){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var t=this._inertia,n=this._map;if(t.length<2)return void n.snapToNorth({},{originalEvent:e});var r=t[t.length-1],i=t[0],u=n.transform.scaleZoom(this._startScale*r[1]),h=n.transform.scaleZoom(this._startScale*i[1]),d=u-h,p=(r[0]-i[0])/1e3,f=r[2];if(0===p||u===h)return void n.snapToNorth({},{originalEvent:e});var g=d*s/p;Math.abs(g)>c&&(g=g>0?c:-c);var m=1e3*Math.abs(g/(l*s)),v=u+g*m/2e3;v<0&&(v=0),n.easeTo({zoom:v,duration:m,easing:a,around:this._aroundCenter?n.getCenter():n.unproject(f)},{originalEvent:e})},d.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>2&&t-e[0][0]>n;)e.shift()},t.exports=d},{"../../util/dom":119,"../../util/util":131,"../../util/window":114}],106:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/window"),o=function(){r.bindAll(["_onHashChange","_updateHash"],this)};o.prototype.addTo=function(e){return this._map=e,i.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},o.prototype.remove=function(){return i.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},o.prototype._onHashChange=function(){var e=i.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},o.prototype._updateHash=function(){var e=this._map.getCenter(),t=this._map.getZoom(),n=this._map.getBearing(),r=this._map.getPitch(),o=Math.max(0,Math.ceil(Math.log(t)/Math.LN2)),s="#"+Math.round(100*t)/100+"/"+e.lat.toFixed(o)+"/"+e.lng.toFixed(o);(n||r)&&(s+="/"+Math.round(10*n)/10),r&&(s+="/"+Math.round(r)),i.history.replaceState("","",s)},t.exports=o},{"../util/util":131,"../util/window":114}],107:[function(e,t,n){"use strict";function r(e){e.parentNode&&e.parentNode.removeChild(e)}var i=e("../util/util"),o=e("../util/browser"),s=e("../util/window"),a=e("../util/dom"),l=e("../style/style"),c=e("../style/animation_loop"),u=e("../render/painter"),h=e("../geo/transform"),d=e("./hash"),p=e("./bind_handlers"),f=e("./camera"),g=e("../geo/lng_lat"),m=e("../geo/lng_lat_bounds"),v=e("point-geometry"),y=e("./control/attribution_control"),b=e("mapbox-gl-supported"),w=0,x=20,_={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:w,maxZoom:x,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0},E=function(e){function t(t){var n=this;t=i.extend({},_,t);var r=new h(t.minZoom,t.maxZoom,t.renderWorldCopies);if(e.call(this,r,t),this._interactive=t.interactive,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,"string"==typeof t.container){if(this._container=s.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else this._container=t.container;this.animationLoop=new c,t.maxBounds&&this.setMaxBounds(t.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){n.animationLoop.set(300),n._rerender()}),"undefined"!=typeof s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),p(this,t),this._hash=t.hash&&(new d).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this._classes=[],this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new y),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return t.prototype.addControl=function(e,t){void 0===t&&e.getDefaultPosition&&(t=e.getDefaultPosition()),void 0===t&&(t="top-right");var n=e.onAdd(this),r=this._controlPositions[t];return t.indexOf("bottom")!==-1?r.insertBefore(n,r.firstChild):r.appendChild(n),this},t.prototype.removeControl=function(e){return e.onRemove(this),this},t.prototype.addClass=function(e,t){return i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(e)>=0||""===e?this:(this._classes.push(e),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},t.prototype.removeClass=function(e,t){i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");var n=this._classes.indexOf(e);return n<0||""===e?this:(this._classes.splice(n,1),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},t.prototype.setClasses=function(e,t){i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");for(var n={},r=0;r<e.length;r++)""!==e[r]&&(n[e[r]]=!0);return this._classes=Object.keys(n),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0)},t.prototype.hasClass=function(e){return i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(e)>=0},t.prototype.getClasses=function(){return i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes},t.prototype.resize=function(){var e=this._containerDimensions(),t=e[0],n=e[1];this._resizeCanvas(t,n),this.transform.resize(t,n),this.painter.resize(t,n);var r=this.painter.gl,o=r.getParameter(r.MAX_RENDERBUFFER_SIZE)/2;return(this._canvas.width>o||this._canvas.height>o)&&i.warnOnce("Map is larger than maximum size supported by this system ("+o+"px by "+o+"px)."),this.fire("movestart").fire("move").fire("resize").fire("moveend")},t.prototype.getBounds=function(){var e=new m(this.transform.pointLocation(new v(0,this.transform.height)),this.transform.pointLocation(new v(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new v(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new v(0,this.transform.size.y)))),e},t.prototype.setMaxBounds=function(e){if(e){var t=m.convert(e);this.transform.lngRange=[t.getWest(),t.getEast()],this.transform.latRange=[t.getSouth(),t.getNorth()],this.transform._constrain(),this._update()}else null!==e&&void 0!==e||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},t.prototype.setMinZoom=function(e){if(e=null===e||void 0===e?w:e,e>=w&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between "+w+" and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(e){if(e=null===e||void 0===e?x:e,e>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(e){return this.transform.locationPoint(g.convert(e))},t.prototype.unproject=function(e){return this.transform.pointLocation(v.convert(e))},t.prototype.queryRenderedFeatures=function(){function e(e){return e instanceof v||Array.isArray(e)}var t,n={};return 2===arguments.length?(t=arguments[0],n=arguments[1]):1===arguments.length&&e(arguments[0])?t=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(t),n,this.transform.zoom,this.transform.angle)},t.prototype._makeQueryGeometry=function(e){var t=this;void 0===e&&(e=[v.convert([0,0]),v.convert([this.transform.width,this.transform.height])]);var n,r=e instanceof v||"number"==typeof e[0];if(r){var i=v.convert(e);n=[i]}else{var o=[v.convert(e[0]),v.convert(e[1])];n=[o[0],new v(o[1].x,o[0].y),o[1],new v(o[0].x,o[1].y),o[0]]}return n=n.map(function(e){return t.transform.pointCoordinate(e)})},t.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},t.prototype.setStyle=function(e,t){var n=(!t||t.diff!==!1)&&this.style&&e&&!(e instanceof l)&&"string"!=typeof e;if(n)try{return this.style.setState(e)&&this._update(!0),this}catch(e){i.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),e?(e instanceof l?this.style=e:this.style=new l(e,this),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},t.prototype.getStyle=function(){if(this.style)return this.style.serialize()},t.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0),this},t.prototype.isSourceLoaded=function(e){var t=this.style&&this.style.sourceCaches[e];return void 0===t?void this.fire("error",{error:new Error("There is no source with ID '"+e+"'")}):t.loaded()},t.prototype.addSourceType=function(e,t,n){return this.style.addSourceType(e,t,n)},t.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0),this},t.prototype.getSource=function(e){return this.style.getSource(e)},t.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0),this},t.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0),this},t.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0),this},t.prototype.getLayer=function(e){return this.style.getLayer(e)},t.prototype.setFilter=function(e,t){return this.style.setFilter(e,t),this._update(!0),this},t.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0),this},t.prototype.getFilter=function(e){return this.style.getFilter(e)},t.prototype.setPaintProperty=function(e,t,n,r){return this.style.setPaintProperty(e,t,n,r),this._update(!0),this},t.prototype.getPaintProperty=function(e,t,n){return this.style.getPaintProperty(e,t,n)},t.prototype.setLayoutProperty=function(e,t,n){return this.style.setLayoutProperty(e,t,n),this._update(!0),this},t.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},t.prototype.setLight=function(e){return this.style.setLight(e),this._update(!0),this},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.offsetWidth||400,t=this._container.offsetHeight||300),[e,t]},t.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map");var t=this._canvasContainer=a.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=a.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",0),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=a.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){i[e]=a.create("div","mapboxgl-ctrl-"+e,r)})},t.prototype._resizeCanvas=function(e,t){var n=s.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"},t.prototype._setupPainter=function(){var e=i.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},b.webGLContextAttributes),t=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);return t?void(this.painter=new u(t,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},t.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&o.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:e})},t.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:e})},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},t.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this._rerender(),this):this},t.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof s&&s.removeEventListener("resize",this._onWindowResize,!1);var e=this.painter.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},t.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=o.frame(this._render))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,this.style._redoPlacement())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(e){this._repaint=e,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(e){this._vertices=e,this._update()},t.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(e.dataType+"data",e)},t.prototype._onDataLoading=function(e){this.fire(e.dataType+"dataloading",e)},Object.defineProperties(t.prototype,n),t}(f);t.exports=E},{"../geo/lng_lat":19,"../geo/lng_lat_bounds":20,"../geo/transform":21,"../render/painter":36,"../style/animation_loop":61,"../style/style":65,"../util/browser":112,"../util/dom":119,"../util/util":131,"../util/window":114,"./bind_handlers":93,"./camera":94,"./control/attribution_control":95,"./hash":106,"mapbox-gl-supported":196,"point-geometry":200}],108:[function(e,t,n){"use strict";var r=e("../util/dom"),i=e("../geo/lng_lat"),o=e("point-geometry"),s=function(e,t){this._offset=o.convert(t&&t.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),e||(e=r.create("div")),e.classList.add("mapboxgl-marker"),this._element=e,this._popup=null};s.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},s.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map=null),r.remove(this._element),this._popup&&this._popup.remove(),this},s.prototype.getLngLat=function(){return this._lngLat},s.prototype.setLngLat=function(e){return this._lngLat=i.convert(e),this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},s.prototype.getElement=function(){return this._element},s.prototype.setPopup=function(e){return this._popup&&(this._popup.remove(),this._popup=null),e&&(this._popup=e,this._popup.setLngLat(this._lngLat)),this},s.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},s.prototype.getPopup=function(){return this._popup},s.prototype.togglePopup=function(){var e=this._popup;e&&(e.isOpen()?e.remove():e.addTo(this._map))},s.prototype._update=function(e){if(this._map){var t=this._map.project(this._lngLat)._add(this._offset);e&&"moveend"!==e.type||(t=t.round()),r.setTransform(this._element,"translate("+t.x+"px, "+t.y+"px)")}},t.exports=s},{"../geo/lng_lat":19,"../util/dom":119,"point-geometry":200}],109:[function(e,t,n){"use strict";function r(e){if(e){if("number"==typeof e){var t=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{top:new c(0,e),"top-left":new c(t,t),"top-right":new c(-t,t),bottom:new c(0,-e),"bottom-left":new c(t,-t),"bottom-right":new c(-t,-t),left:new c(e,0),right:new c(-e,0)}}if(i(e)){var n=c.convert(e);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:c.convert(e.top||[0,0]),"top-left":c.convert(e["top-left"]||[0,0]),"top-right":c.convert(e["top-right"]||[0,0]),bottom:c.convert(e.bottom||[0,0]),"bottom-left":c.convert(e["bottom-left"]||[0,0]),"bottom-right":c.convert(e["bottom-right"]||[0,0]),left:c.convert(e.left||[0,0]),right:c.convert(e.right||[0,0])}}return r(new c(0,0))}function i(e){return e instanceof c||Array.isArray(e)}var o=e("../util/util"),s=e("../util/evented"),a=e("../util/dom"),l=e("../geo/lng_lat"),c=e("point-geometry"),u=e("../util/window"),h={closeButton:!0,closeOnClick:!0},d=function(e){function t(t){e.call(this),this.options=o.extend(Object.create(h),t),o.bindAll(["_update","_onClickClose"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},t.prototype.isOpen=function(){return!!this._map},t.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(e){return this._lngLat=l.convert(e),this._update(),this},t.prototype.setText=function(e){return this.setDOMContent(u.document.createTextNode(e))},t.prototype.setHTML=function(e){var t,n=u.document.createDocumentFragment(),r=u.document.createElement("body");for(r.innerHTML=e;t=r.firstChild,t;)n.appendChild(t);return this.setDOMContent(n)},t.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},t.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},t.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var e=this.options.anchor,t=r(this.options.offset),n=this._map.project(this._lngLat).round();if(!e){var i=this._container.offsetWidth,o=this._container.offsetHeight;e=n.y+t.bottom.y<o?["top"]:n.y>this._map.transform.height-o?["bottom"]:[],n.x<i/2?e.push("left"):n.x>this._map.transform.width-i/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var s=n.add(t[e]),l={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},c=this._container.classList;for(var u in l)c.remove("mapboxgl-popup-anchor-"+u);c.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,l[e]+" translate("+s.x+"px,"+s.y+"px)")}},t.prototype._onClickClose=function(){this.remove()},t}(s);t.exports=d},{"../geo/lng_lat":19,"../util/dom":119,"../util/evented":120,"../util/util":131,"../util/window":114,"point-geometry":200}],110:[function(e,t,n){"use strict";var r=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)};r.prototype.send=function(e,t,n,r,i){var o=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[o]=n),this.target.postMessage({targetMapId:i,sourceMapId:this.mapId,type:e,id:String(o),data:t},r)},r.prototype.receive=function(e){var t,n=this,r=e.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(e,t,r){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:e?String(e):null,data:t},r)};if("<response>"===r.type)t=this.callbacks[r.id],delete this.callbacks[r.id],t&&t(r.error||null,r.data);else if("undefined"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,o);else if("undefined"!=typeof r.id&&this.parent.getWorkerSource){var s=r.type.split("."),a=this.parent.getWorkerSource(r.sourceMapId,s[0]);a[s[1]](r.data,o)}else this.parent[r.type](r.data)}},r.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},t.exports=r},{}],111:[function(e,t,n){"use strict";function r(e){var t=i.document.createElement("a");return t.href=e,t.protocol===i.document.location.protocol&&t.host===i.document.location.host}var i=e("./window");n.getJSON=function(e,t){var n=new i.XMLHttpRequest;return n.open("GET",e,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(e){t(e)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var e;try{e=JSON.parse(n.response)}catch(e){return t(e)}t(null,e)}else t(new Error(n.statusText))},n.send(),n},n.getArrayBuffer=function(e,t){var n=new i.XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onerror=function(e){t(e)},n.onload=function(){return 0===n.response.byteLength&&200===n.status?t(new Error("http status 200 returned without content.")):void(n.status>=200&&n.status<300&&n.response?t(null,{data:n.response,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):t(new Error(n.statusText)))},n.send(),n};var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";n.getImage=function(e,t){return n.getArrayBuffer(e,function(e,n){if(e)return t(e);var r=new i.Image,s=i.URL||i.webkitURL;r.onload=function(){t(null,r),s.revokeObjectURL(r.src)};var a=new i.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?s.createObjectURL(a):o})},n.getVideo=function(e,t){var n=i.document.createElement("video");n.onloadstart=function(){t(null,n)};for(var o=0;o<e.length;o++){var s=i.document.createElement("source");r(e[o])||(n.crossOrigin="Anonymous"),s.src=e[o],n.appendChild(s)}return n}},{"./window":114}],112:[function(e,t,n){"use strict";var r=e("./window");t.exports.now=function(){return r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date)}();var i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame;n.frame=function(e){return i(e)};var o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;n.cancelFrame=function(e){o(e)},n.timed=function(e,r,i){function o(l){s||(l=t.exports.now(),l>=a+r?e.call(i,1):(e.call(i,(l-a)/r),n.frame(o)))}if(!r)return e.call(i,1),null;var s=!1,a=t.exports.now();return n.frame(o),function(){s=!0}},n.getImageData=function(e){var t=r.document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data},n.supported=e("mapbox-gl-supported"),n.hardwareConcurrency=r.navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return r.devicePixelRatio}}),n.supportsWebp=!1;var s=r.document.createElement("img");s.onload=function(){n.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":114,"mapbox-gl-supported":196}],113:[function(e,t,n){"use strict";var r=e("webworkify"),i=e("../window"),o=i.URL.createObjectURL(new r(e("../../source/worker"),{bare:!0}));t.exports=function(){return new i.Worker(o)}},{"../../source/worker":59,"../window":114,webworkify:216}],114:[function(e,t,n){"use strict";t.exports=self},{}],115:[function(e,t,n){"use strict";function r(e,t){return t.area-e.area}var i=e("quickselect"),o=e("./util").calculateSignedArea;
t.exports=function(e,t){var n=e.length;if(n<=1)return[e];for(var s,a,l=[],c=0;c<n;c++){var u=o(e[c]);0!==u&&(e[c].area=Math.abs(u),void 0===a&&(a=u<0),a===u<0?(s&&l.push(s),s=[e[c]]):s.push(e[c]))}if(s&&l.push(s),t>1)for(var h=0;h<l.length;h++)l[h].length<=t||(i(l[h],t,1,l[h].length-1,r),l[h]=l[h].slice(0,t));return l}},{"./util":131,quickselect:201}],116:[function(e,t,n){"use strict";var r={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};t.exports=r},{}],117:[function(e,t,n){"use strict";var r=function(e){var t=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<e.length;n++){var r=e[n];t._stringToNumber[r]=n,t._numberToString[n]=r}};r.prototype.encode=function(e){return this._stringToNumber[e]},r.prototype.decode=function(e){return this._numberToString[e]},t.exports=r},{}],118:[function(e,t,n){"use strict";var r=e("./util"),i=e("./actor"),o=function(e,t){var n=this;this.workerPool=e,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var o=this.workerPool.acquire(this.id),s=0;s<o.length;s++){var a=o[s],l=new i(a,t,n.id);l.name="Worker "+s,n.actors.push(l)}};o.prototype.broadcast=function(e,t,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(e,t,r)},n)},o.prototype.send=function(e,t,n,r,i){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(e,t,n,i),r},o.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},t.exports=o},{"./actor":110,"./util":131}],119:[function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length;t++)if(e[t]in l)return e[t];return e[0]}function i(e){e.preventDefault(),e.stopPropagation(),s.removeEventListener("click",i,!0)}var o=e("point-geometry"),s=e("./window");n.create=function(e,t,n){var r=s.document.createElement(e);return t&&(r.className=t),n&&n.appendChild(r),r};var a,l=s.document.documentElement.style,c=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){c&&(a=l[c],l[c]="none")},n.enableDrag=function(){c&&(l[c]=a)};var u=r(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[u]=t},n.suppressClick=function(){s.addEventListener("click",i,!0),s.setTimeout(function(){s.removeEventListener("click",i,!0)},0)},n.mousePos=function(e,t){var n=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new o(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},n.touchPos=function(e,t){for(var n=e.getBoundingClientRect(),r=[],i="touchend"===t.type?t.changedTouches:t.touches,s=0;s<i.length;s++)r.push(new o(i[s].clientX-n.left-e.clientLeft,i[s].clientY-n.top-e.clientTop));return r},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{"./window":114,"point-geometry":200}],120:[function(e,t,n){"use strict";var r=e("./util"),i=function(){};i.prototype.on=function(e,t){return this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t),this},i.prototype.off=function(e,t){if(this._listeners&&this._listeners[e]){var n=this._listeners[e].indexOf(t);n!==-1&&this._listeners[e].splice(n,1)}return this},i.prototype.once=function(e,t){var n=this,r=function(i){n.off(e,r),t.call(n,i)};return this.on(e,r),this},i.prototype.fire=function(e,t){var n=this;if(this.listens(e)){t=r.extend({},t,{type:e,target:this});for(var i=this._listeners&&this._listeners[e]?this._listeners[e].slice():[],o=0;o<i.length;o++)i[o].call(n,t);this._eventedParent&&this._eventedParent.fire(e,r.extend({},t,this._eventedParentData))}else r.endsWith(e,"error")&&console.error(t&&t.error||t||"Empty error event");return this},i.prototype.listens=function(e){return this._listeners&&this._listeners[e]||this._eventedParent&&this._eventedParent.listens(e)},i.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData="function"==typeof t?t():t,this},t.exports=i},{"./util":131}],121:[function(e,t,n){"use strict";function r(e,t){return t.max-e.max}function i(e,t,n,r){this.p=new l(e,t),this.h=n,this.d=o(this.p,r),this.max=this.d+this.h*Math.SQRT2}function o(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var o=t[i],s=0,a=o.length,l=a-1;s<a;l=s++){var u=o[s],h=o[l];u.y>e.y!=h.y>e.y&&e.x<(h.x-u.x)*(e.y-u.y)/(h.y-u.y)+u.x&&(n=!n),r=Math.min(r,c(e,u,h))}return(n?1:-1)*Math.sqrt(r)}function s(e){for(var t=0,n=0,r=0,o=e[0],s=0,a=o.length,l=a-1;s<a;l=s++){var c=o[s],u=o[l],h=c.x*u.y-u.x*c.y;n+=(c.x+u.x)*h,r+=(c.y+u.y)*h,t+=3*h}return new i(n/t,r/t,0,e)}var a=e("tinyqueue"),l=e("point-geometry"),c=e("./intersection_tests").distToSegmentSquared;t.exports=function(e,t,n){t=t||1;for(var o,l,c,u,h=e[0],d=0;d<h.length;d++){var p=h[d];(!d||p.x<o)&&(o=p.x),(!d||p.y<l)&&(l=p.y),(!d||p.x>c)&&(c=p.x),(!d||p.y>u)&&(u=p.y)}for(var f=c-o,g=u-l,m=Math.min(f,g),v=m/2,y=new a(null,r),b=o;b<c;b+=m)for(var w=l;w<u;w+=m)y.push(new i(b+v,w+v,v,e));for(var x=s(e),_=y.length;y.length;){var E=y.pop();E.d>x.d&&(x=E,n&&console.log("found best %d after %d probes",Math.round(1e4*E.d)/1e4,_)),E.max-x.d<=t||(v=E.h/2,y.push(new i(E.p.x-v,E.p.y-v,v,e)),y.push(new i(E.p.x+v,E.p.y-v,v,e)),y.push(new i(E.p.x-v,E.p.y+v,v,e)),y.push(new i(E.p.x+v,E.p.y+v,v,e)),_+=4)}return n&&(console.log("num probes: "+_),console.log("best distance: "+x.d)),x.p}},{"./intersection_tests":124,"point-geometry":200,tinyqueue:208}],122:[function(e,t,n){"use strict";function r(e,t){this.stacks=e.readFields(i,[],t)}function i(e,t,n){if(1===e){var r=n.readMessage(o,{glyphs:{}});t.push(r)}}function o(e,t,n){if(1===e)t.name=n.readString();else if(2===e)t.range=n.readString();else if(3===e){var r=n.readMessage(s,{});t.glyphs[r.id]=r}}function s(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}t.exports=r},{}],123:[function(e,t,n){"use strict";function r(e,t,n){return e*(1-n)+t*n}t.exports=r,r.number=r,r.vec2=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n)]},r.color=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n),r(e[2],t[2],n),r(e[3],t[3],n)]},r.array=function(e,t,n){return e.map(function(e,i){return r(e,t[i],n)})}},{}],124:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)if(p(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(p(e,t[r]))return!0;return!!l(e,t)}function i(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var l=s[a];if(p(i,l))return!0;if(u(l,i,n))return!0}return!1}function o(e,t){if(1===e.length&&1===e[0].length)return d(t,e[0][0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(d(e,r[i]))return!0;for(var o=0;o<e.length;o++){for(var s=e[o],a=0;a<s.length;a++)if(d(t,s[a]))return!0;for(var c=0;c<t.length;c++)if(l(s,t[c]))return!0}return!1}function s(e,t,n){for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++){var s=e[o];if(s.length>=3)for(var l=0;l<i.length;l++)if(p(s,i[l]))return!0;if(a(s,i,n))return!0}return!1}function a(e,t,n){if(e.length>1){if(l(e,t))return!0;for(var r=0;r<t.length;r++)if(u(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(u(e[i],t,n))return!0;return!1}function l(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],o=0;o<t.length-1;o++){var s=t[o],a=t[o+1];if(c(r,i,s,a))return!0}return!1}function c(e,t,n,r){return f(e,n,r)!==f(t,n,r)&&f(e,t,n)!==f(e,t,r)}function u(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++){var o=t[i-1],s=t[i];if(h(e,o,s)<r)return!0}return!1}function h(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return i<0?e.distSqr(t):i>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(i)._add(t))}function d(e,t){for(var n,r,i,o=!1,s=0;s<e.length;s++){n=e[s];for(var a=0,l=n.length-1;a<n.length;l=a++)r=n[a],i=n[l],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function p(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],s=e[i];o.y>t.y!=s.y>t.y&&t.x<(s.x-o.x)*(t.y-o.y)/(s.y-o.y)+o.x&&(n=!n)}return n}var f=e("./util").isCounterClockwise;t.exports={multiPolygonIntersectsBufferedMultiPoint:i,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:s,polygonIntersectsPolygon:r,distToSegmentSquared:h}},{"./util":131}],125:[function(e,t,n){"use strict";var r={"Latin-1 Supplement":function(e){return e>=128&&e<=255},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};t.exports=r},{}],126:[function(e,t,n){"use strict";var r=function(e,t){this.max=e,this.onRemove=t,this.reset()};r.prototype.reset=function(){var e=this;for(var t in this.data)e.onRemove(e.data[t]);return this.data={},this.order=[],this},r.prototype.add=function(e,t){if(this.has(e))this.order.splice(this.order.indexOf(e),1),this.data[e]=t,this.order.push(e);else if(this.data[e]=t,this.order.push(e),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(e){return e in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(e){if(!this.has(e))return null;var t=this.data[e];return delete this.data[e],this.order.splice(this.order.indexOf(e),1),t},r.prototype.remove=function(e){if(!this.has(e))return this;var t=this.data[e];return delete this.data[e],this.onRemove(t),this.order.splice(this.order.indexOf(e),1),this},r.prototype.setMaxSize=function(e){var t=this;for(this.max=e;this.order.length>this.max;){var n=t.get(t.order[0]);n&&t.onRemove(n)}return this},t.exports=r},{}],127:[function(e,t,n){"use strict";function r(e,t){var n=s(l.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,!l.REQUIRE_ACCESS_TOKEN)return a(e);if(t=t||l.ACCESS_TOKEN,!t)throw new Error("An API access token is required to use Mapbox GL. "+u);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return e.params.push("access_token="+t),a(e)}function i(e){return 0===e.indexOf("mapbox:")}function o(e){for(var t=0;t<e.length;t++)0===e[t].indexOf("access_token=tk.")&&(e[t]="access_token="+(l.ACCESS_TOKEN||""))}function s(e){var t=e.match(d);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function a(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}var l=e("./config"),c=e("./browser"),u="See https://www.mapbox.com/developers/api/#access-tokens";n.isMapboxURL=i,n.normalizeStyleURL=function(e,t){if(!i(e))return e;var n=s(e);return n.path="/styles/v1"+n.path,r(n,t)},n.normalizeGlyphsURL=function(e,t){if(!i(e))return e;var n=s(e);return n.path="/fonts/v1"+n.path,r(n,t)},n.normalizeSourceURL=function(e,t){if(!i(e))return e;var n=s(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,t)},n.normalizeSpriteURL=function(e,t,n,o){var l=s(e);return i(e)?(l.path="/styles/v1"+l.path+"/sprite"+t+n,r(l,o)):(l.path+=""+t+n,a(l))};var h=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(e,t,n){if(!t||!i(t))return e;var r=s(e),l=c.devicePixelRatio>=2||512===n?"@2x":"",u=c.supportsWebp?".webp":"$1";return r.path=r.path.replace(h,""+l+u),o(r.params),a(r)};var d=/^(\w+):\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/},{"./browser":112,"./config":116}],128:[function(e,t,n){"use strict";var r=e("./is_char_in_unicode_block");t.exports.allowsIdeographicBreaking=function(e){for(var t=0,r=e;t<r.length;t+=1){var i=r[t];if(!n.charAllowsIdeographicBreaking(i.charCodeAt(0)))return!1}return!0},t.exports.allowsVerticalWritingMode=function(e){for(var t=0,r=e;t<r.length;t+=1){var i=r[t];if(n.charHasUprightVerticalOrientation(i.charCodeAt(0)))return!0}return!1},t.exports.charAllowsIdeographicBreaking=function(e){return!!(!(e<11904)&&(r["Bopomofo Extended"](e)||r.Bopomofo(e)||r["CJK Compatibility Forms"](e)||r["CJK Compatibility Ideographs"](e)||r["CJK Compatibility"](e)||r["CJK Radicals Supplement"](e)||r["CJK Strokes"](e)||r["CJK Symbols and Punctuation"](e)||r["CJK Unified Ideographs Extension A"](e)||r["CJK Unified Ideographs"](e)||r["Enclosed CJK Letters and Months"](e)||r["Halfwidth and Fullwidth Forms"](e)||r.Hiragana(e)||r["Ideographic Description Characters"](e)||r["Kangxi Radicals"](e)||r["Katakana Phonetic Extensions"](e)||r.Katakana(e)||r["Vertical Forms"](e)||r["Yi Radicals"](e)||r["Yi Syllables"](e)))},n.charHasUprightVerticalOrientation=function(e){return!!(746===e||747===e||!(e<4352)&&(r["Bopomofo Extended"](e)||r.Bopomofo(e)||r["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||r["CJK Compatibility Ideographs"](e)||r["CJK Compatibility"](e)||r["CJK Radicals Supplement"](e)||r["CJK Strokes"](e)||!(!r["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||r["CJK Unified Ideographs Extension A"](e)||r["CJK Unified Ideographs"](e)||r["Enclosed CJK Letters and Months"](e)||r["Hangul Compatibility Jamo"](e)||r["Hangul Jamo Extended-A"](e)||r["Hangul Jamo Extended-B"](e)||r["Hangul Jamo"](e)||r["Hangul Syllables"](e)||r.Hiragana(e)||r["Ideographic Description Characters"](e)||r.Kanbun(e)||r["Kangxi Radicals"](e)||r["Katakana Phonetic Extensions"](e)||r.Katakana(e)&&12540!==e||!(!r["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!r["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||r["Unified Canadian Aboriginal Syllabics"](e)||r["Unified Canadian Aboriginal Syllabics Extended"](e)||r["Vertical Forms"](e)||r["Yijing Hexagram Symbols"](e)||r["Yi Syllables"](e)||r["Yi Radicals"](e)))},n.charHasNeutralVerticalOrientation=function(e){return!!(r["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||r["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||r["Letterlike Symbols"](e)||r["Number Forms"](e)||r["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||r["Control Pictures"](e)&&9251!==e||r["Optical Character Recognition"](e)||r["Enclosed Alphanumerics"](e)||r["Geometric Shapes"](e)||r["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||r["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||r["CJK Symbols and Punctuation"](e)||r.Katakana(e)||r["Private Use Area"](e)||r["CJK Compatibility Forms"](e)||r["Small Form Variants"](e)||r["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)},n.charHasRotatedVerticalOrientation=function(e){return!(n.charHasUprightVerticalOrientation(e)||n.charHasNeutralVerticalOrientation(e))}},{"./is_char_in_unicode_block":125}],129:[function(e,t,n){"use strict";function r(e){var t=JSON.stringify(e);if(m[t])return m[t];var n=void 0===e.alignment?1:e.alignment,r=0,s=0,l=["Uint8"],h=e.members.map(function(e){l.indexOf(e.type)<0&&l.push(e.type);var t=o(e.type),a=r=i(r,Math.max(n,t)),c=e.components||1;return s=Math.max(s,t),r+=t*c,{name:e.name,type:e.type,components:c,offset:a}}),p=i(r,Math.max(s,n)),f=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(d);f.prototype.alignment=n,f.prototype.size=p;for(var v=0,y=h;v<y.length;v+=1)for(var b=y[v],w=0;w<b.components;w++){var x=b.name+(1===b.components?"":w);Object.defineProperty(f.prototype,x,{get:c(b,w),set:u(b,w)})}var _=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(g);return _.prototype.members=h,_.prototype.StructType=f,_.prototype.bytesPerElement=p,_.prototype.emplaceBack=a(h,p),_.prototype._usedTypes=l,m[t]=_,_}function i(e,t){return Math.ceil(e/t)*t}function o(e){return h[e].BYTES_PER_ELEMENT}function s(e){return e.toLowerCase()}function a(e,t){for(var n=[],r=[],i="var i = this.length;\nthis.resize(this.length + 1);\n",a=0,l=e;a<l.length;a+=1){var c=l[a],u=o(c.type);n.indexOf(u)<0&&(n.push(u),i+="var o"+u.toFixed(0)+" = i * "+(t/u).toFixed(0)+";\n");for(var h=0;h<c.components;h++){var d="v"+r.length,p="o"+u.toFixed(0)+" + "+(c.offset/u+h).toFixed(0);i+="this."+s(c.type)+"["+p+"] = "+d+";\n",r.push(d)}}return i+="return i;",new Function(r.toString(),i)}function l(e,t){var n="this._pos"+o(e.type).toFixed(0),r=(e.offset/o(e.type)+t).toFixed(0),i=n+" + "+r;return"this._structArray."+s(e.type)+"["+i+"]"}function c(e,t){return new Function("return "+l(e,t)+";")}function u(e,t){return new Function("x",l(e,t)+" = x;")}t.exports=r;var h={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},d=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},p=128,f=5,g=function(e){this.isTransferred=!1,void 0!==e?(this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};g.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},g.prototype.serialize=function(e){return this._trim(),e&&(this.isTransferred=!0,e.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},g.prototype.get=function(e){return new this.StructType(this,e)},g.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},g.prototype.resize=function(e){if(this.length=e,e>this.capacity){this.capacity=Math.max(e,Math.floor(this.capacity*f),p),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},g.prototype._refreshViews=function(){for(var e=this,t=0,n=this._usedTypes;t<n.length;t+=1){var r=n[t];e[s(r)]=new h[r](e.arrayBuffer)}},g.prototype.toArray=function(e,t){for(var n=this,r=[],i=e;i<t;i++){var o=n.get(i);r.push(o)}return r};var m={}},{}],130:[function(e,t,n){"use strict";function r(e,t){return t.replace(/{([^{}]+)}/g,function(t,n){return n in e?e[n]:""})}t.exports=r},{}],131:[function(e,t,n){"use strict";var r=e("@mapbox/unitbezier"),i=e("../geo/coordinate");e("point-geometry");n.easeCubicInOut=function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},n.bezier=function(e,t,n,i){var o=new r(e,t,n,i);return function(e){return o.solve(e)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(e,t,n){return Math.min(n,Math.max(t,e))},n.wrap=function(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i},n.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach(function(e,s){t(e,function(e,t){e&&(o=e),i[s]=t,0===--r&&n(o,i)})})},n.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},n.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},n.extend=function(e,t,n,r){for(var i=arguments,o=1;o<arguments.length;o++){var s=i[o];for(var a in s)e[a]=s[a]}return e},n.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n};var o=1;n.uniqueId=function(){return o++},n.bindAll=function(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})},n.getCoordinatesCenter=function(e){for(var t=1/0,n=1/0,r=-(1/0),o=-(1/0),s=0;s<e.length;s++)t=Math.min(t,e[s].column),n=Math.min(n,e[s].row),r=Math.max(r,e[s].column),o=Math.max(o,e[s].row);var a=r-t,l=o-n,c=Math.max(a,l);return new i((t+r)/2,(n+o)/2,0).zoomTo(Math.floor(-Math.log(c)/Math.LN2))},n.endsWith=function(e,t){return e.indexOf(t,e.length-t.length)!==-1},n.mapObject=function(e,t,n){var r=this,i={};for(var o in e)i[o]=t.call(n||r,e[o],o,e);return i},n.filterObject=function(e,t,n){var r=this,i={};for(var o in e)t.call(n||r,e[o],o,e)&&(i[o]=e[o]);return i},n.deepEqual=function(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n.deepEqual(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;var i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(var o in e)if(!n.deepEqual(e[o],t[o]))return!1;return!0}return e===t},n.clone=function(e){return Array.isArray(e)?e.map(n.clone):"object"==typeof e&&e?n.mapObject(e,n.clone):e},n.arraysIntersect=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1};var s={};n.warnOnce=function(e){s[e]||("undefined"!=typeof console&&console.warn(e),s[e]=!0)},n.isCounterClockwise=function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)},n.calculateSignedArea=function(e){for(var t,n,r=0,i=0,o=e.length,s=o-1;i<o;s=i++)t=e[i],n=e[s],r+=(n.x-t.x)*(t.y+n.y);return r},n.isClosedPolygon=function(e){if(e.length<4)return!1;var t=e[0],r=e[e.length-1];return!(Math.abs(t.x-r.x)>0||Math.abs(t.y-r.y)>0)&&Math.abs(n.calculateSignedArea(e))>.01},n.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,[t*Math.cos(n)*Math.sin(r),t*Math.sin(n)*Math.sin(r),t*Math.cos(r)]},n.parseCacheControl=function(e){var t=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(e.replace(t,function(e,t,r,i){var o=r||i;return n[t]=!o||o.toLowerCase(),""}),n["max-age"]){var r=parseInt(n["max-age"],10);isNaN(r)?delete n["max-age"]:n["max-age"]=r}return n}},{"../geo/coordinate":18,"@mapbox/unitbezier":136,"point-geometry":200}],132:[function(e,t,n){"use strict";var r=function(e,t,n,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,null!=e.id&&(this.id=e.id)},i={geometry:{}};i.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},i.geometry.set=function(e){this._geometry=e},r.prototype.toJSON=function(){var e=this,t={geometry:this.geometry};for(var n in this)"_geometry"!==n&&"_vectorTileFeature"!==n&&(t[n]=e[n]);return t},Object.defineProperties(r.prototype,i),t.exports=r},{}],133:[function(e,t,n){"use strict";var r=e("./script_detection");t.exports=function(e){for(var n="",i=0;i<e.length;i++){var o=e.charCodeAt(i+1)||null,s=e.charCodeAt(i-1)||null,a=(!o||!r.charHasRotatedVerticalOrientation(o)||t.exports.lookup[e[i+1]])&&(!s||!r.charHasRotatedVerticalOrientation(s)||t.exports.lookup[e[i-1]]);n+=a&&t.exports.lookup[e[i]]?t.exports.lookup[e[i]]:e[i]}return n},t.exports.lookup={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"}},{"./script_detection":128}],134:[function(e,t,n){"use strict";var r=e("./web_worker"),i=function(){this.active={}};i.prototype.acquire=function(t){var n=this;if(!this.workers){var i=e("../mapbox-gl").workerCount;for(this.workers=[];this.workers.length<i;)n.workers.push(new r)}return this.active[t]=!0,this.workers.slice()},i.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)},t.exports=i},{"../mapbox-gl":24,"./web_worker":113}],135:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof e&&e.amd?e(i):t.glMatrix=i()}(this,function(){"use strict";function e(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}function t(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function n(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function r(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,e}function i(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function o(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*a,e[1]=i*l+s*a,e[2]=r*-a+o*l,e[3]=i*-a+s*l,e}function s(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=n[0],l=n[1];return e[0]=r*a,e[1]=i*a,e[2]=o*l,e[3]=s*l,e}function a(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function l(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function c(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function h(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],g=t[13],m=t[14],v=t[15],y=n*a-r*s,b=n*l-i*s,w=n*c-o*s,x=r*l-i*a,_=r*c-o*a,E=i*c-o*l,C=u*g-h*f,S=u*m-d*f,k=u*v-p*f,A=h*m-d*g,T=h*v-p*g,F=d*v-p*m,L=y*F-b*T+w*A+x*k-_*S+E*C;return L?(L=1/L,e[0]=(a*F-l*T+c*A)*L,e[1]=(i*T-r*F-o*A)*L,e[2]=(g*E-m*_+v*x)*L,e[3]=(d*_-h*E-p*x)*L,e[4]=(l*k-s*F-c*S)*L,e[5]=(n*F-i*k+o*S)*L,e[6]=(m*w-f*E-v*b)*L,e[7]=(u*E-d*w+p*b)*L,e[8]=(s*T-a*k+c*C)*L,e[9]=(r*k-n*T-o*C)*L,e[10]=(f*_-g*w+v*y)*L,e[11]=(h*w-u*_-p*y)*L,e[12]=(a*S-s*A-l*C)*L,e[13]=(n*A-r*S+i*C)*L,e[14]=(g*b-f*x-m*y)*L,e[15]=(u*x-h*b+d*y)*L,e):null}function d(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=n[0],w=n[1],x=n[2],_=n[3];return e[0]=b*r+w*a+x*h+_*g,e[1]=b*i+w*l+x*d+_*m,e[2]=b*o+w*c+x*p+_*v,e[3]=b*s+w*u+x*f+_*y,b=n[4],w=n[5],x=n[6],_=n[7],e[4]=b*r+w*a+x*h+_*g,e[5]=b*i+w*l+x*d+_*m,e[6]=b*o+w*c+x*p+_*v,e[7]=b*s+w*u+x*f+_*y,b=n[8],w=n[9],x=n[10],_=n[11],e[8]=b*r+w*a+x*h+_*g,e[9]=b*i+w*l+x*d+_*m,e[10]=b*o+w*c+x*p+_*v,e[11]=b*s+w*u+x*f+_*y,b=n[12],w=n[13],x=n[14],_=n[15],e[12]=b*r+w*a+x*h+_*g,e[13]=b*i+w*l+x*d+_*m,e[14]=b*o+w*c+x*p+_*v,e[15]=b*s+w*u+x*f+_*y,e}function p(e,t,n){var r,i,o,s,a,l,c,u,h,d,p,f,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=r*g+a*m+h*v+t[12],e[13]=i*g+l*m+d*v+t[13],e[14]=o*g+c*m+p*v+t[14],e[15]=s*g+u*m+f*v+t[15]),e}function f(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function g(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=s*i+u*r,e[6]=a*i+h*r,e[7]=l*i+d*r,e[8]=c*i-o*r,e[9]=u*i-s*r,e[10]=h*i-a*r,e[11]=d*i-l*r,e}function m(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=s*i+u*r,e[2]=a*i+h*r,e[3]=l*i+d*r,e[4]=c*i-o*r,e[5]=u*i-s*r,e[6]=h*i-a*r,e[7]=d*i-l*r,e}function v(e,t,n,r,i){var o=1/Math.tan(t/2),s=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*s,e[15]=0,e}function y(e,t,n,r,i,o,s){var a=1/(t-n),l=1/(r-i),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*l,e[14]=(s+o)*c,e[15]=1,e}var b=(e(),n(),{vec3:{transformMat3:t},vec4:{transformMat4:r},mat2:{create:i,rotate:o,scale:s},mat3:{create:a,fromRotation:l},mat4:{create:c,identity:u,translate:p,scale:f,multiply:d,perspective:v,rotateX:g,rotateZ:m,invert:h,ortho:y}});return b})},{}],136:[function(e,t,n){function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}t.exports=r,r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){
return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){"undefined"==typeof t&&(t=1e-6);var n,r,i,o,s;for(i=e,s=0;s<8;s++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var a=this.sampleCurveDerivativeX(i);if(Math.abs(a)<1e-6)break;i-=o/a}if(n=0,r=1,i=e,i<n)return n;if(i>r)return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},{}],137:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,i="/"===s.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===s(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),s=Math.min(i.length,o.length),a=s,l=0;l<s;l++)if(i[l]!==o[l]){a=l;break}for(var c=[],l=a;l<i.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:138}],138:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?g=f.concat(g):v=-1,g.length&&l())}function l(){if(!m){var e=o(a);m=!0;for(var t=g.length;t;){for(f=g,g=[];++v<t;)f&&f[v].run();v=-1,t=g.length}f=null,m=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var h,d,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,g=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||m||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],139:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],140:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],141:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,r){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=c(e,t);if(o)return o;var s=Object.keys(t),g=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),S(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(t);if(0===s.length){if(k(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(C(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return u(t)}var v="",y=!1,w=["{","}"];if(f(t)&&(y=!0,w=["[","]"]),k(t)){var x=t.name?": "+t.name:"";v=" [Function"+x+"]"}if(_(t)&&(v=" "+RegExp.prototype.toString.call(t)),C(t)&&(v=" "+Date.prototype.toUTCString.call(t)),S(t)&&(v=" "+u(t)),0===s.length&&(!y||0==t.length))return w[0]+v+w[1];if(r<0)return _(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=y?h(e,t,r,g,s):s.map(function(n){return d(e,t,r,g,n,y)}),e.seen.pop(),p(E,v,w)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)R(t,String(s))?o.push(d(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?l(e,c.value,null):l(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function p(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return E(e)&&"[object RegExp]"===T(e)}function E(e){return"object"==typeof e&&null!==e}function C(e){return E(e)&&"[object Date]"===T(e)}function S(e){return E(e)&&("[object Error]"===T(e)||e instanceof Error)}function k(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function T(e){return Object.prototype.toString.call(e)}function F(e){return e<10?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[F(e.getHours()),F(e.getMinutes()),F(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(M,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])s+=m(a)||!E(a)?" "+a:" "+i(a);return s},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var I,D={};n.debuglog=function(e){if(x(I)&&(I=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=t.pid;D[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else D[e]=function(){};return D[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=x,n.isRegExp=_,n.isObject=E,n.isDate=C,n.isError=S,n.isFunction=k,n.isPrimitive=A,n.isBuffer=e("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",L(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":140,_process:138,inherits:139}],142:[function(e,t,n){function r(e){return e=Math.round(e),e<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function o(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function s(e){return i("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function l(e){var t=e.replace(/ /g,"").toLowerCase();if(t in c)return c[t].slice();if("#"===t[0]){if(4===t.length){var n=parseInt(t.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===t.length){var n=parseInt(t.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var i=t.indexOf("("),l=t.indexOf(")");if(i!==-1&&l+1===t.length){var u=t.substr(0,i),h=t.substr(i+1,l-(i+1)).split(","),d=1;switch(u){case"rgba":if(4!==h.length)return null;d=s(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),d];case"hsla":if(4!==h.length)return null;d=s(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,f=s(h[1]),g=s(h[2]),m=g<=.5?g*(f+1):g+f-g*f,v=2*g-m;return[r(255*a(v,m,p+1/3)),r(255*a(v,m,p)),r(255*a(v,m,p-1/3)),d];default:return null}}return null}var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=l}catch(e){}},{}],143:[function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r=t&&t.length,o=r?t[0]*n:e.length,a=i(e,0,o,n,!0),l=[];if(!a)return l;var c,u,d,p,f,g,m;if(r&&(a=h(e,t,a,n)),e.length>80*n){c=d=e[0],u=p=e[1];for(var v=n;v<o;v+=n)f=e[v],g=e[v+1],f<c&&(c=f),g<u&&(u=g),f>d&&(d=f),g>p&&(p=g);m=Math.max(d-c,p-u)}return s(a,l,n,c,u,m),l}function i(e,t,n,r,i){var o,s;if(i===R(e,t,n,r)>0)for(o=t;o<n;o+=r)s=T(o,e[o],e[o+1],s);else for(o=n-r;o>=t;o-=r)s=T(o,e[o],e[o+1],s);return s&&_(s,s.next)&&(F(s),s=s.next),s}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do if(n=!1,r.steiner||!_(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(F(r),r=t=r.prev,r===r.next)return null;n=!0}while(n||r!==t);return t}function s(e,t,n,r,i,h,d){if(e){!d&&h&&g(e,r,i,h);for(var p,f,m=e;e.prev!==e.next;)if(p=e.prev,f=e.next,h?l(e,r,i,h):a(e))t.push(p.i/n),t.push(e.i/n),t.push(f.i/n),F(e),e=f.next,m=f.next;else if(e=f,e===m){d?1===d?(e=c(e,t,n),s(e,t,n,r,i,h,2)):2===d&&u(e,t,n,r,i,h):s(o(e),t,n,r,i,h,1);break}}}function a(e){var t=e.prev,n=e,r=e.next;if(x(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(b(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(e,t,n,r){var i=e.prev,o=e,s=e.next;if(x(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=v(a,l,t,n,r),d=v(c,u,t,n,r),p=e.nextZ;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&b(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=e.prevZ;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&b(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function c(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!_(i,o)&&E(i,r,r.next,o)&&S(i,o)&&S(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),F(r),F(r.next),r=e=o),r=r.next}while(r!==e);return r}function u(e,t,n,r,i,a){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&w(l,c)){var u=A(l,c);return l=o(l,l.next),u=o(u,u.next),s(l,t,n,r,i,a),void s(u,t,n,r,i,a)}c=c.next}l=l.next}while(l!==e)}function h(e,t,n,r){var s,a,l,c,u,h=[];for(s=0,a=t.length;s<a;s++)l=t[s]*r,c=s<a-1?t[s+1]*r:e.length,u=i(e,l,c,r,!1),u===u.next&&(u.steiner=!0),h.push(y(u));for(h.sort(d),s=0;s<h.length;s++)p(h[s],n),n=o(n,n.next);return n}function d(e,t){return e.x-t.x}function p(e,t){if(t=f(e,t)){var n=A(t,e);o(n,n.next)}}function f(e,t){var n,r=t,i=e.x,o=e.y,s=-(1/0);do{if(o<=r.y&&o>=r.next.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===s)return n.prev;var l,c=n,u=n.x,h=n.y,d=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=u&&b(o<h?i:s,o,u,h,o<h?s:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),(l<d||l===d&&r.x>n.x)&&S(r,e)&&(n=r,d=l)),r=r.next;return n}function g(e,t,n,r){var i=e;do null===i.z&&(i.z=v(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,m(i)}function m(e){var t,n,r,i,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,r=n,a=0,t=0;t<c&&(a++,r=r.nextZ);t++);for(l=c;a>0||l>0&&r;)0===a?(i=r,r=r.nextZ,l--):0!==l&&r?n.z<=r.z?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,a--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return e}function v(e,t,n,r,i){return e=32767*(e-n)/i,t=32767*(t-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function y(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function b(e,t,n,r,i,o,s,a){return(i-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(r-a)-(n-s)*(t-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function w(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!C(e,t)&&S(e,t)&&S(t,e)&&k(e,t)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function _(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,n,r){return!!(_(e,t)&&_(n,r)||_(e,r)&&_(n,t))||x(e,t,n)>0!=x(e,t,r)>0&&x(n,r,e)>0!=x(n,r,t)>0}function C(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&E(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function S(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function k(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function A(e,t){var n=new L(e.i,e.x,e.y),r=new L(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function T(e,t,n,r){var i=new L(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function F(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function L(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(e,t,n,r){for(var i=0,o=t,s=n-r;o<n;o+=r)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}t.exports=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,s=Math.abs(R(e,0,o,n));if(i)for(var a=0,l=t.length;a<l;a++){var c=t[a]*n,u=a<l-1?t[a+1]*n:e.length;s-=Math.abs(R(e,c,u,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,p=r[a+1]*n,f=r[a+2]*n;h+=Math.abs((e[d]-e[f])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[f+1]-e[d+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var s=0;s<t;s++)n.vertices.push(e[i][o][s]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},{}],144:[function(e,t,n){function r(e){var t,n,i,c,u,h;switch(typeof e){case"object":if(null===e)return null;if(o(e)){for(i="[",n=e.length-1,t=0;t<n;t++)i+=r(e[t])+",";return n>-1&&(i+=r(e[t])),i+"]"}for(c=s(e).sort(),n=c.length,i="{",u=c[t=0],h=n>0&&void 0!==e[u];t<n;)h?(i+='"'+u.replace(a,l)+'":'+r(e[u]),u=c[++t],h=t<n&&void 0!==e[u],h&&(i+=",")):(u=c[++t],h=t<n&&void 0!==e[u]);return i+"}";case"undefined":return null;case"string":return'"'+e.replace(a,l)+'"';default:return e}}var i={}.toString,o=Array.isArray||function(e){return"[object Array]"===i.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},a=/[\u0000-\u001f"\\]/g,l=function(e){var t=e.charCodeAt(0);switch(t){case 34:return'\\"';case 92:return"\\\\";case 12:return"\\f";case 10:return"\\n";case 13:return"\\r";case 9:return"\\t";case 8:return"\\b";default:return t>15?"\\u00"+t.toString(16):"\\u000"+t.toString(16)}};t.exports=function(e){if(void 0!==e)return""+r(e)},t.exports.stringSearch=a,t.exports.stringReplace=l},{}],145:[function(e,t,n){"use strict";function r(e){return new Function("f","var p = (f && f.properties || {}); return "+i(e))}function i(e){if(!e)return"true";var t=e[0];if(e.length<=1)return"any"===t?"false":"true";var n="=="===t?s(e[1],e[2],"===",!1):"!="===t?s(e[1],e[2],"!==",!1):"<"===t||">"===t||"<="===t||">="===t?s(e[1],e[2],t,!0):"any"===t?a(e.slice(1),"||"):"all"===t?a(e.slice(1),"&&"):"none"===t?u(a(e.slice(1),"||")):"in"===t?l(e[1],e.slice(2)):"!in"===t?u(l(e[1],e.slice(2))):"has"===t?c(e[1]):"!has"===t?u(c([e[1]])):"true";return"("+n+")"}function o(e){return"$type"===e?"f.type":"$id"===e?"f.id":"p["+JSON.stringify(e)+"]"}function s(e,t,n,r){var i=o(e),s="$type"===e?d.indexOf(t):JSON.stringify(t);return(r?"typeof "+i+"=== typeof "+s+"&&":"")+i+n+s}function a(e,t){return e.map(i).join(t)}function l(e,t){"$type"===e&&(t=t.map(function(e){return d.indexOf(e)}));var n=JSON.stringify(t.sort(h)),r=o(e);return t.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(t.length-1)+")"}function c(e){return JSON.stringify(e)+" in p"}function u(e){return"!("+e+")"}function h(e,t){return e<t?-1:e>t?1:0}t.exports=r;var d=["Unknown","Point","LineString","Polygon"]},{}],146:[function(e,t,n){function r(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(i(r,t)),e;case"Feature":return e.geometry=r(e.geometry,t),e;case"Polygon":case"MultiPolygon":return o(e,t);default:return e}}function i(e,t){return function(n){return e(n,t)}}function o(e,t){return"Polygon"===e.type?e.coordinates=s(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(i(s,t))),e}function s(e,t){t=!!t,e[0]=a(e[0],!t);for(var n=1;n<e.length;n++)e[n]=a(e[n],t);return e}function a(e,t){return l(e)===t?e:e.reverse()}function l(e){return c.ring(e)>=0}var c=e("geojson-area");t.exports=r},{"geojson-area":147}],147:[function(e,t,n){function r(e){if("Polygon"===e.type)return i(e.coordinates);if("MultiPolygon"===e.type){for(var t=0,n=0;n<e.coordinates.length;n++)t+=i(e.coordinates[n]);return t}return null}function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(e){var t=0;if(e.length>2){for(var n,r,i=0;i<e.length-1;i++)n=e[i],r=e[i+1],t+=s(r[0]-n[0])*(2+Math.sin(s(n[1]))+Math.sin(s(r[1])));t=t*a.RADIUS*a.RADIUS/2}return t}function s(e){return e*Math.PI/180}var a=e("wgs84");t.exports.geometry=r,t.exports.ring=o},{wgs84:148}],148:[function(e,t,n){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},{}],149:[function(e,t,n){"use strict";function r(e,t,n,r,s,l,c,u){if(n/=t,r/=t,c>=n&&u<=r)return e;if(c>r||u<n)return null;for(var h=[],d=0;d<e.length;d++){var p,f,g=e[d],m=g.geometry,v=g.type;if(p=g.min[s],f=g.max[s],p>=n&&f<=r)h.push(g);else if(!(p>r||f<n)){var y=1===v?i(m,n,r,s):o(m,n,r,s,l,3===v);y.length&&h.push(a(g.tags,v,y,g.id))}}return h.length?h:null}function i(e,t,n,r){for(var i=[],o=0;o<e.length;o++){var s=e[o],a=s[r];a>=t&&a<=n&&i.push(s)}return i}function o(e,t,n,r,i,o){for(var a=[],l=0;l<e.length;l++){var c,u,h,d=0,p=0,f=null,g=e[l],m=g.area,v=g.dist,y=g.outer,b=g.length,w=[];for(u=0;u<b-1;u++)c=f||g[u],f=g[u+1],d=p||c[r],p=f[r],d<t?p>n?(w.push(i(c,f,t),i(c,f,n)),o||(w=s(a,w,m,v,y))):p>=t&&w.push(i(c,f,t)):d>n?p<t?(w.push(i(c,f,n),i(c,f,t)),o||(w=s(a,w,m,v,y))):p<=n&&w.push(i(c,f,n)):(w.push(c),p<t?(w.push(i(c,f,t)),o||(w=s(a,w,m,v,y))):p>n&&(w.push(i(c,f,n)),o||(w=s(a,w,m,v,y))));c=g[b-1],d=c[r],d>=t&&d<=n&&w.push(c),h=w[w.length-1],o&&h&&(w[0][0]!==h[0]||w[0][1]!==h[1])&&w.push(w[0]),s(a,w,m,v,y)}return a}function s(e,t,n,r,i){return t.length&&(t.area=n,t.dist=r,void 0!==i&&(t.outer=i),e.push(t)),[]}t.exports=r;var a=e("./feature")},{"./feature":151}],150:[function(e,t,n){"use strict";function r(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)i(n,e.features[r],t);else"Feature"===e.type?i(n,e,t):i(n,{geometry:e},t);return n}function i(e,t,n){if(null!==t.geometry){var r,a,l,u,h=t.geometry,d=h.type,p=h.coordinates,f=t.properties,g=t.id;if("Point"===d)e.push(c(f,1,[s(p)],g));else if("MultiPoint"===d)e.push(c(f,1,o(p),g));else if("LineString"===d)e.push(c(f,2,[o(p,n)],g));else if("MultiLineString"===d||"Polygon"===d){for(l=[],r=0;r<p.length;r++)u=o(p[r],n),"Polygon"===d&&(u.outer=0===r),l.push(u);e.push(c(f,"Polygon"===d?3:2,l,g))}else if("MultiPolygon"===d){for(l=[],r=0;r<p.length;r++)for(a=0;a<p[r].length;a++)u=o(p[r][a],n),u.outer=0===a,l.push(u);e.push(c(f,3,l,g))}else{if("GeometryCollection"!==d)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<h.geometries.length;r++)i(e,{geometry:h.geometries[r],properties:f},n)}}}function o(e,t){for(var n=[],r=0;r<e.length;r++)n.push(s(e[r]));return t&&(l(n,t),a(n)),n}function s(e){var t=Math.sin(e[1]*Math.PI/180),n=e[0]/360+.5,r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function a(e){for(var t,n,r=0,i=0,o=0;o<e.length-1;o++)t=n||e[o],n=e[o+1],r+=t[0]*n[1]-n[0]*t[1],i+=Math.abs(n[0]-t[0])+Math.abs(n[1]-t[1]);e.area=Math.abs(r/2),e.dist=i}t.exports=r;var l=e("./simplify"),c=e("./feature")},{"./feature":151,"./simplify":153}],151:[function(e,t,n){"use strict";function r(e,t,n,r){var o={id:r||null,type:t,geometry:n,tags:e||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return i(o),o}function i(e){var t=e.geometry,n=e.min,r=e.max;if(1===e.type)o(n,r,t);else for(var i=0;i<t.length;i++)o(n,r,t[i]);return e}function o(e,t,n){for(var r,i=0;i<n.length;i++)r=n[i],e[0]=Math.min(r[0],e[0]),t[0]=Math.max(r[0],t[0]),e[1]=Math.min(r[1],e[1]),t[1]=Math.max(r[1],t[1])}t.exports=r},{}],152:[function(e,t,n){"use strict";function r(e,t){return new i(e,t)}function i(e,t){t=this.options=l(Object.create(this.options),t);var n=t.debug;n&&console.time("preprocess data");var r=1<<t.maxZoom,i=u(e,t.tolerance/(r*t.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=p(i,t.buffer/t.extent,s),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(e,t,n){return 32*((1<<e)*n+t)+e}function s(e,t,n){return[n,(n-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function a(e,t,n){return[(n-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],n,1]}function l(e,t){for(var n in t)e[n]=t[n];return e}function c(e,t,n){var r=e.source;if(1!==r.length)return!1;var i=r[0];if(3!==i.type||i.geometry.length>1)return!1;var o=i.geometry[0].length;if(5!==o)return!1;for(var s=0;s<o;s++){var a=h.point(i.geometry[0][s],t,e.z2,e.x,e.y);if(a[0]!==-n&&a[0]!==t+n||a[1]!==-n&&a[1]!==t+n)return!1}return!0}t.exports=r;var u=e("./convert"),h=e("./transform"),d=e("./clip"),p=e("./wrap"),f=e("./tile");i.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},i.prototype.splitTile=function(e,t,n,r,i,l,u){for(var h=[e,t,n,r],p=this.options,g=p.debug,m=null;h.length;){r=h.pop(),n=h.pop(),t=h.pop(),e=h.pop();var v=1<<t,y=o(t,n,r),b=this.tiles[y],w=t===p.maxZoom?0:p.tolerance/(v*p.extent);if(!b&&(g>1&&console.time("creation"),b=this.tiles[y]=f(e,v,n,r,w,t===p.maxZoom),this.tileCoords.push({z:t,x:n,y:r}),g)){g>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var x="z"+t;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(b.source=e,i){if(t===p.maxZoom||t===i)continue;var _=1<<i-t;if(n!==Math.floor(l/_)||r!==Math.floor(u/_))continue}else if(t===p.indexMaxZoom||b.numPoints<=p.indexMaxPoints)continue;if(p.solidChildren||!c(b,p.extent,p.buffer)){b.source=null,g>1&&console.time("clipping");var E,C,S,k,A,T,F=.5*p.buffer/p.extent,L=.5-F,R=.5+F,M=1+F;E=C=S=k=null,A=d(e,v,n-F,n+R,0,s,b.min[0],b.max[0]),T=d(e,v,n+L,n+M,0,s,b.min[0],b.max[0]),A&&(E=d(A,v,r-F,r+R,1,a,b.min[1],b.max[1]),C=d(A,v,r+L,r+M,1,a,b.min[1],b.max[1])),T&&(S=d(T,v,r-F,r+R,1,a,b.min[1],b.max[1]),k=d(T,v,r+L,r+M,1,a,b.min[1],b.max[1])),g>1&&console.timeEnd("clipping"),e.length&&(h.push(E||[],t+1,2*n,2*r),h.push(C||[],t+1,2*n,2*r+1),h.push(S||[],t+1,2*n+1,2*r),h.push(k||[],t+1,2*n+1,2*r+1))}else i&&(m=t)}return m},i.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,s=r.debug,a=1<<e;t=(t%a+a)%a;var l=o(e,t,n);if(this.tiles[l])return h.tile(this.tiles[l],i);s>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var u,d=e,p=t,f=n;!u&&d>0;)d--,p=Math.floor(p/2),f=Math.floor(f/2),u=this.tiles[o(d,p,f)];if(!u||!u.source)return null;if(s>1&&console.log("found parent tile z%d-%d-%d",d,p,f),c(u,i,r.buffer))return h.tile(u,i);s>1&&console.time("drilling down");var g=this.splitTile(u.source,d,p,f,e,t,n);if(s>1&&console.timeEnd("drilling down"),null!==g){var m=1<<e-g;l=o(g,Math.floor(t/m),Math.floor(n/m))}return this.tiles[l]?h.tile(this.tiles[l],i):null}},{"./clip":149,"./convert":150,"./tile":154,"./transform":155,
"./wrap":156}],153:[function(e,t,n){"use strict";function r(e,t){var n,r,o,s,a=t*t,l=e.length,c=0,u=l-1,h=[];for(e[c][2]=1,e[u][2]=1;u;){for(r=0,n=c+1;n<u;n++)o=i(e[n],e[c],e[u]),o>r&&(s=n,r=o);r>a?(e[s][2]=r,h.push(c),h.push(s),c=s):(u=h.pop(),c=h.pop())}}function i(e,t,n){var r=t[0],i=t[1],o=n[0],s=n[1],a=e[0],l=e[1],c=o-r,u=s-i;if(0!==c||0!==u){var h=((a-r)*c+(l-i)*u)/(c*c+u*u);h>1?(r=o,i=s):h>0&&(r+=c*h,i+=u*h)}return c=a-r,u=l-i,c*c+u*u}t.exports=r},{}],154:[function(e,t,n){"use strict";function r(e,t,n,r,o,s){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:t,transformed:!1,min:[2,1],max:[-1,0]},l=0;l<e.length;l++){a.numFeatures++,i(a,e[l],o,s);var c=e[l].min,u=e[l].max;c[0]<a.min[0]&&(a.min[0]=c[0]),c[1]<a.min[1]&&(a.min[1]=c[1]),u[0]>a.max[0]&&(a.max[0]=u[0]),u[1]>a.max[1]&&(a.max[1]=u[1])}return a}function i(e,t,n,r){var i,s,a,l,c=t.geometry,u=t.type,h=[],d=n*n;if(1===u)for(i=0;i<c.length;i++)h.push(c[i]),e.numPoints++,e.numSimplified++;else for(i=0;i<c.length;i++)if(a=c[i],r||!(2===u&&a.dist<n||3===u&&a.area<d)){var p=[];for(s=0;s<a.length;s++)l=a[s],(r||l[2]>d)&&(p.push(l),e.numSimplified++),e.numPoints++;3===u&&o(p,a.outer),h.push(p)}else e.numPoints+=a.length;if(h.length){var f={geometry:h,type:u,tags:t.tags||null};null!==t.id&&(f.id=t.id),e.features.push(f)}}function o(e,t){var n=s(e);n<0===t&&e.reverse()}function s(e){for(var t,n,r=0,i=0,o=e.length,s=o-1;i<o;s=i++)t=e[i],n=e[s],r+=(n[0]-t[0])*(t[1]+n[1]);return r}t.exports=r},{}],155:[function(e,t,n){"use strict";function r(e,t){if(e.transformed)return e;var n,r,o,s=e.z2,a=e.x,l=e.y;for(n=0;n<e.features.length;n++){var c=e.features[n],u=c.geometry,h=c.type;if(1===h)for(r=0;r<u.length;r++)u[r]=i(u[r],t,s,a,l);else for(r=0;r<u.length;r++){var d=u[r];for(o=0;o<d.length;o++)d[o]=i(d[o],t,s,a,l)}}return e.transformed=!0,e}function i(e,t,n,r,i){var o=Math.round(t*(e[0]*n-r)),s=Math.round(t*(e[1]*n-i));return[o,s]}n.tile=r,n.point=i},{}],156:[function(e,t,n){"use strict";function r(e,t,n){var r=e,o=s(e,1,-1-t,t,0,n,-1,2),a=s(e,1,1-t,2+t,0,n,-1,2);return(o||a)&&(r=s(e,1,-t,1+t,0,n,-1,2)||[],o&&(r=i(o,1).concat(r)),a&&(r=r.concat(i(a,-1)))),r}function i(e,t){for(var n=[],r=0;r<e.length;r++){var i,s=e[r],l=s.type;if(1===l)i=o(s.geometry,t);else{i=[];for(var c=0;c<s.geometry.length;c++)i.push(o(s.geometry[c],t))}n.push(a(s.tags,l,i,s.id))}return n}function o(e,t){var n=[];n.area=e.area,n.dist=e.dist;for(var r=0;r<e.length;r++)n.push([e[r][0]+t,e[r][1],e[r][2]]);return n}var s=e("./clip"),a=e("./feature");t.exports=r},{"./clip":149,"./feature":151}],157:[function(e,t,n){"use strict";function r(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var o=new Int32Array(this.arrayBuffer);e=o[0],t=o[1],n=o[2],this.d=t+2*n;for(var s=0;s<this.d*this.d;s++){var a=o[i+s],l=o[i+s+1];r.push(a===l?null:o.subarray(a,l))}var c=o[i+r.length],u=o[i+r.length+1];this.keys=o.subarray(c,u),this.bboxes=o.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var h=0;h<this.d*this.d;h++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var d=n/t*e;this.min=-d,this.max=e+d}t.exports=r;var i=3;r.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},r.prototype.query=function(e,t,n,r){var i=this.min,o=this.max;if(e<=i&&t<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var s=[],a={};return this._forEachCell(e,t,n,r,this._queryCell,s,a),s},r.prototype._queryCell=function(e,t,n,r,i,o,s){var a=this.cells[i];if(null!==a)for(var l=this.keys,c=this.bboxes,u=0;u<a.length;u++){var h=a[u];if(void 0===s[h]){var d=4*h;e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]?(s[h]=!0,o.push(l[h])):s[h]=!1}}},r.prototype._forEachCell=function(e,t,n,r,i,o,s){for(var a=this._convertToCellCoord(e),l=this._convertToCellCoord(t),c=this._convertToCellCoord(n),u=this._convertToCellCoord(r),h=a;h<=c;h++)for(var d=l;d<=u;d++){var p=this.d*d+h;if(i.call(this,e,t,n,r,p,o,s))return}},r.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=i+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(t+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var s=t,a=0;a<e.length;a++){var l=e[a];o[i+a]=s,o.set(l,s),s+=l.length}return o[i+e.length]=s,o.set(this.keys,s),s+=this.keys.length,o[i+e.length+1]=s,o.set(this.bboxes,s),s+=this.bboxes.length,o.buffer}},{}],158:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function o(e,t,n,i,a,l){return e===t||(null==e||null==t||!u(e)&&!r(t)?e!==e&&t!==t:s(e,t,o,n,i,a,l))}function s(e,t,n,r,i,o,s){var u=h(e),p=h(t),m=g,v=g;u||(m=S.call(e),m==f?m=w:m!=w&&(u=d(e))),p||(v=S.call(t),v==f?v=w:v!=w&&(p=d(t)));var y=m==w,b=v==w,x=m==v;if(x&&!u&&!y)return l(e,t,m);if(!i){var _=y&&C.call(e,"__wrapped__"),E=b&&C.call(t,"__wrapped__");if(_||E)return n(_?e.value():e,E?t.value():t,r,i,o,s)}if(!x)return!1;o||(o=[]),s||(s=[]);for(var k=o.length;k--;)if(o[k]==e)return s[k]==t;o.push(e),s.push(t);var A=(u?a:c)(e,t,n,r,i,o,s);return o.pop(),s.pop(),A}function a(e,t,n,r,o,s,a){var l=-1,c=e.length,u=t.length;if(c!=u&&!(o&&u>c))return!1;for(;++l<c;){var h=e[l],d=t[l],p=r?r(o?d:h,o?h:d,l):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!i(t,function(e){return h===e||n(h,e,r,o,s,a)}))return!1}else if(h!==d&&!n(h,d,r,o,s,a))return!1}return!0}function l(e,t,n){switch(n){case m:case v:return+e==+t;case y:return e.name==t.name&&e.message==t.message;case b:return e!=+e?t!=+t:e==+t;case x:case _:return e==t+""}return!1}function c(e,t,n,r,i,o,s){var a=p(e),l=a.length,c=p(t),u=c.length;if(l!=u&&!i)return!1;for(var h=l;h--;){var d=a[h];if(!(i?d in t:C.call(t,d)))return!1}for(var f=i;++h<l;){d=a[h];var g=e[d],m=t[d],v=r?r(i?m:g,i?g:m,d):void 0;if(!(void 0===v?n(g,m,r,i,o,s):v))return!1;f||(f="constructor"==d)}if(!f){var y=e.constructor,b=t.constructor;if(y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b))return!1}return!0}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var h=e("lodash.isarray"),d=e("lodash.istypedarray"),p=e("lodash.keys"),f="[object Arguments]",g="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",b="[object Number]",w="[object Object]",x="[object RegExp]",_="[object String]",E=Object.prototype,C=E.hasOwnProperty,S=E.toString;t.exports=o},{"lodash.isarray":162,"lodash.istypedarray":164,"lodash.keys":165}],159:[function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,s){return e.call(t,n,r,i,o,s)}}return function(){return e.apply(t,arguments)}}function i(e){return e}t.exports=r},{}],160:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function o(e){return s(e)&&p.call(e)==l}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(o(e)?f.test(h.call(e)):r(e)&&c.test(e))}var l="[object Function]",c=/^\[object .+?Constructor\]$/,u=Object.prototype,h=Function.prototype.toString,d=u.hasOwnProperty,p=u.toString,f=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{}],161:[function(e,t,n){function r(e){return o(e)&&g.call(e,"callee")&&(!v.call(e,"callee")||m.call(e)==h)}function i(e){return null!=e&&a(e.length)&&!s(e)}function o(e){return c(e)&&i(e)}function s(e){var t=l(e)?m.call(e):"";return t==d||t==p}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==typeof e}var u=9007199254740991,h="[object Arguments]",d="[object Function]",p="[object GeneratorFunction]",f=Object.prototype,g=f.hasOwnProperty,m=f.toString,v=f.propertyIsEnumerable;t.exports=r},{}],162:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return l(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=y}function s(e){return a(e)&&g.call(e)==u}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return null!=e&&(s(e)?m.test(p.call(e)):r(e)&&h.test(e))}var c="[object Array]",u="[object Function]",h=/^\[object .+?Constructor\]$/,d=Object.prototype,p=Function.prototype.toString,f=d.hasOwnProperty,g=d.toString,m=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=i(Array,"isArray"),y=9007199254740991,b=v||function(e){return r(e)&&o(e.length)&&g.call(e)==c};t.exports=b},{}],163:[function(e,t,n){function r(e,t,n,r){n="function"==typeof n?o(n,r,3):void 0;var s=n?n(e,t):void 0;return void 0===s?i(e,t,n):!!s}var i=e("lodash._baseisequal"),o=e("lodash._bindcallback");t.exports=r},{"lodash._baseisequal":158,"lodash._bindcallback":159}],164:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function i(e){return!!e&&"object"==typeof e}function o(e){return i(e)&&r(e.length)&&!!R[I.call(e)]}var s=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",g="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",F="[object Uint16Array]",L="[object Uint32Array]",R={};R[_]=R[E]=R[C]=R[S]=R[k]=R[A]=R[T]=R[F]=R[L]=!0,R[a]=R[l]=R[w]=R[c]=R[x]=R[u]=R[h]=R[d]=R[p]=R[f]=R[g]=R[m]=R[v]=R[y]=R[b]=!1;var M=Object.prototype,I=M.toString;t.exports=o},{}],165:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&s(y(e))}function o(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&e<t}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function a(e){for(var t=c(e),n=t.length,r=n&&e.length,i=!!r&&s(r)&&(d(e)||h(e)),a=-1,l=[];++a<n;){var u=t[a];(i&&o(u,r)||g.call(e,u))&&l.push(u)}return l}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(d(e)||h(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=Array(t),c=t>0;++r<t;)a[r]=r+"";for(var u in e)c&&o(u,t)||"constructor"==u&&(i||!g.call(e,u))||a.push(u);return a}var u=e("lodash._getnative"),h=e("lodash.isarguments"),d=e("lodash.isarray"),p=/^\d+$/,f=Object.prototype,g=f.hasOwnProperty,m=u(Object,"keys"),v=9007199254740991,y=r("length"),b=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):l(e)?m(e):[]}:a;t.exports=b},{"lodash._getnative":160,"lodash.isarguments":161,"lodash.isarray":162}],166:[function(e,t,n){function r(e){return e>v?Math.pow(e,1/3):e/m+f}function i(e){return e>g?e*e*e:m*(e-f)}function o(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function s(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function a(e){var t=s(e[0]),n=s(e[1]),i=s(e[2]),o=r((.4124564*t+.3575761*n+.1804375*i)/h),a=r((.2126729*t+.7151522*n+.072175*i)/d),l=r((.0193339*t+.119192*n+.9503041*i)/p);return[116*a-16,500*(o-a),200*(a-l),e[3]]}function l(e){var t=(e[0]+16)/116,n=isNaN(e[1])?t:t+e[1]/500,r=isNaN(e[2])?t:t-e[2]/200;return t=d*i(t),n=h*i(n),r=p*i(r),[o(3.2404542*n-1.5371385*t-.4985314*r),o(-.969266*n+1.8760108*t+.041556*r),o(.0556434*n-.2040259*t+1.0572252*r),e[3]]}function c(e){var t=a(e),n=t[0],r=t[1],i=t[2],o=Math.atan2(i,r)*b;return[o<0?o+360:o,Math.sqrt(r*r+i*i),n,e[3]]}function u(e){var t=e[0]*y,n=e[1],r=e[2];return l([r,Math.cos(t)*n,Math.sin(t)*n,e[3]])}var h=.95047,d=1,p=1.08883,f=4/29,g=6/29,m=3*g*g,v=g*g*g,y=Math.PI/180,b=180/Math.PI;t.exports={lab:{forward:a,reverse:l},hcl:{forward:c,reverse:u}}},{}],167:[function(e,t,n){"use strict";function r(e){return e}function i(e,t){var n;if(d(e)){var c,u=e.stops&&"object"==typeof e.stops[0][0],h=u||void 0!==e.property,f=u||!h,g=e.stops&&typeof(u?e.stops[0][0].property:e.stops[0][0]),m=e.type||t||("string"===g?"categorical":"exponential");if("exponential"===m)c=a;else if("interval"===m)c=s;else if("categorical"===m)c=o;else{if("identity"!==m)throw new Error('Unknown function type "'+m+'"');c=l}var v;if(e.colorSpace&&"rgb"!==e.colorSpace){if(!p[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);var y=p[e.colorSpace];e=JSON.parse(JSON.stringify(e));for(var b=0;b<e.stops.length;b++)e.stops[b]=[e.stops[b][0],y.forward(e.stops[b][1])];v=y.reverse}else v=r;if(u){var w={},x=[];for(b=0;b<e.stops.length;b++){var _=e.stops[b];void 0===w[_[0].zoom]&&(w[_[0].zoom]={zoom:_[0].zoom,type:e.type,property:e.property,stops:[]}),w[_[0].zoom].stops.push([_[0].value,_[1]])}for(var E in w)x.push([w[E].zoom,i(w[E])]);n=function(t,n){return v(a({stops:x,base:e.base},t)(t,n))},n.isFeatureConstant=!1,n.isZoomConstant=!1}else f?(n=function(t){return v(c(e,t))},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(t,n){return v(c(e,n[e.property]))},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else n=function(){return e},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function o(e,t){for(var n=0;n<e.stops.length;n++)if(t===e.stops[n][0])return e.stops[n][1];return e.stops[0][1]}function s(e,t){for(var n=0;n<e.stops.length&&!(t<e.stops[n][0]);n++);return e.stops[Math.max(n-1,0)][1]}function a(e,t){for(var n=void 0!==e.base?e.base:1,r=0;!(r>=e.stops.length)&&!(t<=e.stops[r][0]);)r++;return 0===r?e.stops[r][1]:r===e.stops.length?e.stops[r-1][1]:c(t,n,e.stops[r-1][0],e.stops[r][0],e.stops[r-1][1],e.stops[r][1])}function l(e,t){return t}function c(e,t,n,r,i,o){return"function"==typeof i?function(){var s=i.apply(void 0,arguments),a=o.apply(void 0,arguments);return c(e,t,n,r,s,a)}:i.length?h(e,t,n,r,i,o):u(e,t,n,r,i,o)}function u(e,t,n,r,i,o){var s,a=r-n,l=e-n;return s=1===t?l/a:(Math.pow(t,l)-1)/(Math.pow(t,a)-1),i*(1-s)+o*s}function h(e,t,n,r,i,o){for(var s=[],a=0;a<i.length;a++)s[a]=u(e,t,n,r,i[a],o[a]);return s}function d(e){return"object"==typeof e&&(e.stops||"identity"===e.type)}var p=e("./color_spaces");t.exports.isFunctionDefinition=d,t.exports.interpolated=function(e){return i(e,"exponential")},t.exports["piecewise-constant"]=function(e){return i(e,"interval")}},{"./color_spaces":166}],168:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)"ref"!==r&&(n[r]=e[r]);return o.forEach(function(e){e in t&&(n[e]=t[e])}),n}function i(e){e=e.slice();var t,n=Object.create(null);for(t=0;t<e.length;t++)n[e[t].id]=e[t];for(t=0;t<e.length;t++)"ref"in e[t]&&(e[t]=r(e[t],n[e[t].ref]));return e}var o=e("./util/ref_properties");t.exports=i},{"./util/ref_properties":174}],169:[function(e,t,n){"use strict";function r(e,t,n,r){e=e||{},t=t||{};var i;for(i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)||(n.push({command:u.removeSource,args:[i]}),r[i]=!0));for(i in t)t.hasOwnProperty(i)&&(e.hasOwnProperty(i)?c(e[i],t[i])||(n.push({command:u.removeSource,args:[i]}),n.push({command:u.addSource,args:[i,t[i]]}),r[i]=!0):n.push({command:u.addSource,args:[i,t[i]]}))}function i(e,t,n,r,i,o){e=e||{},t=t||{};var s;for(s in e)e.hasOwnProperty(s)&&(c(e[s],t[s])||n.push({command:o,args:[r,s,t[s],i]}));for(s in t)t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(c(e[s],t[s])||n.push({command:o,args:[r,s,t[s],i]}))}function o(e){return e.id}function s(e,t){return e[t.id]=t,e}function a(e,t,n){e=e||[],t=t||[];var r,a,l,h,d,p,f,g=e.map(o),m=t.map(o),v=e.reduce(s,{}),y=t.reduce(s,{}),b=g.slice(),w=Object.create(null);for(r=0,a=0;r<g.length;r++)l=g[r],y.hasOwnProperty(l)?a++:(n.push({command:u.removeLayer,args:[l]}),b.splice(b.indexOf(l,a),1));for(r=0,a=0;r<m.length;r++)l=m[m.length-1-r],b[b.length-1-r]!==l&&(v.hasOwnProperty(l)?(n.push({command:u.removeLayer,args:[l]}),b.splice(b.lastIndexOf(l,b.length-a),1)):a++,p=b[b.length-r],n.push({command:u.addLayer,args:[y[l],p]}),b.splice(b.length-r,0,l),w[l]=!0);for(r=0;r<m.length;r++)if(l=m[r],h=v[l],d=y[l],!w[l]&&!c(h,d))if(c(h.source,d.source)&&c(h["source-layer"],d["source-layer"])&&c(h.type,d.type)){i(h.layout,d.layout,n,l,null,u.setLayoutProperty),i(h.paint,d.paint,n,l,null,u.setPaintProperty),c(h.filter,d.filter)||n.push({command:u.setFilter,args:[l,d.filter]}),c(h.minzoom,d.minzoom)&&c(h.maxzoom,d.maxzoom)||n.push({command:u.setLayerZoomRange,args:[l,d.minzoom,d.maxzoom]});for(f in h)h.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?i(h[f],d[f],n,l,f.slice(6),u.setPaintProperty):c(h[f],d[f])||n.push({command:u.setLayerProperty,args:[l,f,d[f]]}));for(f in d)d.hasOwnProperty(f)&&!h.hasOwnProperty(f)&&"layout"!==f&&"paint"!==f&&"filter"!==f&&"metadata"!==f&&"minzoom"!==f&&"maxzoom"!==f&&(0===f.indexOf("paint.")?i(h[f],d[f],n,l,f.slice(6),u.setPaintProperty):c(h[f],d[f])||n.push({command:u.setLayerProperty,args:[l,f,d[f]]}))}else n.push({command:u.removeLayer,args:[l]}),p=b[b.lastIndexOf(l)+1],n.push({command:u.addLayer,args:[d,p]})}function l(e,t){if(!e)return[{command:u.setStyle,args:[t]}];var n=[];try{if(!c(e.version,t.version))return[{command:u.setStyle,args:[t]}];c(e.center,t.center)||n.push({command:u.setCenter,args:[t.center]}),c(e.zoom,t.zoom)||n.push({command:u.setZoom,args:[t.zoom]}),c(e.bearing,t.bearing)||n.push({command:u.setBearing,args:[t.bearing]}),c(e.pitch,t.pitch)||n.push({command:u.setPitch,args:[t.pitch]}),c(e.sprite,t.sprite)||n.push({command:u.setSprite,args:[t.sprite]}),c(e.glyphs,t.glyphs)||n.push({command:u.setGlyphs,args:[t.glyphs]}),c(e.transition,t.transition)||n.push({command:u.setTransition,args:[t.transition]}),c(e.light,t.light)||n.push({command:u.setLight,args:[t.light]});var i={},o=[];r(e.sources,t.sources,o,i);var s=[];e.layers&&e.layers.forEach(function(e){i[e.source]?n.push({command:u.removeLayer,args:[e.id]}):s.push(e)}),n=n.concat(o),a(s,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:u.setStyle,args:[t]}]}return n}var c=e("lodash.isequal"),u={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};t.exports=l,t.exports.operations=u},{"lodash.isequal":163}],170:[function(e,t,n){"use strict";function r(e,t){this.message=(e?e+": ":"")+i.apply(i,Array.prototype.slice.call(arguments,2)),null!==t&&void 0!==t&&t.__line__&&(this.line=t.__line__)}var i=e("util").format;t.exports=r},{util:141}],171:[function(e,t,n){"use strict";function r(e){return s(o.map(function(t){return e[t]}))}function i(e){var t,n,i={};for(t=0;t<e.length;t++){n=r(e[t]);var o=i[n];o||(o=i[n]=[]),o.push(e[t])}var s=[];for(n in i)s.push(i[n]);return s}var o=e("./util/ref_properties"),s=e("fast-stable-stringify");t.exports=i},{"./util/ref_properties":174,"fast-stable-stringify":144}],172:[function(e,t,n){"use strict";t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}},{}],173:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}},{}],174:[function(e,t,n){"use strict";t.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],175:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}},{}],176:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("../util/extend");t.exports=function(t){var n=e("./validate_function"),s=e("./validate_object"),a={"*":function(){return[]},array:e("./validate_array"),boolean:e("./validate_boolean"),number:e("./validate_number"),color:e("./validate_color"),constants:e("./validate_constants"),enum:e("./validate_enum"),filter:e("./validate_filter"),function:e("./validate_function"),layer:e("./validate_layer"),object:e("./validate_object"),source:e("./validate_source"),light:e("./validate_light"),string:e("./validate_string")},l=t.value,c=t.valueSpec,u=t.key,h=t.styleSpec,d=t.style;if("string"===i(l)&&"@"===l[0]){if(h.$version>7)return[new r(u,l,"constants have been deprecated as of v8")];if(!(l in d.constants))return[new r(u,l,'constant "%s" not found',l)];t=o({},t,{value:d.constants[l]})}return c.function&&"object"===i(l)?n(t):c.type&&a[c.type]?a[c.type](t):s(o({},t,{valueSpec:c.type?h[c.type]:c}))}},{"../error/validation_error":170,"../util/extend":172,"../util/get_type":173,"./validate_array":177,"./validate_boolean":178,"./validate_color":179,"./validate_constants":180,"./validate_enum":181,"./validate_filter":182,"./validate_function":183,"./validate_layer":185,"./validate_light":187,"./validate_number":188,"./validate_object":189,"./validate_source":191,"./validate_string":192}],177:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("./validate"),o=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.valueSpec,s=e.style,a=e.styleSpec,l=e.key,c=e.arrayElementValidator||i;if("array"!==r(t))return[new o(l,t,"array expected, %s found",r(t))];if(n.length&&t.length!==n.length)return[new o(l,t,"array length %d expected, length %d found",n.length,t.length)];if(n["min-length"]&&t.length<n["min-length"])return[new o(l,t,"array length at least %d expected, length %d found",n["min-length"],t.length)];var u={type:n.value};a.$version<7&&(u.function=n.function),"object"===r(n.value)&&(u=n.value);for(var h=[],d=0;d<t.length;d++)h=h.concat(c({array:t,arrayIndex:d,value:t[d],valueSpec:u,style:s,styleSpec:a,key:l+"["+d+"]"}));return h}},{"../error/validation_error":170,"../util/get_type":173,"./validate":176}],178:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,o=r(t);return"boolean"!==o?[new i(n,t,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":170,"../util/get_type":173}],179:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("csscolorparser").parseCSSColor;t.exports=function(e){var t=e.key,n=e.value,s=i(n);return"string"!==s?[new r(t,n,"color expected, %s found",s)]:null===o(n)?[new r(t,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":170,"../util/get_type":173,csscolorparser:142}],180:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type");t.exports=function(e){var t=e.key,n=e.value,o=e.styleSpec;if(o.$version>7)return n?[new r(t,n,"constants have been deprecated as of v8")]:[];var s=i(n);if("object"!==s)return[new r(t,n,"object expected, %s found",s)];var a=[];for(var l in n)"@"!==l[0]&&a.push(new r(t+"."+l,n[l],'constants must start with "@"'));return a}},{"../error/validation_error":170,"../util/get_type":173}],181:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/unbundle_jsonlint");t.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,s=[];return Array.isArray(o.values)?o.values.indexOf(i(n))===-1&&s.push(new r(t,n,"expected one of [%s], %s found",o.values.join(", "),n)):Object.keys(o.values).indexOf(i(n))===-1&&s.push(new r(t,n,"expected one of [%s], %s found",Object.keys(o.values).join(", "),n)),s}},{"../error/validation_error":170,"../util/unbundle_jsonlint":175}],182:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("./validate_enum"),o=e("../util/get_type"),s=e("../util/unbundle_jsonlint");t.exports=function e(t){var n,a=t.value,l=t.key,c=t.styleSpec,u=[];if("array"!==o(a))return[new r(l,a,"array expected, %s found",o(a))];if(a.length<1)return[new r(l,a,"filter array must have at least 1 element")];switch(u=u.concat(i({key:l+"[0]",value:a[0],valueSpec:c.filter_operator,style:t.style,styleSpec:t.styleSpec})),s(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&"$type"==a[1]&&u.push(new r(l,a,'"$type" cannot be use with operator "%s"',a[0]));case"==":case"!=":3!=a.length&&u.push(new r(l,a,'filter array for operator "%s" must have 3 elements',a[0]));case"in":case"!in":a.length>=2&&(n=o(a[1]),"string"!==n?u.push(new r(l+"[1]",a[1],"string expected, %s found",n)):"@"===a[1][0]&&u.push(new r(l+"[1]",a[1],"filter key cannot be a constant")));for(var h=2;h<a.length;h++)n=o(a[h]),"$type"==a[1]?u=u.concat(i({key:l+"["+h+"]",value:a[h],valueSpec:c.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"===n&&"@"===a[h][0]?u.push(new r(l+"["+h+"]",a[h],"filter value cannot be a constant")):"string"!==n&&"number"!==n&&"boolean"!==n&&u.push(new r(l+"["+h+"]",a[h],"string, number, or boolean expected, %s found",n));break;case"any":case"all":case"none":for(h=1;h<a.length;h++)u=u.concat(e({key:l+"["+h+"]",value:a[h],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":n=o(a[1]),2!==a.length?u.push(new r(l,a,'filter array for "%s" operator must have 2 elements',a[0])):"string"!==n?u.push(new r(l+"[1]",a[1],"string expected, %s found",n)):"@"===a[1][0]&&u.push(new r(l+"[1]",a[1],"filter key cannot be a constant"))}return u}},{"../error/validation_error":170,"../util/get_type":173,"../util/unbundle_jsonlint":175,"./validate_enum":181}],183:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("./validate"),s=e("./validate_object"),a=e("./validate_array"),l=e("./validate_number"),c=e("../util/unbundle_jsonlint");t.exports=function(e){function t(e){if("identity"===g)return[new r(e.key,e.value,'identity function may not have a "stops" property')];var t=[],o=e.value;return t=t.concat(a({key:e.key,value:o,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:n})),"array"===i(o)&&0===o.length&&t.push(new r(e.key,o,"array must have at least one stop")),t}function n(e){var t=[],n=e.value,a=e.key;if("array"!==i(n))return[new r(a,n,"array expected, %s found",i(n))];if(2!==n.length)return[new r(a,n,"array length %d expected, length %d found",2,n.length)];if(b){if("object"!==i(n[0]))return[new r(a,n,"object expected, %s found",i(n[0]))];if(void 0===n[0].zoom)return[new r(a,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(a,n,"object stop key must have value")];if(p&&p>c(n[0].zoom))return[new r(a,n[0].zoom,"stop zoom values must appear in ascending order")];c(n[0].zoom)!==p&&(p=c(n[0].zoom),d=void 0),t=t.concat(s({key:a+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:l,value:u}}))}else t=t.concat(u({key:a+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec}));return t=t.concat(o({key:a+"[1]",value:n[1],valueSpec:f,style:e.style,styleSpec:e.styleSpec})),"number"===i(n[0])&&"piecewise-constant"===f.function&&n[0]%1!==0&&t.push(new r(a+"[0]",n[0],"zoom level for piecewise-constant functions must be an integer")),t}function u(e){var t=i(e.value),n=c(e.value);if(h){if(t!==h)return[new r(e.key,e.value,"%s stop domain type must match previous stop domain type %s",t,h)]}else h=t,g||"string"!==t||(g="categorical");return"number"!==t&&"string"!==t?[new r(e.key,e.value,"property value must be a number or string")]:"number"!==t&&"categorical"!==g?[new r(e.key,e.value,"number expected, %s found",t)]:"categorical"!==g||"number"!==t||isFinite(n)&&Math.floor(n)===n?"number"===t&&void 0!==d&&n<d?[new r(e.key,e.value,"stop domain values must appear in ascending order")]:(d=n,"categorical"===g&&n in m?[new r(e.key,e.value,"stop domain values must be unique")]:(m[n]=!0,[])):[new r(e.key,e.value,"integer expected, found %s",n)]}var h,d,p,f=e.valueSpec,g=c(e.value.type),m={},v="categorical"!==g&&void 0===e.value.property,y=!v,b="array"===i(e.value.stops)&&"array"===i(e.value.stops[0])&&"object"===i(e.value.stops[0][0]),w=s({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:t}});return"identity"===g||e.value.stops||w.push(new r(e.key,e.value,'missing required property "stops"')),"exponential"===g&&"piecewise-constant"===e.valueSpec.function&&w.push(new r(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(y&&!e.valueSpec["property-function"]?w.push(new r(e.key,e.value,"property functions not supported")):v&&!e.valueSpec["zoom-function"]&&w.push(new r(e.key,e.value,"zoom functions not supported"))),"categorical"!==g&&!b||void 0!==e.value.property||w.push(new r(e.key,e.value,'"property" property is required')),w}},{"../error/validation_error":170,"../util/get_type":173,"../util/unbundle_jsonlint":175,"./validate":176,"./validate_array":177,"./validate_number":188,"./validate_object":189}],184:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("./validate_string");t.exports=function(e){var t=e.value,n=e.key,o=i(e);return o.length?o:(t.indexOf("{fontstack}")===-1&&o.push(new r(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&o.push(new r(n,t,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":170,"./validate_string":192}],185:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/unbundle_jsonlint"),o=e("./validate_object"),s=e("./validate_filter"),a=e("./validate_paint_property"),l=e("./validate_layout_property"),c=e("../util/extend");t.exports=function(e){var t=[],n=e.value,u=e.key,h=e.style,d=e.styleSpec;n.type||n.ref||t.push(new r(u,n,'either "type" or "ref" is required'));var p=i(n.type),f=i(n.ref);if(n.id)for(var g=0;g<e.arrayIndex;g++){var m=h.layers[g];i(m.id)===i(n.id)&&t.push(new r(u,n.id,'duplicate layer id "%s", previously used at line %d',n.id,m.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(e){e in n&&t.push(new r(u,n[e],'"%s" is prohibited for ref layers',e))});var v;h.layers.forEach(function(e){e.id==f&&(v=e)}),v?v.ref?t.push(new r(u,n.ref,"ref cannot reference another ref layer")):p=i(v.type):t.push(new r(u,n.ref,'ref layer "%s" not found',f))}else if("background"!==p)if(n.source){var y=h.sources&&h.sources[n.source];y?"vector"!=y.type||"raster"!=p&&"arcgisraster"!=p?"raster"==y.type&&"raster"!=p&&"arcgisraster"!=p?t.push(new r(u,n.source,'layer "%s" requires a vector source',n.id)):"vector"!=y.type||n["source-layer"]||t.push(new r(u,n,'layer "%s" must specify a "source-layer"',n.id)):t.push(new r(u,n.source,'layer "%s" requires a raster source',n.id)):t.push(new r(u,n.source,'source "%s" not found',n.source))}else t.push(new r(u,n,'missing required property "source"'));return t=t.concat(o({key:u,value:n,valueSpec:d.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},filter:s,layout:function(e){return o({
layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return l(c({layerType:p},e))}}})},paint:function(e){return o({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return a(c({layerType:p},e))}}})}}}))}},{"../error/validation_error":170,"../util/extend":172,"../util/unbundle_jsonlint":175,"./validate_filter":182,"./validate_layout_property":186,"./validate_object":189,"./validate_paint_property":190}],186:[function(e,t,n){"use strict";var r=e("./validate"),i=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.style,o=e.styleSpec,s=e.value,a=e.objectKey,l=o["layout_"+e.layerType];if(!l)return[];if(e.valueSpec||l[a]){var c=[];return"symbol"===e.layerType&&("icon-image"===a&&n&&!n.sprite?c.push(new i(t,s,'use of "icon-image" requires a style "sprite" property')):"text-field"===a&&n&&!n.glyphs&&c.push(new i(t,s,'use of "text-field" requires a style "glyphs" property'))),c.concat(r({key:e.key,value:s,valueSpec:e.valueSpec||l[a],style:n,styleSpec:o}))}return[new i(t,s,'unknown property "%s"',a)]}},{"../error/validation_error":170,"./validate":176}],187:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("./validate");t.exports=function(e){var t=e.value,n=e.styleSpec,s=n.light,a=e.style,l=[],c=i(t);if(void 0===t)return l;if("object"!==c)return l=l.concat([new r("light",t,"object expected, %s found",c)]);for(var u in t){var h=u.match(/^(.*)-transition$/);l=h&&s[h[1]]&&s[h[1]].transition?l.concat(o({key:u,value:t[u],valueSpec:n.transition,style:a,styleSpec:n})):s[u]?l.concat(o({key:u,value:t[u],valueSpec:s[u],style:a,styleSpec:n})):l.concat([new r(u,t[u],'unknown property "%s"',u)])}return l}},{"../error/validation_error":170,"../util/get_type":173,"./validate":176}],188:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,s=r(n);return"number"!==s?[new i(t,n,"number expected, %s found",s)]:"minimum"in o&&n<o.minimum?[new i(t,n,"%s is less than the minimum value %s",n,o.minimum)]:"maximum"in o&&n>o.maximum?[new i(t,n,"%s is greater than the maximum value %s",n,o.maximum)]:[]}},{"../error/validation_error":170,"../util/get_type":173}],189:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("./validate");t.exports=function(e){var t=e.key,n=e.value,s=e.valueSpec||{},a=e.objectElementValidators||{},l=e.style,c=e.styleSpec,u=[],h=i(n);if("object"!==h)return[new r(t,n,"object expected, %s found",h)];for(var d in n){var p,f=d.split(".")[0],g=s[f]||s["*"];if(a[f])p=a[f];else if(s[f])p=o;else if(a["*"])p=a["*"];else{if(!s["*"]){u.push(new r(t,n[d],'unknown property "%s"',d));continue}p=o}u=u.concat(p({key:(t?t+".":t)+d,value:n[d],valueSpec:g,style:l,styleSpec:c,object:n,objectKey:d}))}for(f in s)s[f].required&&void 0===s[f].default&&void 0===n[f]&&u.push(new r(t,n,'missing required property "%s"',f));return u}},{"../error/validation_error":170,"../util/get_type":173,"./validate":176}],190:[function(e,t,n){"use strict";var r=e("./validate"),i=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.style,o=e.styleSpec,s=e.value,a=e.objectKey,l=o["paint_"+e.layerType];if(!l)return[];var c=a.match(/^(.*)-transition$/);return c&&l[c[1]]&&l[c[1]].transition?r({key:t,value:s,valueSpec:o.transition,style:n,styleSpec:o}):e.valueSpec||l[a]?r({key:e.key,value:s,valueSpec:e.valueSpec||l[a],style:n,styleSpec:o}):[new i(t,s,'unknown property "%s"',a)]}},{"../error/validation_error":170,"./validate":176}],191:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/unbundle_jsonlint"),o=e("./validate_object"),s=e("./validate_enum");t.exports=function(e){var t=e.value,n=e.key,a=e.styleSpec,l=e.style;if(!t.type)return[new r(n,t,'"type" is required')];var c=i(t.type);switch(c){case"vector":case"raster":case"arcgisraster":var u=[];if(u=u.concat(o({key:n,value:t,valueSpec:a.source_tile,style:e.style,styleSpec:a})),"url"in t)for(var h in t)["type","url","tileSize"].indexOf(h)<0&&u.push(new r(n+"."+h,t[h],'a source with a "url" property may not include a "%s" property',h));return u;case"geojson":return o({key:n,value:t,valueSpec:a.source_geojson,style:l,styleSpec:a});case"video":return o({key:n,value:t,valueSpec:a.source_video,style:l,styleSpec:a});case"image":return o({key:n,value:t,valueSpec:a.source_image,style:l,styleSpec:a});case"canvas":return o({key:n,value:t,valueSpec:a.source_canvas,style:l,styleSpec:a});default:return s({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","arcgisraster","geojson","video","image"]},style:l,styleSpec:a})}}},{"../error/validation_error":170,"../util/unbundle_jsonlint":175,"./validate_enum":181,"./validate_object":189}],192:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,o=r(t);return"string"!==o?[new i(n,t,"string expected, %s found",o)]:[]}},{"../error/validation_error":170,"../util/get_type":173}],193:[function(e,t,n){"use strict";function r(e,t){t=t||l;var n=[];return n=n.concat(a({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:c,"*":function(){return[]}}})),t.$version>7&&e.constants&&(n=n.concat(s({key:"constants",value:e.constants,style:e,styleSpec:t}))),i(n)}function i(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function o(e){return function(){return i(e.apply(this,arguments))}}var s=e("./validate/validate_constants"),a=e("./validate/validate"),l=e("../reference/latest.min"),c=e("./validate/validate_glyphs_url");r.source=o(e("./validate/validate_source")),r.light=o(e("./validate/validate_light")),r.layer=o(e("./validate/validate_layer")),r.filter=o(e("./validate/validate_filter")),r.paintProperty=o(e("./validate/validate_paint_property")),r.layoutProperty=o(e("./validate/validate_layout_property")),t.exports=r},{"../reference/latest.min":194,"./validate/validate":176,"./validate/validate_constants":180,"./validate/validate_filter":182,"./validate/validate_glyphs_url":184,"./validate/validate_layer":185,"./validate/validate_layout_property":186,"./validate/validate_light":187,"./validate/validate_paint_property":190,"./validate/validate_source":191}],194:[function(e,t,n){t.exports=e("./v8.min.json")},{"./v8.min.json":195}],195:[function(e,t,n){t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:!0,type:"enum",values:{vector:{},raster:{},arcgisraster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},arcgisraster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_arcgisraster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_arcgisraster:{visibility:{type:"enum",function:"piecewise-constant",values:["visible","none"],default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_arcgisraster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_arcgisraster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],196:[function(e,t,n){"use strict";function r(e){return!!(i()&&o()&&s()&&a()&&l()&&c()&&u()&&h(e&&e.failIfMajorPerformanceCaveat))}function i(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function s(){return Function.prototype&&Function.prototype.bind}function a(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function c(){return"Worker"in window}function u(){return"Uint8ClampedArray"in window}function h(e){return void 0===p[e]&&(p[e]=d(e)),p[e]}function d(e){var t=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",n)||t.probablySupportsContext("experimental-webgl",n):t.supportsContext?t.supportsContext("webgl",n)||t.supportsContext("experimental-webgl",n):t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}"undefined"!=typeof t&&t.exports?t.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var p={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],197:[function(e,t,n){"use strict";function r(e){var t;e&&e.length&&(t=e,e=t.length);var n=new Uint8Array(e||0);return t&&n.set(t),n.readUInt32LE=o.readUInt32LE,n.writeUInt32LE=o.writeUInt32LE,n.readInt32LE=o.readInt32LE,n.writeInt32LE=o.writeInt32LE,n.readFloatLE=o.readFloatLE,n.writeFloatLE=o.writeFloatLE,n.readDoubleLE=o.readDoubleLE,n.writeDoubleLE=o.writeDoubleLE,n.toString=o.toString,n.write=o.write,n.slice=o.slice,n.copy=o.copy,n._isBuffer=!0,n}function i(e){for(var t,n,r=e.length,i=[],o=0;o<r;o++){if(t=e.charCodeAt(o),t>55295&&t<57344){if(!n){t>56319||o+1===r?i.push(239,191,189):n=t;continue}if(t<56320){i.push(239,191,189),n=t;continue}t=n-55296<<10|t-56320|65536,n=null}else n&&(i.push(239,191,189),n=null);t<128?i.push(t):t<2048?i.push(t>>6|192,63&t|128):t<65536?i.push(t>>12|224,t>>6&63|128,63&t|128):i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}return i}t.exports=r;var o,s,a,l=e("ieee754");o={readUInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},writeUInt32LE:function(e,t){this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24},readInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+(this[e+3]<<24)},readFloatLE:function(e){return l.read(this,e,!0,23,4)},readDoubleLE:function(e){return l.read(this,e,!0,52,8)},writeFloatLE:function(e,t){return l.write(this,e,t,!0,23,4)},writeDoubleLE:function(e,t){return l.write(this,e,t,!0,52,8)},toString:function(e,t,n){var r="",i="";t=t||0,n=Math.min(this.length,n||this.length);for(var o=t;o<n;o++){var s=this[o];s<=127?(r+=decodeURIComponent(i)+String.fromCharCode(s),i=""):i+="%"+s.toString(16)}return r+=decodeURIComponent(i)},write:function(e,t){for(var n=e===s?a:i(e),r=0;r<n.length;r++)this[t+r]=n[r]},slice:function(e,t){return this.subarray(e,t)},copy:function(e,t){t=t||0;for(var n=0;n<this.length;n++)e[t+n]=this[n]}},o.writeInt32LE=o.writeUInt32LE,r.byteLength=function(e){return s=e,a=i(e),a.length},r.isBuffer=function(e){return!(!e||!e._isBuffer)}},{ieee754:199}],198:[function(e,t,n){(function(n){"use strict";function r(e){this.buf=m.isBuffer(e)?e:new m(e||0),this.pos=0,this.length=this.buf.length}function i(e,t){var n,r=t.buf;if(n=r[t.pos++],e+=268435456*(127&n),n<128)return e;if(n=r[t.pos++],e+=34359738368*(127&n),n<128)return e;if(n=r[t.pos++],e+=4398046511104*(127&n),n<128)return e;if(n=r[t.pos++],e+=562949953421312*(127&n),n<128)return e;if(n=r[t.pos++],e+=72057594037927940*(127&n),n<128)return e;if(n=r[t.pos++],e+=0x8000000000000000*(127&n),n<128)return e;throw new Error("Expected varint not more than 10 bytes")}function o(e,t){t.realloc(10);for(var n=t.pos+10;e>=1;){if(t.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&e;t.buf[t.pos++]=r|(e>=128?128:0),e/=128}}function s(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function a(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function l(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}t.exports=r;var m=n.Buffer||e("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var v=4294967296,y=1/v,b=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=this.buf.readUInt32LE(this.pos);return this.pos+=4,e},readSFixed32:function(){var e=this.buf.readInt32LE(this.pos);return this.pos+=4,e},readFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*v;return this.pos+=8,e},readSFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*v;return this.pos+=8,e},readFloat:function(){var e=this.buf.readFloatLE(this.pos);return this.pos+=4,e},readDouble:function(){var e=this.buf.readDoubleLE(this.pos);return this.pos+=8,e},readVarint:function(){var e,t,n=this.buf;return t=n[this.pos++],e=127&t,t<128?e:(t=n[this.pos++],e|=(127&t)<<7,t<128?e:(t=n[this.pos++],e|=(127&t)<<14,t<128?e:(t=n[this.pos++],
e|=(127&t)<<21,t<128?e:i(e,this))))},readVarint64:function(){var e=this.pos,t=this.readVarint();if(t<b)return t;for(var n=this.pos-2;255===this.buf[n];)n--;n<e&&(n=e),t=0;for(var r=0;r<n-e+1;r++){var i=127&~this.buf[e+r];t+=r<4?i<<7*r:i*Math.pow(2,7*r)}return-t-1},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.buf.toString("utf8",this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.slice(this.pos,e);return this.pos=e,t},readPackedVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readVarint());return t},readPackedSVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new m(t);this.buf.copy(n),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(e){this.realloc(4),this.buf.writeUInt32LE(e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),this.buf.writeInt32LE(e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(e&-1,this.pos),this.buf.writeUInt32LE(Math.floor(e*y),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(e&-1,this.pos),this.buf.writeInt32LE(Math.floor(e*y),this.pos+4),this.pos+=8},writeVarint:function(e){return e=+e,e>268435455?void o(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),void(e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e);var t=m.byteLength(e);this.writeVarint(t),this.realloc(t),this.buf.write(e,this.pos),this.pos+=t},writeFloat:function(e){this.realloc(4),this.buf.writeFloatLE(e,this.pos),this.pos+=4},writeDouble:function(e){this.realloc(8),this.buf.writeDoubleLE(e,this.pos),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&s(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,a,t)},writePackedSVarint:function(e,t){this.writeMessage(e,l,t)},writePackedBoolean:function(e,t){this.writeMessage(e,h,t)},writePackedFloat:function(e,t){this.writeMessage(e,c,t)},writePackedDouble:function(e,t){this.writeMessage(e,u,t)},writePackedFixed32:function(e,t){this.writeMessage(e,d,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,p,t)},writePackedFixed64:function(e,t){this.writeMessage(e,f,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,g,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":197}],199:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=f,s/=256,c-=8);e[n+p-f]|=128*g}},{}],200:[function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},{}],201:[function(e,t,n){"use strict";function r(e,t,n,s,a){for(n=n||0,s=s||e.length-1,a=a||o;s>n;){if(s-n>600){var l=s-n+1,c=t-n+1,u=Math.log(l),h=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*h/l+d)),f=Math.min(s,Math.floor(t+(l-c)*h/l+d));r(e,t,p,f,a)}var g=e[t],m=n,v=s;for(i(e,n,t),a(e[s],g)>0&&i(e,n,s);m<v;){for(i(e,m,v),m++,v--;a(e[m],g)<0;)m++;for(;a(e[v],g)>0;)v--}0===a(e[n],g)?i(e,n,v):(v++,i(e,v,s)),v<=t&&(n=v+1),t<=v&&(s=v-1)}}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function o(e,t){return e<t?-1:e>t?1:0}t.exports=r},{}],202:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof e&&e.amd?e(i):t.ShelfPack=i()}(this,function(){function e(e,t,n){n=n||{},this.w=e||64,this.h=t||64,this.autoResize=!!n.autoResize,this.shelves=[],this.stats={},this.count=function(e){this.stats[e]=(0|this.stats[e])+1}}function t(e,t,n){this.x=0,this.y=e,this.w=this.free=t,this.h=n}return e.prototype.pack=function(e,t){e=[].concat(e),t=t||{};for(var n,r,i,o=[],s=0;s<e.length;s++)if(n=e[s].w||e[s].width,r=e[s].h||e[s].height,n&&r){if(i=this.packOne(n,r),!i)continue;t.inPlace&&(e[s].x=i.x,e[s].y=i.y),o.push(i)}if(this.shelves.length>0){for(var a=0,l=0,c=0;c<this.shelves.length;c++){var u=this.shelves[c];l+=u.h,a=Math.max(u.w-u.free,a)}this.resize(a,l)}return o},e.prototype.packOne=function(e,n){for(var r,i,o=0,s={shelf:-1,waste:1/0},a=0;a<this.shelves.length;a++){if(r=this.shelves[a],o+=r.h,n===r.h&&e<=r.free)return this.count(n),r.alloc(e,n);n>r.h||e>r.free||n<r.h&&e<=r.free&&(i=r.h-n,i<s.waste&&(s.waste=i,s.shelf=a))}if(s.shelf!==-1)return r=this.shelves[s.shelf],this.count(n),r.alloc(e,n);if(n<=this.h-o&&e<=this.w)return r=new t(o,this.w,n),this.shelves.push(r),this.count(n),r.alloc(e,n);if(this.autoResize){var l,c,u,h;return l=c=this.h,u=h=this.w,(u<=l||e>u)&&(h=2*Math.max(e,u)),(l<u||n>l)&&(c=2*Math.max(n,l)),this.resize(h,c),this.packOne(e,n)}return null},e.prototype.clear=function(){this.shelves=[],this.stats={}},e.prototype.resize=function(e,t){this.w=e,this.h=t;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(e);return!0},t.prototype.alloc=function(e,t){if(e>this.free||t>this.h)return null;var n=this.x;return this.x+=e,this.free-=e,{x:n,y:this.y,w:e,h:t,width:e,height:t}},t.prototype.resize=function(e){return this.free+=e-this.w,this.w=e,!0},e})},{}],203:[function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){this.options=p(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function o(e,t,n,r){return{x:e,y:t,zoom:1/0,id:r,numPoints:n}}function s(e,t){var n=e.geometry.coordinates;return o(c(n[0]),u(n[1]),1,t)}function a(e){return{type:"Feature",properties:l(e),geometry:{type:"Point",coordinates:[h(e.x),d(e.y)]}}}function l(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return{cluster:!0,point_count:t,point_count_abbreviated:n}}function c(e){return e/360+.5}function u(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function h(e){return 360*(e-.5)}function d(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function p(e,t){for(var n in t)e[n]=t[n];return e}function f(e){return e.x}function g(e){return e.y}var m=e("kdbush");t.exports=r,i.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(e){var t=this.options.log;t&&console.time("total time");var n="prepare "+e.length+" points";t&&console.time(n),this.points=e;var r=e.map(s);t&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var o=+Date.now();this.trees[i+1]=m(r,f,g,this.options.nodeSize,Float32Array),r=this._cluster(r,i),t&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=m(r,f,g,this.options.nodeSize,Float32Array),t&&console.timeEnd("total time"),this},getClusters:function(e,t){for(var n=this.trees[this._limitZoom(t)],r=n.range(c(e[0]),u(e[3]),c(e[2]),u(e[1])),i=[],o=0;o<r.length;o++){var s=n.points[r[o]];i.push(s.id!==-1?this.points[s.id]:a(s))}return i},getTile:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options.extent,s=this.options.radius,a=s/o,l=(n-a)/i,c=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((t-a)/i,l,(t+1+a)/i,c),r.points,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-a/i,l,1,c),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,a/i,c),r.points,-1,n,i,u),u.features.length?u:null},_addTileFeatures:function(e,t,n,r,i,o){for(var s=0;s<e.length;s++){var a=t[e[s]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(a.x*i-n)),Math.round(this.options.extent*(a.y*i-r))]],tags:a.id!==-1?this.points[a.id].properties:l(a)})}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,t)),i=0;i<e.length;i++){var s=e[i];if(!(s.zoom<=t)){s.zoom=t;for(var a=this.trees[t+1],l=a.within(s.x,s.y,r),c=!1,u=s.numPoints,h=s.x*u,d=s.y*u,p=0;p<l.length;p++){var f=a.points[l[p]];t<f.zoom&&(c=!0,f.zoom=t,h+=f.x*f.numPoints,d+=f.y*f.numPoints,u+=f.numPoints)}n.push(c?o(h/u,d/u,u,-1):s)}}return n}}},{kdbush:204}],204:[function(e,t,n){"use strict";function r(e,t,n,r,o){return new i(e,t,n,r,o)}function i(e,t,n,r,i){t=t||o,n=n||s,i=i||Array,this.nodeSize=r||64,this.points=e,this.ids=new i(e.length),this.coords=new i(2*e.length);for(var l=0;l<e.length;l++)this.ids[l]=l,this.coords[2*l]=t(e[l]),this.coords[2*l+1]=n(e[l]);a(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(e){return e[0]}function s(e){return e[1]}var a=e("./sort"),l=e("./range"),c=e("./within");t.exports=r,i.prototype={range:function(e,t,n,r){return l(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return c(this.ids,this.coords,e,t,n,this.nodeSize)}}},{"./range":205,"./sort":206,"./within":207}],205:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){for(var a,l,c=[0,e.length-1,0],u=[];c.length;){var h=c.pop(),d=c.pop(),p=c.pop();if(d-p<=s)for(var f=p;f<=d;f++)a=t[2*f],l=t[2*f+1],a>=n&&a<=i&&l>=r&&l<=o&&u.push(e[f]);else{var g=Math.floor((p+d)/2);a=t[2*g],l=t[2*g+1],a>=n&&a<=i&&l>=r&&l<=o&&u.push(e[g]);var m=(h+1)%2;(0===h?n<=a:r<=l)&&(c.push(p),c.push(g-1),c.push(m)),(0===h?i>=a:o>=l)&&(c.push(g+1),c.push(d),c.push(m))}}return u}t.exports=r},{}],206:[function(e,t,n){"use strict";function r(e,t,n,o,s,a){if(!(s-o<=n)){var l=Math.floor((o+s)/2);i(e,t,l,o,s,a%2),r(e,t,n,o,l-1,a+1),r(e,t,n,l+1,s,a+1)}}function i(e,t,n,r,s,a){for(;s>r;){if(s-r>600){var l=s-r+1,c=n-r+1,u=Math.log(l),h=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(n-c*h/l+d)),f=Math.min(s,Math.floor(n+(l-c)*h/l+d));i(e,t,n,p,f,a)}var g=t[2*n+a],m=r,v=s;for(o(e,t,r,n),t[2*s+a]>g&&o(e,t,r,s);m<v;){for(o(e,t,m,v),m++,v--;t[2*m+a]<g;)m++;for(;t[2*v+a]>g;)v--}t[2*r+a]===g?o(e,t,r,v):(v++,o(e,t,v,s)),v<=n&&(r=v+1),n<=v&&(s=v-1)}}function o(e,t,n,r){s(e,n,r),s(t,2*n,2*r),s(t,2*n+1,2*r+1)}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}t.exports=r},{}],207:[function(e,t,n){"use strict";function r(e,t,n,r,o,s){for(var a=[0,e.length-1,0],l=[],c=o*o;a.length;){var u=a.pop(),h=a.pop(),d=a.pop();if(h-d<=s)for(var p=d;p<=h;p++)i(t[2*p],t[2*p+1],n,r)<=c&&l.push(e[p]);else{var f=Math.floor((d+h)/2),g=t[2*f],m=t[2*f+1];i(g,m,n,r)<=c&&l.push(e[f]);var v=(u+1)%2;(0===u?n-o<=g:r-o<=m)&&(a.push(d),a.push(f-1),a.push(v)),(0===u?n+o>=g:r+o>=m)&&(a.push(f+1),a.push(h),a.push(v))}}return l}function i(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}t.exports=r},{}],208:[function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||i,e)for(var n=Math.floor(this.length/2);n>=0;n--)this._down(n)}function i(e,t){return e<t?-1:e>t?1:0}function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}t.exports=r,r.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){var e=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),e},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare;e>0;){var r=Math.floor((e-1)/2);if(!(n(t[e],t[r])<0))break;o(t,r,e),e=r}},_down:function(e){for(var t=this.data,n=this.compare,r=this.length;;){var i=2*e+1,s=i+1,a=e;if(i<r&&n(t[i],t[a])<0&&(a=i),s<r&&n(t[s],t[a])<0&&(a=s),a===e)return;o(t,a,e),e=a}}}},{}],209:[function(e,t,n){t.exports.VectorTile=e("./lib/vectortile.js"),t.exports.VectorTileFeature=e("./lib/vectortilefeature.js"),t.exports.VectorTileLayer=e("./lib/vectortilelayer.js")},{"./lib/vectortile.js":210,"./lib/vectortilefeature.js":211,"./lib/vectortilelayer.js":212}],210:[function(e,t,n){"use strict";function r(e,t){this.layers=e.readFields(i,{},t)}function i(e,t,n){if(3===e){var r=new o(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var o=e("./vectortilelayer");t.exports=r},{"./vectortilelayer":212}],211:[function(e,t,n){"use strict";function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?o(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}function s(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var s=a(e[o]);0!==s&&(void 0===r&&(r=s<0),r===s<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}function a(e){for(var t,n,r=0,i=0,o=e.length,s=o-1;i<o;s=i++)t=e[i],n=e[s],r+=(n.x-t.x)*(t.y+n.y);return r}var l=e("point-geometry");t.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,s=0,a=[];e.pos<n;){if(!i){var c=e.readVarint();r=7&c,i=c>>3}if(i--,1===r||2===r)o+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&a.push(t),t=[]),t.push(new l(o,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&a.push(t),a},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,s=1/0,a=-(1/0),l=1/0,c=-(1/0);e.pos<t;){if(!r){var u=e.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<s&&(s=i),i>a&&(a=i),o<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[s,l,a,c]},r.prototype.toGeoJSON=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+u)/l;e[t]=[360*(n.x+c)/l-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,a,l=this.extent*Math.pow(2,n),c=this.extent*e,u=this.extent*t,h=this.loadGeometry(),d=r.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<h.length;o++)p[o]=h[o][0];h=p,i(h);break;case 2:for(o=0;o<h.length;o++)i(h[o]);break;case 3:for(h=s(h),o=0;o<h.length;o++)for(a=0;a<h[o].length;a++)i(h[o][a])}1===h.length?h=h[0]:d="Multi"+d;var f={type:"Feature",geometry:{type:d,coordinates:h},properties:this.properties};return"id"in this&&(f.id=this.id),f}},{"point-geometry":200}],212:[function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(o(n))}function o(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}var s=e("./vectortilefeature.js");t.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new s(this._pbf,t,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":211}],213:[function(e,t,n){function r(e){var t=[];for(var n in e.layers)t.push(o(e.layers[n]));var r=new u;return h.tile.write({layers:t},r),r.finish()}function i(e){var t={};for(var n in e)t[n]=new d(e[n].features),t[n].name=n;return r({layers:t})}function o(e){for(var t={name:e.name||"",version:e.version||1,extent:e.extent||4096,keys:[],values:[],features:[]},n={},r={},i=0;i<e.length;i++){var o=e.feature(i);o.geometry=l(o.loadGeometry());var s=[];for(var a in o.properties){var u=n[a];"undefined"==typeof u&&(t.keys.push(a),u=t.keys.length-1,n[a]=u);var h=c(o.properties[a]),d=r[h.key];"undefined"==typeof d&&(t.values.push(h),d=t.values.length-1,r[h.key]=d),s.push(u),s.push(d)}o.tags=s,t.features.push(o)}return t}function s(e,t){return(t<<3)+(7&e)}function a(e){return e<<1^e>>31}function l(e){for(var t=[],n=0,r=0,i=e.length,o=0;o<i;o++){var l=e[o];t.push(s(1,1));for(var c=0;c<l.length;c++){1===c&&t.push(s(2,l.length-1));var u=l[c].x-n,h=l[c].y-r;t.push(a(u),a(h)),n+=u,r+=h}}return t}function c(e){var t,n=typeof e;return"string"===n?t={string_value:e}:"boolean"===n?t={bool_value:e}:"number"===n?t=e%1!==0?{double_value:e}:e<0?{sint_value:e}:{uint_value:e}:(e=JSON.stringify(e),t={string_value:e}),t.key=n+":"+e,t}var u=e("pbf"),h=e("./vector-tile-pb"),d=e("./lib/geojson_wrapper");t.exports=r,t.exports.fromVectorTileJs=r,t.exports.fromGeojsonVt=i,t.exports.GeoJSONWrapper=d},{"./lib/geojson_wrapper":214,"./vector-tile-pb":215,pbf:198}],214:[function(e,t,n){"use strict";function r(e){this.features=e,this.length=e.length}function i(e){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var o=e("point-geometry"),s=e("vector-tile").VectorTileFeature;t.exports=r,r.prototype.feature=function(e){return new i(this.features[e])},i.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-(1/0),r=1/0,i=-(1/0),o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var l=s[a];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},i.prototype.toGeoJSON=s.prototype.toGeoJSON},{"point-geometry":200,"vector-tile":209}],215:[function(e,t,n){"use strict";function r(e,t){return e.readFields(i,{layers:[]},t)}function i(e,t,n){3===e&&t.layers.push(d(n,n.readVarint()+n.pos))}function o(e,t){var n;if(void 0!==e.layers)for(n=0;n<e.layers.length;n++)t.writeMessage(3,f,e.layers[n])}function s(e,t){return e.readFields(a,{},t)}function a(e,t,n){1===e?t.string_value=n.readString():2===e?t.float_value=n.readFloat():3===e?t.double_value=n.readDouble():4===e?t.int_value=n.readVarint():5===e?t.uint_value=n.readVarint():6===e?t.sint_value=n.readSVarint():7===e&&(t.bool_value=n.readBoolean())}function l(e,t){void 0!==e.string_value&&t.writeStringField(1,e.string_value),void 0!==e.float_value&&t.writeFloatField(2,e.float_value),void 0!==e.double_value&&t.writeDoubleField(3,e.double_value),void 0!==e.int_value&&t.writeVarintField(4,e.int_value),void 0!==e.uint_value&&t.writeVarintField(5,e.uint_value),void 0!==e.sint_value&&t.writeSVarintField(6,e.sint_value),void 0!==e.bool_value&&t.writeBooleanField(7,e.bool_value)}function c(e,t){var n=e.readFields(u,{},t);return void 0===n.type&&(n.type="Unknown"),n}function u(e,t,n){1===e?t.id=n.readVarint():2===e?t.tags=n.readPackedVarint():3===e?t.type=n.readVarint():4===e&&(t.geometry=n.readPackedVarint())}function h(e,t){void 0!==e.id&&t.writeVarintField(1,e.id),void 0!==e.tags&&t.writePackedVarint(2,e.tags),void 0!==e.type&&t.writeVarintField(3,e.type),void 0!==e.geometry&&t.writePackedVarint(4,e.geometry)}function d(e,t){return e.readFields(p,{features:[],keys:[],values:[]},t)}function p(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():2===e?t.features.push(c(n,n.readVarint()+n.pos)):3===e?t.keys.push(n.readString()):4===e?t.values.push(s(n,n.readVarint()+n.pos)):5===e&&(t.extent=n.readVarint())}function f(e,t){void 0!==e.version&&t.writeVarintField(15,e.version),void 0!==e.name&&t.writeStringField(1,e.name);var n;if(void 0!==e.features)for(n=0;n<e.features.length;n++)t.writeMessage(2,h,e.features[n]);if(void 0!==e.keys)for(n=0;n<e.keys.length;n++)t.writeStringField(3,e.keys[n]);if(void 0!==e.values)for(n=0;n<e.values.length;n++)t.writeMessage(4,l,e.values[n]);void 0!==e.extent&&t.writeVarintField(5,e.extent)}var g=n.tile={read:r,write:o};g.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},g.value={read:s,write:l},g.feature={read:c,write:h},g.layer={read:d,write:f}},{}],216:[function(e,t,n){var r=arguments[3],i=arguments[4],o=arguments[5],s=JSON.stringify;t.exports=function(e,t){function n(e){m[e]=!0;for(var t in i[e][1]){var r=i[e][1][t];m[r]||n(r)}}for(var a,l=Object.keys(o),c=0,u=l.length;c<u;c++){var h=l[c],d=o[h].exports;if(d===e||d&&d.default===e){a=h;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},c=0,u=l.length;c<u;c++){var h=l[c];p[h]=h}i[a]=[Function(["require","module","exports"],"("+e+")(self)"),p]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[a]=a,i[f]=[Function(["require"],"var f = require("+s(a)+");(f.default ? f.default : f)(self);"),g];var m={};n(f);var v="("+r+")({"+Object.keys(m).map(function(e){return s(e)+":["+i[e][0]+","+s(i[e][1])+"]"}).join(",")+"},{},["+s(f)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([v],{type:"text/javascript"});if(t&&t.bare)return b;var w=y.createObjectURL(b),x=new Worker(w);return x.objectURL=w,x}},{}],217:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.WhooTS=t.WhooTS||{})}(this,function(e){function t(e,t,r,i,o,s){s=s||{};var a=e+"?"+["bbox="+n(r,i,o),"format="+(s.format||"image/png"),"service="+(s.service||"WMS"),"version="+(s.version||"1.1.1"),"request="+(s.request||"GetMap"),"srs="+(s.srs||"EPSG:3857"),"width="+(s.width||256),"height="+(s.height||256),"layers="+t].join("&");return a}function n(e,t,n){t=Math.pow(2,n)-t-1;var i=r(256*e,256*t,n),o=r(256*(e+1),256*(t+1),n);return i[0]+","+i[1]+","+o[0]+","+o[1]}function r(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n),i=e*r-2*Math.PI*6378137/2,o=t*r-2*Math.PI*6378137/2;return[i,o]}e.getURL=t,e.getTileBBox=n,e.getMercCoords=r,Object.defineProperty(e,"__esModule",{value:!0})})},{}],218:[function(e,t,n){t.exports={version:"0.32.1"}},{}]},{},[24])(24)})},function(e,t,n){"use strict";var r=(n(686),n(201)("mapboxGLHelperMixin")),i={};"undefined"!=typeof window&&(i=n(684));var o={getBounds:function(){if(this.map)return this.map.getBounds().toArray()},getPosition:function(){if(this.map){var e=this.map.getCenter(),t=this.map.getZoom();return{zoom:t,lng:e.lng,lat:e.lat}}},updatePosition:function(){r("("+this.state.id+") UPDATE POSITION");var e=this.map;e.setView(this.state.map.position.center,this.state.map.position.zoom,{animate:!1})},flyTo:function(e,t){this.map.flyTo({center:e,zoom:t})},getBoundsObject:function(e){var t=new i.LngLat(e[0],e[1]),n=new i.LngLat(e[2],e[3]);return new i.LngLatBounds(t,n)},fitBounds:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=new i.LngLat(e[0],e[1]),s=new i.LngLat(e[2],e[3]),a=new i.LngLatBounds(o,s);this.map.fitBounds(a,{padding:n,curve:1,speed:.6,maxZoom:t,animate:r})},changeLocale:function(e,t){}};e.exports=o},function(e,t){function n(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function r(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function i(e,t,n){if(t!==t)return r(e,o,n);for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}function o(e){return e!==e}function s(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function a(e,t){return n(t,function(t){return e[t]})}function l(e,t){return function(n){return e(t(n))}}function c(e,t){var n=Y(e)||f(e)?s(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!W.call(e,o)||i&&("length"==o||h(o,r))||n.push(o);return n}function u(e){if(!d(e))return G(e);var t=[];for(var n in Object(e))W.call(e,n)&&"constructor"!=n&&t.push(n);return t}function h(e,t){return t=null==t?F:t,!!t&&("number"==typeof e||z.test(e))&&e>-1&&e%1==0&&e<t}function d(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||V;return e===n}function p(e,t,n,r){e=g(e)?e:A(e),n=n&&!r?C(n):0;var o=e.length;return n<0&&(n=K(o+n,0)),x(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&i(e,t,n)>-1}function f(e){return m(e)&&W.call(e,"callee")&&(!H.call(e,"callee")||q.call(e)==M)}function g(e){return null!=e&&y(e.length)&&!v(e)}function m(e){return w(e)&&g(e)}function v(e){var t=b(e)?q.call(e):"";return t==I||t==D}function y(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){return!!e&&"object"==typeof e}function x(e){return"string"==typeof e||!Y(e)&&w(e)&&q.call(e)==N}function _(e){return"symbol"==typeof e||w(e)&&q.call(e)==P}function E(e){if(!e)return 0===e?e:0;if(e=S(e),e===T||e===-T){var t=e<0?-1:1;return t*L}return e===e?e:0}function C(e){var t=E(e),n=t%1;return t===t?n?t-n:t:0}function S(e){if("number"==typeof e)return e;if(_(e))return R;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(O,"");var n=$.test(e);return n||j.test(e)?U(e.slice(2),n?2:8):B.test(e)?R:+e}function k(e){return g(e)?c(e):u(e)}function A(e){return e?a(e,k(e)):[]}var T=1/0,F=9007199254740991,L=1.7976931348623157e308,R=NaN,M="[object Arguments]",I="[object Function]",D="[object GeneratorFunction]",N="[object String]",P="[object Symbol]",O=/^\s+|\s+$/g,B=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,j=/^0o[0-7]+$/i,z=/^(?:0|[1-9]\d*)$/,U=parseInt,V=Object.prototype,W=V.hasOwnProperty,q=V.toString,H=V.propertyIsEnumerable,G=l(Object.keys,Object),K=Math.max,Y=Array.isArray;e.exports=p},function(e,t,n){"use strict";var r=n(168),i=n(654),o=n(201)("MapInteractionMixin"),s=n(648),a={setSelectionFilter:function(e){var t=this;this.state.glStyle&&this.state.glStyle.layers.forEach(function(n){var r=["in","mhid"];e.forEach(function(e){r.push(e.properties.mhid)}),t.map.getLayer(n.id)&&(n.id.startsWith("omh-hover-point")?t.map.setFilter(n.id,["all",["in","$type","Point"],r]):n.id.startsWith("omh-hover-line")?t.map.setFilter(n.id,["all",["in","$type","LineString"],r]):n.id.startsWith("omh-hover-polygon")&&t.map.setFilter(n.id,["all",["in","$type","Polygon"],r]))})},clearSelectionFilter:function(){var e=this;this.state.glStyle&&this.state.glStyle.layers.forEach(function(t){t.id.startsWith("omh-hover")&&e.map.getLayer(t.id)&&e.map.setFilter(t.id,["==","mhid",""])})},handleUnselectFeature:function(){this.setState({selected:!1}),this.clearSelection()},clearSelection:function(){this.map.hasClass("selected")&&this.map.removeClass("selected"),this.clearSelectionFilter(),this.setState({selectedFeatures:null})},getInteractiveLayers:function(e){var t=[];return e&&e.layers.forEach(function(e){e.metadata&&e.metadata["maphubs:interactive"]&&(e.id.startsWith("omh")||e.id.startsWith("osm"))&&t.push(e.id)}),t},clickHandler:function(e){var t=this.map,n=this;if(!this.state.enableMeasurementTools)if(!n.state.selected&&n.state.selectedFeatures&&n.state.selectedFeatures.length>0)n.setState({selected:!0});else{r(n.refs.map).find(".mapboxgl-canvas-container").css("cursor","crosshair");var i=t.queryRenderedFeatures([[e.point.x-n.props.interactionBufferSize/2,e.point.y-n.props.interactionBufferSize/2],[e.point.x+n.props.interactionBufferSize/2,e.point.y+n.props.interactionBufferSize/2]],{
layers:n.state.interactiveLayers});if(i.length){if(n.state.selected&&n.clearSelection(),n.state.editing){var o=i[0];return void(o.properties.layer_id&&this.state.editingLayer.layer_id===o.properties.layer_id&&n.editFeature(o))}n.setSelectionFilter([i[0]]),n.setState({selectedFeatures:[i[0]],selected:!0}),t.addClass("selected")}else null!=n.state.selectedFeatures&&(n.clearSelection(),n.setState({selected:!1}),r(n.refs.map).find(".mapboxgl-canvas-container").css("cursor",""))}},moveendHandler:function(e){o("mouse up fired"),this.refs.insetMap&&this.refs.insetMap.updateInsetGeomFromBounds(this.map.getBounds(),this.map.getZoom()),s.updateMapPosition(this.getPosition(),this.getBounds())},mousemoveHandler:function(e){var t=this.map,n=this;if(!this.state.enableMeasurementTools&&!n.state.showBaseMaps){var s=i(function(){n.state.mapLoaded&&n.state.restoreBounds&&(o("("+n.state.id+") clearing restoreBounds"),n.setState({restoreBounds:null}));var i=t.queryRenderedFeatures([[e.point.x-n.props.interactionBufferSize/2,e.point.y-n.props.interactionBufferSize/2],[e.point.x+n.props.interactionBufferSize/2,e.point.y+n.props.interactionBufferSize/2]],{layers:n.state.interactiveLayers});i&&i.length?n.state.selected?r(n.refs.map).find(".mapboxgl-canvas-container").css("cursor","crosshair"):n.props.hoverInteraction?(r(n.refs.map).find(".mapboxgl-canvas-container").css("cursor","crosshair"),n.setSelectionFilter(i),n.setState({selectedFeatures:i}),t.addClass("selected")):r(n.refs.map).find(".mapboxgl-canvas-container").css("cursor","pointer"):n.state.selected||null==n.state.selectedFeatures?r(n.refs.map).find(".mapboxgl-canvas-container").css("cursor",""):(n.clearSelection(),r(n.refs.map).find(".mapboxgl-canvas-container").css("cursor",""))},300).bind(this);s()}}};e.exports=a},function(e,t,n){"use strict";var r=n(201)("Map/MeasureArea"),i=n(689),o=n(692),s=n(168),a={};"undefined"!=typeof window&&(a=n(693));var l={toggleMeasurementTools:function(e){e&&!this.state.enableMeasurementTools?this.startMeasurementTool():this.state.enableMeasurementTools&&!e&&this.stopMeasurementTool()},startMeasurementTool:function(){var e=this,t=new a({displayControlsDefault:!1,controls:{polygon:!0,line_string:!0,trash:!0}});this.draw=t,s(".mapboxgl-ctrl-top-right").addClass("mapboxgl-ctrl-maphubs-measure-tool"),this.map.addControl(t,"top-right"),this.map.on("draw.create",function(t){r("draw create"),e.updateMeasurement(t)}),this.map.on("draw.update",function(t){r("draw update"),e.updateMeasurement(t)}),this.map.on("draw.delete",function(){r("draw delete"),e.setState({measurementMessage:e.__("Use the drawing tools above")})}),this.setState({enableMeasurementTools:!0,measurementMessage:this.__("Use the drawing tools above")})},stopMeasurementTool:function(){s(".mapboxgl-ctrl-top-right").removeClass("mapboxgl-ctrl-maphubs-measure-tool"),this.map.removeControl(this.draw),this.setState({enableMeasurementTools:!1,measurementMessage:""})},updateMeasurement:function(){var e=this.draw.getAll();if(e.features.length>0){var t={type:"FeatureCollection",features:[]},n={type:"FeatureCollection",features:[]};if(e.features.forEach(function(e){"Polygon"===e.geometry.type?n.features.push(e):"LineString"===e.geometry.type&&t.features.push(e)}),n.features.length>0){var r=i(n),s=Math.round(100*r)/100,a=1e-6*r,l=s/1e4,c=this.__("Total area: ");c=s<1e3?c+s.toLocaleString()+"m2 ":c+a.toLocaleString()+"km2 ",c=c+l.toLocaleString()+"ha",this.setState({measurementMessage:c})}else if(t.features.length>0){var u=0;t.features.forEach(function(e){u+=o(e)});var h=.621371*u,d="Total distance: "+u.toLocaleString()+"km "+h.toLocaleString()+"mi";this.setState({measurementMessage:d})}}}};e.exports=l},function(e,t,n){function r(e){if("FeatureCollection"===e.type){for(var t=0,n=0;t<e.features.length;t++)e.features[t].geometry&&(n+=i(e.features[t].geometry));return n}return i("Feature"===e.type?e.geometry:e)}var i=n(690).geometry;e.exports=r},function(e,t,n){function r(e){var t,n=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=i(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)n+=r(e.geometries[t]);return n}}function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(e){var t,n,r,i,o,l,c,u=0,h=e.length;if(h>2){for(c=0;c<h;c++)c===h-2?(i=h-2,o=h-1,l=0):c===h-1?(i=h-1,o=0,l=1):(i=c,o=c+1,l=c+2),t=e[i],n=e[o],r=e[l],u+=(s(r[0])-s(t[0]))*Math.sin(s(n[1]));u=u*a.RADIUS*a.RADIUS/2}return u}function s(e){return e*Math.PI/180}var a=n(691);e.exports.geometry=r,e.exports.ring=o},function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},function(e,t,n){function r(e,t){for(var n,r=0,s=o(e[0]),a=o(e[0]),l=1;l<e.length;l++)a.geometry.coordinates=e[l],r+=i(s,a,t),n=s,s=a,a=n;return r}var i=n(655),o=n(651).point;e.exports=function e(t,n){if("FeatureCollection"===t.type)return t.features.reduce(function(t,r){return t+e(r,n)},0);var i,o,s="Feature"===t.type?t.geometry:t;if("LineString"===s.type)return r(s.coordinates,n);if("Polygon"===s.type||"MultiLineString"===s.type){for(i=0,o=0;o<s.coordinates.length;o++)i+=r(s.coordinates[o],n);return i}if("MultiPolygon"===s.type){for(i=0,o=0;o<s.coordinates.length;o++)for(var a=0;a<s.coordinates[o].length;a++)i+=r(s.coordinates[o][a],n);return i}throw new Error("input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry (or a FeatureCollection containing only those types)")}},function(e,t){!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.MapboxDraw=n()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";var r=e("./src/setup"),i=e("./src/options"),o=e("./src/api"),s=e("./src/constants"),a=function(e,t){e=i(e);var n={options:e};t=o(n,t),n.api=t;var a=r(n);return t.onAdd=a.onAdd,t.onRemove=a.onRemove,t.types=s.types,t.options=e,t};t.exports=function(e){a(e,this)}},{"./src/api":23,"./src/constants":24,"./src/options":58,"./src/setup":60}],2:[function(e,t,n){},{}],3:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,i="/"===s.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===s(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),s=Math.min(i.length,o.length),a=s,l=0;l<s;l++)if(i[l]!==o[l]){a=l;break}for(var c=[],l=a;l<i.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:4}],4:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?g=f.concat(g):v=-1,g.length&&l())}function l(){if(!m){var e=o(a);m=!0;for(var t=g.length;t;){for(f=g,g=[];++v<t;)f&&f[v].run();v=-1,t=g.length}f=null,m=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var h,d,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,g=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||m||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],5:[function(e,t,n){function r(e){var t,n=0;switch(e.type){case"Polygon":return o(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=o(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)n+=r(e.geometries[t]);return n}}function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(s(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(s(e[n]))}return t}function s(e){var t,n,r,o,s,c,u=0,h=e.length;if(h>2){for(i=0;i<h;i++)i===h-2?(o=h-2,s=h-1,c=0):i===h-1?(o=h-1,s=0,c=1):(o=i,s=i+1,c=i+2),t=e[o],n=e[s],r=e[c],u+=(a(r[0])-a(t[0]))*Math.sin(a(n[1]));u=u*l.RADIUS*l.RADIUS/2}return u}function a(e){return e*Math.PI/180}var l=e("wgs84");t.exports.geometry=r,t.exports.ring=s},{wgs84:6}],6:[function(e,t,n){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},{}],7:[function(e,t,n){function r(e){for(var t=s(),n=i(e),r=0;r<n.length;r++)t.include(n[r]);return t}var i=e("geojson-coords"),o=e("traverse"),s=e("extent");t.exports=function(e){return r(e).bbox()},t.exports.polygon=function(e){return r(e).polygon()},t.exports.bboxify=function(e){return o(e).map(function(e){e&&"string"==typeof e.type&&(e.bbox=r(e).bbox(),this.update(e))})}},{extent:8,"geojson-coords":10,traverse:13}],8:[function(e,t,n){function r(){return this instanceof r?(this._bbox=[1/0,1/0,-(1/0),-(1/0)],void(this._valid=!1)):new r}t.exports=r,r.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},r.prototype.union=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},r.prototype.bbox=function(){return this._valid?this._bbox:null},r.prototype.contains=function(e){return this._valid?this._bbox[0]<=e[0]&&this._bbox[1]<=e[1]&&this._bbox[2]>=e[0]&&this._bbox[3]>=e[1]:null},r.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},{}],9:[function(e,t,n){t.exports=function(e,t){function n(e){return Array.isArray(e)&&e.length&&"number"==typeof e[0]?[e]:e.reduce(function(e,t){return Array.isArray(t)&&Array.isArray(t[0])?e.concat(n(t)):(e.push(t),e)},[])}return n(e)}},{}],10:[function(e,t,n){var r=e("geojson-normalize"),i=e("geojson-flatten"),o=e("./flatten");t.exports=function(e){if(!e)return[];var t=i(r(e)),n=[];return t.features.forEach(function(e){e.geometry&&(n=n.concat(o(e.geometry.coordinates)))}),n}},{"./flatten":9,"geojson-flatten":11,"geojson-normalize":12}],11:[function(e,t,n){function r(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.reduce(function(e,t){return e.concat(r(t))},[]),e;case"Feature":return r(e.geometry).map(function(t){return{type:"Feature",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t}});case"MultiPoint":return e.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return e.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return e.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return e.geometries;case"Point":case"Polygon":case"LineString":return[e];default:return e}}t.exports=r},{}],12:[function(e,t,n){function r(e){if(!e||!e.type)return null;var t=i[e.type];return t?"geometry"===t?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===t?{type:"FeatureCollection",features:[e]}:"featurecollection"===t?e:void 0:null}t.exports=r;var i={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},{}],13:[function(e,t,n){function r(e){this.value=e}function i(e,t,n){var r=[],i=[],s=!0;return function e(a){function l(){if("object"==typeof d.node&&null!==d.node){d.keys&&d.node_===d.node||(d.keys=f(d.node)),d.isLeaf=0==d.keys.length;for(var e=0;e<i.length;e++)if(i[e].node_===a){d.circular=i[e];break}}else d.isLeaf=!0,d.keys=null;d.notLeaf=!d.isLeaf,d.notRoot=!d.isRoot}var c=n?o(a):a,u={},h=!0,d={node:c,node_:a,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){d.isRoot||(d.parent.node[d.key]=e),d.node=e,t&&(h=!1)},delete:function(e){delete d.parent.node[d.key],e&&(h=!1)},remove:function(e){g(d.parent.node)?d.parent.node.splice(d.key,1):delete d.parent.node[d.key],e&&(h=!1)},keys:null,before:function(e){u.before=e},after:function(e){u.after=e},pre:function(e){u.pre=e},post:function(e){u.post=e},stop:function(){s=!1},block:function(){h=!1}};if(!s)return d;l();var p=t.call(d,d.node);return void 0!==p&&d.update&&d.update(p),u.before&&u.before.call(d,d.node),h?("object"!=typeof d.node||null===d.node||d.circular||(i.push(d),l(),m(d.keys,function(t,i){r.push(t),u.pre&&u.pre.call(d,d.node[t],t);var o=e(d.node[t]);n&&v.call(d.node,t)&&(d.node[t]=o.node),o.isLast=i==d.keys.length-1,o.isFirst=0==i,u.post&&u.post.call(d,o),r.pop()}),i.pop()),u.after&&u.after.call(d,d.node),d):d}(e).node}function o(e){if("object"==typeof e&&null!==e){var t;if(g(e))t=[];else if(a(e))t=new Date(e.getTime?e.getTime():e);else if(l(e))t=new RegExp(e);else if(c(e))t={message:e.message};else if(u(e))t=new Boolean(e);else if(h(e))t=new Number(e);else if(d(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return m(f(e),function(n){t[n]=e[n]}),t}return e}function s(e){return Object.prototype.toString.call(e)}function a(e){return"[object Date]"===s(e)}function l(e){return"[object RegExp]"===s(e)}function c(e){return"[object Error]"===s(e)}function u(e){return"[object Boolean]"===s(e)}function h(e){return"[object Number]"===s(e)}function d(e){return"[object String]"===s(e)}var p=t.exports=function(e){return new r(e)};r.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!v.call(t,r)){t=void 0;break}t=t[r]}return t},r.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!v.call(t,r))return!1;t=t[r]}return!0},r.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var i=e[r];v.call(n,i)||(n[i]={}),n=n[i]}return n[e[r]]=t,t},r.prototype.map=function(e){return i(this.value,e,!0)},r.prototype.forEach=function(e){return this.value=i(this.value,e,!1),this.value},r.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach(function(t){this.isRoot&&n||(r=e.call(this,r,t))}),r},r.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},r.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},r.prototype.clone=function(){var e=[],t=[];return function n(r){for(var i=0;i<e.length;i++)if(e[i]===r)return t[i];if("object"==typeof r&&null!==r){var s=o(r);return e.push(r),t.push(s),m(f(r),function(e){s[e]=n(r[e])}),e.pop(),t.pop(),s}return r}(this.value)};var f=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},m=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};m(f(r.prototype),function(e){p[e]=function(t){var n=[].slice.call(arguments,1),i=new r(t);return i[e].apply(i,n)}});var v=Object.hasOwnProperty||function(e,t){return t in e}},{}],14:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],15:[function(e,t,n){function r(e,t){var n,r=[];if("object"==typeof e)n=e;else{if("string"!=typeof e)return[{message:"Expected string or object as input",line:0}];try{n=i.parse(e)}catch(e){var s=e.message.match(/line (\d+)/),a=parseInt(s[1],10);return[{line:a-1,message:e.message,error:e}]}}return r=r.concat(o.hint(n,t))}var i=e("jsonlint-lines"),o=e("./object");t.exports.hint=r},{"./object":16,"jsonlint-lines":18}],16:[function(e,t,n){function r(e,t){function n(e){if(t&&t.noDuplicateMembers===!1||!e.__duplicateProperties__||w.push({message:"An object contained duplicate members, making parsing ambigous: "+e.__duplicateProperties__.join(", "),line:e.__line__}),!o(e,"type","string"))if(C[e.type])e&&C[e.type](e);else{var n=S[e.type.toLowerCase()];void 0!==n?w.push({message:"Expected "+n+" but got "+e.type+" (case sensitive)",line:e.__line__}):w.push({message:"The type "+e.type+" is unknown",line:e.__line__})}}function r(e,t){return e.every(function(e){return null!==e&&typeof e===t})}function o(e,t,n){if("undefined"==typeof e[t])return w.push({message:'"'+t+'" member required',line:e.__line__});if("array"===n){if(!Array.isArray(e[t]))return w.push({message:'"'+t+'" member should be an array, but is an '+typeof e[t]+" instead",line:e.__line__})}else{if("object"===n&&e[t]&&"Object"!==e[t].constructor.name)return w.push({message:'"'+t+'" member should be '+n+", but is an "+e[t].constructor.name+" instead",line:e.__line__});if(n&&typeof e[t]!==n)return w.push({message:'"'+t+'" member should be '+n+", but is an "+typeof e[t]+" instead",line:e.__line__})}}function s(e){if(c(e),u(e),void 0!==e.properties&&w.push({message:'FeatureCollection object cannot contain a "properties" member',line:e.__line__}),void 0!==e.coordinates&&w.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:e.__line__}),!o(e,"features","array")){if(!r(e.features,"object"))return w.push({message:"Every feature must be an object",line:e.__line__});e.features.forEach(b)}}function a(e,n){if(!Array.isArray(e))return w.push({message:"position should be an array, is a "+typeof e+" instead",line:e.__line__||n});if(e.length<2)return w.push({message:"position must have 2 or more elements",line:e.__line__||n});if(e.length>3)return w.push({message:"position should not have more than 3 elements",line:e.__line__||n});if(!r(e,"number"))return w.push({message:"each element in a position must be a number",line:e.__line__||n});if(t&&t.precisionWarning){if(x===_)return x+=1,w.push({message:"truncated warnings: we've encountered coordinate precision warning "+_+" times, no more warnings will be reported",level:"message",line:e.__line__||n});x<_&&e.forEach(function(t){var r=0,i=String(t).split(".")[1];if(void 0!==i&&(r=i.length),r>E)return x+=1,w.push({message:"precision of coordinates should be reduced",level:"message",line:e.__line__||n})})}}function l(e,t,n,r){if(void 0===r&&void 0!==e.__line__&&(r=e.__line__),0===n)return a(e,r);if(1===n&&t)if("LinearRing"===t){if(!Array.isArray(e[e.length-1]))return w.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:r}),!0;if(e.length<4&&w.push({message:"a LinearRing of coordinates needs to have four or more positions",line:r}),e.length&&(e[e.length-1].length!==e[0].length||!e[e.length-1].every(function(t,n){return e[0][n]===t})))return w.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:r}),!0}else if("Line"===t&&e.length<2)return w.push({message:"a line needs to have two or more coordinates to be valid",line:r});if(Array.isArray(e)){var i=e.map(function(e){return l(e,t,n-1,e.__line__||r)});return i.some(function(e){return e})}w.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:r})}function c(e){if(e.crs){var t="urn:ogc:def:crs:OGC:1.3:CRS84";"object"==typeof e.crs&&e.crs.properties&&e.crs.properties.name===t?w.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:e.__line__}):w.push({message:"old-style crs member is not recommended",line:e.__line__})}}function u(e){if(e.bbox)return Array.isArray(e.bbox)?(r(e.bbox,"number")||w.push({message:"each element in a bbox member must be a number",line:e.bbox.__line__}),4!==e.bbox.length&&6!==e.bbox.length&&w.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:e.bbox.__line__}),w.length):void w.push({message:"bbox member must be an array of numbers, but is a "+typeof e.bbox,line:e.__line__})}function h(e){void 0!==e.properties&&w.push({message:'geometry object cannot contain a "properties" member',line:e.__line__}),void 0!==e.geometry&&w.push({message:'geometry object cannot contain a "geometry" member',line:e.__line__}),void 0!==e.features&&w.push({message:'geometry object cannot contain a "features" member',line:e.__line__})}function d(e){c(e),u(e),h(e),o(e,"coordinates","array")||a(e.coordinates)}function p(e){c(e),u(e),o(e,"coordinates","array")||l(e.coordinates,"LinearRing",2)||i(e,w)}function f(e){c(e),u(e),o(e,"coordinates","array")||l(e.coordinates,"LinearRing",3)||i(e,w)}function g(e){c(e),u(e),o(e,"coordinates","array")||l(e.coordinates,"Line",1)}function m(e){c(e),u(e),o(e,"coordinates","array")||l(e.coordinates,"Line",2)}function v(e){c(e),u(e),o(e,"coordinates","array")||l(e.coordinates,"",1)}function y(e){c(e),u(e),o(e,"geometries","array")||(r(e.geometries,"object")||w.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:e.__line__}),1===e.geometries.length&&w.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:e.geometries.__line__}),e.geometries.forEach(function(t){t&&("GeometryCollection"===t.type&&w.push({message:"GeometryCollection should avoid nested geometry collections",line:e.geometries.__line__}),n(t))}))}function b(e){c(e),u(e),void 0!==e.id&&"string"!=typeof e.id&&"number"!=typeof e.id&&w.push({message:'Feature "id" member must have a string or number value',line:e.__line__}),void 0!==e.features&&w.push({message:'Feature object cannot contain a "features" member',line:e.__line__}),void 0!==e.coordinates&&w.push({message:'Feature object cannot contain a "coordinates" member',line:e.__line__}),"Feature"!==e.type&&w.push({message:"GeoJSON features must have a type=feature member",line:e.__line__}),o(e,"properties","object"),o(e,"geometry","object")||e.geometry&&n(e.geometry)}var w=[],x=0,_=10,E=6,C={Point:d,Feature:b,MultiPoint:v,LineString:g,MultiLineString:m,FeatureCollection:s,GeometryCollection:y,Polygon:p,MultiPolygon:f},S=Object.keys(C).reduce(function(e,t){return e[t.toLowerCase()]=t,e},{});return"object"!=typeof e||null===e||void 0===e?(w.push({message:"The root of a GeoJSON object must be an object.",line:0}),w):(n(e),w.forEach(function(e){({}).hasOwnProperty.call(e,"line")&&void 0===e.line&&delete e.line}),w)}var i=e("./rhr");t.exports.hint=r},{"./rhr":17}],17:[function(e,t,n){function r(e){return e*Math.PI/180}function i(e){var t=0;if(e.length>2)for(var n,i,o=0;o<e.length-1;o++)n=e[o],i=e[o+1],t+=r(i[0]-n[0])*(2+Math.sin(r(n[1]))+Math.sin(r(i[1])));return t>=0}function o(e){if(e&&e.length>0){if(i(e[0]))return!1;var t=e.slice(1,e.length);if(!t.every(i))return!1}return!0}function s(e){return"Polygon"===e.type?o(e.coordinates):"MultiPolygon"===e.type?e.coordinates.every(o):void 0}t.exports=function(e,t){s(e)||t.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:e.__line__})}},{}],18:[function(e,t,n){(function(r){var i=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[1,12],r=[1,13],i=[1,9],o=[1,10],s=[1,11],a=[1,14],l=[1,15],c=[14,18,22,24],u=[18,22],h=[22,24],d={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,i,o,s){var a=o.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[a-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[a-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[a-2],o[a]];break;case 16:this.$={},this.$[o[a][0]]=o[a][1];break;case 17:this.$=o[a-2],void 0!==o[a-2][o[a][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(o[a][0])),o[a-2][o[a][0]]=o[a][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[a]];break;case 21:this.$=o[a-2],o[a-2].push(o[a])}},table:[{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:s,12:1,13:2,15:7,16:8,17:a,23:l},{1:[3]},{14:[1,16]},t(c,[2,7]),t(c,[2,8]),t(c,[2,9]),t(c,[2,10]),t(c,[2,11]),t(c,[2,12]),t(c,[2,3]),t(c,[2,4]),t(c,[2,5]),t([14,18,21,22,24],[2,1]),t(c,[2,2]),{3:20,4:n,18:[1,17],19:18,20:19},{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:s,13:23,15:7,16:8,17:a,23:l,24:[1,21],25:22},{1:[2,6]},t(c,[2,13]),{18:[1,24],22:[1,25]},t(u,[2,16]),{21:[1,26]},t(c,[2,18]),{22:[1,28],24:[1,27]},t(h,[2,20]),t(c,[2,14]),{3:20,4:n,20:29},{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:s,13:30,15:7,16:8,17:a,23:l},t(c,[2,19]),{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:s,13:31,15:7,16:8,17:a,23:l},t(u,[2,17]),t(u,[2,15]),t(h,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){function n(e,t){this.message=e,this.hash=t}if(!t.recoverable)throw n.prototype=Error,new n(e,t);this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,l=0,c=0,u=2,h=1,d=i.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(f.yy[g]=this.yy[g]);p.setInput(e,f.yy),f.yy.lexer=p,f.yy.parser=this,"undefined"==typeof p.yylloc&&(p.yylloc={});var m=p.yylloc;i.push(m);var v=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,b,w,x,_,E,C,S,k,A=function(){var e;return e=p.lex()||h,"number"!=typeof e&&(e=t.symbols_[e]||e),e},T={};;){if(w=n[n.length-1],this.defaultActions[w]?x=this.defaultActions[w]:(null!==y&&"undefined"!=typeof y||(y=A()),x=o[w]&&o[w][y]),"undefined"==typeof x||!x.length||!x[0]){var F="";k=[];for(E in o[w])this.terminals_[E]&&E>u&&k.push("'"+this.terminals_[E]+"'");F=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(a+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(F,{text:p.match,token:this.terminals_[y]||y,line:p.yylineno,loc:m,expected:k})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+y);switch(x[0]){case 1:n.push(y),r.push(p.yytext),i.push(p.yylloc),n.push(x[1]),y=null,b?(y=b,b=null):(l=p.yyleng,s=p.yytext,a=p.yylineno,m=p.yylloc,c>0&&c--);break;case 2:if(C=this.productions_[x[1]][1],T.$=r[r.length-C],T._$={first_line:i[i.length-(C||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(C||1)].first_column,last_column:i[i.length-1].last_column},v&&(T._$.range=[i[i.length-(C||1)].range[0],i[i.length-1].range[1]]),_=this.performAction.apply(T,[s,l,a,f.yy,x[1],r,i].concat(d)),"undefined"!=typeof _)return _;C&&(n=n.slice(0,-1*C*2),r=r.slice(0,-1*C),i=i.slice(0,-1*C)),n.push(this.productions_[x[1]][0]),r.push(T.$),i.push(T._$),S=o[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},p=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),
this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(e=this.test_match(n,i[o]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,i[r]),e!==!1&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}();return d.lexer=p,e.prototype=d,d.Parser=e,new e}();"undefined"!=typeof e&&"undefined"!=typeof n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),r.exit(1));var i=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return n.parser.parse(i)},"undefined"!=typeof t&&e.main===t&&n.main(r.argv.slice(1)))}).call(this,e("_process"))},{_process:4,fs:2,path:3}],19:[function(e,t,n){var r=t.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0)return"0";for(var n=Math.log(Math.pow(2,e))/Math.log(t),i=2;n===1/0;i*=2)n=Math.log(Math.pow(2,e/i))/Math.log(t)*i;for(var o=n-Math.floor(n),s="",i=0;i<Math.floor(n);i++){var a=Math.floor(Math.random()*t).toString(t);s=a+s}if(o){var l=Math.pow(t,o),a=Math.floor(Math.random()*l).toString(t);s=a+s}var c=parseInt(s,t);return c!==1/0&&c>=Math.pow(2,e)?r(e,t):s};r.rack=function(e,t,n){var i=function(i){var s=0;do{if(s++>10){if(!n)throw new Error("too many ID collisions, use more bits");e+=n}var a=r(e,t)}while(Object.hasOwnProperty.call(o,a));return o[a]=i,a},o=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=e||128,i.base=t||16,i}},{}],20:[function(e,t,n){(function(e){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e){return function(t){return e(t)}}function s(e,t){return null==e?void 0:e[t]}function a(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function c(e,t){return function(n){return e(t(n))}}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function h(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function d(){this.__data__=_t?_t(null):{}}function p(e){return this.has(e)&&delete this.__data__[e]}function f(e){var t=this.__data__;if(_t){var n=t[e];return n===pe?void 0:n}return ct.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return _t?void 0!==t[e]:ct.call(t,e)}function m(e,t){var n=this.__data__;return n[e]=_t&&void 0===t?pe:t,this}function v(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__=[]}function b(e){var t=this.__data__,n=$(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():gt.call(t,n,1),!0}function w(e){var t=this.__data__,n=$(t,e);return n<0?void 0:t[n][1]}function x(e){return $(this.__data__,e)>-1}function _(e,t){var n=this.__data__,r=$(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(){this.__data__={hash:new h,map:new(yt||v),string:new h}}function S(e){return Y(this,e).delete(e)}function k(e){return Y(this,e).get(e)}function A(e){return Y(this,e).has(e)}function T(e,t){return Y(this,e).set(e,t),this}function F(e){var t=-1,n=e?e.length:0;for(this.__data__=new E;++t<n;)this.add(e[t])}function L(e){return this.__data__.set(e,pe),this}function R(e){return this.__data__.has(e)}function M(e){this.__data__=new v(e)}function I(){this.__data__=new v}function D(e){return this.__data__.delete(e)}function N(e){return this.__data__.get(e)}function P(e){return this.__data__.has(e)}function O(e,t){var n=this.__data__;if(n instanceof v){var r=n.__data__;if(!yt||r.length<de-1)return r.push([e,t]),this;n=this.__data__=new E(r)}return n.set(e,t),this}function B(e,t){var n=Rt(e)||re(e)?i(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!ct.call(e,s)||o&&("length"==s||J(s,r))||n.push(s);return n}function $(e,t){for(var n=e.length;n--;)if(ne(e[n][0],t))return n;return-1}function j(e){return ut.call(e)}function z(e,t,n,r,i){return e===t||(null==e||null==t||!ce(e)&&!ue(t)?e!==e&&t!==t:U(e,t,z,n,r,i))}function U(e,t,n,r,i,o){var s=Rt(e),l=Rt(t),c=ye,u=ye;s||(c=Lt(e),c=c==ve?ke:c),l||(u=Lt(t),u=u==ve?ke:u);var h=c==ke&&!a(e),d=u==ke&&!a(t),p=c==u;if(p&&!h)return o||(o=new M),s||Mt(e)?H(e,t,n,r,i,o):G(e,t,c,n,r,i,o);if(!(i&ge)){var f=h&&ct.call(e,"__wrapped__"),g=d&&ct.call(t,"__wrapped__");if(f||g){var m=f?e.value():e,v=g?t.value():t;return o||(o=new M),n(m,v,r,i,o)}}return!!p&&(o||(o=new M),K(e,t,n,r,i,o))}function V(e){if(!ce(e)||Q(e))return!1;var t=ae(e)||a(e)?ht:qe;return t.test(te(e))}function W(e){return ue(e)&&le(e.length)&&!!Ge[ut.call(e)]}function q(e){if(!ee(e))return mt(e);var t=[];for(var n in Object(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function H(e,t,n,i,o,s){var a=o&ge,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var h=-1,d=!0,p=o&fe?new F:void 0;for(s.set(e,t),s.set(t,e);++h<l;){var f=e[h],g=t[h];if(i)var m=a?i(g,f,h,t,e,s):i(f,g,h,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!r(t,function(e,t){if(!p.has(t)&&(f===e||n(f,e,i,o,s)))return p.add(t)})){d=!1;break}}else if(f!==g&&!n(f,g,i,o,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function G(e,t,n,r,i,o,s){switch(n){case De:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ie:return!(e.byteLength!=t.byteLength||!r(new pt(e),new pt(t)));case be:case we:case Se:return ne(+e,+t);case xe:return e.name==t.name&&e.message==t.message;case Te:case Le:return e==t+"";case Ce:var a=l;case Fe:var c=o&ge;if(a||(a=u),e.size!=t.size&&!c)return!1;var h=s.get(e);if(h)return h==t;o|=fe,s.set(e,t);var d=H(a(e),a(t),r,i,o,s);return s.delete(e),d;case Re:if(Ft)return Ft.call(e)==Ft.call(t)}return!1}function K(e,t,n,r,i,o){var s=i&ge,a=he(e),l=a.length,c=he(t),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in t:ct.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var g=s;++h<l;){d=a[h];var m=e[d],v=t[d];if(r)var y=s?r(v,m,d,t,e,o):r(m,v,d,e,t,o);if(!(void 0===y?m===v||n(m,v,r,i,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o.delete(e),o.delete(t),f}function Y(e,t){var n=e.__data__;return Z(t)?n["string"==typeof t?"string":"hash"]:n.map}function X(e,t){var n=s(e,t);return V(n)?n:void 0}function J(e,t){return t=null==t?me:t,!!t&&("number"==typeof e||He.test(e))&&e>-1&&e%1==0&&e<t}function Z(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Q(e){return!!at&&at in e}function ee(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ot;return e===n}function te(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ne(e,t){return e===t||e!==e&&t!==t}function re(e){return oe(e)&&ct.call(e,"callee")&&(!ft.call(e,"callee")||ut.call(e)==ve)}function ie(e){return null!=e&&le(e.length)&&!ae(e)}function oe(e){return ue(e)&&ie(e)}function se(e,t){return z(e,t)}function ae(e){var t=ce(e)?ut.call(e):"";return t==_e||t==Ee}function le(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=me}function ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ue(e){return!!e&&"object"==typeof e}function he(e){return ie(e)?B(e):q(e)}var de=200,pe="__lodash_hash_undefined__",fe=1,ge=2,me=9007199254740991,ve="[object Arguments]",ye="[object Array]",be="[object Boolean]",we="[object Date]",xe="[object Error]",_e="[object Function]",Ee="[object GeneratorFunction]",Ce="[object Map]",Se="[object Number]",ke="[object Object]",Ae="[object Promise]",Te="[object RegExp]",Fe="[object Set]",Le="[object String]",Re="[object Symbol]",Me="[object WeakMap]",Ie="[object ArrayBuffer]",De="[object DataView]",Ne="[object Float32Array]",Pe="[object Float64Array]",Oe="[object Int8Array]",Be="[object Int16Array]",$e="[object Int32Array]",je="[object Uint8Array]",ze="[object Uint8ClampedArray]",Ue="[object Uint16Array]",Ve="[object Uint32Array]",We=/[\\^$.*+?()[\]{}|]/g,qe=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,Ge={};Ge[Ne]=Ge[Pe]=Ge[Oe]=Ge[Be]=Ge[$e]=Ge[je]=Ge[ze]=Ge[Ue]=Ge[Ve]=!0,Ge[ve]=Ge[ye]=Ge[Ie]=Ge[be]=Ge[De]=Ge[we]=Ge[xe]=Ge[_e]=Ge[Ce]=Ge[Se]=Ge[ke]=Ge[Te]=Ge[Fe]=Ge[Le]=Ge[Me]=!1;var Ke="object"==typeof e&&e&&e.Object===Object&&e,Ye="object"==typeof self&&self&&self.Object===Object&&self,Xe=Ke||Ye||Function("return this")(),Je="object"==typeof n&&n&&!n.nodeType&&n,Ze=Je&&"object"==typeof t&&t&&!t.nodeType&&t,Qe=Ze&&Ze.exports===Je,et=Qe&&Ke.process,tt=function(){try{return et&&et.binding("util")}catch(e){}}(),nt=tt&&tt.isTypedArray,rt=Array.prototype,it=Function.prototype,ot=Object.prototype,st=Xe["__core-js_shared__"],at=function(){var e=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lt=it.toString,ct=ot.hasOwnProperty,ut=ot.toString,ht=RegExp("^"+lt.call(ct).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=Xe.Symbol,pt=Xe.Uint8Array,ft=ot.propertyIsEnumerable,gt=rt.splice,mt=c(Object.keys,Object),vt=X(Xe,"DataView"),yt=X(Xe,"Map"),bt=X(Xe,"Promise"),wt=X(Xe,"Set"),xt=X(Xe,"WeakMap"),_t=X(Object,"create"),Et=te(vt),Ct=te(yt),St=te(bt),kt=te(wt),At=te(xt),Tt=dt?dt.prototype:void 0,Ft=Tt?Tt.valueOf:void 0;h.prototype.clear=d,h.prototype.delete=p,h.prototype.get=f,h.prototype.has=g,h.prototype.set=m,v.prototype.clear=y,v.prototype.delete=b,v.prototype.get=w,v.prototype.has=x,v.prototype.set=_,E.prototype.clear=C,E.prototype.delete=S,E.prototype.get=k,E.prototype.has=A,E.prototype.set=T,F.prototype.add=F.prototype.push=L,F.prototype.has=R,M.prototype.clear=I,M.prototype.delete=D,M.prototype.get=N,M.prototype.has=P,M.prototype.set=O;var Lt=j;(vt&&Lt(new vt(new ArrayBuffer(1)))!=De||yt&&Lt(new yt)!=Ce||bt&&Lt(bt.resolve())!=Ae||wt&&Lt(new wt)!=Fe||xt&&Lt(new xt)!=Me)&&(Lt=function(e){var t=ut.call(e),n=t==ke?e.constructor:void 0,r=n?te(n):void 0;if(r)switch(r){case Et:return De;case Ct:return Ce;case St:return Ae;case kt:return Fe;case At:return Me}return t});var Rt=Array.isArray,Mt=nt?o(nt):W;t.exports=se}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},{}],22:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var i=Object.prototype.hasOwnProperty},{}],23:[function(e,t,n){"use strict";var r=e("lodash.isequal"),i=e("geojson-normalize"),o=e("hat"),s=e("./lib/features_at"),a=e("./lib/string_sets_are_equal"),l=e("geojsonhint"),c=e("./constants"),u=e("./lib/string_set"),h={Polygon:e("./feature_types/polygon"),LineString:e("./feature_types/line_string"),Point:e("./feature_types/point"),MultiPolygon:e("./feature_types/multi_feature"),MultiLineString:e("./feature_types/multi_feature"),MultiPoint:e("./feature_types/multi_feature")};t.exports=function(e,t){return t.modes=c.modes,t.getFeatureIdsAt=function(t){var n=s({point:t},null,e);return n.map(function(e){return e.properties.id})},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:c.geojsonTypes.FEATURE_COLLECTION,features:e.store.getSelectedIds().map(function(t){return e.store.get(t)}).map(function(e){return e.toGeoJSON()})}},t.set=function(n){if(void 0===n.type||n.type!==c.geojsonTypes.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var r=e.store.createRenderBatch(),i=e.store.getAllIds().slice(),o=t.add(n),s=new u(o);return i=i.filter(function(e){return!s.has(e)}),i.length&&t.delete(i),r(),o},t.add=function(t){var n=l.hint(t,{precisionWarning:!1}).filter(function(e){return"message"!==e.level});if(n.length)throw new Error(n[0].message);var s=JSON.parse(JSON.stringify(i(t))),a=s.features.map(function(t){if(t.id=t.id||o(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){var n=h[t.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: "+t.geometry.type+".");var i=new n(e,t);e.store.add(i)}else{var s=e.store.get(t.id);s.properties=t.properties,r(s.getCoordinates(),t.geometry.coordinates)||s.incomingCoords(t.geometry.coordinates)}return t.id});return e.store.render(),a},t.get=function(t){var n=e.store.get(t);if(n)return n.toGeoJSON()},t.getAll=function(){return{type:c.geojsonTypes.FEATURE_COLLECTION,features:e.store.getAll().map(function(e){return e.toGeoJSON()})}},t.delete=function(n){return e.store.delete(n,{silent:!0}),t.getMode()!==c.modes.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(c.modes.SIMPLE_SELECT,void 0,{silent:!0}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:!0}),t.getMode()===c.modes.DIRECT_SELECT?e.events.changeMode(c.modes.SIMPLE_SELECT,void 0,{silent:!0}):e.store.render(),t},t.changeMode=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n===c.modes.SIMPLE_SELECT&&t.getMode()===c.modes.SIMPLE_SELECT?a(r.featureIds||[],e.store.getSelectedIds())?t:(e.store.setSelected(r.featureIds,{silent:!0}),e.store.render(),t):n===c.modes.DIRECT_SELECT&&t.getMode()===c.modes.DIRECT_SELECT&&r.featureId===e.store.getSelectedIds()[0]?t:(e.events.changeMode(n,r,{silent:!0}),t)},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:!0}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:!0}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:!0}),t},t.setFeatureProperty=function(n,r,i){return e.store.setFeatureProperty(n,r,i),t},t}},{"./constants":24,"./feature_types/line_string":27,"./feature_types/multi_feature":28,"./feature_types/point":29,"./feature_types/polygon":30,"./lib/features_at":38,"./lib/string_set":47,"./lib/string_sets_are_equal":48,"geojson-normalize":14,geojsonhint:15,hat:19,"lodash.isequal":20}],24:[function(e,t,n){"use strict";t.exports={classes:{CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},sources:{HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},cursors:{ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},types:{POLYGON:"polygon",LINE:"line_string",POINT:"point"},geojsonTypes:{FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},modes:{DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},events:{CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},updateActions:{MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},meta:{FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},activeStates:{ACTIVE:"true",INACTIVE:"false"},LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}},{}],25:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,o=e("./lib/mode_handler"),s=e("./lib/get_features_and_set_cursor"),a=e("./lib/is_click"),l=e("./constants"),c=(i={},r(i,l.modes.SIMPLE_SELECT,e("./modes/simple_select")),r(i,l.modes.DIRECT_SELECT,e("./modes/direct_select")),r(i,l.modes.DRAW_POINT,e("./modes/draw_point")),r(i,l.modes.DRAW_LINE_STRING,e("./modes/draw_line_string")),r(i,l.modes.DRAW_POLYGON,e("./modes/draw_polygon")),r(i,l.modes.STATIC,e("./modes/static")),i);t.exports=function(e){function t(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h.stop();var i=c[t];if(void 0===i)throw new Error(t+" is not valid");u=t;var s=i(e,n);h=o(s,e),r.silent||e.map.fire(l.events.MODE_CHANGE,{mode:t}),e.store.setDirty(),e.store.render()}function n(t){var n=!1;Object.keys(t).forEach(function(e){if(void 0===p[e])throw new Error("Invalid action type");p[e]!==t[e]&&(n=!0),p[e]=t[e]}),n&&e.map.fire(l.events.ACTIONABLE,{actions:p})}var r={},i={},u=l.modes.SIMPLE_SELECT,h=o(c.simple_select(e),e);i.drag=function(t){a(r,{point:t.point,time:(new Date).getTime()})?t.originalEvent.stopPropagation():(e.ui.queueMapClasses({mouse:l.cursors.DRAG}),h.drag(t))},i.mousemove=function(t){var n=void 0!==t.originalEvent.buttons?t.originalEvent.buttons:t.originalEvent.which;if(1===n)return i.drag(t);var r=s(t,e);t.featureTarget=r,h.mousemove(t)},i.mousedown=function(t){r={time:(new Date).getTime(),point:t.point};var n=s(t,e);t.featureTarget=n,h.mousedown(t)},i.mouseup=function(t){var n=s(t,e);t.featureTarget=n,a(r,{point:t.point,time:(new Date).getTime()})?h.click(t):h.mouseup(t)},i.mouseout=function(e){h.mouseout(e)};var d=function(e){return!(8===e||46===e||e>=48&&e<=57)};i.keydown=function(n){8!==n.keyCode&&46!==n.keyCode||!e.options.controls.trash?d(n.keyCode)?h.keydown(n):49===n.keyCode&&e.options.controls.point?t(l.modes.DRAW_POINT):50===n.keyCode&&e.options.controls.line_string?t(l.modes.DRAW_LINE_STRING):51===n.keyCode&&e.options.controls.polygon&&t(l.modes.DRAW_POLYGON):(n.preventDefault(),h.trash())},i.keyup=function(e){d(e.keyCode)&&h.keyup(e)},i.zoomend=function(){e.store.changeZoom()},i.data=function(t){"style"===t.dataType&&!function(){var t=e.setup,n=e.map,r=e.options,i=e.store,o=!!r.styles.find(function(e){return n.getLayer(e.id)});o||(t.addLayers(),i.setDirty(),i.render())}()};var p={trash:!1,combineFeatures:!1,uncombineFeatures:!1},f={changeMode:t,actionable:n,currentModeName:function(){return u},currentModeRender:function(e,t){return h.render(e,t)},fire:function(e,t){i[e]&&i[e](t)},addEventListeners:function(){e.map.on("mousemove",i.mousemove),e.map.on("mousedown",i.mousedown),e.map.on("mouseup",i.mouseup),e.map.on("data",i.data),e.container.addEventListener("mouseout",i.mouseout),e.options.keybindings&&(e.container.addEventListener("keydown",i.keydown),e.container.addEventListener("keyup",i.keyup))},removeEventListeners:function(){e.map.off("mousemove",i.mousemove),e.map.off("mousedown",i.mousedown),e.map.off("mouseup",i.mouseup),e.map.off("data",i.data),e.container.removeEventListener("mouseout",i.mouseout),e.options.keybindings&&(e.container.removeEventListener("keydown",i.keydown),e.container.removeEventListener("keyup",i.keyup))},trash:function(e){h.trash(e)},combineFeatures:function(){h.combineFeatures()},uncombineFeatures:function(){h.uncombineFeatures()},getMode:function(){return u}};return f}},{"./constants":24,"./lib/get_features_and_set_cursor":39,"./lib/is_click":40,"./lib/mode_handler":43,"./modes/direct_select":52,"./modes/draw_line_string":53,"./modes/draw_point":54,"./modes/draw_polygon":55,"./modes/simple_select":56,"./modes/static":57}],26:[function(e,t,n){"use strict";var r=e("hat"),i=e("../constants"),o=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||r(),this.type=t.geometry.type};o.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},o.prototype.incomingCoords=function(e){this.setCoordinates(e)},o.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},o.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},o.prototype.setProperty=function(e,t){this.properties[e]=t},o.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:i.geojsonTypes.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},o.prototype.internal=function(e){var t={id:this.id,meta:i.meta.FEATURE,"meta:type":this.type,active:i.activeStates.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(var n in this.properties)t["user_"+n]=this.properties[n];return{type:i.geojsonTypes.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}},t.exports=o},{"../constants":24,hat:19}],27:[function(e,t,n){"use strict";var r=e("./feature"),i=function(e,t){r.call(this,e,t)};i.prototype=Object.create(r.prototype),i.prototype.isValid=function(){return this.coordinates.length>1},i.prototype.addCoordinate=function(e,t,n){this.changed();var r=parseInt(e,10);this.coordinates.splice(r,0,[t,n])},i.prototype.getCoordinate=function(e){var t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},i.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},i.prototype.updateCoordinate=function(e,t,n){var r=parseInt(e,10);this.coordinates[r]=[t,n],this.changed()},t.exports=i},{"./feature":26}],28:[function(e,t,n){"use strict";var r=e("./feature"),i=e("../constants"),o=e("hat"),s={MultiPoint:e("./point"),MultiLineString:e("./line_string"),MultiPolygon:e("./polygon")},a=function(e,t,n,r,i){var o=n.split("."),s=parseInt(o[0],10),a=o[1]?o.slice(1).join("."):null;return e[s][t](a,r,i)},l=function(e,t){if(r.call(this,e,t),delete this.coordinates,this.model=s[t.geometry.type],void 0===this.model)throw new TypeError(t.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(t.geometry.coordinates)};l.prototype=Object.create(r.prototype),l.prototype._coordinatesToFeatures=function(e){var t=this,n=this.model.bind(this);return e.map(function(e){return new n(t.ctx,{id:o(),type:i.geojsonTypes.FEATURE,properties:{},geometry:{coordinates:e,type:t.type.replace("Multi","")}})})},l.prototype.isValid=function(){return this.features.every(function(e){return e.isValid()})},l.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},l.prototype.getCoordinate=function(e){return a(this.features,"getCoordinate",e)},l.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(e){return e.type===i.geojsonTypes.POLYGON?e.getCoordinates():e.coordinates})))},l.prototype.updateCoordinate=function(e,t,n){a(this.features,"updateCoordinate",e,t,n),this.changed()},l.prototype.addCoordinate=function(e,t,n){a(this.features,"addCoordinate",e,t,n),this.changed()},l.prototype.removeCoordinate=function(e){a(this.features,"removeCoordinate",e),this.changed()},l.prototype.getFeatures=function(){return this.features},t.exports=l},{"../constants":24,"./feature":26,"./line_string":27,"./point":29,"./polygon":30,hat:19}],29:[function(e,t,n){"use strict";var r=e("./feature"),i=function(e,t){r.call(this,e,t)};i.prototype=Object.create(r.prototype),i.prototype.isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},i.prototype.updateCoordinate=function(e,t,n){3===arguments.length?this.coordinates=[t,n]:this.coordinates=[e,t],this.changed()},i.prototype.getCoordinate=function(){return this.getCoordinates()},t.exports=i},{"./feature":26}],30:[function(e,t,n){"use strict";var r=e("./feature"),i=function(e,t){r.call(this,e,t),this.coordinates=this.coordinates.map(function(e){return e.slice(0,-1)})};i.prototype=Object.create(r.prototype),i.prototype.isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every(function(e){return e.length>2})},i.prototype.incomingCoords=function(e){this.coordinates=e.map(function(e){return e.slice(0,-1)}),this.changed()},i.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},i.prototype.addCoordinate=function(e,t,n){this.changed();var r=e.split(".").map(function(e){return parseInt(e,10)}),i=this.coordinates[r[0]];i.splice(r[1],0,[t,n])},i.prototype.removeCoordinate=function(e){this.changed();var t=e.split(".").map(function(e){return parseInt(e,10)}),n=this.coordinates[t[0]];n&&(n.splice(t[1],1),n.length<3&&this.coordinates.splice(t[0],1))},i.prototype.getCoordinate=function(e){var t=e.split(".").map(function(e){return parseInt(e,10)}),n=this.coordinates[t[0]];return JSON.parse(JSON.stringify(n[t[1]]))},i.prototype.getCoordinates=function(){return this.coordinates.map(function(e){return e.concat([e[0]])})},i.prototype.updateCoordinate=function(e,t,n){this.changed();var r=e.split("."),i=parseInt(r[0],10),o=parseInt(r[1],10);void 0===this.coordinates[i]&&(this.coordinates[i]=[]),this.coordinates[i][o]=[t,n]},t.exports=i},{"./feature":26}],31:[function(e,t,n){"use strict";var r=e("../constants");t.exports={isOfMetaType:function(e){return function(t){var n=t.featureTarget;return!!n&&!!n.properties&&n.properties.meta===e}},isShiftMousedown:function(e){return!!e.originalEvent&&!!e.originalEvent.shiftKey&&0===e.originalEvent.button},isActiveFeature:function(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===r.activeStates.ACTIVE&&e.featureTarget.properties.meta===r.meta.FEATURE},isInactiveFeature:function(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===r.activeStates.INACTIVE&&e.featureTarget.properties.meta===r.meta.FEATURE},noTarget:function(e){return void 0===e.featureTarget},isFeature:function(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.meta===r.meta.FEATURE;
},isVertex:function(e){var t=e.featureTarget;return!!t&&!!t.properties&&t.properties.meta===r.meta.VERTEX},isShiftDown:function(e){return!!e.originalEvent&&e.originalEvent.shiftKey===!0},isEscapeKey:function(e){return 27===e.keyCode},isEnterKey:function(e){return 13===e.keyCode},true:function(){return!0}}},{"../constants":24}],32:[function(e,t,n){"use strict";var r=e("geojson-extent"),i=e("../constants"),o=i.LAT_MIN,s=i.LAT_MAX,a=i.LAT_RENDERED_MIN,l=i.LAT_RENDERED_MAX,c=i.LNG_MIN,u=i.LNG_MAX;t.exports=function(e,t){var n=o,i=s,h=o,d=s,p=u,f=c;e.forEach(function(e){var t=r(e),o=t[1],s=t[3],a=t[0],l=t[2];o>n&&(n=o),s<i&&(i=s),s>h&&(h=s),o<d&&(d=o),a<p&&(p=a),l>f&&(f=l)});var g=t;return n+g.lat>l&&(g.lat=l-n),h+g.lat>s&&(g.lat=s-h),i+g.lat<a&&(g.lat=a-i),d+g.lat<o&&(g.lat=o-d),p+g.lng<=c&&(g.lng+=360*Math.ceil(Math.abs(g.lng)/360)),f+g.lng>=u&&(g.lng-=360*Math.ceil(Math.abs(g.lng)/360)),g}},{"../constants":24,"geojson-extent":7}],33:[function(e,t,n){"use strict";var r=e("../constants");t.exports=function(e,t,n,i){var o=t.geometry.coordinates,s=n.geometry.coordinates;if(o[1]>r.LAT_RENDERED_MAX||o[1]<r.LAT_RENDERED_MIN||s[1]>r.LAT_RENDERED_MAX||s[1]<r.LAT_RENDERED_MIN)return null;var a=i.project([o[0],o[1]]),l=i.project([s[0],s[1]]),c=i.unproject([(a.x+l.x)/2,(a.y+l.y)/2]);return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.MIDPOINT,parent:e,lng:c.lng,lat:c.lat,coord_path:n.properties.coord_path},geometry:{type:r.geojsonTypes.POINT,coordinates:[c.lng,c.lat]}}}},{"../constants":24}],34:[function(e,t,n){"use strict";function r(e){function t(e,t){var r="",s=null;e.forEach(function(e,a){var c=void 0!==t&&null!==t?t+"."+a:String(a),u=i(p,e,c,n(c));if(l.midpoints&&s){var h=o(p,s,u,l.map);h&&f.push(h)}s=u;var d=JSON.stringify(e);r!==d&&f.push(u),0===a&&(r=d)})}function n(e){return!!l.selectedPaths&&l.selectedPaths.indexOf(e)!==-1}function a(){var t=h.replace(s.geojsonTypes.MULTI_PREFIX,"");d.forEach(function(n,i){var o={type:s.geojsonTypes.FEATURE,properties:e.properties,geometry:{type:t,coordinates:n}};f=f.concat(r(o,l,i))})}var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=e.geometry,h=u.type,d=u.coordinates,p=e.properties&&e.properties.id,f=[];return h===s.geojsonTypes.POINT?f.push(i(p,d,c,n(c))):h===s.geojsonTypes.POLYGON?d.forEach(function(e,n){t(e,null!==c?c+"."+n:String(n))}):h===s.geojsonTypes.LINE_STRING?t(d,c):0===h.indexOf(s.geojsonTypes.MULTI_PREFIX)&&a(),f}var i=e("./create_vertex"),o=e("./create_midpoint"),s=e("../constants");t.exports=r},{"../constants":24,"./create_midpoint":33,"./create_vertex":35}],35:[function(e,t,n){"use strict";var r=e("../constants");t.exports=function(e,t,n,i){return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.VERTEX,parent:e,coord_path:n,active:i?r.activeStates.ACTIVE:r.activeStates.INACTIVE},geometry:{type:r.geojsonTypes.POINT,coordinates:t}}}},{"../constants":24}],36:[function(e,t,n){"use strict";t.exports={enable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.enable()},0)},disable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()},0)}}},{}],37:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},{}],38:[function(e,t,n){"use strict";var r=e("./sort_features"),i=e("./map_event_to_bounding_box"),o=e("../constants"),s=e("./string_set"),a=[o.meta.FEATURE,o.meta.MIDPOINT,o.meta.VERTEX];t.exports=function(e,t,n){if(null===n.map)return[];var o=e?i(e,n.options.clickBuffer):t,l={};n.options.styles&&(l.layers=n.options.styles.map(function(e){return e.id}));var c=n.map.queryRenderedFeatures(o,l).filter(function(e){return a.indexOf(e.properties.meta)!==-1}),u=new s,h=[];return c.forEach(function(e){var t=e.properties.id;u.has(t)||(u.add(t),h.push(e))}),r(h)}},{"../constants":24,"./map_event_to_bounding_box":42,"./sort_features":46,"./string_set":47}],39:[function(e,t,n){"use strict";var r=e("./features_at"),i=e("../constants");t.exports=function(e,t){var n=r(e,null,t),o={mouse:i.cursors.NONE};return n[0]&&(o.mouse=n[0].properties.active===i.activeStates.ACTIVE?i.cursors.MOVE:i.cursors.POINTER,o.feature=n[0].properties.meta),t.events.currentModeName().indexOf("draw")!==-1&&(o.mouse=i.cursors.ADD),t.ui.queueMapClasses(o),t.ui.updateMapClasses(),n[0]}},{"../constants":24,"./features_at":38}],40:[function(e,t,n){"use strict";var r=e("./euclidean_distance"),i=4,o=12,s=500;t.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=n.fineTolerance?n.fineTolerance:i,l=null!=n.grossTolerance?n.grossTolerance:o,c=null!=n.interval?n.interval:s;e.point=e.point||t.point,e.time=e.time||t.time;var u=r(e.point,t.point);return u<a||u<l&&t.time-e.time<c}},{"./euclidean_distance":37}],41:[function(e,t,n){"use strict";function r(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}t.exports=r},{}],42:[function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}t.exports=r},{}],43:[function(e,t,n){"use strict";var r=function(e,t){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[]},r={on:function(e,t,r){if(void 0===n[e])throw new Error("Invalid event type: "+e);n[e].push({selector:t,fn:r})},render:function(e){t.store.featureChanged(e)}},i=function(e,i){for(var o=n[e],s=o.length;s--;){var a=o[s];if(a.selector(i)){a.fn.call(r,i),t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(r),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),t.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){i("drag",e)},click:function(e){i("click",e)},mousemove:function(e){i("mousemove",e)},mousedown:function(e){i("mousedown",e)},mouseup:function(e){i("mouseup",e)},mouseout:function(e){i("mouseout",e)},keydown:function(e){i("keydown",e)},keyup:function(e){i("keyup",e)}}};t.exports=r},{}],44:[function(e,t,n){"use strict";function r(e,t){var n=t.getBoundingClientRect();return new i(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)}var i=e("point-geometry");t.exports=r},{"point-geometry":21}],45:[function(e,t,n){"use strict";var r=e("./constrain_feature_movement"),i=e("../constants");t.exports=function(e,t){var n=r(e.map(function(e){return e.toGeoJSON()}),t);e.forEach(function(e){var t=e.getCoordinates(),r=function(e){var t={lng:e[0]+n.lng,lat:e[1]+n.lat};return[t.lng,t.lat]},o=function(e){return e.map(function(e){return r(e)})},s=function(e){return e.map(function(e){return o(e)})},a=void 0;e.type===i.geojsonTypes.POINT?a=r(t):e.type===i.geojsonTypes.LINE_STRING||e.type===i.geojsonTypes.MULTI_POINT?a=t.map(r):e.type===i.geojsonTypes.POLYGON||e.type===i.geojsonTypes.MULTI_LINE_STRING?a=t.map(o):e.type===i.geojsonTypes.MULTI_POLYGON&&(a=t.map(s)),e.incomingCoords(a)})}},{"../constants":24,"./constrain_feature_movement":32}],46:[function(e,t,n){"use strict";function r(e,t){var n=a[e.geometry.type]-a[t.geometry.type];return 0===n&&e.geometry.type===s.geojsonTypes.POLYGON?e.area-t.area:n}function i(e){return e.map(function(e){return e.geometry.type===s.geojsonTypes.POLYGON&&(e.area=o.geometry({type:s.geojsonTypes.FEATURE,property:{},geometry:e.geometry})),e}).sort(r).map(function(e){return delete e.area,e})}var o=e("geojson-area"),s=e("../constants"),a={Point:0,LineString:1,Polygon:2};t.exports=i},{"../constants":24,"geojson-area":5}],47:[function(e,t,n){"use strict";function r(e){if(this._items={},this._length=e?e.length:0,e)for(var t=0,n=e.length;t<n;t++)void 0!==e[t]&&(this._items[e[t]]=t)}r.prototype.add=function(e){return this._length=this._items[e]?this._length:this._length+1,this._items[e]=this._items[e]?this._items[e]:this._length,this},r.prototype.delete=function(e){return this._length=this._items[e]?this._length-1:this._length,delete this._items[e],this},r.prototype.has=function(e){return void 0!==this._items[e]},r.prototype.values=function(){var e=this,t=Object.keys(this._items).sort(function(t,n){return e._items[t]-e._items[n]});return t},r.prototype.clear=function(){return this._length=0,this._items={},this},t.exports=r},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){return e.length===t.length&&JSON.stringify(e.map(function(e){return e}).sort())===JSON.stringify(t.map(function(e){return e}).sort())}},{}],49:[function(e,t,n){"use strict";t.exports=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}]},{}],50:[function(e,t,n){"use strict";function r(e,t,n){function r(){o=!1,s&&(i.apply(n,s),s=!1)}function i(){o?s=arguments:(o=!0,e.apply(n,arguments),setTimeout(r,t))}var o=void 0,s=void 0;return i}t.exports=r},{}],51:[function(e,t,n){"use strict";function r(e){return[].concat(e).filter(function(e){return void 0!==e})}t.exports=r},{}],52:[function(e,t,n){"use strict";var r=e("../lib/common_selectors"),i=r.noTarget,o=r.isOfMetaType,s=r.isInactiveFeature,a=r.isShiftDown,l=e("../lib/create_supplementary_points"),c=e("../lib/constrain_feature_movement"),u=e("../lib/double_click_zoom"),h=e("../constants"),d=e("../lib/common_selectors"),p=e("../lib/move_features"),f=o(h.meta.VERTEX),g=o(h.meta.MIDPOINT);t.exports=function(e,t){var n=t.featureId,r=e.store.get(n);if(!r)throw new Error("You must provide a featureId to enter direct_select mode");if(r.type===h.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var o=t.startPos||null,m=!1,v=!1,y=t.coordPath?[t.coordPath]:[],b=function(){e.map.fire(h.events.UPDATE,{action:h.updateActions.CHANGE_COORDINATES,features:e.store.getSelected().map(function(e){return e.toGeoJSON()})})},w=function(){return e.events.actionable({combineFeatures:!1,uncombineFeatures:!1,trash:y.length>0})},x=function(t){e.map.dragPan.disable(),v=!0,o=t.lngLat},_=function(){e.map.dragPan.enable(),m=!1,v=!1,o=null},E=function(e){x(e);var t=e.featureTarget.properties,n=y.indexOf(t.coord_path);a(e)||n!==-1?a(e)&&n===-1&&y.push(t.coord_path):y=[t.coord_path],r.changed()},C=function(e){x(e);var t=e.featureTarget.properties;r.addCoordinate(t.coord_path,t.lng,t.lat),b(),y=[t.coord_path]},S=function(e){0===y.length?x(e):_()},k=function(t,n){p(e.store.getSelected(),n),o=t.lngLat},A=function(e,t){for(var n=y.map(function(e){return r.getCoordinate(e)}),i=n.map(function(e){return{type:h.geojsonTypes.FEATURE,properties:{},geometry:{type:h.geojsonTypes.POINT,coordinates:e}}}),o=c(i,t),s=0;s<n.length;s++){var a=n[s];r.updateCoordinate(y[s],a[0]+o.lng,a[1]+o.lat)}};return{start:function(){e.store.setSelected(n),u.disable(e),this.on("mousemove",d.true,function(t){var n=d.isActiveFeature(t),r=f(t),i=0===y.length;n&&i?e.ui.queueMapClasses({mouse:h.cursors.MOVE}):r&&!i?e.ui.queueMapClasses({mouse:h.cursors.MOVE}):e.ui.queueMapClasses({mouse:h.cursors.NONE}),_(t)}),this.on("mouseout",function(){return m},b),this.on("mousedown",f,E),this.on("mousedown",d.isActiveFeature,S),this.on("mousedown",g,C),this.on("drag",function(){return v},function(e){m=!0,e.originalEvent.stopPropagation();var t={lng:e.lngLat.lng-o.lng,lat:e.lngLat.lat-o.lat};y.length>0?A(e,t):k(e,t),o=e.lngLat}),this.on("click",d.true,_),this.on("mouseup",d.true,function(){m&&b(),_()}),this.on("click",i,function(){e.events.changeMode(h.modes.SIMPLE_SELECT)}),this.on("click",s,function(){e.events.changeMode(h.modes.SIMPLE_SELECT)}),this.on("click",d.isActiveFeature,function(){y=[],r.changed()})},stop:function(){u.enable(e)},render:function(t,r){n===t.properties.id?(t.properties.active=h.activeStates.ACTIVE,r(t),l(t,{map:e.map,midpoints:!0,selectedPaths:y}).forEach(r)):(t.properties.active=h.activeStates.INACTIVE,r(t)),w()},trash:function(){y.sort().reverse().forEach(function(e){return r.removeCoordinate(e)}),e.map.fire(h.events.UPDATE,{action:h.updateActions.CHANGE_COORDINATES,features:e.store.getSelected().map(function(e){return e.toGeoJSON()})}),y=[],w(),r.isValid()===!1&&(e.store.delete([n]),e.events.changeMode(h.modes.SIMPLE_SELECT,{}))}}}},{"../constants":24,"../lib/common_selectors":31,"../lib/constrain_feature_movement":32,"../lib/create_supplementary_points":34,"../lib/double_click_zoom":36,"../lib/move_features":45}],53:[function(e,t,n){"use strict";var r=e("../lib/common_selectors"),i=e("../feature_types/line_string"),o=e("../lib/is_event_at_coordinates"),s=e("../lib/double_click_zoom"),a=e("../constants"),l=e("../lib/create_vertex");t.exports=function(e){var t=new i(e,{type:a.geojsonTypes.FEATURE,properties:{},geometry:{type:a.geojsonTypes.LINE_STRING,coordinates:[]}}),n=0;return e._test&&(e._test.line=t),e.store.add(t),{start:function(){e.store.clearSelected(),s.disable(e),e.ui.queueMapClasses({mouse:a.cursors.ADD}),e.ui.setActiveButton(a.types.LINE),this.on("mousemove",r.true,function(i){t.updateCoordinate(n,i.lngLat.lng,i.lngLat.lat),r.isVertex(i)&&e.ui.queueMapClasses({mouse:a.cursors.POINTER})}),this.on("click",r.true,function(r){return n>0&&o(r,t.coordinates[n-1])?e.events.changeMode(a.modes.SIMPLE_SELECT,{featureIds:[t.id]}):(e.ui.queueMapClasses({mouse:a.cursors.ADD}),t.updateCoordinate(n,r.lngLat.lng,r.lngLat.lat),void n++)}),this.on("click",r.isVertex,function(){return e.events.changeMode(a.modes.SIMPLE_SELECT,{featureIds:[t.id]})}),this.on("keyup",r.isEscapeKey,function(){e.store.delete([t.id],{silent:!0}),e.events.changeMode(a.modes.SIMPLE_SELECT)}),this.on("keyup",r.isEnterKey,function(){e.events.changeMode(a.modes.SIMPLE_SELECT,{featureIds:[t.id]})}),e.events.actionable({combineFeatures:!1,uncombineFeatures:!1,trash:!0})},stop:function(){s.enable(e),e.ui.setActiveButton(),void 0!==e.store.get(t.id)&&(t.removeCoordinate(""+n),t.isValid()?e.map.fire(a.events.CREATE,{features:[t.toGeoJSON()]}):(e.store.delete([t.id],{silent:!0}),e.events.changeMode(a.modes.SIMPLE_SELECT,{},{silent:!0})))},render:function(e,n){var r=e.properties.id===t.id;return e.properties.active=r?a.activeStates.ACTIVE:a.activeStates.INACTIVE,r?void(e.geometry.coordinates.length<2||(e.properties.meta=a.meta.FEATURE,e.geometry.coordinates.length>=3&&n(l(t.id,e.geometry.coordinates[e.geometry.coordinates.length-2],""+(e.geometry.coordinates.length-2),!1)),n(e))):n(e)},trash:function(){e.store.delete([t.id],{silent:!0}),e.events.changeMode(a.modes.SIMPLE_SELECT)}}}},{"../constants":24,"../feature_types/line_string":27,"../lib/common_selectors":31,"../lib/create_vertex":35,"../lib/double_click_zoom":36,"../lib/is_event_at_coordinates":41}],54:[function(e,t,n){"use strict";var r=e("../lib/common_selectors"),i=e("../feature_types/point"),o=e("../constants");t.exports=function(e){function t(){e.events.changeMode(o.modes.SIMPLE_SELECT),e.store.delete([s.id],{silent:!0})}function n(t){e.ui.queueMapClasses({mouse:o.cursors.MOVE}),s.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),e.map.fire(o.events.CREATE,{features:[s.toGeoJSON()]}),e.events.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[s.id]})}var s=new i(e,{type:o.geojsonTypes.FEATURE,properties:{},geometry:{type:o.geojsonTypes.POINT,coordinates:[]}});return e._test&&(e._test.point=s),e.store.add(s),{start:function(){e.store.clearSelected(),e.ui.queueMapClasses({mouse:o.cursors.ADD}),e.ui.setActiveButton(o.types.POINT),this.on("click",r.true,n),this.on("keyup",r.isEscapeKey,t),this.on("keyup",r.isEnterKey,t),e.events.actionable({combineFeatures:!1,uncombineFeatures:!1,trash:!0})},stop:function(){e.ui.setActiveButton(),s.getCoordinate().length||e.store.delete([s.id],{silent:!0})},render:function(e,t){var n=e.properties.id===s.id;if(e.properties.active=n?o.activeStates.ACTIVE:o.activeStates.INACTIVE,!n)return t(e)},trash:function(){t()}}}},{"../constants":24,"../feature_types/point":29,"../lib/common_selectors":31}],55:[function(e,t,n){"use strict";var r=e("../lib/common_selectors"),i=e("../feature_types/polygon"),o=e("../lib/double_click_zoom"),s=e("../constants"),a=e("../lib/is_event_at_coordinates"),l=e("../lib/create_vertex");t.exports=function(e){var t=new i(e,{type:s.geojsonTypes.FEATURE,properties:{},geometry:{type:s.geojsonTypes.POLYGON,coordinates:[[]]}}),n=0;return e._test&&(e._test.polygon=t),e.store.add(t),{start:function(){e.store.clearSelected(),o.disable(e),e.ui.queueMapClasses({mouse:s.cursors.ADD}),e.ui.setActiveButton(s.types.POLYGON),this.on("mousemove",r.true,function(i){t.updateCoordinate("0."+n,i.lngLat.lng,i.lngLat.lat),r.isVertex(i)&&e.ui.queueMapClasses({mouse:s.cursors.POINTER})}),this.on("click",r.true,function(r){return n>0&&a(r,t.coordinates[0][n-1])?e.events.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[t.id]}):(e.ui.queueMapClasses({mouse:s.cursors.ADD}),t.updateCoordinate("0."+n,r.lngLat.lng,r.lngLat.lat),void n++)}),this.on("click",r.isVertex,function(){return e.events.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[t.id]})}),this.on("keyup",r.isEscapeKey,function(){e.store.delete([t.id],{silent:!0}),e.events.changeMode(s.modes.SIMPLE_SELECT)}),this.on("keyup",r.isEnterKey,function(){e.events.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[t.id]})}),e.events.actionable({combineFeatures:!1,uncombineFeatures:!1,trash:!0})},stop:function(){e.ui.queueMapClasses({mouse:s.cursors.NONE}),o.enable(e),e.ui.setActiveButton(),void 0!==e.store.get(t.id)&&(t.removeCoordinate("0."+n),t.isValid()?e.map.fire(s.events.CREATE,{features:[t.toGeoJSON()]}):(e.store.delete([t.id],{silent:!0}),e.events.changeMode(s.modes.SIMPLE_SELECT,{},{silent:!0})))},render:function(e,n){var r=e.properties.id===t.id;if(e.properties.active=r?s.activeStates.ACTIVE:s.activeStates.INACTIVE,!r)return n(e);if(0!==e.geometry.coordinates.length){var i=e.geometry.coordinates[0].length;if(!(i<3)){if(e.properties.meta=s.meta.FEATURE,i>4){n(l(t.id,e.geometry.coordinates[0][0],"0.0",!1));var o=e.geometry.coordinates[0].length-3;n(l(t.id,e.geometry.coordinates[0][o],"0."+o,!1))}if(i>3)return n(e);var a=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];return n({type:s.geojsonTypes.FEATURE,properties:e.properties,geometry:{coordinates:a,type:s.geojsonTypes.LINE_STRING}})}}},trash:function(){e.store.delete([t.id],{silent:!0}),e.events.changeMode(s.modes.SIMPLE_SELECT)}}}},{"../constants":24,"../feature_types/polygon":30,"../lib/common_selectors":31,"../lib/create_vertex":35,"../lib/double_click_zoom":36,"../lib/is_event_at_coordinates":41}],56:[function(e,t,n){"use strict";var r=e("../lib/common_selectors"),i=e("../lib/mouse_event_point"),o=e("../lib/features_at"),s=e("../lib/create_supplementary_points"),a=e("../lib/string_set"),l=e("../lib/double_click_zoom"),c=e("../lib/move_features"),u=e("../constants"),h=e("../feature_types/multi_feature");t.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,d=null,p=void 0,f=!1,g=!1,m=!1,v=!1,y=t.featureIds||[],b=function(){e.map.fire(u.events.UPDATE,{action:u.updateActions.MOVE,features:e.store.getSelected().map(function(e){return e.toGeoJSON()})})},w=function(){var t=e.store.getSelected(),n=t.filter(function(e){return e instanceof h}),r=!1;t.length>1&&!function(){r=!0;var e=t[0].type.replace("Multi","");t.forEach(function(t){t.type.replace("Multi","")!==e&&(r=!1)})}();var i=n.length>0,o=t.length>0;e.events.actionable({combineFeatures:r,uncombineFeatures:i,trash:o})},x=function(e){if(!e.length)return[];var t=e.map(function(e){return e.properties.id}).filter(function(e){return void 0!==e}).reduce(function(e,t){return e.add(t),e},new a);return t.values()},_=function(){p&&(p.parentNode&&p.parentNode.removeChild(p),p=null),e.map.dragPan.enable(),f=!1,g=!1,m=!1,v=!1};return{stop:function(){l.enable(e)},start:function(){e.store&&(e.store.setSelected(y.filter(function(t){return void 0!==e.store.get(t)})),w()),this.on("mouseup",r.true,_),this.on("mousemove",r.true,_),this.on("mouseout",function(){return m},b),this.on("click",r.noTarget,function(){var t=this,n=e.store.getSelectedIds();n.length&&(e.store.clearSelected(),n.forEach(function(e){return t.render(e)})),l.enable(e),_()}),this.on("click",r.isOfMetaType(u.meta.VERTEX),function(t){e.events.changeMode(u.modes.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),e.ui.queueMapClasses({mouse:u.cursors.MOVE})}),this.on("mousedown",r.isActiveFeature,function(t){_(),e.map.dragPan.disable(),this.render(t.featureTarget.properties.id),v=!0,n=t.lngLat}),this.on("click",r.isFeature,function(t){l.disable(e),_();var n=r.isShiftDown(t),i=e.store.getSelectedIds(),o=t.featureTarget.properties.id,s=e.store.isSelected(o);return!n&&s&&e.store.get(o).type!==u.geojsonTypes.POINT?e.events.changeMode(u.modes.DIRECT_SELECT,{featureId:o}):(s&&n?(e.store.deselect(o),e.ui.queueMapClasses({mouse:u.cursors.POINTER}),1===i.length&&l.enable(e)):!s&&n?(e.store.select(o),e.ui.queueMapClasses({mouse:u.cursors.MOVE})):s||n||(i.forEach(this.render),e.store.setSelected(o),e.ui.queueMapClasses({mouse:u.cursors.MOVE})),void this.render(o))}),this.on("drag",function(){return v},function(t){m=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-n.lng,lat:t.lngLat.lat-n.lat};c(e.store.getSelected(),r),n=t.lngLat}),this.on("mouseup",r.true,function(t){if(m)b();else if(f){var n=[d,i(t.originalEvent,e.container)],r=o(null,n,e),s=x(r).filter(function(t){return!e.store.isSelected(t)});s.length&&(e.store.select(s),s.forEach(this.render),e.ui.queueMapClasses({mouse:u.cursors.MOVE}))}_()}),e.options.boxSelect&&(this.on("mousedown",r.isShiftMousedown,function(t){_(),e.map.dragPan.disable(),d=i(t.originalEvent,e.container),g=!0}),this.on("drag",function(){return g},function(t){f=!0,e.ui.queueMapClasses({mouse:u.cursors.ADD}),p||(p=document.createElement("div"),p.classList.add(u.classes.BOX_SELECT),e.container.appendChild(p));var n=i(t.originalEvent,e.container),r=Math.min(d.x,n.x),o=Math.max(d.x,n.x),s=Math.min(d.y,n.y),a=Math.max(d.y,n.y),l="translate("+r+"px, "+s+"px)";p.style.transform=l,p.style.WebkitTransform=l,p.style.width=o-r+"px",p.style.height=a-s+"px"}))},render:function(t,n){t.properties.active=e.store.isSelected(t.properties.id)?u.activeStates.ACTIVE:u.activeStates.INACTIVE,n(t),w(),t.properties.active===u.activeStates.ACTIVE&&t.geometry.type!==u.geojsonTypes.POINT&&s(t).forEach(n)},trash:function(){e.store.delete(e.store.getSelectedIds()),w()},combineFeatures:function(){var t=e.store.getSelected();if(!(0===t.length||t.length<2)){for(var n=[],r=[],i=t[0].type.replace("Multi",""),o=0;o<t.length;o++){var s=t[o];if(s.type.replace("Multi","")!==i)return;s.type.includes("Multi")?s.getCoordinates().forEach(function(e){n.push(e)}):n.push(s.getCoordinates()),r.push(s.toGeoJSON())}if(r.length>1){var a=new h(e,{type:u.geojsonTypes.FEATURE,properties:r[0].properties,geometry:{type:"Multi"+i,coordinates:n}});e.store.add(a),e.store.delete(e.store.getSelectedIds(),{silent:!0}),e.store.setSelected([a.id]),e.map.fire(u.events.COMBINE_FEATURES,{createdFeatures:[a.toGeoJSON()],deletedFeatures:r})}w()}},uncombineFeatures:function(){var t=e.store.getSelected();if(0!==t.length){for(var n=[],r=[],i=function(i){var o=t[i];o instanceof h&&(o.getFeatures().forEach(function(t){e.store.add(t),t.properties=o.properties,n.push(t.toGeoJSON()),e.store.select([t.id])}),e.store.delete(o.id,{silent:!0}),r.push(o.toGeoJSON()))},o=0;o<t.length;o++)i(o);n.length>1&&e.map.fire(u.events.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:r}),w()}}}}},{"../constants":24,"../feature_types/multi_feature":28,"../lib/common_selectors":31,"../lib/create_supplementary_points":34,"../lib/double_click_zoom":36,"../lib/features_at":38,"../lib/mouse_event_point":44,"../lib/move_features":45,"../lib/string_set":47}],57:[function(e,t,n){"use strict";t.exports=function(e){return{stop:function(){},start:function(){e.events.actionable({combineFeatures:!1,uncombineFeatures:!1,trash:!1})},render:function(e,t){t(e)}}}},{}],58:[function(e,t,n){"use strict";function r(e,t){return e.map(function(e){return e.source?e:i(e,{id:e.id+"."+t,source:"hot"===t?o.sources.HOT:o.sources.COLD})})}var i=e("xtend"),o=e("./constants"),s={defaultMode:o.modes.SIMPLE_SELECT,keybindings:!0,clickBuffer:2,boxSelect:!0,displayControlsDefault:!0,styles:e("./lib/theme"),controls:{},userProperties:!1},a={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},l={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e);return e.controls||(t.controls={}),e.displayControlsDefault===!1?t.controls=i(l,e.controls):t.controls=i(a,e.controls),t=i(s,t),t.styles=r(t.styles,"cold").concat(r(t.styles,"hot")),t}},{"./constants":24,"./lib/theme":49,xtend:22}],59:[function(e,t,n){"use strict";var r=e("./constants");t.exports=function(){function e(e,t){var r=n.get(e),i=r.internal(o);n.ctx.events.currentModeRender(i,function(e){n.sources[t].push(e)})}function t(){n.isDirty=!1,n.clearChangedIds()}var n=this,i=n.ctx.map&&void 0!==n.ctx.map.getSource(r.sources.HOT);if(!i)return t();var o=n.ctx.events.currentModeName();n.ctx.ui.queueMapClasses({mode:o});var s=[],a=[];n.isDirty?a=n.getAllIds():(s=n.getChangedIds().filter(function(e){return void 0!==n.get(e)}),a=n.sources.hot.filter(function(e){return e.properties.id&&s.indexOf(e.properties.id)===-1&&void 0!==n.get(e.properties.id)}).map(function(e){return e.properties.id})),n.sources.hot=[];var l=n.sources.cold.length;n.sources.cold=n.isDirty?[]:n.sources.cold.filter(function(e){var t=e.properties.id||e.properties.parent;return s.indexOf(t)===-1});var c=l!==n.sources.cold.length||a.length>0;if(s.forEach(function(t){return e(t,"hot")}),a.forEach(function(t){return e(t,"cold")}),c&&n.ctx.map.getSource(r.sources.COLD).setData({type:r.geojsonTypes.FEATURE_COLLECTION,features:n.sources.cold}),n.ctx.map.getSource(r.sources.HOT).setData({type:r.geojsonTypes.FEATURE_COLLECTION,features:n.sources.hot}),n._emitSelectionChange&&(n.ctx.map.fire(r.events.SELECTION_CHANGE,{features:n.getSelected().map(function(e){return e.toGeoJSON()})}),n._emitSelectionChange=!1),n._deletedFeaturesToEmit.length){var u=n._deletedFeaturesToEmit.map(function(e){return e.toGeoJSON()});n._deletedFeaturesToEmit=[],n.ctx.map.fire(r.events.DELETE,{features:u})}n.ctx.map.fire(r.events.RENDER,{}),t()}},{"./constants":24}],60:[function(e,t,n){"use strict";var r=e("./events"),i=e("./store"),o=e("./ui"),s=e("./constants");t.exports=function(e){e.events=r(e),e.map=null,e.container=null,e.store=null,e.ui=o(e);var t=null,n={onRemove:function(){return n.removeLayers(),e.ui.removeButtons(),e.events.removeEventListeners(),e.map=null,e.container=null,e.store=null,t&&t.parentNode&&t.parentNode.removeChild(t),t=null,this},onAdd:function(r){e.map=r,e.container=r.getContainer(),e.store=new i(e),t=e.ui.addButtons(),e.options.boxSelect&&(r.boxZoom.disable(),r.dragPan.disable(),r.dragPan.enable());var o=null,s=function t(){r.off("load",t),clearInterval(o),n.addLayers(),e.events.addEventListeners()};return r.loaded()?s():(r.on("load",s),o=setInterval(function(){r.loaded()&&s()},16)),t},addLayers:function(){e.map.addSource(s.sources.COLD,{data:{type:s.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.map.addSource(s.sources.HOT,{data:{type:s.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.options.styles.forEach(function(t){e.map.addLayer(t)}),e.store.render()},removeLayers:function(){e.options.styles.forEach(function(t){e.map.removeLayer(t.id)}),e.map.removeSource(s.sources.COLD),e.map.removeSource(s.sources.HOT)}};return e.setup=n,n}},{"./constants":24,"./events":25,"./store":61,"./ui":62}],61:[function(e,t,n){"use strict";var r=e("./lib/throttle"),i=e("./lib/to_dense_array"),o=e("./lib/string_set"),s=e("./render"),a=t.exports=function(e){this._features={},this._featureIds=new o,this._selectedFeatureIds=new o,this._changedFeatureIds=new o,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this.ctx=e,this.sources={hot:[],cold:[]},this.render=r(s,16,this),this.isDirty=!1};a.prototype.createRenderBatch=function(){var e=this,t=this.render,n=0;return this.render=function(){n++},function(){e.render=t,n>0&&e.render()}},a.prototype.setDirty=function(){return this.isDirty=!0,this},a.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},a.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},a.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},a.prototype.getAllIds=function(){return this._featureIds.values();
},a.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},a.prototype.delete=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e).forEach(function(e){t._featureIds.has(e)&&(t._featureIds.delete(e),t._selectedFeatureIds.delete(e),n.silent||t._deletedFeaturesToEmit.indexOf(t._features[e])===-1&&t._deletedFeaturesToEmit.push(t._features[e]),delete t._features[e],t.isDirty=!0)}),this},a.prototype.get=function(e){return this._features[e]},a.prototype.getAll=function(){var e=this;return Object.keys(this._features).map(function(t){return e._features[t]})},a.prototype.select=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e).forEach(function(e){t._selectedFeatureIds.has(e)||(t._selectedFeatureIds.add(e),t._changedFeatureIds.add(e),n.silent||(t._emitSelectionChange=!0))}),this},a.prototype.deselect=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e).forEach(function(e){t._selectedFeatureIds.has(e)&&(t._selectedFeatureIds.delete(e),t._changedFeatureIds.add(e),n.silent||(t._emitSelectionChange=!0))}),this},a.prototype.clearSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},a.prototype.setSelected=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=i(e),this.deselect(this._selectedFeatureIds.values().filter(function(t){return e.indexOf(t)===-1}),{silent:n.silent}),this.select(e.filter(function(e){return!t._selectedFeatureIds.has(e)}),{silent:n.silent}),this},a.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},a.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map(function(t){return e.get(t)})},a.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},a.prototype.setFeatureProperty=function(e,t,n){this.get(e).setProperty(t,n),this.featureChanged(e)}},{"./lib/string_set":47,"./lib/throttle":50,"./lib/to_dense_array":51,"./render":59}],62:[function(e,t,n){"use strict";var r=e("xtend"),i=e("./constants"),o=["mode","feature","mouse"];t.exports=function(e){function t(e){f=r(f,e)}function n(){if(e.container){var t=[],n=[];o.forEach(function(e){f[e]!==p[e]&&(t.push(e+"-"+p[e]),null!==f[e]&&n.push(e+"-"+f[e]))}),t.length>0&&e.container.classList.remove.apply(e.container.classList,t),n.length>0&&e.container.classList.add.apply(e.container.classList,n),p=r(p,f)}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("button");return n.className=i.classes.CONTROL_BUTTON+" "+t.className,n.setAttribute("title",t.title),t.container.appendChild(n),n.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation();var r=n.target;return r===d?void a():(l(e),void t.onActivate())},!0),n}function a(){d&&(d.classList.remove(i.classes.ACTIVE_BUTTON),d=null)}function l(e){a();var t=h[e];t&&t&&"trash"!==e&&(t.classList.add(i.classes.ACTIVE_BUTTON),d=t)}function c(){var t=e.options.controls,n=document.createElement("div");return n.className=i.classes.CONTROL_GROUP+" "+i.classes.CONTROL_BASE,t?(t[i.types.LINE]&&(h[i.types.LINE]=s(i.types.LINE,{container:n,className:i.classes.CONTROL_BUTTON_LINE,title:"LineString tool "+(e.options.keybindings&&"(l)"),onActivate:function(){return e.events.changeMode(i.modes.DRAW_LINE_STRING)}})),t[i.types.POLYGON]&&(h[i.types.POLYGON]=s(i.types.POLYGON,{container:n,className:i.classes.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(e.options.keybindings&&"(p)"),onActivate:function(){return e.events.changeMode(i.modes.DRAW_POLYGON)}})),t[i.types.POINT]&&(h[i.types.POINT]=s(i.types.POINT,{container:n,className:i.classes.CONTROL_BUTTON_POINT,title:"Marker tool "+(e.options.keybindings&&"(m)"),onActivate:function(){return e.events.changeMode(i.modes.DRAW_POINT)}})),t.trash&&(h.trash=s("trash",{container:n,className:i.classes.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){e.events.trash()}})),t.combine_features&&(h.combine_features=s("combineFeatures",{container:n,className:i.classes.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){e.events.combineFeatures()}})),t.uncombine_features&&(h.uncombine_features=s("uncombineFeatures",{container:n,className:i.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){e.events.uncombineFeatures()}})),n):n}function u(){Object.keys(h).forEach(function(e){var t=h[e];t.parentNode&&t.parentNode.removeChild(t),delete h[e]})}var h={},d=null,p={mode:null,feature:null,mouse:null},f={mode:null,feature:null,mouse:null};return{setActiveButton:l,queueMapClasses:t,updateMapClasses:n,addButtons:c,removeButtons:u}}},{"./constants":24,xtend:22}]},{},[1])(1)})},function(e,t,n){"use strict";var r=(n(1),n(689)),i={getDefaultForestAlertState:function(){return{enableGLAD2017:!1,result:null}},toggleForestAlerts:function(e){var t;t=this.state.forestAlerts?JSON.parse(JSON.stringify(this.state.forestAlerts)):this.getDefaultForestAlertState(),!t.enableGLAD2017&&e.enableGLAD2017?(this.addGLADLayer(),t.enableGLAD2017=e.enableGLAD2017,this.setState({forestAlerts:t})):t.enableGLAD2017&&!e.enableGLAD2017&&(this.removeGLADLayer(),t.enableGLAD2017=e.enableGLAD2017,t.result=null,this.setState({forestAlerts:t}))},restoreForestAlerts:function(){this.state.forestAlerts.enableGLAD2017&&this.addGLADLayer()},calculateForestAlerts:function(){if(this.state.forestAlerts.enableGLAD2017){var e=this.map.queryRenderedFeatures({layers:["omh-glad-2017-polygon"]}),t=e.length,n=r({type:"FeatureCollection",features:e}),i=Math.round(100*n)/100,o=1e-6*n,s=i/1e4,a="";a=i<1e3?a+i.toLocaleString()+"m2 ":a+o.toLocaleString()+"km2 ",a=a+s.toLocaleString()+"ha";var l=JSON.parse(JSON.stringify(this.state.forestAlerts));l.result={alertCount:t,areaMessage:a},this.setState({forestAlerts:l})}},addGLADLayer:function(){this.map.addSource("omh-glad-2017",{type:"vector",url:"https://s3.amazonaws.com/maphubs-forest-alerts/glad/2017.json"}),this.map.addLayer({id:"omh-glad-2017-point",type:"circle",maxzoom:13,metadata:{"maphubs:interactive":!1,"maphubs:showBehindBaseMapLabels":!1},source:"omh-glad-2017",paint:{"circle-color":"red","circle-opacity":.5},"source-layer":"data"}),this.map.addLayer({id:"omh-glad-2017-polygon",type:"fill",maxzoom:22,metadata:{"maphubs:interactive":!1,"maphubs:showBehindBaseMapLabels":!1},source:"omh-glad-2017",filter:["in","$type","Polygon"],paint:{"fill-color":"red","fill-outline-color":"red","fill-opacity":.5},"source-layer":"data",layout:{visibility:"visible"}}),this.map.addLayer({id:"omh-glad-2017-outline-polygon",type:"line",maxzoom:22,source:"omh-glad-2017",filter:["in","$type","Polygon"],paint:{"line-color":"#222222","line-opacity":.8,"line-width":{base:.5,stops:[[3,.1],[4,.2],[5,.3],[6,.4],[7,.5],[8,.6],[9,.7],[10,.8]]}},"source-layer":"data",layout:{visibility:"visible"}})},removeGLADLayer:function(){this.map.removeLayer("omh-glad-2017-outline-polygon"),this.map.removeLayer("omh-glad-2017-polygon"),this.map.removeLayer("omh-glad-2017-point"),this.map.removeSource("omh-glad-2017")}};e.exports=i},function(e,t,n){"use strict";var r=n(201)("MapGeoJSONMixin"),i=n(696),o={};"undefined"!=typeof window&&(o=n(684));var s=n(699),a={initGeoJSON:function(e,t){if(t&&t.features&&t.features.length>0){e.addSource("omh-geojson",{type:"geojson",data:t});var n=i.defaultStyle("geojson",null,null);n.sources["omh-geojson"]={type:"geojson",data:{}},this.addLayers(e,n);var o=this.getInteractiveLayers(n);this.setState({interactiveLayers:o,glStyle:n}),this.zoomToData(t)}else r("("+this.state.id+") Empty/Missing GeoJSON Data")},resetGeoJSON:function(){var e=this.map.getSource("omh-geojson");e.setData({type:"FeatureCollection",features:[]}),this.map.flyTo({center:[0,0],zoom:0})},zoomToData:function(e){var t;if(t=e.bbox&&e.bbox.length>0?e.bbox:s(e)){var n=t[0];n<-175&&(n=-175);var r=t[1];r<-85&&(r=-85);var i=t[2];i>175&&(i=175);var a=t[3];a>85&&(a=85);var l=new o.LngLat(n,r),c=new o.LngLat(i,a),u=new o.LngLatBounds(l,c);this.map.fitBounds(u,{padding:25,curve:3,speed:.6,maxZoom:12})}}};e.exports=a},function(e,t,n){"use strict";var r=n(201)("map-styles"),i=n(697),o=n(698);e.exports={enableMarkers:function(e,t,n){return e.layers&&Array.isArray(e.layers)&&e.layers.length>0&&e.layers.forEach(function(e){if(e.id.startsWith("omh-data-point"))e.metadata||(e.metadata={}),e.metadata["maphubs:markers"]=t,e.metadata["maphubs:markers"].enabled=!0,e.metadata["maphubs:markers"].dataUrl="{MAPHUBS_DOMAIN}/api/layer/"+n+"/export/json/"+n+".json",e.metadata["maphubs:layer_id"]=n,e.metadata["maphubs:interactive"]&&(e.metadata["maphubs:markers"].interactive=!0),e.metadata["maphubs:interactive"]=!1;else if(e.id.startsWith("omh-label")){var r=e.layout["text-size"].base/2+e.paint["text-halo-width"];"MAP_PIN"===t.shape||"SQUARE_PIN"===t.shape?e.paint["text-translate"][1]=r:r+=t.height/2}else e.layout||(e.layout={}),e.layout.visibility="none"}),e},disableMarkers:function(e){return e.layers&&Array.isArray(e.layers)&&e.layers.length>0&&e.layers.forEach(function(e){e.id.startsWith("omh-data-point")?(e.metadata["maphubs:markers"].enabled=!1,e.metadata["maphubs:markers"].interactive&&(e.metadata["maphubs:interactive"]=!0)):e.id.startsWith("omh-label")?e.paint["text-translate"][1]=0-e.layout["text-size"].base:(e.layout||(e.layout={}),e.layout.visibility="visible")}),e},updateStyleColor:function(e,t){return e.layers&&Array.isArray(e.layers)&&e.layers.length>0&&e.layers.forEach(function(e){e.id.startsWith("omh-data-point")?("circle"==e.type?e.paint["circle-color"]=t:r("unable to update point layer type: "+e.type),e.metadata["maphubs:markers"]&&(e.metadata["maphubs:markers"].shapeFill=t)):e.id.startsWith("omh-data-line")?"line"==e.type?e.paint["line-color"]=t:r("unable to update line layer type: "+e.type):e.id.startsWith("omh-data-polygon")?"fill"==e.type?(e.paint["fill-color"]=t,e.paint["fill-outline-color"]=t,e.paint["fill-opacity"]=1):r("unable to update polygon layer type: "+e.type):e.id.startsWith("omh-data-doublestroke-polygon")?"line"==e.type?e.paint["line-color"]=t:r("unable to update line layer type: "+e.type):e.id.startsWith("osm")&&e.id.endsWith("-polygon")?"fill"==e.type?e.paint["fill-color"]=t:r("unable to update osm polygon layer type: "+e.type):e.id.startsWith("osm")&&e.id.endsWith("-line")?"line"==e.type?e.paint["line-color"]=t:r("unable to update osm line layer type: "+e.type):"osm-buildings-polygon"==e.id&&("fill"==e.type?e.paint["fill-color"]=t:r("unable to update osm building layer type: "+e.type))}),e},removeStyleLabels:function(e){return e.layers&&Array.isArray(e.layers)&&e.layers.length>0&&i(e.layers,function(e){return e.id.startsWith("omh-label")}),e},addStyleLabels:function(e,t,n,r){if(e=this.removeStyleLabels(e),e.layers&&Array.isArray(e.layers)&&e.layers.length>0){var i="data",o=["in","$type","Point"],s="point",a=[0,0];"point"==r?(a=[0,-14],e.layers.forEach(function(e){if(e.id.startsWith("omh-data-point")&&e.metadata&&e.metadata["maphubs:markers"]&&e.metadata["maphubs:markers"].enabled){var t=e.metadata["maphubs:markers"],n=9;"MAP_PIN"!==t.shape&&"SQUARE_PIN"!==t.shape&&(n+=t.height/2),a=[0,n]}})):"line"==r?(s="line",o=["in","$type","LineString"]):"polygon"==r&&(i="data-centroids"),e.layers.push({id:"omh-label-"+n,type:"symbol",source:"omh-"+n,"source-layer":i,filter:o,layout:{"text-font":["Arial Unicode MS Regular"],visibility:"visible","symbol-placement":s,"text-field":"{"+t+"}","text-size":{base:14,stops:[[13,14],[18,14]]}},paint:{"text-color":"#000","text-halo-color":"#FFF","text-halo-width":2,"text-translate":a}})}return e},getPointLayers:function(e,t,n,r,i){var o=[{id:"omh-data-point-"+e,type:"circle",metadata:{"maphubs:layer_id":e,"maphubs:interactive":r,"maphubs:showBehindBaseMapLabels":i},source:"omh-"+e,filter:["in","$type","Point"],paint:{"circle-color":t,"circle-opacity":.5}},{id:"omh-hover-point-"+e,type:"circle",metadata:{"maphubs:layer_id":e},source:"omh-"+e,filter:["==","mhid",""],paint:{"circle-radius":15,"circle-color":n,"circle-opacity":.5},"paint.selected":{"circle-radius":15,"circle-color":n,"circle-opacity":.5}}];return"geojson"!==e&&o.forEach(function(e){e["source-layer"]="data"}),o},getLineLayers:function(e,t,n,r,i){var o=[{id:"omh-data-line-"+e,type:"line",metadata:{"maphubs:layer_id":e,"maphubs:interactive":r,"maphubs:showBehindBaseMapLabels":i},source:"omh-"+e,filter:["in","$type","LineString"],paint:{"line-color":t,"line-opacity":.5,"line-width":2}},{id:"omh-hover-line-"+e,type:"line",metadata:{"maphubs:layer_id":e},source:"omh-"+e,filter:["==","mhid",""],paint:{"line-color":n,"line-opacity":.3,"line-width":1},"paint.selected":{"line-color":n,"line-opacity":.3,"line-width":1}}];return"geojson"!==e&&o.forEach(function(e){e["source-layer"]="data"}),o},getPolygonLayers:function(e,t,n,r,i,o){var s=[{id:"omh-data-polygon-"+e,type:"fill",metadata:{"maphubs:layer_id":e,"maphubs:interactive":i,"maphubs:showBehindBaseMapLabels":o},source:"omh-"+e,filter:["in","$type","Polygon"],paint:{"fill-color":t,"fill-outline-color":t,"fill-opacity":.5}},{id:"omh-data-doublestroke-polygon-"+e,type:"line",metadata:{"maphubs:layer_id":e},source:"omh-"+e,filter:["in","$type","Polygon"],paint:{"line-color":t,"line-opacity":.3,"line-width":{base:.5,stops:[[5,1],[6,2],[7,3],[8,4],[9,5],[10,6]]},"line-offset":{base:.5,stops:[[5,.5],[6,1],[7,1.5],[8,2],[9,2.5],[10,3]]}}},{id:"omh-data-outline-polygon-"+e,type:"line",metadata:{"maphubs:layer_id":e},source:"omh-"+e,filter:["in","$type","Polygon"],paint:{"line-color":"#222222","line-opacity":.8,"line-width":{base:.5,stops:[[3,.1],[4,.2],[5,.3],[6,.4],[7,.5],[8,.6],[9,.7],[10,.8]]}}},{id:"omh-hover-polygon-"+e,type:"fill",metadata:{"maphubs:layer_id":e},source:"omh-"+e,filter:["==","mhid",""],paint:{"fill-color":n,"fill-outline-color":r,"fill-opacity":.7},"paint.selected":{"fill-color":n,"fill-outline-color":r,"fill-opacity":.7}}];return"geojson"!==e&&s.forEach(function(e){e["source-layer"]="data"}),s},styleWithColor:function(e,t,n,r,i,o){var s="yellow",a="black",l=[];l="point"===r?this.getPointLayers(e,n,s,i,o):"point"===r?this.getLineLayers(e,n,s,i,o):"polygon"===r?this.getPolygonLayers(e,n,s,a,i,o):this.getPointLayers(e,n,s,i,o).concat(this.getLineLayers(e,n,s,i,o)).concat(this.getPolygonLayers(e,n,s,a,i,o));var c={sources:{},layers:l};if(t)if("vector"===t.type){var u="{MAPHUBS_DOMAIN}/api/layer/"+e+"/tile.json";c.sources["omh-"+e]={type:"vector",url:u}}else"ags-mapserver-query"===t.type||"ags-featureserver-query"===t.type?c.sources["omh-"+e]={type:t.type,url:t.url}:"ags-mapserver-tiles"===t.type?c.sources["omh-"+e]={type:"arcgisraster",url:t.url+"?f=json"}:"geojson"===t.type&&(c.sources["omh-"+e]={type:"geojson",data:t.data},style.layers.map(function(e){delete e["source-layer"]}));return c},rasterStyleWithOpacity:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"raster";n/=100;var i={sources:{},layers:[{id:"omh-raster-"+e,type:"raster",source:"omh-"+e,minzoom:0,maxzoom:18,paint:{"raster-opacity":n}}]};return i.sources["omh-"+e]={type:r,url:t,tileSize:256},i},defaultRasterStyle:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"raster";return this.rasterStyleWithOpacity(e,t,100,n)},htmlEncode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},legendWithColor:function(e,t){var n="",r=this.htmlEncode(e.name);return n="point"==e.data_type?'<div class="omh-legend">\n <div class="point double-stroke" style="background-color: '+t+'">\n </div>\n <h3>'+r+"</h3>\n </div>\n":"line"==e.data_type?'<div class="omh-legend">\n<div class="block double-stroke" style="height:  4px; background-color: '+t+'">\n</div>\n<h3>'+r+"</h3>\n</div>":"polygon"==e.data_type?'<div class="omh-legend">\n <div class="block double-stroke" style="background-color: '+t+'">\n </div>\n <h3>'+r+"</h3>\n </div>\n":'<div class="omh-legend">\n <div class="block double-stroke" style="background-color: '+t+'">\n </div>\n <h3>'+r+"</h3>\n </div>\n"},defaultLegend:function(e){return this.legendWithColor(e,"red")},defaultSettings:function(){return{active:!0,interactive:!0,showBehindBaseMapLabels:!1}},rasterLegend:function(e){var t=this.htmlEncode(e.name),n='<div class="omh-legend">\n<h3>'+t+"</h3>\n</div>";return n},defaultStyle:function(e,t,n){var r=this.defaultSettings();return this.styleWithColor(e,t,"red",n,r.interactive,r.showBehindBaseMapLabels)},toggleInteractive:function(e,t,n,r){var i="omh-data-"+r+"-"+n,s=o(t.layers,{id:i}),a=t.layers[s];return a.metadata||(a.metadata={}),a.metadata["maphubs:interactive"]=e,t},toggleShowBehindBaseMapLabels:function(e,t){return t.layers.map(function(t){t.metadata||(t.metadata={}),t.metadata["maphubs:showBehindBaseMapLabels"]=e}),t},getMapboxStyle:function(e){var t={sources:{},layers:[{id:"mapbox-style-placeholder",type:"mapbox-style-placeholder"}]};return t.sources[e]={type:"mapbox-style",mapboxid:e},t}}},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e){return function(t){return null==t?void 0:t[e]}}function o(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function s(e){return function(t){return e(t)}}function a(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function u(e,t){return function(n){return e(t(n))}}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function d(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(){this.__data__=nn?nn(null):{}}function f(e){return this.has(e)&&delete this.__data__[e]}function g(e){var t=this.__data__;if(nn){var n=t[e];return n===ze?void 0:n}return Vt.call(t,e)?t[e]:void 0}function m(e){var t=this.__data__;return nn?void 0!==t[e]:Vt.call(t,e)}function v(e,t){var n=this.__data__;return n[e]=nn&&void 0===t?ze:t,this}function y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function b(){this.__data__=[]}function w(e){var t=this.__data__,n=j(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Yt.call(t,n,1),!0}function x(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]}function _(e){return j(this.__data__,e)>-1}function E(e,t){var n=this.__data__,r=j(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(){this.__data__={hash:new d,map:new(Zt||y),string:new d}}function k(e){return ae(this,e).delete(e)}function A(e){return ae(this,e).get(e)}function T(e){return ae(this,e).has(e)}function F(e,t){return ae(this,e).set(e,t),this}function L(e){var t=-1,n=e?e.length:0;for(this.__data__=new C;++t<n;)this.add(e[t])}function R(e){return this.__data__.set(e,ze),this}function M(e){return this.__data__.has(e)}function I(e){this.__data__=new y(e)}function D(){this.__data__=new y}function N(e){return this.__data__.delete(e)}function P(e){return this.__data__.get(e)}function O(e){return this.__data__.has(e)}function B(e,t){var n=this.__data__;if(n instanceof y){var r=n.__data__;if(!Zt||r.length<$e-1)return r.push([e,t]),this;n=this.__data__=new C(r)}return n.set(e,t),this}function $(e,t){var n=fn(e)||Se(e)?o(e.length,String):[],r=n.length,i=!!r;for(var s in e)!t&&!Vt.call(e,s)||i&&("length"==s||he(s,r))||n.push(s);return n}function j(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}function z(e,t){t=de(t,e)?[t]:re(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[be(t[n++])];return n&&n==r?e:void 0}function U(e){return Wt.call(e)}function V(e,t){return null!=e&&t in Object(e)}function W(e,t,n,r,i){return e===t||(null==e||null==t||!Le(e)&&!Re(t)?e!==e&&t!==t:q(e,t,W,n,r,i))}function q(e,t,n,r,i,o){var s=fn(e),a=fn(t),c=Ge,u=Ge;s||(c=dn(e),c=c==He?tt:c),a||(u=dn(t),u=u==He?tt:u);var h=c==tt&&!l(e),d=u==tt&&!l(t),p=c==u;if(p&&!h)return o||(o=new I),s||gn(e)?ie(e,t,n,r,i,o):oe(e,t,c,n,r,i,o);if(!(i&Ve)){var f=h&&Vt.call(e,"__wrapped__"),g=d&&Vt.call(t,"__wrapped__");if(f||g){var m=f?e.value():e,v=g?t.value():t;return o||(o=new I),n(m,v,r,i,o)}}return!!p&&(o||(o=new I),se(e,t,n,r,i,o))}function H(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new I;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?W(u,c,r,Ue|Ve,h):d))return!1}}return!0}function G(e){if(!Le(e)||fe(e))return!1;var t=Te(e)||l(e)?qt:St;return t.test(we(e))}function K(e){return Re(e)&&Fe(e.length)&&!!At[Wt.call(e)]}function Y(e){return"function"==typeof e?e:null==e?Oe:"object"==typeof e?fn(e)?Z(e[0],e[1]):J(e):Be(e)}function X(e){if(!ge(e))return Xt(e);var t=[];for(var n in Object(e))Vt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function J(e){var t=le(e);return 1==t.length&&t[0][2]?ve(t[0][0],t[0][1]):function(n){return n===e||H(n,e,t)}}function Z(e,t){return de(e)&&me(t)?ve(be(e),t):function(n){var r=De(n,e);return void 0===r&&r===t?Ne(n,e):W(t,r,void 0,Ue|Ve)}}function Q(e){return function(t){return z(t,e)}}function ee(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;if(he(i))Yt.call(e,i,1);else if(de(i,e))delete e[be(i)];else{var s=re(i),a=ye(e,s);null!=a&&delete a[be(xe(s))]}}}return e}function te(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function ne(e){if("string"==typeof e)return e;if(Me(e))return hn?hn.call(e):"";var t=e+"";return"0"==t&&1/e==-We?"-0":t}function re(e){return fn(e)?e:pn(e)}function ie(e,t,n,i,o,s){var a=o&Ve,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var h=-1,d=!0,p=o&Ue?new L:void 0;for(s.set(e,t),s.set(t,e);++h<l;){var f=e[h],g=t[h];if(i)var m=a?i(g,f,h,t,e,s):i(f,g,h,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!r(t,function(e,t){if(!p.has(t)&&(f===e||n(f,e,i,o,s)))return p.add(t)})){d=!1;break}}else if(f!==g&&!n(f,g,i,o,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function oe(e,t,n,r,i,o,s){switch(n){case ct:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lt:return!(e.byteLength!=t.byteLength||!r(new Gt(e),new Gt(t)));case Ke:case Ye:case et:return Ce(+e,+t);case Xe:return e.name==t.name&&e.message==t.message;case rt:case ot:return e==t+"";case Qe:var a=c;case it:var l=o&Ve;if(a||(a=h),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;o|=Ue,s.set(e,t);var d=ie(a(e),a(t),r,i,o,s);return s.delete(e),d;case st:if(un)return un.call(e)==un.call(t)}return!1}function se(e,t,n,r,i,o){var s=i&Ve,a=Pe(e),l=a.length,c=Pe(t),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in t:Vt.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var g=s;++h<l;){d=a[h];var m=e[d],v=t[d];if(r)var y=s?r(v,m,d,t,e,o):r(m,v,d,e,t,o);if(!(void 0===y?m===v||n(m,v,r,i,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o.delete(e),o.delete(t),f}function ae(e,t){var n=e.__data__;return pe(t)?n["string"==typeof t?"string":"hash"]:n.map}function le(e){for(var t=Pe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,me(i)]}return t}function ce(e,t){var n=a(e,t);return G(n)?n:void 0}function ue(e,t,n){t=de(t,e)?[t]:re(t);for(var r,i=-1,o=t.length;++i<o;){var s=be(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}if(r)return r;var o=e?e.length:0;return!!o&&Fe(o)&&he(s,o)&&(fn(e)||Se(e))}function he(e,t){return t=null==t?qe:t,!!t&&("number"==typeof e||kt.test(e))&&e>-1&&e%1==0&&e<t}function de(e,t){if(fn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Me(e))||(wt.test(e)||!bt.test(e)||null!=t&&e in Object(t))}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fe(e){return!!zt&&zt in e}function ge(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||$t;return e===n}function me(e){return e===e&&!Le(e)}function ve(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function ye(e,t){return 1==t.length?e:z(e,te(t,0,-1))}function be(e){if("string"==typeof e||Me(e))return e;var t=e+"";return"0"==t&&1/e==-We?"-0":t}function we(e){if(null!=e){try{return Ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xe(e){var t=e?e.length:0;return t?e[t-1]:void 0}function _e(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Y(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return ee(e,i),n}function Ee(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(je);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Ee.Cache||C),n}function Ce(e,t){return e===t||e!==e&&t!==t}function Se(e){return Ae(e)&&Vt.call(e,"callee")&&(!Kt.call(e,"callee")||Wt.call(e)==He)}function ke(e){return null!=e&&Fe(e.length)&&!Te(e)}function Ae(e){return Re(e)&&ke(e)}function Te(e){var t=Le(e)?Wt.call(e):"";return t==Je||t==Ze}function Fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=qe}function Le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Re(e){return!!e&&"object"==typeof e}function Me(e){return"symbol"==typeof e||Re(e)&&Wt.call(e)==st}function Ie(e){return null==e?"":ne(e)}function De(e,t,n){var r=null==e?void 0:z(e,t);return void 0===r?n:r}function Ne(e,t){return null!=e&&ue(e,t,V)}function Pe(e){return ke(e)?$(e):X(e)}function Oe(e){return e}function Be(e){return de(e)?i(be(e)):Q(e)}var $e=200,je="Expected a function",ze="__lodash_hash_undefined__",Ue=1,Ve=2,We=1/0,qe=9007199254740991,He="[object Arguments]",Ge="[object Array]",Ke="[object Boolean]",Ye="[object Date]",Xe="[object Error]",Je="[object Function]",Ze="[object GeneratorFunction]",Qe="[object Map]",et="[object Number]",tt="[object Object]",nt="[object Promise]",rt="[object RegExp]",it="[object Set]",ot="[object String]",st="[object Symbol]",at="[object WeakMap]",lt="[object ArrayBuffer]",ct="[object DataView]",ut="[object Float32Array]",ht="[object Float64Array]",dt="[object Int8Array]",pt="[object Int16Array]",ft="[object Int32Array]",gt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",yt="[object Uint32Array]",bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wt=/^\w*$/,xt=/^\./,_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Et=/[\\^$.*+?()[\]{}|]/g,Ct=/\\(\\)?/g,St=/^\[object .+?Constructor\]$/,kt=/^(?:0|[1-9]\d*)$/,At={};At[ut]=At[ht]=At[dt]=At[pt]=At[ft]=At[gt]=At[mt]=At[vt]=At[yt]=!0,At[He]=At[Ge]=At[lt]=At[Ke]=At[ct]=At[Ye]=At[Xe]=At[Je]=At[Qe]=At[et]=At[tt]=At[rt]=At[it]=At[ot]=At[at]=!1;var Tt="object"==typeof e&&e&&e.Object===Object&&e,Ft="object"==typeof self&&self&&self.Object===Object&&self,Lt=Tt||Ft||Function("return this")(),Rt="object"==typeof t&&t&&!t.nodeType&&t,Mt=Rt&&"object"==typeof n&&n&&!n.nodeType&&n,It=Mt&&Mt.exports===Rt,Dt=It&&Tt.process,Nt=function(){try{return Dt&&Dt.binding("util")}catch(e){}}(),Pt=Nt&&Nt.isTypedArray,Ot=Array.prototype,Bt=Function.prototype,$t=Object.prototype,jt=Lt["__core-js_shared__"],zt=function(){var e=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ut=Bt.toString,Vt=$t.hasOwnProperty,Wt=$t.toString,qt=RegExp("^"+Ut.call(Vt).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=Lt.Symbol,Gt=Lt.Uint8Array,Kt=$t.propertyIsEnumerable,Yt=Ot.splice,Xt=u(Object.keys,Object),Jt=ce(Lt,"DataView"),Zt=ce(Lt,"Map"),Qt=ce(Lt,"Promise"),en=ce(Lt,"Set"),tn=ce(Lt,"WeakMap"),nn=ce(Object,"create"),rn=we(Jt),on=we(Zt),sn=we(Qt),an=we(en),ln=we(tn),cn=Ht?Ht.prototype:void 0,un=cn?cn.valueOf:void 0,hn=cn?cn.toString:void 0;d.prototype.clear=p,d.prototype.delete=f,d.prototype.get=g,d.prototype.has=m,d.prototype.set=v,y.prototype.clear=b,y.prototype.delete=w,y.prototype.get=x,y.prototype.has=_,y.prototype.set=E,C.prototype.clear=S,C.prototype.delete=k,C.prototype.get=A,C.prototype.has=T,C.prototype.set=F,L.prototype.add=L.prototype.push=R,L.prototype.has=M,I.prototype.clear=D,I.prototype.delete=N,I.prototype.get=P,I.prototype.has=O,I.prototype.set=B;var dn=U;(Jt&&dn(new Jt(new ArrayBuffer(1)))!=ct||Zt&&dn(new Zt)!=Qe||Qt&&dn(Qt.resolve())!=nt||en&&dn(new en)!=it||tn&&dn(new tn)!=at)&&(dn=function(e){var t=Wt.call(e),n=t==tt?e.constructor:void 0,r=n?we(n):void 0;if(r)switch(r){case rn:return ct;case on:return Qe;case sn:return nt;case an:return it;case ln:return at}return t});var pn=Ee(function(e){e=Ie(e);var t=[];return xt.test(e)&&t.push(""),e.replace(_t,function(e,n,r,i){t.push(r?i.replace(Ct,"$1"):n||e)}),t});Ee.Cache=C;var fn=Array.isArray,gn=Pt?s(Pt):K;n.exports=_e}).call(t,function(){return this}(),n(611)(e))},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function o(e){return function(t){return null==t?void 0:t[e]}}function s(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function a(e){return function(t){return e(t)}}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function h(e,t){return function(n){return e(t(n))}}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(){this.__data__=hn?hn(null):{}}function g(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(hn){var n=t[e];return n===ze?void 0:n}return Xt.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return hn?void 0!==t[e]:Xt.call(t,e)}function y(e,t){var n=this.__data__;return n[e]=hn&&void 0===t?ze:t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(){this.__data__=[]}function x(e){var t=this.__data__,n=z(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():nn.call(t,n,1),!0}function _(e){var t=this.__data__,n=z(t,e);return n<0?void 0:t[n][1]}function E(e){return z(this.__data__,e)>-1}function C(e,t){var n=this.__data__,r=z(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(){this.__data__={hash:new p,map:new(an||b),string:new p}}function A(e){return se(this,e).delete(e)}function T(e){return se(this,e).get(e)}function F(e){return se(this,e).has(e)}function L(e,t){return se(this,e).set(e,t),this}function R(e){var t=-1,n=e?e.length:0;for(this.__data__=new S;++t<n;)this.add(e[t])}function M(e){return this.__data__.set(e,ze),this}function I(e){return this.__data__.has(e)}function D(e){this.__data__=new b(e)}function N(){this.__data__=new b}function P(e){return this.__data__.delete(e)}function O(e){return this.__data__.get(e)}function B(e){return this.__data__.has(e)}function $(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!an||r.length<$e-1)return r.push([e,t]),this;n=this.__data__=new S(r)}return n.set(e,t),this}function j(e,t){var n=_n(e)||_e(e)?s(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Xt.call(e,o)||i&&("length"==o||ue(o,r))||n.push(o);
return n}function z(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function U(e,t){t=he(t,e)?[t]:ne(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[ve(t[n++])];return n&&n==r?e:void 0}function V(e){return Jt.call(e)}function W(e,t){return null!=e&&t in Object(e)}function q(e,t,n,r,i){return e===t||(null==e||null==t||!Ae(e)&&!Te(t)?e!==e&&t!==t:H(e,t,q,n,r,i))}function H(e,t,n,r,i,o){var s=_n(e),a=_n(t),l=Ye,u=Ye;s||(l=wn(e),l=l==Ke?rt:l),a||(u=wn(t),u=u==Ke?rt:u);var h=l==rt&&!c(e),d=u==rt&&!c(t),p=l==u;if(p&&!h)return o||(o=new D),s||En(e)?re(e,t,n,r,i,o):ie(e,t,l,n,r,i,o);if(!(i&Ve)){var f=h&&Xt.call(e,"__wrapped__"),g=d&&Xt.call(t,"__wrapped__");if(f||g){var m=f?e.value():e,v=g?t.value():t;return o||(o=new D),n(m,v,r,i,o)}}return!!p&&(o||(o=new D),oe(e,t,n,r,i,o))}function G(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new D;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?q(u,c,r,Ue|Ve,h):d))return!1}}return!0}function K(e){if(!Ae(e)||pe(e))return!1;var t=Se(e)||c(e)?Zt:Lt;return t.test(ye(e))}function Y(e){return Te(e)&&ke(e.length)&&!!It[Jt.call(e)]}function X(e){return"function"==typeof e?e:null==e?Oe:"object"==typeof e?_n(e)?Q(e[0],e[1]):Z(e):Be(e)}function J(e){if(!fe(e))return rn(e);var t=[];for(var n in Object(e))Xt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Z(e){var t=ae(e);return 1==t.length&&t[0][2]?me(t[0][0],t[0][1]):function(n){return n===e||G(n,e,t)}}function Q(e,t){return he(e)&&ge(t)?me(ve(e),t):function(n){var r=De(n,e);return void 0===r&&r===t?Ne(n,e):q(t,r,void 0,Ue|Ve)}}function ee(e){return function(t){return U(t,e)}}function te(e){if("string"==typeof e)return e;if(Fe(e))return bn?bn.call(e):"";var t=e+"";return"0"==t&&1/e==-We?"-0":t}function ne(e){return _n(e)?e:xn(e)}function re(e,t,n,i,o,s){var a=o&Ve,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var h=-1,d=!0,p=o&Ue?new R:void 0;for(s.set(e,t),s.set(t,e);++h<l;){var f=e[h],g=t[h];if(i)var m=a?i(g,f,h,t,e,s):i(f,g,h,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!r(t,function(e,t){if(!p.has(t)&&(f===e||n(f,e,i,o,s)))return p.add(t)})){d=!1;break}}else if(f!==g&&!n(f,g,i,o,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ie(e,t,n,r,i,o,s){switch(n){case ht:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ut:return!(e.byteLength!=t.byteLength||!r(new en(e),new en(t)));case Xe:case Je:case nt:return xe(+e,+t);case Ze:return e.name==t.name&&e.message==t.message;case ot:case at:return e==t+"";case tt:var a=u;case st:var l=o&Ve;if(a||(a=d),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;o|=Ue,s.set(e,t);var h=re(a(e),a(t),r,i,o,s);return s.delete(e),h;case lt:if(yn)return yn.call(e)==yn.call(t)}return!1}function oe(e,t,n,r,i,o){var s=i&Ve,a=Pe(e),l=a.length,c=Pe(t),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in t:Xt.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var g=s;++h<l;){d=a[h];var m=e[d],v=t[d];if(r)var y=s?r(v,m,d,t,e,o):r(m,v,d,e,t,o);if(!(void 0===y?m===v||n(m,v,r,i,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o.delete(e),o.delete(t),f}function se(e,t){var n=e.__data__;return de(t)?n["string"==typeof t?"string":"hash"]:n.map}function ae(e){for(var t=Pe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ge(i)]}return t}function le(e,t){var n=l(e,t);return K(n)?n:void 0}function ce(e,t,n){t=he(t,e)?[t]:ne(t);for(var r,i=-1,o=t.length;++i<o;){var s=ve(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}if(r)return r;var o=e?e.length:0;return!!o&&ke(o)&&ue(s,o)&&(_n(e)||_e(e))}function ue(e,t){return t=null==t?qe:t,!!t&&("number"==typeof e||Mt.test(e))&&e>-1&&e%1==0&&e<t}function he(e,t){if(_n(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Fe(e))||(_t.test(e)||!xt.test(e)||null!=t&&e in Object(t))}function de(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!Kt&&Kt in e}function fe(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ht;return e===n}function ge(e){return e===e&&!Ae(e)}function me(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function ve(e){if("string"==typeof e||Fe(e))return e;var t=e+"";return"0"==t&&1/e==-We?"-0":t}function ye(e){if(null!=e){try{return Yt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:Re(n);return o<0&&(o=on(r+o,0)),i(e,X(t,3),o)}function we(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(je);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(we.Cache||S),n}function xe(e,t){return e===t||e!==e&&t!==t}function _e(e){return Ce(e)&&Xt.call(e,"callee")&&(!tn.call(e,"callee")||Jt.call(e)==Ke)}function Ee(e){return null!=e&&ke(e.length)&&!Se(e)}function Ce(e){return Te(e)&&Ee(e)}function Se(e){var t=Ae(e)?Jt.call(e):"";return t==Qe||t==et}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=qe}function Ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return!!e&&"object"==typeof e}function Fe(e){return"symbol"==typeof e||Te(e)&&Jt.call(e)==lt}function Le(e){if(!e)return 0===e?e:0;if(e=Me(e),e===We||e===-We){var t=e<0?-1:1;return t*He}return e===e?e:0}function Re(e){var t=Le(e),n=t%1;return t===t?n?t-n:t:0}function Me(e){if("number"==typeof e)return e;if(Fe(e))return Ge;if(Ae(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ae(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(kt,"");var n=Ft.test(e);return n||Rt.test(e)?Dt(e.slice(2),n?2:8):Tt.test(e)?Ge:+e}function Ie(e){return null==e?"":te(e)}function De(e,t,n){var r=null==e?void 0:U(e,t);return void 0===r?n:r}function Ne(e,t){return null!=e&&ce(e,t,W)}function Pe(e){return Ee(e)?j(e):J(e)}function Oe(e){return e}function Be(e){return he(e)?o(ve(e)):ee(e)}var $e=200,je="Expected a function",ze="__lodash_hash_undefined__",Ue=1,Ve=2,We=1/0,qe=9007199254740991,He=1.7976931348623157e308,Ge=NaN,Ke="[object Arguments]",Ye="[object Array]",Xe="[object Boolean]",Je="[object Date]",Ze="[object Error]",Qe="[object Function]",et="[object GeneratorFunction]",tt="[object Map]",nt="[object Number]",rt="[object Object]",it="[object Promise]",ot="[object RegExp]",st="[object Set]",at="[object String]",lt="[object Symbol]",ct="[object WeakMap]",ut="[object ArrayBuffer]",ht="[object DataView]",dt="[object Float32Array]",pt="[object Float64Array]",ft="[object Int8Array]",gt="[object Int16Array]",mt="[object Int32Array]",vt="[object Uint8Array]",yt="[object Uint8ClampedArray]",bt="[object Uint16Array]",wt="[object Uint32Array]",xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_t=/^\w*$/,Et=/^\./,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,kt=/^\s+|\s+$/g,At=/\\(\\)?/g,Tt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Lt=/^\[object .+?Constructor\]$/,Rt=/^0o[0-7]+$/i,Mt=/^(?:0|[1-9]\d*)$/,It={};It[dt]=It[pt]=It[ft]=It[gt]=It[mt]=It[vt]=It[yt]=It[bt]=It[wt]=!0,It[Ke]=It[Ye]=It[ut]=It[Xe]=It[ht]=It[Je]=It[Ze]=It[Qe]=It[tt]=It[nt]=It[rt]=It[ot]=It[st]=It[at]=It[ct]=!1;var Dt=parseInt,Nt="object"==typeof e&&e&&e.Object===Object&&e,Pt="object"==typeof self&&self&&self.Object===Object&&self,Ot=Nt||Pt||Function("return this")(),Bt="object"==typeof t&&t&&!t.nodeType&&t,$t=Bt&&"object"==typeof n&&n&&!n.nodeType&&n,jt=$t&&$t.exports===Bt,zt=jt&&Nt.process,Ut=function(){try{return zt&&zt.binding("util")}catch(e){}}(),Vt=Ut&&Ut.isTypedArray,Wt=Array.prototype,qt=Function.prototype,Ht=Object.prototype,Gt=Ot["__core-js_shared__"],Kt=function(){var e=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Yt=qt.toString,Xt=Ht.hasOwnProperty,Jt=Ht.toString,Zt=RegExp("^"+Yt.call(Xt).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=Ot.Symbol,en=Ot.Uint8Array,tn=Ht.propertyIsEnumerable,nn=Wt.splice,rn=h(Object.keys,Object),on=Math.max,sn=le(Ot,"DataView"),an=le(Ot,"Map"),ln=le(Ot,"Promise"),cn=le(Ot,"Set"),un=le(Ot,"WeakMap"),hn=le(Object,"create"),dn=ye(sn),pn=ye(an),fn=ye(ln),gn=ye(cn),mn=ye(un),vn=Qt?Qt.prototype:void 0,yn=vn?vn.valueOf:void 0,bn=vn?vn.toString:void 0;p.prototype.clear=f,p.prototype.delete=g,p.prototype.get=m,p.prototype.has=v,p.prototype.set=y,b.prototype.clear=w,b.prototype.delete=x,b.prototype.get=_,b.prototype.has=E,b.prototype.set=C,S.prototype.clear=k,S.prototype.delete=A,S.prototype.get=T,S.prototype.has=F,S.prototype.set=L,R.prototype.add=R.prototype.push=M,R.prototype.has=I,D.prototype.clear=N,D.prototype.delete=P,D.prototype.get=O,D.prototype.has=B,D.prototype.set=$;var wn=V;(sn&&wn(new sn(new ArrayBuffer(1)))!=ht||an&&wn(new an)!=tt||ln&&wn(ln.resolve())!=it||cn&&wn(new cn)!=st||un&&wn(new un)!=ct)&&(wn=function(e){var t=Jt.call(e),n=t==rt?e.constructor:void 0,r=n?ye(n):void 0;if(r)switch(r){case dn:return ht;case pn:return tt;case fn:return it;case gn:return st;case mn:return ct}return t});var xn=we(function(e){e=Ie(e);var t=[];return Et.test(e)&&t.push(""),e.replace(Ct,function(e,n,r,i){t.push(r?i.replace(At,"$1"):n||e)}),t});we.Cache=S;var _n=Array.isArray,En=Vt?a(Vt):Y;n.exports=be}).call(t,function(){return this}(),n(611)(e))},,function(e,t,n){"use strict";var r=n(201)("Map/DataEditorMixin"),i=n(661),o=n(168),s=n(662),a=n(170),l={};"undefined"!=typeof window&&(l=n(693));var c={getFirstDrawLayerID:function(){return this.getEditorStyles()[0].id+".cold"},getEditorStyles:function(){return[{id:"highlight-active-points",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"],["==","active","true"]],paint:{"circle-radius":7,"circle-color":"#000000"}},{id:"points-are-blue",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"],["==","active","false"]],paint:{"circle-radius":5,"circle-color":"#000088"}},{id:"gl-draw-line",type:"line",filter:["all",["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#D20C0C","fill-outline-color":"#D20C0C","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#D20C0C","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-halo-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#FFF"}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","$type","LineString"],["==","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","$type","Polygon"],["==","mode","static"]],paint:{"fill-color":"#000","fill-outline-color":"#000","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","$type","Polygon"],["==","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}}]},editFeature:function(e){var t=this;i.selectFeature(e.properties.mhid,function(e){t.draw&&(t.draw.get(e.id)||(t.draw.add(e),t.updateMapLayerFilters()))})},startEditingTool:function(e){var t=this,n=new l({displayControlsDefault:!1,controls:{point:"point"===e.data_type,polygon:"polygon"===e.data_type,line_string:"line"===e.data_type,trash:!0},styles:this.getEditorStyles()});this.draw=n,o(".mapboxgl-ctrl-top-right").addClass("mapboxgl-ctrl-maphubs-edit-tool"),this.map.addControl(n,"top-right"),this.map.on("draw.create",function(e){r("draw create");var t=e.features;t&&t.length>0&&t.forEach(function(e){i.createFeature(e)})}),this.map.on("draw.update",function(e){r("draw update"),t.updateEdits(e)}),this.map.on("draw.delete",function(e){r("draw delete");var t=e.features;t&&t.length>0&&t.forEach(function(e){i.deleteFeature(e)})}),this.map.on("draw.selectionchange",function(e){r("draw selection");var n=t.draw.getMode();if("simple_select"===n){var o=e.features;o&&o.length>0&&o.forEach(function(e){i.selectFeature(e.id,function(){})})}})},stopEditingTool:function(){o(".mapboxgl-ctrl-top-right").removeClass("mapboxgl-ctrl-maphubs-edit-tool"),this.map.removeControl(this.draw)},updateEdits:function(e){e.features.length>0&&i.updateFeatures(e.features)},onFeatureUpdate:function(e,t){this.draw&&("update"===e||"create"===e?this.draw.add(t.geojson):"delete"===e&&this.draw.delete(t.geojson.id))},updateMapLayerFilters:function(){var e=this,t=this.state.editingLayer.layer_id,n=[];this.state.edits.forEach(function(e){var t=e.geojson.id;t&&!n.includes(t)&&n.push(t)}),this.state.originals.forEach(function(e){var t=e.geojson.id;t&&!n.includes(t)&&n.push(t)});var r=["!in","mhid"].concat(n);this.state.glStyle&&this.state.glStyle.layers.forEach(function(n){var i;if(n.metadata&&n.metadata["maphubs:layer_id"]?n.metadata["maphubs:layer_id"]===t&&(i=!0):n.id.endsWith(t)&&(i=!0),i){var o=n.filter;o=o&&Array.isArray(o)&&0!==o.length?"all"===o[0]?n.filter.concat(r):["all",o,r]:r,e.map.setFilter(n.id,o)}})}};e.exports=s(c,a.listenTo(i.onFeatureUpdate,"onFeatureUpdate"))},function(e,t,n){"use strict";e.exports={"ags-mapserver-query":n(702),"ags-featureserver-query":n(708),"mapbox-style":n(709),"maphubs-vector":n(710)}},function(e,t,n){"use strict";var r=n(703),i=n(201)("AGSFeatureServerQuery"),o={load:function(e,t,n,o){return r.getArcGISGeoJSON(t.url).then(function(t){t.bbox&&t.bbox.length>0&&o.state.allowLayersToMoveMap&&o.zoomToData(t),n.addSource(e,{type:"geojson",data:t})},function(e){i("("+o.state.id+") "+e)})},addLayer:function(e,t,n,r){r.state.editing?n.addLayer(e,r.getFirstDrawLayerID()):n.addLayer(e)},removeLayer:function(e,t){t.removeLayer(e.id)},remove:function(e,t){t.removeSource(e)}};e.exports=o},function(e,t,n){"use strict";var r=n(704),i=n(201)("terraformerGL"),o=n(705),s=n(707);e.exports={getArcGISGeoJSON:function(e){var t=this;return t.getArcGISJSON(e).then(function(e){var r=t.convertAGSData(e),o=n(699)(r);return i(o),r.bbox=o,r})},getArcGISJSON:function(e){var t="query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outSR=4326&outFields=&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=json";return e.endsWith("/")||(e+="/"),r.get(e+t).use(s).type("json").accept("json").then(function(e){return e.body})},getArcGISFeatureServiceGeoJSON:function(e){var t="query?where=1%3D1&outSR=4326&f=geojson";return e.endsWith("/")||(e+="/"),r.get(e+t).use(s).type("json").accept("json").then(function(e){var t=e.body,r=n(699)(t);return i(r),t.bbox=r,t})},convertAGSData:function(e){for(var t={type:"FeatureCollection",features:[]},n=0;n<e.features.length;n++){var r=o.parse(e.features[n]);r.id=n,t.features.push(r)}return t}}},function(e,t,n){var r=n(612),i=e.exports=n(196),o=i.Request;try{r.config({cancellation:!0})}catch(e){console.warn(["Enabling bluebird cancellation failed.","If you are using bluebird elsewhere in your application,","be sure to enable cancellation there as well.","Promise.config({cancellation: true});"].join(" ")),console.warn(e.stack)}var s=function(e,t){var n;this.message=e,this.name="SuperagentPromiseError",this.originalError=t,Error.captureStackTrace?(Error.captureStackTrace(this,this.constructor),n=this.stack):n=new Error(e).stack,Object.defineProperty&&Object.defineProperty(this,"stack",{get:function(){return this.originalError?n+"\nCaused by:  "+this.originalError.stack:n}})};s.prototype=new Error,s.prototype.constructor=s,i.SuperagentPromiseError=s,o.prototype.promise=function(){var e,t=this;return new r(function(n,r,i){t.end(function(i,o){if("undefined"!=typeof o&&null!==o&&o.status>=400){var a="cannot "+t.method+" "+t.url+" ("+o.status+")";e=new s(a),e.status=o.status,e.body=o.body,e.res=o,r(e)}else i?r(new s("Bad request",i)):n(o)}),"function"==typeof i&&i(function(){t.abort()})})},o.prototype.then=function(){var e=this.promise();return e.then.apply(e,arguments)},o.prototype.catch=function(){var e=this.promise();return e.catch.apply(e,arguments)}},function(e,t,n){!function(r,i){if("object"==typeof e&&"object"==typeof e.exports&&(t=e.exports=i(n(706))),"object"==typeof r.navigator){if(!r.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");r.Terraformer.ArcGIS=i(r.Terraformer)}}(this,function(e){function t(e){var t,n,r,i,o=0,s=0,a=[];r=e.match(/((\+|\-)[^\+\-]+)/g),i=parseInt(r[0],32);for(var l=1;l<r.length;l+=2)t=parseInt(r[l],32)+o,o=t,n=parseInt(r[l+1],32)+s,s=n,a.push([t/i,n/i]);return a}function n(e){return r(e[0],e[e.length-1])||e.push(e[0]),e}function r(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(e){var t,n=0,r=0,i=e.length,o=e[r];for(r;r<i-1;r++)t=e[r+1],n+=(t[0]-o[0])*(t[1]+o[1]),o=t;return n>=0}function s(e){var t=[],r=e.slice(0),i=n(r.shift().slice(0));if(i.length>=4){o(i)||i.reverse(),t.push(i);for(var s=0;s<r.length;s++){var a=n(r[s].slice(0));a.length>=4&&(o(a)&&a.reverse(),t.push(a))}}return t}function a(e){for(var t=[],n=0;n<e.length;n++)for(var r=s(e[n]),i=r.length-1;i>=0;i--){var o=r[i].slice(0);t.push(o)}return t}function l(t,n){var r=e.Tools.arraysIntersectArrays(t,n),i=e.Tools.coordinatesContainPoint(t,n[0]);return!(r||!i)}function c(t){for(var r,i,s,a=[],c=[],u=0;u<t.length;u++){var h=n(t[u].slice(0));if(!(h.length<4))if(o(h)){var d=[h];a.push(d)}else c.push(h)}for(var p=[];c.length;){s=c.pop();var f=!1;for(r=a.length-1;r>=0;r--)if(i=a[r][0],l(i,s)){a[r].push(s),f=!0;break}f||p.push(s)}for(;p.length;){s=p.pop();var g=!1;for(r=a.length-1;r>=0;r--)if(i=a[r][0],e.Tools.arraysIntersectArrays(i,s)){a[r].push(s),g=!0;break}g||a.push([s.reverse()])}return 1===a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}function u(n,r){var o={};r=r||{},r.idAttribute=r.idAttribute||void 0,"number"==typeof n.x&&"number"==typeof n.y&&(o.type="Point",o.coordinates=[n.x,n.y],(n.z||n.m)&&o.coordinates.push(n.z),n.m&&o.coordinates.push(n.m)),n.points&&(o.type="MultiPoint",o.coordinates=n.points.slice(0)),n.paths&&(1===n.paths.length?(o.type="LineString",o.coordinates=n.paths[0].slice(0)):(o.type="MultiLineString",o.coordinates=n.paths.slice(0))),n.rings&&(o=c(n.rings.slice(0))),(n.compressedGeometry||n.geometry||n.attributes)&&(o.type="Feature",n.compressedGeometry&&(n.geometry={paths:[t(n.compressedGeometry)]}),o.geometry=n.geometry?u(n.geometry):null,o.properties=n.attributes?i(n.attributes):null,n.attributes&&(o.id=n.attributes[r.idAttribute]||n.attributes.OBJECTID||n.attributes.FID));var s=n.geometry?n.geometry.spatialReference:n.spatialReference;return s&&102100===s.wkid&&(o=e.toGeographic(o)),new e.Primitive(o)}function h(t,n){var r;n=n||{};var o=n.idAttribute||"OBJECTID";r=n.sr?{wkid:n.sr}:t&&t.crs===e.MercatorCRS?{wkid:102100}:{wkid:4326};var l,c={};switch(t.type){case"Point":c.x=t.coordinates[0],c.y=t.coordinates[1],t.coordinates[2]&&(c.z=t.coordinates[2]),t.coordinates[3]&&(c.m=t.coordinates[3]),c.spatialReference=r;break;case"MultiPoint":c.points=t.coordinates.slice(0),c.spatialReference=r;break;case"LineString":c.paths=[t.coordinates.slice(0)],c.spatialReference=r;break;case"MultiLineString":c.paths=t.coordinates.slice(0),c.spatialReference=r;break;case"Polygon":c.rings=s(t.coordinates.slice(0)),c.spatialReference=r;break;case"MultiPolygon":c.rings=a(t.coordinates.slice(0)),c.spatialReference=r;break;case"Feature":t.geometry&&(c.geometry=h(t.geometry,n)),c.attributes=t.properties?i(t.properties):{},t.id&&(c.attributes[o]=t.id);break;case"FeatureCollection":for(c=[],l=0;l<t.features.length;l++)c.push(h(t.features[l],n));break;case"GeometryCollection":for(c=[],l=0;l<t.geometries.length;l++)c.push(h(t.geometries[l],n))}return c}function d(n){return new e.LineString(t(n))}var p={};return p.parse=u,p.convert=h,p.toGeoJSON=u,p.fromGeoJSON=h,p.parseCompressedGeometry=d,p})},,,function(e,t,n){"use strict";var r=n(703),i=n(201)("AGSFeatureServerQuery"),o={load:function(e,t,n,o){return r.getArcGISFeatureServiceGeoJSON(t.url).then(function(t){t.bbox&&t.bbox.length>0&&o.state.allowLayersToMoveMap&&o.zoomToData(t),n.addSource(e,{type:"geojson",data:t})},function(e){i("("+o.state.id+") "+e)})},addLayer:function(e,t,n,r){r.state.editing?n.addLayer(e,r.getFirstDrawLayerID()):n.addLayer(e)},removeLayer:function(e,t){t.removeLayer(e.id)},remove:function(e,t){t.removeSource(e)}};e.exports=o},function(e,t,n){"use strict";var r=n(704),i={load:function(e,t,n,i){var o=t.mapboxid,s="https://api.mapbox.com/styles/v1/"+o+"?access_token="+MAPHUBS_CONFIG.MAPBOX_ACCESS_TOKEN;return r.get(s).then(function(e){var t=e.body;i.mbstyle=t,Object.keys(t.sources).forEach(function(e){var r=t.sources[e];n.addSource(e,r)})})},addLayer:function(e,t,n,r){this.mbstyle.layers.forEach(function(e){"background"!==e.type&&(r.state.editing?n.addLayer(e,r.getFirstDrawLayerID()):n.addLayer(e))})},removeLayer:function(e,t){this.mbstyle.layers.forEach(function(e){t.removeLayer(e.id)})},remove:function(e,t){Object.keys(this.mbstyle.sources).forEach(function(e){t.removeSource(e)})}};e.exports=i},function(e,t,n){"use strict";var r=n(704),i=n(201)("MapHubsSource"),o=n(196),s=n(608),a=n(205).checkClientError,l=n(1),c=n(28),u=n(711),h=n(168),d=n(712),p=(n(699),{});"undefined"!=typeof window&&(p=n(684));var f={load:function(e,t,n,o){if("geojson"===t.type&&t.data)return r.get(t.data).then(function(t){var r=t.body;r.features&&r.features.forEach(function(e,t){e.properties.mhid=t}),n.addSource(e,{type:"geojson",data:r})},function(e){i("("+o.state.id+") "+e)});var a=t.url.replace("{MAPHUBS_DOMAIN}",s.getBaseUrl());return r.get(a).then(function(t){var r=t.body;r.type="vector",n.on("source.load",function(t){t.source.id===e&&o.state.allowLayersToMoveMap&&(i("Zooming map extent of source: "+t.source.id),n.fitBounds([[r.bounds[0],r.bounds[1]],[r.bounds[2],r.bounds[3]]]))}),n.addSource(e,r)},function(e){i("("+o.state.id+") "+e)})},addLayer:function(e,t,n,r){if(e.metadata&&e.metadata["maphubs:markers"]){var f=e.metadata["maphubs:layer_id"];h(".maphubs-marker-"+f).each(function(e,t){c.unmountComponentAtNode(t),h(t).remove()}),d.removeLayer(f)}if(!(e.metadata&&e.metadata["maphubs:markers"]&&e.metadata["maphubs:markers"].enabled)||e.layout&&e.layout.visibility&&"none"===e.layout.visibility)e.metadata&&e.metadata["maphubs:showBehindBaseMapLabels"]?n.addLayer(e,"water"):r.state.editing?n.addLayer(e,r.getFirstDrawLayerID()):n.addLayer(e);else{var g=JSON.parse(JSON.stringify(e.metadata["maphubs:markers"]));g.dataUrl=g.dataUrl.replace("{MAPHUBS_DOMAIN}",s.getBaseUrl());var m=e.metadata["maphubs:layer_id"],v=g.dataUrl;"geojson"===t.type&&(v=t.data),o.get(v).type("json").accept("json").end(function(e,t){a(t,e,function(e){if(e)i(e);else{var o=t.body;o.features.forEach(function(e,t){var i;e.properties.osm_id?e.properties.mhid=m+":"+e.properties.osm_id:e.properties.id?e.properties.mhid=m+":"+e.properties.id:e.properties.ID?e.properties.mhid=m+":"+e.properties.ID:e.properties.OBJECTID?e.properties.mhid=m+":"+e.properties.OBJECTID:e.properties.mhid=m+":"+t,i=e.properties.mhid;var o=document.createElement("div");o.className="maphubs-marker-"+m,o.style.width=g.width+"px",o.style.height=g.height+"px",o.addEventListener("click",function(t){return t.stopPropagation(),e.properties.layer_id=m,r.state.editing?void(r.state.editingLayer.layer_id===e.properties.layer_id&&r.editFeature(e)):(r.setSelectionFilter([e]),r.setState({selectedFeatures:[e],selected:!0}),void n.addClass("selected"))}),c.render(l.createElement(u,g),o);var s,a=-g.width/2;s="MAP_PIN"===g.shape||"SQUARE_PIN"===g.shape?-g.height:-g.height/2;var h=new p.Marker(o,{offset:[a,s]}).setLngLat(e.geometry.coordinates).addTo(n);d.addMarker(m,i,h)})}},function(e){e()})})}},removeLayer:function(e,t){if(e.metadata&&e.metadata["maphubs:markers"]){var n=e.metadata["maphubs:layer_id"];h(".maphubs-marker-"+n).each(function(e,t){c.unmountComponentAtNode(t),h(t).remove()}),d.removeLayer(n)}t.removeLayer(e.id)},remove:function(e,t){t.removeSource(e)}};e.exports=f},function(e,t,n){"use strict";var r=n(1),i=r.createClass({displayName:"Marker",propTypes:{shape:r.PropTypes.string,width:r.PropTypes.number,height:r.PropTypes.number,shapeFill:r.PropTypes.string,shapeFillOpacity:r.PropTypes.number,shapeStroke:r.PropTypes.string,shapeStrokeWidth:r.PropTypes.number,icon:r.PropTypes.string,iconFill:r.PropTypes.string,iconFillOpacity:r.PropTypes.number,iconStroke:r.PropTypes.string,iconStrokeWidth:r.PropTypes.number},getDefaultProps:function(){return{shape:"MAP_PIN",width:48,height:48,shapeFill:"red",shapeFillOpacity:1,shapeStroke:"black",shapeStrokeWidth:1,icon:"none",iconFill:"white",iconFillOpacity:1,iconStroke:"#212121",iconStrokeWidth:0}},render:function(){var e="",t=.75,n=48;if("SQUARE"===this.props.shape)e=r.createElement("rect",{x:"1",y:"1",width:n,height:n}),n+=2;else if("CIRCLE"===this.props.shape){var i=n/2;e=r.createElement("circle",{cx:i+1,cy:i+1,r:i}),n+=2}else"MAP_PIN"===this.props.shape?(t=.5,e=r.createElement("path",{d:"M25.015,2.4c-7.8,0-14.121,6.204-14.121,13.854C10.894,23.906,25.015,49,25.015,49s14.122-25.094,14.122-32.746\tC39.137,8.604,32.812,2.4,25.015,2.4z"})):"SQUARE_PIN"===this.props.shape?e=r.createElement("polygon",{points:"45,1 5,1 5,41 20.093,41 25.532,49.05 30.972,41 45,41 "}):"SQUARE_ROUNDED"===this.props.shape&&(n=50,e=r.createElement("path",{d:"M49,41c0,4.4-3.6,8-8,8H9c-4.4,0-8-3.6-8-8V9c0-4.4,3.6-8,8-8h32c4.4,0,8,3.6,8,8V41z"}));var o="0 0 "+n+" "+n,s="";if(this.props.icon&&"none"!==this.props.icon){var a,l,c=n*t,u=n*t;"MAP_PIN"===this.props.shape?(a=13,l=6):"SQUARE_PIN"===this.props.shape?(a=6.5,l=6.5):"SQUARE"===this.props.shape?(a=6.5,l=9.5):"SQUARE_ROUNDED"===this.props.shape?(a=6.5,l=9.5):"CIRCLE"===this.props.shape&&(a=6.5,l=9.5),s=r.createElement("g",{fill:this.props.iconFill,width:n,height:n,fillOpacity:this.props.iconFillOpacity,stroke:this.props.iconStroke,strokeWidth:this.props.iconStrokeWidth},r.createElement("use",{x:a,y:l,width:c,height:u,xlinkHref:"#"+this.props.icon}))}return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:this.props.width,height:this.props.height,x:"0px",y:"0px",viewBox:o,preserveAspectRatio:"xMidYMid meet"},r.createElement("g",{stroke:this.props.shapeStroke,fill:this.props.shapeFill,strokeWidth:this.props.shapeStrokeWidth,fillOpacity:this.props.shapeFillOpacity},e),s)}});e.exports=i},function(e,t,n){"use strict";var r=n(170),i=r.createActions({addMarker:{},removeMarker:{},removeLayer:{},getMarker:{}});e.exports=i},function(e,t,n){"use strict";var r=n(1),i=r.createClass({displayName:"MarkerSprites",render:function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},r.createElement("symbol",{id:"maphubs-icon-template",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"}),r.createElement("symbol",{id:"maphubs-icon-factory",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M38.3,1.08A10.76,10.76,0,0,1,48.88,6.31,6.34,6.34,0,0,1,59,9.1h1.1A4.91,4.91,0,0,1,65,14h1.29A10.84,10.84,0,0,1,77.17,24.85v1.58a.59.59,0,0,1-.59.59H69.09a.59.59,0,0,1-.59-.59V24.85a2.17,2.17,0,0,0-2.17-2.17h-11a7.05,7.05,0,0,1-13.53-.26,10.54,10.54,0,0,1-2.23.26A10.84,10.84,0,0,1,38.3,1.08Zm56.6,80.29V96.06A2.94,2.94,0,0,1,92,99H8a2.94,2.94,0,0,1-2.94-2.94V81.37A2.94,2.94,0,0,1,8,78.43h4v-8.8a2.24,2.24,0,0,1,2.24-2.24H18V48.73A2.09,2.09,0,0,1,21.33,47l14.06,9.87V48.73A2.09,2.09,0,0,1,38.69,47l14.06,9.87V48.73A2.09,2.09,0,0,1,56,47l9.12,6.4,1.54-20.1A2.3,2.3,0,0,1,69,31.2h7.44a2.3,2.3,0,0,1,2.3,2.15l2.29,34h4.65a2.24,2.24,0,0,1,2.24,2.24v8.8h4A2.94,2.94,0,0,1,94.91,81.37ZM52.15,79.25a1.41,1.41,0,0,0,1.41,1.41H63a1.41,1.41,0,0,0,1.41-1.41V75.92A1.41,1.41,0,0,0,63,74.51H53.56a1.41,1.41,0,0,0-1.41,1.41Zm-18.44,0a1.41,1.41,0,0,0,1.41,1.41H44.6A1.41,1.41,0,0,0,46,79.25V75.92a1.41,1.41,0,0,0-1.41-1.41H35.12a1.41,1.41,0,0,0-1.41,1.41Zm3.07,8.19A1.41,1.41,0,0,0,35.38,86H25.9a1.41,1.41,0,0,0-1.41,1.41v3.33a1.41,1.41,0,0,0,1.41,1.41h9.47a1.41,1.41,0,0,0,1.41-1.41Zm18.44,0A1.41,1.41,0,0,0,53.82,86H44.34a1.41,1.41,0,0,0-1.41,1.41v3.33a1.41,1.41,0,0,0,1.41,1.41h9.47a1.41,1.41,0,0,0,1.41-1.41Zm18.44,0A1.41,1.41,0,0,0,72.26,86H62.78a1.41,1.41,0,0,0-1.41,1.41v3.33a1.41,1.41,0,0,0,1.41,1.41h9.47a1.41,1.41,0,0,0,1.41-1.41Z"})),r.createElement("symbol",{id:"maphubs-icon-mining",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("g",null,r.createElement("rect",{x:"7.8597517",y:"51.5525627",transform:"matrix(0.7071068 -0.7071068 0.7071068 0.7071068 -30.552948 38.9071159)",width:"47.6576347",height:"9.5633345"}),r.createElement("polygon",{points:"66.9146729,26.2322388 61.7905884,21.1080933 56.8917236,24.3687744 63.6540527,31.1310425   "}),r.createElement("path",{d:"M54.8717651,40.5368652c5.3587036,5.9961548,10.0871582,12.5598145,13.968811,19.5911255    c0.0353394,0.0640259,0.0706787,0.1281128,0.1055298,0.1924438c-0.1807861-0.3334351,0.5753784-2.3654785,0.6385498-2.7723999    c0.3754883-2.4164429,0.3642578-4.8967285,0.0158691-7.3153687c-1.4156494-9.8285522-8.6970215-17.5563965-15.8718262-23.887146    c-6.5492554-5.7787476-15.4349365-9.8988037-24.3834839-7.7381592c-0.2640381,0.0637207-1.4456787,0.5762329-1.6428223,0.4693604    C37.7568359,24.5268555,47.1654053,31.9138794,54.8717651,40.5368652z"}),r.createElement("path",{d:"M52.8867188,55.6611328c-0.5546875,0.6147461-0.5068359,1.5634766,0.1074219,2.1186523l5.1669922,4.6669922    c0.2871094,0.2592773,0.6464844,0.3867188,1.0058594,0.3867188c0.4091797,0,0.8173828-0.1665039,1.1132812-0.4946289    c0.5546875-0.6147461,0.5068359-1.5634766-0.1074219-2.1186523l-5.1669922-4.6669922    C54.3925781,54.9990234,53.4433594,55.0454102,52.8867188,55.6611328z"}),r.createElement("path",{d:"M76.7382812,60.2363281c0.1777344,0.0688477,0.3603516,0.1015625,0.5410156,0.1015625    c0.6015625,0,1.1689453-0.3647461,1.3994141-0.9589844l2.3876953-6.1708984    c0.2988281-0.7729492-0.0859375-1.6416016-0.8583984-1.9404297c-0.7675781-0.2973633-1.640625,0.0849609-1.9404297,0.8574219    l-2.3876953,6.1708984C75.5810547,59.0688477,75.9658203,59.9375,76.7382812,60.2363281z"}),r.createElement("path",{d:"M55.9199219,68.3691406c-0.0576172-0.8271484-0.8017578-1.4619141-1.6015625-1.3901367l-7.4238281,0.5249023    c-0.8271484,0.0581055-1.4492188,0.7753906-1.390625,1.6020508C45.5595703,69.8959961,46.2177734,70.5,46.9980469,70.5    c0.0361328,0,0.0722656-0.0009766,0.1074219-0.0039062l7.4238281-0.5249023    C55.3564453,69.9130859,55.9785156,69.1958008,55.9199219,68.3691406z"}),r.createElement("polygon",{points:"86.628418,70.5792847 72.9445801,78.3017578 70.4716797,88.9553833 90.25,88.9553833   "}),r.createElement("polygon",{points:"60.8666992,70.3288574 71.5859375,75.6235352 84.234375,68.4858398 68.4331055,64.375   "
}),r.createElement("polygon",{points:"51.125,88.9553833 67.3922729,88.9553833 69.9031372,78.1381836 58.9124756,72.7090454   "})))),r.createElement("symbol",{id:"maphubs-icon-turtle2",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M60.089,37.105c0.276,0.478,0.947,0.902,1.497,0.949l4.355,0.364c0.55,0.046,0.769-0.303,0.455-0.758   c-2.17-3.169-5.301-5.357-9-6.567c-0.524-0.171-0.732,0.1-0.457,0.578L60.089,37.105z"}),r.createElement("path",{d:"M60.007,39.872l-4.194,3.621c-0.418,0.361-0.471,0.997-0.115,1.42l3.584,4.28c0.354,0.423,1.088,0.804,1.638,0.85   l7.687,0.642c0.549,0.046,1.017-0.269,1.029-0.704c0.01-0.264,0.014-0.527,0.014-0.788c0-3.247-0.578-6.068-1.6-8.489   c-0.214-0.509-0.859-0.948-1.408-0.994l-4.879-0.407C61.21,39.255,60.425,39.511,60.007,39.872z"}),r.createElement("path",{d:"M68.533,51.719l-7.369-0.615c-0.551-0.046-1.299,0.246-1.673,0.653L55.1,56.539c-0.373,0.406-0.431,1.109-0.127,1.57   l3.521,5.351c0.304,0.461,0.996,0.872,1.546,0.918l4.89,0.408c0.551,0.046,1.188-0.322,1.411-0.827   c1.571-3.564,2.649-7.43,3.087-11.161C69.492,52.249,69.083,51.766,68.533,51.719z"}),r.createElement("path",{d:"M64.393,65.882l-4.496-0.377c-0.549-0.046-1.334,0.209-1.754,0.569l-3.52,3.031c-0.419,0.359-0.471,0.994-0.115,1.418   l3.104,3.697c0.354,0.422,0.695,0.77,0.76,0.774s0.462-0.274,0.867-0.647c2.171-1.99,4.097-4.586,5.685-7.498   C65.188,66.363,64.941,65.928,64.393,65.882z"}),r.createElement("path",{d:"M45.376,69.105l-3.519-3.031c-0.418-0.36-1.204-0.615-1.754-0.569l-4.496,0.377c-0.55,0.046-0.794,0.481-0.529,0.968   c1.588,2.912,3.513,5.508,5.682,7.498c0.407,0.373,0.806,0.654,0.87,0.648s0.404-0.354,0.759-0.775l3.102-3.697   C45.847,70.102,45.795,69.466,45.376,69.105z"}),r.createElement("path",{d:"M52.546,56.732c0.554,0,1.304-0.33,1.677-0.736l4.258-4.638c0.373-0.406,0.39-1.08,0.035-1.502l-3.826-4.567   c-0.354-0.423-1.088-0.767-1.642-0.767h-6.096c-0.552,0-1.288,0.343-1.642,0.767l-3.823,4.567   c-0.354,0.423-0.339,1.096,0.034,1.502l4.258,4.638c0.374,0.406,1.124,0.736,1.676,0.736H52.546z"}),r.createElement("path",{d:"M42.628,65.395l3.48,2.996c0.418,0.36,1.206,0.652,1.758,0.652h4.268c0.554,0,1.339-0.292,1.759-0.652l3.479-2.996   c0.419-0.359,0.512-1.025,0.208-1.486l-3.515-5.34c-0.305-0.461-0.998-0.836-1.551-0.836h-5.029c-0.552,0-1.246,0.375-1.55,0.836   l-3.515,5.34C42.117,64.368,42.21,65.034,42.628,65.395z"}),r.createElement("path",{d:"M39.959,64.378c0.55-0.046,1.243-0.457,1.546-0.918l3.521-5.351c0.304-0.461,0.247-1.164-0.126-1.57l-4.392-4.782   c-0.374-0.407-1.123-0.699-1.673-0.653l-7.369,0.615c-0.55,0.046-0.959,0.53-0.896,1.079c0.437,3.731,1.515,7.599,3.087,11.161   c0.223,0.506,0.861,0.873,1.412,0.827L39.959,64.378z"}),r.createElement("path",{d:"M53.426,70.809c-0.354-0.422-1.09-0.766-1.643-0.766h-3.566c-0.552,0-1.288,0.344-1.643,0.766l-3.487,4.156   c-0.355,0.424-0.283,1.032,0.182,1.331c2.1,1.353,4.366,2.134,6.731,2.134s4.632-0.781,6.73-2.134   c0.465-0.299,0.537-0.907,0.183-1.331L53.426,70.809z"}),r.createElement("path",{d:"M40.923,39.329l4.102,3.54c0.418,0.361,1.205,0.653,1.757,0.653h6.436c0.554,0,1.339-0.292,1.757-0.653l4.104-3.54   c0.418-0.361,0.531-1.041,0.256-1.519l-3.746-6.465c-0.275-0.478-0.938-0.958-1.482-1.049c-1.326-0.221-2.695-0.34-4.105-0.34   s-2.78,0.12-4.104,0.341c-0.545,0.091-1.207,0.571-1.484,1.049l-3.746,6.465C40.39,38.289,40.504,38.968,40.923,39.329z"}),r.createElement("path",{d:"M31.397,50.684l7.685-0.642c0.55-0.046,1.284-0.427,1.639-0.85l3.583-4.28c0.354-0.423,0.303-1.059-0.115-1.42   l-4.196-3.621c-0.418-0.361-1.203-0.616-1.753-0.57l-4.877,0.407c-0.55,0.046-1.196,0.485-1.41,0.994   c-1.021,2.421-1.6,5.242-1.6,8.489c0,0.261,0.005,0.524,0.014,0.788C30.38,50.416,30.847,50.729,31.397,50.684z"}),r.createElement("path",{d:"M34.059,38.417l4.354-0.364c0.55-0.046,1.221-0.471,1.498-0.949l3.148-5.435c0.277-0.478,0.068-0.749-0.457-0.577   c-3.699,1.209-6.83,3.397-9.001,6.567C33.29,38.115,33.509,38.464,34.059,38.417z"}),r.createElement("path",{d:"M28.27,39.146c0.27-0.65,0.7-1.26,1.24-1.78c0.11-0.69,0.38-1.37,0.8-1.97c1.13-1.66,2.5-3.13,4.07-4.38   c-1.22-1.75-2.75-4.2-4.6-4.89c-2.24-0.84-5.89,0.69-9.11,1.68c-6.47,2-10.94,8.27-13.4,13.97c-2.62,5.87-2.43,10.32-2.04,9.89   c-0.08-0.17,2.56-1.54,3.71-3.35c2.77-4.35,6.54-11.24,12.56-9.86c2.44,0.04,4.59,0.67,6.48,1.43   C28.07,39.636,28.17,39.386,28.27,39.146z"}),r.createElement("path",{d:"M92.73,41.776c-2.461-5.7-6.932-11.97-13.4-13.97c-3.221-0.99-6.87-2.52-9.109-1.68c-1.851,0.69-3.381,3.15-4.591,4.9   c1.57,1.25,2.931,2.72,4.07,4.38c0.409,0.59,0.68,1.271,0.79,1.96c0.539,0.52,0.97,1.14,1.24,1.8c0.1,0.24,0.199,0.48,0.278,0.72   c1.9-0.75,4.05-1.39,6.49-1.43c6.021-1.38,9.79,5.51,12.56,9.86c1.15,1.81,3.791,3.18,3.711,3.35   C95.16,52.096,95.35,47.646,92.73,41.776z"}),r.createElement("path",{d:"M33.09,71.316c-2.37,1.068-4.62,2.75-6.16,5.18c-1.82,2.729-4.61,5.59-4.38,8.439c0.14,1.721,2.06,1.801,3.13,3.229   c1.31,1.739,1.96,4.62,2.82,5.37c1.74,1.52,3.06-5.98,7.63-12.92c0.73-1.141,1.51-2.131,2.28-3c-0.12-0.102-0.24-0.211-0.36-0.32   C36.26,75.646,34.59,73.646,33.09,71.316z"}),r.createElement("path",{d:"M66.9,71.336c-1.5,2.32-3.16,4.32-4.961,5.96c-0.129,0.12-0.25,0.22-0.369,0.32c0.779,0.88,1.56,1.88,2.3,3.03   c4.569,6.938,5.899,14.438,7.63,12.92c0.859-0.75,1.51-3.642,2.82-5.371c1.068-1.439,2.988-1.521,3.13-3.239   c0.229-2.84-2.562-5.71-4.38-8.431C71.529,74.096,69.279,72.406,66.9,71.336z"}),r.createElement("path",{d:"M67.561,68.286c0.279-0.521,0.42-1.091,0.449-1.649c0.45-0.41,0.83-0.9,1.08-1.471c1.7-3.859,2.852-8.02,3.32-12.02   c0.061-0.541,0.01-1.082-0.15-1.602c0.221-0.45,0.36-0.94,0.37-1.47c0.011-0.29,0.021-0.59,0.021-0.88c0-3.52-0.619-6.77-1.84-9.65   c-0.271-0.65-0.721-1.23-1.279-1.69c-0.03-0.65-0.25-1.3-0.66-1.89c-2.471-3.61-6.109-6.28-10.54-7.73   c-0.41-0.13-0.819-0.2-1.21-0.2c-0.221,0-0.43,0.03-0.63,0.07c-0.07-0.04-0.13-0.08-0.2-0.12c-0.529-0.32-1.109-0.55-1.689-0.65   c-1.521-0.25-3.069-0.38-4.601-0.38c-1.53,0-3.08,0.13-4.6,0.38c-0.58,0.1-1.16,0.33-1.69,0.65c-0.07,0.04-0.13,0.08-0.2,0.12   c-0.2-0.04-0.41-0.07-0.63-0.07c-0.39,0-0.8,0.07-1.21,0.21c-4.43,1.44-8.07,4.11-10.54,7.72c-0.41,0.59-0.63,1.24-0.66,1.89   c-0.56,0.46-1.01,1.04-1.28,1.68c-1.22,2.89-1.84,6.14-1.84,9.66c0,0.29,0.01,0.59,0.02,0.88c0.01,0.529,0.15,1.02,0.37,1.47   c-0.16,0.52-0.21,1.061-0.15,1.602c0.47,4,1.62,8.158,3.32,12.02c0.25,0.57,0.63,1.061,1.08,1.471   c0.03,0.561,0.17,1.129,0.45,1.649c1.82,3.319,3.93,6.11,6.29,8.271c0.72,0.659,1.31,1.061,1.88,1.26c0.28,0.391,0.62,0.74,1.03,1   C44.33,80.546,50,82.426,50,82.426s5.67-1.88,8.359-3.609c0.41-0.26,0.75-0.609,1.029-0.989c0.58-0.21,1.16-0.61,1.881-1.271   C63.63,74.396,65.74,71.605,67.561,68.286z M59.91,75.086c-0.5,0.471-0.9,0.75-1.189,0.85l-0.591,0.211l-0.36,0.5   c-0.148,0.211-0.318,0.381-0.5,0.49c-2.358,1.521-4.81,2.289-7.27,2.289s-4.91-0.77-7.27-2.289c-0.18-0.109-0.34-0.279-0.5-0.49   l-0.36-0.5l-0.58-0.211c-0.3-0.108-0.7-0.379-1.2-0.85c-2.2-2.02-4.18-4.63-5.89-7.76c-0.13-0.23-0.2-0.5-0.21-0.78l-0.04-0.84   l-0.63-0.56c-0.26-0.23-0.45-0.5-0.58-0.78c-1.62-3.69-2.72-7.65-3.16-11.45c-0.03-0.26-0.01-0.529,0.07-0.79l0.23-0.76l-0.35-0.7   c-0.1-0.21-0.16-0.43-0.16-0.65c-0.01-0.28-0.02-0.55-0.02-0.82c0-3.25,0.57-6.24,1.68-8.88c0.14-0.33,0.39-0.65,0.72-0.93   l0.66-0.56l0.05-0.86c0.02-0.29,0.13-0.6,0.32-0.87c2.22-3.24,5.51-5.64,9.51-6.95c0.21-0.07,0.41-0.11,0.59-0.11   c0.1,0,0.18,0.02,0.27,0.04l0.25,0.04l0.54,0.1l0.66-0.43c0.38-0.25,0.78-0.42,1.13-0.48c1.41-0.23,2.84-0.35,4.27-0.35   c1.42,0,2.859,0.12,4.27,0.35c0.352,0.06,0.75,0.23,1.131,0.48l0.66,0.43l0.539-0.1l0.25-0.04c0.08-0.02,0.17-0.04,0.271-0.04   c0.18,0,0.38,0.04,0.59,0.11c4,1.31,7.29,3.71,9.51,6.95c0.19,0.28,0.301,0.57,0.32,0.88l0.05,0.86l0.66,0.55   c0.33,0.28,0.58,0.6,0.72,0.93c1.11,2.64,1.682,5.63,1.682,8.88c0,0.27-0.012,0.54-0.021,0.82c0,0.22-0.061,0.44-0.16,0.65   l-0.35,0.71l0.229,0.75c0.08,0.261,0.102,0.53,0.07,0.79c-0.439,3.8-1.54,7.76-3.16,11.45c-0.13,0.28-0.318,0.55-0.58,0.78   l-0.63,0.56l-0.04,0.83c-0.01,0.29-0.08,0.56-0.21,0.8C64.09,70.456,62.109,73.066,59.91,75.086z"}),r.createElement("path",{d:"M43.44,24.236c0.19,0.85,0.28,1.72,0.29,2.6c0.48-0.23,1-0.4,1.5-0.49c1.59-0.26,3.2-0.39,4.77-0.39   c1.57,0,3.18,0.13,4.76,0.39c0.5,0.09,1.021,0.26,1.51,0.49c0.012-0.87,0.11-1.74,0.291-2.6c1.399-1.13,2.26-2.72,2.26-4.7   c0-1.58-0.539-3.31-1.471-4.87c-0.658-5.19-7.22-8.43-7.22-8.43s-6.11,3.02-7.14,7.88c-1.13,1.7-1.81,3.66-1.81,5.42   C41.18,21.516,42.04,23.106,43.44,24.236z"}))),r.createElement("symbol",{id:"maphubs-icon-farmer-wife",viewBox:"0 0 124.836 308.19",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M40.3,38.587c0.089-0.605,0.197-1.211,0.338-1.817C43.01,26.586,51.958,19.475,62.4,19.475   c1.705,0,3.417,0.197,5.089,0.586c9.255,2.155,15.823,9.805,17.071,18.696c21.771-1.595,37.216-5.59,37.216-10.269   c0-5.103-18.362-15.919-43.273-19.271C78.265,4.103,71.659,0,63.526,0c-8.133,0-14.739,4.103-14.978,9.217   C23.639,12.569,5.276,23.385,5.276,28.488C5.276,33.008,19.691,36.891,40.3,38.587z"}),r.createElement("ellipse",{transform:"matrix(0.2268 -0.9739 0.9739 0.2268 7.511 93.1425)",cx:"62.418",cy:"41.841",rx:"20.362",ry:"20.362"}),r.createElement("path",{d:"M5.86,158.108c3.813,0.631,7.417-1.95,8.049-5.765c4.038-24.668,9.4-43.387,17.028-55.036   c2.391-3.671,4.949-6.65,7.754-9.043C20.199,128.981,20.087,213.5,20.087,213.5c0,4.608,8.522,7.752,20.155,9.436V237.5   c0,5,4.052,9.052,9.052,9.052c4.998,0,9.052-4.052,9.052-9.052v-13.151c2.708,0.06,5.438,0.06,8.147,0V237.5   c0,5,4.052,9.052,9.052,9.052c4.998,0,9.052-4.052,9.052-9.052v-14.564c11.63-1.685,20.152-4.828,20.152-9.436   c0,0-0.109-84.518-18.601-125.234c5.05,4.308,9.327,10.537,13.061,19.087c4.939,11.326,8.671,26.497,11.72,44.991   c0.567,3.428,3.534,5.859,6.897,5.86c0.38,0,0.764-0.031,1.151-0.095c3.815-0.631,6.396-4.233,5.765-8.048   c-4.242-25.417-9.59-45.622-19.101-60.374c-4.762-7.351-10.706-13.324-18.007-17.339c-7.292-4.029-15.777-5.999-25.216-5.989   c-9.437-0.01-17.924,1.96-25.216,5.989c-10.99,6.056-18.748,16.368-24.409,29.421c-5.69,13.107-9.535,29.221-12.697,48.292   C-0.536,153.875,2.045,157.478,5.86,158.108z"}))),r.createElement("symbol",{id:"maphubs-icon-farmer-family",viewBox:"0 0 312.976 321.99375000000003",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M87.571,38.513c2.079-11.416,12.09-20.101,24.097-20.101c12.006,0,22.017,8.685,24.096,20.101    c20.142-1.733,34.153-5.568,34.153-10.025c0-5.103-18.362-15.919-43.273-19.271C126.406,4.103,119.8,0,111.667,0    c-8.133,0-14.739,4.103-14.978,9.217c-17.916,2.411-32.443,8.682-39.19,13.913v9.407C63.053,35.19,73.893,37.336,87.571,38.513z"}),r.createElement("path",{d:"M19.128,101.597c-3.996,1.885-5.707,6.653-3.822,10.649c1.364,2.894,4.24,4.59,7.241,4.59    c0.067,0,0.135-0.009,0.203-0.011V99.898C21.546,100.46,20.339,101.025,19.128,101.597z"}),r.createElement("path",{d:"M73.076,95.227c4.461-1.858,8.356-3.451,11.546-4.741v154.746c0,6.83,5.537,12.363,12.363,12.363    c6.828,0,12.365-5.533,12.365-12.363V154.96h4.635v90.271c0,6.83,5.537,12.363,12.363,12.363c6.828,0,12.365-5.533,12.365-12.363    V95.482c0.593,1.216,1.191,2.611,1.781,4.238c2.819,7.813,5.189,20.63,5.18,40.638c0,5.516-0.177,11.574-0.565,18.224    c-0.257,4.411,3.109,8.195,7.52,8.452c0.159,0.009,0.318,0.014,0.475,0.014c4.205,0,7.729-3.283,7.979-7.535    c0.404-6.933,0.591-13.299,0.591-19.156c-0.04-30.182-4.861-46.887-11.434-56.932c-3.285-4.986-7.128-8.183-10.68-9.955    c-2.319-1.169-4.445-1.72-6.14-1.964c-0.766-0.254-1.583-0.398-2.436-0.398H92.351c-0.681,0-1.338,0.097-1.967,0.262    c-0.774,0.056-1.554,0.225-2.316,0.521v-0.002c-0.09,0.036-25.279,9.792-55.317,23.409v17.597    C47.813,105.939,62.108,99.798,73.076,95.227z"}),r.createElement("circle",{cx:"111.668",cy:"42.913",r:"22.5"}),r.createElement("path",{d:"M24.75,255.5h6v-184H48.5c3.867-0.002,6.997-3.133,6.999-7.001V18.834H49.5v45.665c-0.002,0.55-0.45,1-1,1H30.75V18.833    h-6v46.666H6.999c-0.55,0-1-0.45-1-1V18.834H0v45.665c0.002,3.868,3.132,6.999,6.999,7.001h17.75V255.5z"})),r.createElement("g",null,r.createElement("path",{d:"M228.44,49.587c0.089-0.605,0.197-1.211,0.338-1.817c2.372-10.184,11.32-17.295,21.762-17.295    c1.705,0,3.417,0.197,5.089,0.586c9.255,2.155,15.823,9.805,17.071,18.696c21.771-1.595,37.216-5.59,37.216-10.269    c0-5.103-18.362-15.919-43.272-19.271C266.406,15.103,259.8,11,251.667,11c-8.133,0-14.739,4.103-14.978,9.217    c-24.91,3.352-43.272,14.168-43.272,19.271C193.417,44.008,207.831,47.891,228.44,49.587z"}),r.createElement("ellipse",{transform:"matrix(0.2268 -0.9739 0.9739 0.2268 142.268 284.8857)",cx:"250.559",cy:"52.841",rx:"20.362",ry:"20.362"}),r.createElement("path",{d:"M194,169.108c3.813,0.631,7.417-1.95,8.049-5.765c4.038-24.668,9.4-43.387,17.028-55.036    c2.391-3.671,4.949-6.65,7.754-9.043C208.339,139.981,208.228,224.5,208.228,224.5c0,4.608,8.522,7.752,20.155,9.436V248.5    c0,5,4.052,9.052,9.052,9.052c4.998,0,9.052-4.052,9.052-9.052v-13.151c2.708,0.06,5.438,0.06,8.146,0V248.5    c0,5,4.052,9.052,9.052,9.052c4.998,0,9.052-4.052,9.052-9.052v-14.564c11.63-1.685,20.152-4.828,20.152-9.436    c0,0-0.109-84.518-18.6-125.234c5.05,4.308,9.327,10.537,13.06,19.087c4.94,11.326,8.671,26.497,11.72,44.991    c0.567,3.428,3.534,5.859,6.898,5.86c0.38,0,0.764-0.031,1.151-0.095c3.815-0.631,6.396-4.233,5.765-8.048    c-4.242-25.417-9.59-45.622-19.101-60.374c-4.762-7.351-10.706-13.324-18.007-17.339c-7.292-4.029-15.777-5.999-25.216-5.989    c-9.436-0.01-17.924,1.96-25.216,5.989c-10.99,6.056-18.748,16.368-24.409,29.421c-5.69,13.107-9.535,29.221-12.697,48.292    C187.604,164.875,190.186,168.478,194,169.108z"})))),r.createElement("symbol",{id:"maphubs-icon-fox",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M89.919,68.213l-6.457-11.138l-9.084-15.139L62.023,36.22l-14.45-0.26l-12.429,2.391l-6.026-3.604l-6.035-3.45l3-4.392  l-0.016-2.991h-1.532l-3.947,3.213l-3.318,4.232l-6.982,4.802l-0.094,2.086l-5.117,5.527l1.345,1.083l4.057-0.957l5.212-0.126  l4.265,2.716l5.665,7.98l7.641,4.519l1.829,11.557l-1.022,2.206l-2.26,0.269l-1.237,2.046l1.077,1.021h2.367l4.627-4.896  l-0.269-7.036l0.978-7.09l12.205-3.241l3.444,4.949l8.555,6.027l-0.162,2.099l-3.705,5.058l-1.782,0.108l-0.915,1.937l1.614,0.699  l4.628-0.322l5.219-10.491l-1.184-2.207l-2.906-2.853l2.529-8.34l0.431-3.658l0.646,8.123l3.39,9.257l15.443,9.953l8.125-0.03  L89.919,68.213z M26.732,53.37l-6.089-7.676l-4.574-2.743l-7.424,0.001l7.586-2.906l7.021,2.609l5.327,5.381l3.605,2.332  l0.821,6.205L26.732,53.37z M51.286,53.121l-11.81,2.462l1.001-4.427l11.211,1.456L51.286,53.121z M79.506,67.481l3.903-1.26  l1.563-3.091l3.889,5.854l3.695,4.195l-5.643-0.484L79.506,67.481z"})),r.createElement("symbol",{id:"maphubs-icon-dolphin",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M97.938,72.279c-0.438-0.537-0.938-1.096-1.57-1.754c-2.088-2.172-4.909-4.82-8.246-6.043  c-1.534-0.562-4.633-1.426-5.605-1.426c-0.113,0-0.195,0.021-0.277,0.045c-1.641-8.574-4.697-17.323-10.865-23.704  c-2.904-3.005-6.391-5.382-10.282-6.921c-2.987-1.183-6.127-1.884-9.31-2.296c-1.661-0.311-3.315-2.078-3.259-3.816  c0.031-0.973,0.532-1.862,0.971-2.707c0.434-0.834,0.905-1.653,1.301-2.504c0.312-0.668,0.577-1.808-0.146-2.329  c-0.586-0.422-1.512-0.267-2.162-0.125c-2.38,0.52-4.614,1.807-6.516,3.293c-1.282,1.001-2.474,2.127-3.522,3.372  c-0.848,1.009-1.502,2.165-2.415,3.115c-0.493,0.513-1.009,1.033-1.599,1.436c-0.197,0.135-0.515,0.402-0.767,0.395  c-0.271-0.008-0.541-0.001-0.811,0.011c-1.513,0.065-3.021,0.29-4.5,0.608c-6.157,1.321-11.944,4.179-17.029,7.855  c-1.782,1.288-3.538,2.653-5.142,4.16c-1.156,1.085-2.24,2.266-2.989,3.677c-1.462,2.752-1.311,5.843-0.503,8.765  c-0.296,1.133-0.631,2.246-0.98,3.362c-0.241,0.774-0.431,1.582-0.515,2.39c-0.089,0.844-0.208,2.243,0.557,2.851  c0.584,0.462,1.65,0.112,2.24-0.144c0.972-0.422,1.641-1.156,2.422-1.83c0.855-0.738,4.686-3.578,5.834-3.815  c0.694-0.146,1.438,0.053,2.108,0.228c1.25,0.325,3.096,0.938,3.806,2.125c0.708,1.184,1.891,2.223,3.097,2.864  c2.177,1.163,4.517,1.084,6.837,0.419c0.766-0.221,1.225-0.764,1.094-1.616c-0.176-1.144-1.289-1.729-2.196-2.271  c-0.854-0.508-1.695-1.062-2.456-1.699c-0.239-0.2-0.531-0.432-0.767-0.691c0.86-0.242,4.749-0.608,5.788-0.724  c0.138-0.017,0.275-0.03,0.412-0.045c0.007,0.005,0.013,0.008,0.023,0.015c0.213,0.154,0.435,0.295,0.662,0.428  c1.132,0.664,2.354,1.186,3.608,1.572c1.848,0.571,3.816,1.049,5.759,0.773c0.948-0.135,3.009-0.428,3.414-1.52  c0.168-0.457,0.217-1.095-0.132-1.485c-0.352-0.394-1.111-0.427-1.585-0.556c-0.877-0.242-1.756-0.502-2.598-0.854  c-0.174-0.071-0.351-0.146-0.522-0.229c1.097-0.437,12.216-2.129,14.548-2.164c1.229-0.018,2.438,0.119,3.654,0.271  c5.188,0.649,10.246,2.754,13.973,6.478c1.201,1.198,4.688,4.643,5.656,5.898L76.3,65.499c-0.321,0.212-0.922,0.604-1.618,1.823  c-1.621,2.826-1.836,5.104-1.662,8.087l0.02,0.311c0.078,1.366,0.166,2.914,0.854,4.134c0.151,0.267,0.959,1.596,2.065,1.596  c0.218,0,0.429-0.051,0.628-0.152c0.611-0.312,1.045-1.031,1.463-1.729c0.244-0.404,0.495-0.822,0.727-1.045  c1.061-1.018,2.197-1.816,3.922-2.76c1.488-0.813,2.957-1.193,4.621-1.193l0.164,0.002c1.535,0.025,3.201,0.22,5.093,0.598  c1.481,0.299,2.597,0.569,3.663,0.895c0.307,0.093,0.654,0.196,1.025,0.196c0.301,0,0.573-0.069,0.812-0.21  c0.412-0.24,0.674-0.615,0.76-1.087C99.02,73.936,98.329,72.758,97.938,72.279z"})),r.createElement("symbol",{id:"maphubs-icon-gorilla",viewBox:"0 0 67 77.09875",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.834,61.679C21.26,61.679,19.822,54.195,13,48C6.08,41.715,1.818,42.496,3,32  c17.764-9.237,33.223-20.777,49-32c5.59,1.41,6.402,7.598,9,12c-2.801,0.532-5.199,1.468-8,2c-1.376,3.027,0.477,3.572,0,8  c-2.375,1.645-4.299-3.845-8-4c2.368,2.632,5.623,4.377,6,9c-0.479,4.521-4.076,5.924-6,9c-0.438,9.771,1.271,17.395,4,24  c-0.744,2.256-5.609,0.391-8,1c-1.902-1.131-1.969-5.58-7-6c-2.859-4.945,0.361-11.336,1-16c-3.492-1.697-8.077,2.922-14,2  c2.17,7.83,8.206,12.472,11.874,16.011c1.166,1.125,3.596,1.042,3.557,2.501C36.377,61.511,32.584,61.679,30.834,61.679z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54,15c1.753-0.914,4.99-0.344,6-2c0.625,4.477,3.957,15.752-6,14  C51.447,23.718,55.167,20.024,54,15"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52,28c1.793-0.127,2.109,1.225,4,1c2.333,11.334,9.008,18.326,11,30  c-2.006,2.994-8.209,1.791-13,2c0.014-1.987,2.729-1.271,2-4c-6.367-3.633-4.016-15.984-9-21C48.014,32.68,52.535,32.868,52,28"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5,33.666c7.76,0.24,3.014,21.82,6.5,26.334c-2.566,1.848-11.361,1.399-14,0  C0.475,53.809,6.088,38.921,7.5,33.666"})),r.createElement("symbol",{id:"maphubs-icon-hummingbird",viewBox:"0 0 100 81.8825",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M92.427,17.571C70.58,27.783,75.895,29.818,59.203,33.86c0.621,1.767,0.639,3.313,1.607,5.894  c14.625-3.563,10.521-7.906,39.627-20.034C99.189,18.031,95.527,16.775,92.427,17.571z"}),r.createElement("path",{d:"M92.081,15.546c2.444-1.143,5.196-2.363,8.356-3.68c-2.645-3.579-9.394-3.813-16.598-2.852  c-9.357,1.249-19.486,4.516-22.395,5.096c-5.143,1.028-11.405,3.646-15.24,3.085c-1.35-0.197-2.16-1.087-2.717-2.358  c-1.024-2.34-1.175-5.992-2.144-9.143c-1.496-4.862-6.405-6.312-10.753-5.47c-2.792,0.541-3.927,2.104-8.79,2.571  C13.469,1.678,0.438,1.488,0.438,1.488c4.769,1.963,16.036,3.599,20.336,4.628c4.301,1.029,5.103,7.855,5.891,14.072  c0.91,7.183,2.107,15.252,7.25,22.266c5.143,7.013,11.284,7.763,16.032,7.646c2.608-0.065,8.54,3.894,12.155,6.461  c4.133,2.935,12.25,10.66,13.371,8.603c1.123-2.058-1.775-3.927-10.099-15.147c-4.072-5.49-5.877-8.91-6.808-11.383  c-0.969-2.578-0.986-4.127-1.607-5.893C74.367,29.355,70.234,25.759,92.081,15.546z"})),r.createElement("symbol",{id:"maphubs-icon-whale",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M89.445,16.084c-0.977,0.161-8.383,0.357-11.742,0.357h-5.841h-6.28c-4.234,0.05-8.605,0.849-9.93,1.395  c0,0-1.66,0.605-2.878,1.804c-0.73,0.719-2.212,3.278-2.774,4.454c-0.558-1.171-2.045-3.734-2.775-4.454  c-1.217-1.199-2.878-1.804-2.878-1.804c-1.324-0.546-5.695-1.345-9.93-1.395h-6.28h-5.841c-3.359,0-10.765-0.196-11.742-0.357  c-5.553-0.912-5.565-1.352-5.553-0.912s4.044,11.565,15.981,14.602c3.982,1.013,10.734,3.032,17.172,4.485  c5.084,1.146,5.505,4.733,5.633,6.621C44.402,49.971,34.403,82.617,31.46,95h37.079c-2.942-12.383-12.941-45.029-12.326-54.12  c0.127-1.888,0.549-5.476,5.633-6.621c6.438-1.453,13.189-3.472,17.172-4.485c11.938-3.037,15.969-14.163,15.981-14.602  S94.999,15.172,89.445,16.084z"})),r.createElement("symbol",{id:"maphubs-icon-chipmunk",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M94.385,33.357c-2.204-7.303-7.676-13.073-16.309-17.171c-0.368-0.16-21.233-8.851-33.894,15.719  c-0.262,0.424-5.436,9.052-2.651,23.129c-2.499-5.367-2.207-10.652-1.919-15.773c0.124-2.216,0.241-4.309,0.132-6.36  c-0.4-7.424-6.101-12.899-6.344-13.128c-0.343-0.324-0.834-0.447-1.284-0.32c-0.455,0.126-0.81,0.48-0.939,0.933l-1.237,4.393  C14.728,25.816,8.853,38.32,8.604,38.863c-0.243,0.534-0.113,1.164,0.322,1.558c3.144,2.847,6.586,4.24,9.849,4.802  c-7.55,4.343-13.368,10.209-13.656,10.502c-0.391,0.398-0.496,0.997-0.263,1.504c0.232,0.507,0.754,0.828,1.309,0.785  c4.183-0.261,7.725-0.052,10.695,0.409c-6.674,11.369-2.67,20.407-0.917,23.415c-6.122,1.388-7.088,5.904-7.135,6.143  c-0.078,0.395,0.026,0.804,0.283,1.114c0.255,0.31,0.637,0.491,1.039,0.491h29.318c0.05,0,0.098-0.013,0.148-0.018  c0.039,0.003,0.076,0.014,0.115,0.014c0.139,0,0.279-0.022,0.417-0.066c25.661-8.348,23.71-26.992,23.693-27.126  c-0.033-0.411-0.666-10.111,9.913-12.666c1.025-0.248,2.025-0.373,2.972-0.373c8.208,0,11.139,9.311,11.26,9.707  c0.155,0.509,0.596,0.88,1.123,0.945c0.549,0.064,1.047-0.186,1.321-0.642C90.731,58.824,98.237,46.119,94.385,33.357z   M21.428,84.181c0.727,0.057,1.388-0.503,1.442-1.244c0.055-0.742-0.503-1.388-1.244-1.442c-1.003-0.075-1.903-0.069-2.757-0.029  c-0.036-0.068-0.053-0.141-0.101-0.204c-0.074-0.095-7.145-9.485,0.913-22.285c7.002,1.65,9.951,4.624,10.012,4.686  c0.264,0.283,0.624,0.426,0.983,0.426c0.328,0,0.656-0.119,0.916-0.359c0.546-0.506,0.578-1.358,0.072-1.904  c-0.27-0.291-6.332-6.625-21.847-6.625c-0.059,0-0.12,0-0.18,0c3.091-2.721,8.591-7.107,14.554-9.721  c4.688-0.314,8.185-1.855,8.465-1.981c0.678-0.307,0.977-1.104,0.672-1.781c-0.305-0.677-1.102-0.979-1.781-0.674  c-0.116,0.053-11.375,4.983-20.025-1.95c1.598-2.816,7.385-11.256,19.5-11.672c0.585-0.02,1.092-0.417,1.251-0.981l0.827-2.938  c1.551,1.991,3.735,5.48,3.953,9.544c0.103,1.903-0.011,3.924-0.13,6.065c-0.309,5.513-0.66,11.763,2.684,18.111  c4.037,7.663,7.609,16.894-0.874,29.668H12.308C13.428,85.497,15.935,83.781,21.428,84.181z M89.373,55.455  c-1.738-3.445-5.582-8.801-12.667-8.801c-1.16,0-2.372,0.151-3.603,0.448C60.245,50.208,61.126,62.486,61.14,62.658  c0.02,0.155,1.518,14.566-17.587,22.704c7.722-11.94,3.109-22.571,2.913-23.002c-6.78-17.58-0.058-28.931,0.061-29.131  c6.808-13.203,16.005-15.975,22.521-15.975c4.604,0,7.917,1.385,7.92,1.385c7.864,3.735,12.855,8.942,14.834,15.479  C94.358,42.565,91.271,51.286,89.373,55.455z"})),r.createElement("symbol",{id:"maphubs-icon-turtle",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M9.059,60.191"}),r.createElement("circle",{cx:"88.411",cy:"51.88",r:"1.923"}),r.createElement("g",null,r.createElement("circle",{fill:"none",cx:"88.411",cy:"51.879",r:"4.711"}),r.createElement("path",{d:"M99.649,60.34c0-9.979-8.09-18.07-18.069-18.07c-1.558,0-3.061,0.218-4.503,0.589    c-6.161-11.124-18.014-18.657-31.63-18.657c-16.838,0-30.987,11.516-34.999,27.102c-0.145-0.006-0.289-0.021-0.436-0.021    C5.023,51.295,0.987,55.35,1,60.34l8.31-0.021c0,0.007,0,0.014,0,0.021h11.032l-7.365,12.756    c8.643,4.99,19.693,2.029,24.682-6.614c1.129-1.956,1.831-4.037,2.172-6.142h11.574c0.4,1.546,0.995,3.066,1.832,4.517    c4.99,8.644,16.039,11.604,24.683,6.615L71.492,60.34h10.094H99.649z M88.411,47.168c2.601,0,4.709,2.109,4.709,4.711    c0,2.601-2.108,4.71-4.709,4.71c-2.603,0-4.712-2.109-4.712-4.71C83.699,49.277,85.809,47.168,88.411,47.168z"})))),r.createElement("symbol",{id:"maphubs-icon-elephant",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M98.843,48.244L90,27.708v-0.001C89,23.92,85.585,21,81.541,21h-9.188l-4.344-1.864c-3.842-1.688-7.863-1.014-8.982,1.53  L58.871,21h0.435l-7.225,16.496c-0.485,1.104-0.28,2.467,0.576,3.799c0.891,1.383,2.365,2.587,4.152,3.373l12.99,5.5  c1.323,0.58,3.2,0.752,4.2,0.752v0.006c2,0,3.3-0.545,4.036-1.7l0.214,0.989C77.285,51.303,75.6,52,73.647,52  c-0.001,0-0.008,0-0.008,0c-1.414,0-2.918-0.336-4.341-0.961l-12.808-5.63c-1.928-0.847-3.529-2.147-4.503-3.66  c-1.006-1.563-1.232-3.216-0.637-4.574L58.436,21H36.891c-2.171-1-4.477-0.981-6.869-0.981c-30.692,0-29.34,42.737-29.34,42.737  C0.653,62.863,0.64,62.98,0.64,63.088c0,0.537,0.358,1.033,0.902,1.18c0.65,0.177,1.321-0.203,1.498-0.854l4.285-15.122  C7.503,49.146,7,53.156,7,54.553v26.339c0,1.812,0.553,3.447,1.738,4.634c1.186,1.185,3.199,1.92,5.008,1.92  c1.94,0,3.253-0.844,5.253-2.183v-15.67c0-0.461-0.09-0.835,0.371-0.835c0.231,0,0.338,0.093,0.49,0.243  c0.15,0.152,0.139,0.36,0.139,0.592v15.923c0,0.092,0.034,0.18,0.121,0.265c1.184,1.187,2.671,1.921,4.48,1.921  c3.62,0,6.399-2.935,6.399-6.554V70h-0.087l0.518-0.35c2.569-0.371,5.171-3.155,7.475-4.403l0.58-0.068  c-0.377,5.285,6.064,5.246,5.166,15.305c0.042,2.181,0.743,3.428,1.929,4.615c1.184,1.184,2.944,1.909,4.752,1.909  c3.618,0,6.668-2.943,6.668-6.562V61.839c1-0.1,2-1.774,2-1.936v21.184c0,1.809,0.585,3.448,1.774,4.634  c1.182,1.186,2.843,1.919,4.651,1.919c3.617,0,6.574-2.935,6.574-6.553V54.746C73,54.63,73.014,54,73.115,54h8.426  c5.011,0,0.22-5.085,1.115-5.406c0.894-0.32,2.203,4.456,4.193,3.333l0.571,1.278c0.194,0.446,0.673,26.489,0.673,26.489  c0,1.101,0.446,2.088,1.167,2.809c0.72,0.721,1.717,1.162,2.816,1.162c2.199,0,4.028-1.785,4.028-3.985  C96.105,79.68,100.225,51.416,98.843,48.244z M87.164,40.433c-0.502,0.609-1,0.959-1.785,0.959c-1.442,0-2.379-1.172-2.379-2.613  c0-0.021,0-0.043,0-0.065c0-1.402,0.968-2.546,2.379-2.546c1.44,0,2.49,1.172,2.49,2.612C87.869,39.38,87.543,39.967,87.164,40.433z  "})),r.createElement("symbol",{id:"maphubs-icon-wolf",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M98.984,51.463c0.269-1.746,0.786-1.177,0.487-2.744c-0.082-0.43-0.298-0.845-0.491-1.602 c-0.198-0.777-0.796-2.059-0.986-2.826c-0.233-0.956,0.005-1.373-0.207-2.343c-0.214-0.978-0.732-1.394-0.908-2.382 c-0.11-0.622-1.562-1.575-1.7-2.211c-0.231-1.065-1.338-1.941-2.193-2.709c-0.914-0.825-2.053-3.304-2.702-4.463 c-0.492-0.877-2.316-2.059-3.434-2.875c-1.888-2.316-3.02-3.974-6.505-5.328c-3.612-1.405-6.908-0.986-10.79-1.079 c-2.366-0.058-4.646,0-7.012,0c-2.092,0-3.247-0.924-5.313-0.612c-2.018,0.304-3.112-0.613-5.057-1.226 c-1.112-0.351-2.512-0.407-3.727-0.412c-0.666-0.004-1.533,0.164-2.085-0.197c0.135-0.329,0.499,0.05,0.81-0.369 c0.311-0.419-3.866-0.45-5.803-0.689c-1.938-0.239-2.867-1.742-4.25-2.036c-1.383-0.295-5.569-2.987-6.727-3.559 c-0.662-0.327-2.934-1.412-5.121-2.327c-0.862-0.36-0.29-0.47-1.127-1.069c-0.837-0.598-3.17-1.091-3.769-1.33 c-0.599-0.24-2.369-0.572-3.928-2.643c0,0-2.032-2.151-2.272-1.552C14,3.314,14.018,4.344,13.935,4.719 c-0.033,0.144-0.08,0.19-0.158,0.07c-0.537-0.4-3.911-2.172-4.156-1.751c-0.244,0.421,2.99,4.833,2.731,5.031 c-0.257,0.198-0.542,0.114-0.736,0.389c0,0-1.378,1.246-1.6,1.513c-0.363,0.44-1.545,1.663-1.545,1.663s-0.662,1.658-0.765,2.659 L7.585,15.02l-0.517,0.866c-1.861,1.567-3.192,3.021-3.654,3.225c-0.461,0.205-2.729,1.396-3.215,1.762 c-0.693,0.519,0.039,1.661,0.626,1.942c0.204,0.229,0.38,0.516,0.595,0.66c1.454,0.981,1.768,0.426,2.335,0.507l1.047-0.135 c0.387-0.102,0.477-0.211,0.643-0.271c0.476-0.173,1.205-0.553,1.726-0.813c0.519-0.259,2.24-1.698,2.587-1.914 c0.346-0.215,1.299-0.711,1.776-0.842c0.476-0.129,0.864-0.043,0.864-0.043s-0.736,0.562-0.952,0.692s-0.969,0.782-1.358,1.214 c-0.389,0.432-1.558,1.982-1.558,1.982s-0.727,0.349-0.927,0.539c-0.304,0.287-0.674,0.674-0.674,0.674s0.161-0.003-0.186-0.219 c-0.347-0.215-0.402-0.168-0.272,0.265c0.131,0.433,0.086,0.257,0.086,0.257s-0.405,0.542-0.691,0.997 c-0.448,0.709-0.652,1.528-0.659,1.54c-0.101,0.608,0.306,0.643,0.879-0.135c0.033-0.083,0.387-0.563,0.387-0.563 s0.102-0.161,0.188,0.056c0.087,0.217-0.087,0.282,0.114,0.433c0.718,0.369,1.303,0.613,1.754,0.506 c0.994-0.236,1.558-1.053,2.354-1.663c1.527-1.171,1.875-1.552,2.442-1.914c0.668-0.427,0.882-0.44,1.083,1.455 c0.101,0.959-0.212,1.482-0.096,2.1c0.073,0.395,0.185-0.826,0.288-0.443c0.247,0.931,0.854,1.923,0.854,1.923l0.082-0.494 c0,0,0.384,0.409,0.637,0.76c0.701,0.976,0.486,0.004,0.603-0.39c0,0-0.168,0.694,0.638,1.579c0.186-0.442,0.765,0.514,1.464,1.385 c1.167,1.452,3.289,4.078,3.33,3.601c0.123-1.4,0.302-0.069,0.302-0.069c1.373,1.146,3.417,4.412,4.846,6.1 c0.168,0.2,0.421,0.197,0.581,0.076c0.161-0.125,0.537-0.042,1.402,0.782c0.107,0.168,0.466,1.062,0.571,1.229 c0.269,0.428,1.157,0.226,1.357,0.687c0.168,0.384,0.304,0.757,0.467,1.095c0.508,1.058,0.899,1.24,1.399,2.375 c0.482,1.094,0.709,2.767,0.785,3.986c0.232,3.772-0.143,6.432-0.407,8.37c-0.229,1.685-0.812,3.174-0.955,4.891 c-0.104,1.252-0.193,2.354-0.589,3.544c-0.271,0.818-0.547,1.411-0.793,2.226c-0.206,0.686-0.962,1.858-1.487,2.243 c-0.815,0.601-1.693,0.175-2.659,0.377c-0.221,0.048-0.186,0.134-0.636,0.383l-0.702,0.136c-0.511,0.281-0.865,0.834-0.973,1.137 c-0.21,0.586,0,0.681,0.467,0.805c0.355,0.095,1.279,0.15,1.716,0.17c0.942,0.041,1.892-0.22,2.757,0.021 c0.158,0.045,0.388,0.323,0.848,0.359c0.669,0.053,1.663-0.021,2.056-0.021c0.798,0,1.216-0.064,2.015-0.064 c1.247,0,1.293,0.204,2.451-0.085c1.423-0.356,3.366,0.01,3.889-0.403c0.16-0.126,0.104-0.845,0.403-1.271 c0.499-0.71,0.309-1.016,0.561-1.194c0.251-0.179,0.483,0.636,0.636,0.181c0.152-0.455,1.193-2.911,1.697-4.062 c0.504-1.149,0.666-1.32,1.153-2.485c0.27-0.646,0.592-1.221,0.606-1.91c-0.292,1.566,0.345-2.08,0.243-1.91 c0.511-1.191,0.165-0.089,0.575-1.333c0.778-2.362,0.479-4.726,0.954-7.196c0.193-1.011,0.788-1.878,0.988-2.895 c0.098-0.499-0.063-1.342,0.157-1.773c0.253-0.497,1.381-0.97,1.835-1.384c0.741-0.675,1.464-1.142,2.32-1.654 c0.849-0.509,1.44-1.326,2.334-1.75c0.911-0.432,1.135-0.194,2.121-0.057c1.626,0.228,2.963-0.316,4.458-0.446 c1.671-0.146,1.311,0.291,1.715,0.256l0.973-0.074c0.811,0.088,1.889-0.471,2.711-0.188c1.25,0.431,1.247,2.688,1.849,3.739 c1.511,2.643,4.66,5.696,5.783,6.205c1.212,0.547,1.734,2.033,2.843,2.871c1.572,1.194,2.477,2.672,3.302,4.583 c1.12,2.585,0.673,4.939-0.324,7.363c-0.524,1.272-0.832,1.979-1.875,2.673c-0.493,0.33-1.734-0.079-2.273,0.227 c-0.281,0.158-0.826,0.551-1.058,0.676c-0.637,0.345-1.805,1.008-1.303,1.772c0.626,0.955,2.118,0.104,3.092,0.382 c1.003,0.286,1.836-0.158,2.933-0.158c0.822,0.002,2.381,0.1,2.935-0.519c0.341-0.382,0.417-0.609,0.557-1.06 c0.152-0.5,0.207-1.135,0.52-1.597c0.239-0.351,0.732-0.985,0.834-1.303c0.173-0.544-0.023-1.26,0.203-1.751 c0.354-0.77,1.392-1.949,1.744-2.855c0.249-0.637-0.021-2.544,0.855-2.687c-0.07-1.007-0.217-1.44,0.228-2.092 c0.418-0.615-0.819-1.308-1.145-1.973c-0.423-0.873-0.833-1.552-1.618-2.23c-0.892-0.771-1.803-1.771-3.007-2.674 c2.31,0.899,4.749,2.532,6.265,4.504c1.354,1.763,2.673,3.804,2.943,6.021c0.23,1.865,1.225,4.907-0.012,5.894 c-0.528,0.422-1.086,0.486-1.477,0.885c-0.277,0.284-0.538,0.95-0.87,1.5c-0.131,0.217-0.425,0.444-0.483,0.636 c-0.104,0.334-0.264,0.72-0.12,0.957c0.124,0.207,0.596,0.409,0.937,0.519c0.159,0.052,0.623-0.026,0.833,0 c1.018,0.132,2.162,0.106,3.132-0.22c0.565-0.191,1.277-0.469,1.823-0.704c0.838-0.364,0.729-0.325,1.289-1.018 c-0.32,0.589-0.256-1.101-0.297-1.094c0.055-0.904-0.247-1.118-0.184-2.01c0.044-0.62,0.358-1.254,0.395-1.933 c0.09-1.687,0.534-3.886,0.307-5.551c-0.158-1.161-1.038-1.532-1.582-2.596c-0.346-0.679-0.71-1.299-1.175-1.926 c-0.194-0.261-0.766-2.257-2.212-4.46c-1.618-2.463-3.232-4.132-3.401-4.781c-0.126-0.175-1.374-1.34-1.812-2.548 c-0.086-0.237-0.298-1.395-0.086-1.457c0.218-0.065,0.293,0.572,0.583,0.881c0.523,0.562,1.333,1.597,1.688,1.775 c-0.004,0.03,0.571,1.563,0.586,1.613c0.285,0.391,1.5,1.07,1.973,2.145c0.944,2.146,2.451,3.239,2.917,4.636 c0.093,0.275,0.922,0.545,1.588,1.329c1.093,1.287,2.434,2.406,2.533,1.847c0.104-0.591-0.052-2.006,0.171-2.79 c0.169-0.599,0.708-1.592,0.635-2.061C99.087,53.45,98.766,52.887,98.984,51.463z M39.62,64.505 c-0.325,0.544-0.445,3.646-0.614,4.431c-0.092,0.424-1.09,2.043-1.167,2.796c-0.086,0.848-1.784,2.213-1.784,2.213 s-0.449-0.32-0.531-0.554c-0.081-0.234,0.254-0.619,0.449-1.062c0.176-0.4,0.281-1.26,0.488-1.676 c0.435-0.869,0.122-0.632,0.231-1.283s0.601,0.16,1.104-0.879c0.123-0.249,0.115-0.56,0.213-0.892 c0.05-0.164,0.018-0.581,0.148-0.678c0.202-0.149,0.569,0.042,0.509-0.211c-0.054-0.223,0.132-1.674,0.057-1.95 c-0.077-0.279,0.038-1.482,0.243-2.152c0.673-2.203,0.752-4.832,1.061-4.336C40.178,58.516,39.946,63.961,39.62,64.505z"
})),r.createElement("symbol",{id:"maphubs-icon-truck",viewBox:"0 0 100 51.086",preserveAspectRatio:"xMidYMid meet"},r.createElement("circle",{cx:"13.955",cy:"42.837",r:"8.249"}),r.createElement("circle",{cx:"76.521",cy:"42.837",r:"8.249"}),r.createElement("rect",{x:"32.363",width:"67.637",height:"32.322"}),r.createElement("path",{d:"M70.126,34.587H28.073V7.999L6.438,9.646c0,0-4.745,11.746-6.438,15.884v11.202v4.021c0,1.151,0.933,2.084,2.083,2.084 h1.432c0-5.767,4.675-10.44,10.44-10.44c5.767,0,10.44,4.674,10.44,10.44h41.686C66.081,39.48,67.666,36.497,70.126,34.587z M19.733,23.681L3.08,25.775l4.81-12.491l11.844-0.903V23.681z"}),r.createElement("path",{d:"M99.944,34.587H82.917c2.46,1.91,4.045,4.894,4.045,8.25h2.437h4.322l6.244-2.211L99.944,34.587z"})),r.createElement("symbol",{id:"maphubs-icon-cargo-ship",viewBox:"0 0 120 150",preserveAspectRatio:"xMidYMid meet"},r.createElement("polygon",{points:"-715.8,-44.8 -791.8,-44.8 -801.8,-51.5 -801.8,-60.1 -705.8,-60.1 "}),r.createElement("rect",{x:"-801.8",y:"-89.9",width:"17.5",height:"29.8"}),r.createElement("line",{x1:"-793",y1:"-89.9",x2:"-793",y2:"-99.1"}),r.createElement("line",{x1:"-801.8",y1:"-44.8",x2:"-705.8",y2:"-44.8"}),r.createElement("rect",{x:"-796.4",y:"-70",width:"6.8",height:"9.9"}),r.createElement("g",null,r.createElement("rect",{x:"-784.3",y:"-67.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-771",y:"-67.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-757.6",y:"-67.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-744.3",y:"-67.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-731",y:"-67.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-784.3",y:"-75.1",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-771",y:"-75.1",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-757.6",y:"-75.1",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-784.3",y:"-82.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-771",y:"-82.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-757.6",y:"-82.6",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-744.3",y:"-75.1",width:"13.3",height:"7.5"}),r.createElement("rect",{x:"-731",y:"-75.1",width:"13.3",height:"7.5"})),r.createElement("g",null,r.createElement("path",{d:"M21,33.3c0-0.6-0.5-1-1-1c-0.6,0-1,0.5-1,1v8.3h2V33.3z"}),r.createElement("path",{d:"M109,85.7h-7l-1.3,2h8.3c0.6,0,1-0.5,1-1C110,86.1,109.5,85.7,109,85.7z"}),r.createElement("path",{d:"M11,85.7c-0.6,0-1,0.5-1,1c0,0.6,0.5,1,1,1h6.8l-3.1-2H11z"}),r.createElement("polygon",{points:"107.1,74.1 96.9,74.1 83.3,74.1 69.7,74.1 56.1,74.1 42.5,74.1 28.9,74.1 23.4,74.1 16.5,74.1 12,74.1 12,81.3    21.5,87.7 98.2,87.7  "}),r.createElement("path",{d:"M15.5,63c0-0.6,0.5-1,1-1h6.9c0.6,0,1,0.5,1,1v9.1h3.4v-6.6v-7.7v-7.7v-6.4H12v28.4h3.4V63z"}),r.createElement("rect",{x:"17.5",y:"64",width:"4.8",height:"8.1"}),r.createElement("rect",{x:"29.9",y:"66.5",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"43.5",y:"66.5",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"57.1",y:"66.5",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"70.7",y:"66.5",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"84.3",y:"66.5",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"29.9",y:"58.8",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"43.5",y:"58.8",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"57.1",y:"58.8",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"29.9",y:"51.2",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"43.5",y:"51.2",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"57.1",y:"51.2",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"70.7",y:"58.8",width:"11.6",height:"5.6"}),r.createElement("rect",{x:"84.3",y:"58.8",width:"11.6",height:"5.6"}))),r.createElement("symbol",{id:"maphubs-icon-tug-boat",viewBox:"0 0 90 112.5",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M66.8,18.7l0,25l20.1-5.8L74.4,75.5l-63.9,3.7L5.7,66.9l54.6-12.5l-0.4-3L14.8,62.3l-1.3-3.5l24.6-5.4l-0.2-28.7l-3.1,0.6   l-0.3-3.7l6-1.5v-8.2h-2.6v-3h9.5v2.8h-2.6v7.4l25.7-5l0.3,3.8L66.8,18.7z M56.1,39c4,0,7.3-3.3,7.3-7.3s-3.3-7.3-7.3-7.3   s-7.3,3.3-7.3,7.3S52.1,39,56.1,39z"}),r.createElement("polygon",{points:"2.1,58.7 6.1,67.9 65,57.3 62,47.9  "}))),r.createElement("symbol",{id:"maphubs-icon-boat",viewBox:"0 0 763.17 953.9625",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M742.981,346.057c4.425,16.63,0.506,29.036-6.658,41.065c-51.952,87.241-124.926,147.343-223.962,173.905  c-59.403,15.932-119.879,19.647-181.122,17.261c-55.904-2.177-109.105-14.367-159.803-37.946  c-59.671-27.752-128.118-79.646-150.96-143.741c-4.411-12.378-2.205-20.409,7.962-28.155c4.992-3.803,10.86-6.739,16.73-9.063  c98.775-39.113,199.236-73.166,303.138-95.807c45.529-9.921,91.79-16.558,137.817-24.092c24.411-3.996,49.123-6.174,73.511-10.286  c9.837-1.659,18.139-0.437,26.259,4.782c2.378,1.528,5.092,2.555,7.392,4.18C643.564,273.706,695.162,307.437,742.981,346.057z   M552.123,419.154c-13.897-16.568-85.941-83.332-152.726-131.28c-42.549,7.451-86.178,17.136-131.318,32.596  c50.568,45.044,96.118,85.619,144.536,128.748C466.489,443.105,504.5,436.859,552.123,419.154z M454.333,278.333  c26.047,22.465,49.822,43.181,73.832,63.619c24.196,20.597,47.34,42.552,74.968,59.946c31.967-12.923,64.045-24.872,93.363-45.818  c-4.613-4.706-9.578-8.851-9.578-8.851c-27.808-20.825-55.642-41.617-83.6-62.24c-3.342-2.465-20.655-14.094-20.655-14.094  s-10.172-8.298-18.154-7.995c-29.219-3.019-52.783,3.712-81.853,9.294C474.492,273.762,466.231,275.671,454.333,278.333z   M74.483,385.758c42.932,24.186,85.454,39.175,129.459,49.335c76.526,17.671,122.266,26.699,143.338,18.719  c-42.087-37.582-91.347-80.825-133.393-118.371C167.263,349.764,122.15,365.482,74.483,385.758z"})),r.createElement("symbol",{id:"maphubs-icon-video",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M93.5,17.5c-1.4,0-2.5,1.1-2.5,2.5v3h-4v-3c0-1.4-1.1-2.5-2.5-2.5S82,18.6,82,20v3H18v-3c0-1.4-1.1-2.5-2.5-2.5    S13,18.6,13,20v3H9v-3c0-1.4-1.1-2.5-2.5-2.5S4,18.6,4,20v61c0,1.4,1.1,2.5,2.5,2.5S9,82.4,9,81v-3h4v3c0,1.4,1.1,2.5,2.5,2.5    S18,82.4,18,81v-3h64v3c0,1.4,1.1,2.5,2.5,2.5S87,82.4,87,81v-3h4v3c0,1.4,1.1,2.5,2.5,2.5S96,82.4,96,81V20    C96,18.6,94.9,17.5,93.5,17.5z M87,48h4v5h-4V48z M91,43h-4v-5h4V43z M87,58h4v5h-4V58z M91,28v5h-4v-5H91z M9,48h4v5H9V48z     M13,43H9v-5h4V43z M9,58h4v5H9V58z M13,28v5H9v-5H13z M9,73v-5h4v5H9z M18,73V28h64v45H18z M87,73v-5h4v5H87z"}),r.createElement("path",{d:"M37.2,50V37.2c0-1.4,1.6-2.3,2.8-1.6L50.9,42l11,6.4c1.2,0.7,1.2,2.5,0,3.2l-11,6.4L40,64.4c-1.2,0.7-2.8-0.2-2.8-1.6V50z    "}))),r.createElement("symbol",{id:"maphubs-icon-play",viewBox:"0 0 80 100",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",{transform:"translate(0,-972.36218)"},r.createElement("path",{style:{direction:"ltr",blockProgression:"tb",baselineShift:"baseline",enableBackground:"accumulate"},d:"m 40,991.36218 c -11.5743,0 -21,9.42572 -21,21.00002 0,11.5743 9.4257,21 21,21 11.5742,0 21,-9.4257 21,-21 0,-11.5743 -9.4258,-21.00002 -21,-21.00002 z m 0,4 c 9.4124,0 17,7.58752 17,17.00002 0,9.4125 -7.5876,17 -17,17 -9.4125,0 -17,-7.5875 -17,-17 0,-9.4125 7.5875,-17.00002 17,-17.00002 z m -6,6.00002 0,22 18,-11 -18,-11 z",fillOpacity:"1",stroke:"none",visibility:"visible",display:"inline",overflow:"visible"}))),r.createElement("symbol",{id:"maphubs-icon-oil",viewBox:"0 0 74 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M71,94V84H3v10c-1.656,0-3,1.343-3,3s1.344,3,3,3h68c1.657,0,3-1.343,3-3S72.657,94,71,94z"}),r.createElement("path",{d:"M3,6v10h68V6c1.657,0,3-1.343,3-3s-1.343-3-3-3H3C1.344,0,0,1.343,0,3S1.344,6,3,6z"}),r.createElement("path",{d:"M3,22v56h68V22H3z M37,65c-5.523,0-10-4.477-10-10c0-5.523,10-20,10-20s10,14.477,10,20C47,60.523,42.523,65,37,65z"})),r.createElement("symbol",{id:"maphubs-icon-tractor",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M59.451,24.196c0.992-0.205,2.009-0.155,3.014-0.157c5.159,0.002,10.322,0.002,15.482,0    c1.146,0.008,2.375,0.157,3.288,0.917c1.015,0.782,1.69,2.014,1.644,3.312c-0.002,5.163,0.008,10.326-0.005,15.488    c-0.212,2.15,1.45,3.802,2.122,5.724c-0.844,1.755-1.718,3.492-2.605,5.226c-2.342-0.76-4.84-1.25-7.303-0.928    c-4.633,0.325-9.049,2.768-11.88,6.439c-2.272,2.941-3.604,6.646-3.545,10.38c-9.366,0.036-18.734,0.008-28.1,0.013    c-1.375-3.768-4.539-6.867-8.425-7.953c-2.587-0.81-5.36-0.553-7.926,0.189c-0.024-4.363-0.003-8.729-0.013-13.094    c-0.026-1.568,0.739-3.186,2.145-3.951c1.353-0.816,2.983-0.527,4.481-0.577c4.156-0.044,8.322,0.091,12.473-0.066    c-0.052-5.619-0.01-11.235-0.023-16.854c1.41-0.01,2.821-0.013,4.231,0.003c0.008,5.637-0.008,11.275,0.005,16.913    c3.511,0.013,7.021,0.005,10.533,0.002c2.538-6.138,4.928-12.339,7.436-18.49C56.99,25.475,58.125,24.49,59.451,24.196z     M61.491,28.349c-0.794,0.089-1.416,0.708-1.678,1.435c-1.681,4.187-3.359,8.375-5.026,12.567    c-0.542,1.303,0.493,2.908,1.924,2.865c5.854,0.021,11.709,0.003,17.561,0.008c1.141,0.1,2.299-0.847,2.268-2.024    c0.014-4.279,0.014-8.559,0-12.838c0.047-1.206-1.127-2.14-2.281-2.059C70.004,28.328,65.742,28.237,61.491,28.349z"})),r.createElement("g",null,r.createElement("path",{d:"M74.371,55.965c3.309-0.488,6.789,0.152,9.67,1.863c3.75,2.156,6.43,6.062,7.119,10.328    c0.646,3.611-0.191,7.435-2.182,10.502c-2.203,3.422-5.865,5.83-9.866,6.541c-2.947,0.392-6.049,0.178-8.745-1.164    c-4.245-1.924-7.477-5.985-8.316-10.58c-0.709-3.492-0.084-7.239,1.726-10.312C65.971,59.303,69.995,56.594,74.371,55.965z     M75.417,62.232c-3.659,0.434-6.77,3.538-7.226,7.196c-0.512,3.33,1.214,6.838,4.143,8.489c3.445,2.074,8.32,1.201,10.787-1.992    c2.499-2.96,2.489-7.672,0.016-10.646C81.338,62.996,78.286,61.82,75.417,62.232z"})),r.createElement("g",null,r.createElement("path",{d:"M18.255,64.34c2.446-0.27,4.981,0.24,7.045,1.607c2.802,1.762,4.625,4.93,4.821,8.226    c0.184,2.911-0.889,5.886-2.929,7.976c-1.99,2.064-4.848,3.346-7.737,3.209c-2.86,0.076-5.664-1.256-7.604-3.324    c-2.344-2.455-3.327-6.086-2.612-9.395C10.084,68.324,13.891,64.832,18.255,64.34z M18.534,69.855    c-2.231,0.451-4.009,2.541-4.024,4.827c-0.123,2.437,1.783,4.78,4.195,5.142c0.921,0.065,1.899,0.107,2.764-0.281    c1.993-0.807,3.383-2.946,3.144-5.109C24.51,71.479,21.398,69.18,18.534,69.855z"})))),r.createElement("symbol",{id:"maphubs-icon-farmer",viewBox:"0 0 169.917 321.99375000000003",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M87.571,38.513c2.079-11.416,12.09-20.101,24.097-20.101c12.006,0,22.017,8.685,24.096,20.101   c20.142-1.733,34.153-5.568,34.153-10.025c0-5.103-18.362-15.919-43.273-19.271C126.406,4.103,119.8,0,111.667,0   c-8.133,0-14.739,4.103-14.978,9.217c-17.916,2.411-32.443,8.682-39.19,13.913v9.407C63.053,35.19,73.893,37.336,87.571,38.513z"}),r.createElement("path",{d:"M19.128,101.597c-3.996,1.885-5.707,6.653-3.822,10.649c1.364,2.894,4.24,4.59,7.241,4.59c0.067,0,0.135-0.009,0.203-0.011   V99.898C21.546,100.46,20.339,101.025,19.128,101.597z"}),r.createElement("path",{d:"M73.076,95.227c4.461-1.858,8.356-3.451,11.546-4.741v154.746c0,6.83,5.537,12.363,12.363,12.363   c6.828,0,12.365-5.533,12.365-12.363V154.96h4.635v90.271c0,6.83,5.537,12.363,12.363,12.363c6.828,0,12.365-5.533,12.365-12.363   V95.482c0.593,1.216,1.191,2.611,1.781,4.238c2.819,7.813,5.189,20.63,5.18,40.638c0,5.516-0.177,11.574-0.565,18.224   c-0.257,4.411,3.109,8.195,7.52,8.452c0.159,0.009,0.318,0.014,0.475,0.014c4.205,0,7.729-3.283,7.979-7.535   c0.404-6.933,0.591-13.299,0.591-19.156c-0.04-30.182-4.861-46.887-11.434-56.932c-3.285-4.986-7.128-8.183-10.68-9.955   c-2.319-1.169-4.445-1.72-6.14-1.964c-0.766-0.254-1.583-0.398-2.436-0.398H92.351c-0.681,0-1.338,0.097-1.967,0.262   c-0.774,0.056-1.554,0.225-2.316,0.521v-0.002c-0.09,0.036-25.279,9.792-55.317,23.409v17.597   C47.813,105.939,62.108,99.798,73.076,95.227z"}),r.createElement("circle",{cx:"111.668",cy:"42.913",r:"22.5"}),r.createElement("path",{d:"M24.75,255.5h6v-184H48.5c3.867-0.002,6.997-3.133,6.999-7.001V18.834H49.5v45.665c-0.002,0.55-0.45,1-1,1H30.75V18.833h-6   v46.666H6.999c-0.55,0-1-0.45-1-1V18.834H0v45.665c0.002,3.868,3.132,6.999,6.999,7.001h17.75V255.5z"}))),r.createElement("symbol",{id:"maphubs-icon-clipboard",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M37.532,24.217h24.473c1.423,0,2.577-1.142,2.577-2.584v-3.849c0-1.427-1.152-2.584-2.583-2.584h-3.858   c0,0,0-9.017-8.373-9.017c-8.373,0-8.403,9.017-8.403,9.017h-3.84c-1.42,0-2.571,1.142-2.571,2.584v3.849   C34.954,23.06,36.116,24.217,37.532,24.217z"}),r.createElement("path",{d:"M76.221,17.428h-4.687v4.202h4.687c0,0,4.202,0,4.202,4.201v59.582c0,4.635-4.202,4.202-4.202,4.202H23.779   c0,0-4.202,0-4.202-4.202V25.831c0-4.201,4.202-4.201,4.202-4.201h4.684v-4.202h-4.684c0,0-8.404,0-8.404,8.403   c0,24.329,0,59.582,0,59.582c0,8.404,8.404,8.404,8.404,8.404h52.441c0,0,8.404,0,8.404-8.404V25.831   C84.625,17.428,76.221,17.428,76.221,17.428z"}),r.createElement("rect",{x:"27.553",y:"55.001",width:"44.894",height:"4.588"}),r.createElement("rect",{x:"27.553",y:"71.729",width:"44.894",height:"4.588"}),r.createElement("rect",{x:"27.553",y:"38.273",width:"44.894",height:"4.588"}))),r.createElement("symbol",{id:"maphubs-icon-hand-one",viewBox:"0 0 5000000 6250000",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{fill:"black",d:"M2123689 843452c-58112,0 -110909,23859 -149296,62128 -38269,38387 -62128,91184 -62128,149296l0 1854979 0 0c-118,11457 -4843,23033 -14056,31301 -17362,15354 -43820,13819 -59175,-3426 -11221,-12638 -22205,-24331 -32953,-35080l-2127 -2126c-97798,-97798 -212014,-165359 -329065,-183194 -112681,-17009 -229495,12520 -338042,107011l1019087 1019087c199376,199376 459581,307451 719786,312884 251347,5315 502812,-85278 699353,-281702 288553,-288670 288316,-644311 287962,-1025111l0 -34371 -118 0 0 -565530c0,-58112 -23859,-110909 -62128,-149296 -38387,-38269 -91184,-62128 -149296,-62128 -58112,0 -111027,23859 -149296,62128 -38387,38387 -62128,91184 -62128,149296l0 151659c0,23150 -18780,41930 -42049,41930l-2480 0c-23150,0 -41930,-18780 -41930,-41930l0 -312766c0,-58112 -23741,-110909 -62128,-149296 -38269,-38387 -91184,-62128 -149296,-62128 -58112,0 -110909,23741 -149296,62128 -38269,38387 -62128,91184 -62128,149296l0 312766c0,23150 -18781,41930 -41931,41930l-2480 0c-23151,0 -41931,-18780 -41931,-41930l0 -453440c0,-58112 -23859,-111027 -62128,-149296 -38387,-38387 -91184,-62128 -149296,-62128 -58112,0 -111027,23741 -149296,62128 -38387,38269 -62128,91184 -62128,149296l0 453440c0,23150 -18780,41930 -42048,41930l-2481 0c-23150,0 -41930,-18780 -41930,-41930l0 -1346381c0,-58112 -23741,-110909 -62128,-149296 -38269,-38269 -91184,-62128 -149296,-62128z"}))),r.createElement("symbol",{id:"maphubs-icon-magnifier",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M100,80.665L76.874,57.537c2.457-5.213,3.834-11.037,3.834-17.185C80.708,18.065,62.641,0,40.354,0   C18.067,0,0,18.065,0,40.353c0,22.289,18.067,40.355,40.354,40.355c6.147,0,11.971-1.375,17.186-3.835L80.665,100L100,80.665z    M19.526,40.353c0-11.5,9.325-20.826,20.827-20.826c11.503,0,20.828,9.326,20.828,20.826c0,11.503-9.325,20.828-20.828,20.828   C28.852,61.181,19.526,51.855,19.526,40.353z"}))),r.createElement("symbol",{id:"maphubs-icon-wifi",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M8.055,46.753L0,40.33c10.822-16.073,29.188-26.647,50.022-26.647c20.806,0,39.147,10.543,49.978,26.575l-8.078,6.388   C82.995,32.977,67.566,23.94,50.022,23.94C32.436,23.94,16.97,33.023,8.055,46.753z M50.056,59.838   c6.134,0,11.364,3.936,13.304,9.412l8.248-6.521c-4.053-7.771-12.182-13.077-21.552-13.077c-9.458,0-17.649,5.402-21.665,13.29   l8.264,6.588C38.512,63.906,43.816,59.838,50.056,59.838z M50.124,41.355c11.993,0,22.478,6.45,28.181,16.067l7.979-6.307   C78.697,39.1,65.303,31.115,50.042,31.115c-15.319,0-28.756,8.043-36.326,20.136l8.073,6.438   C27.455,47.925,38.023,41.355,50.124,41.355z M49.999,68.639c-4.882,0-8.839,3.959-8.839,8.841c0,4.881,3.957,8.838,8.839,8.838   c4.883,0,8.841-3.957,8.841-8.838C58.84,72.598,54.882,68.639,49.999,68.639z"}))),r.createElement("symbol",{id:"maphubs-icon-money",viewBox:"0 0 512 640",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M512.188,320V0h-512v320H66.75c1.75,5.594,4.313,10.969,7.828,16c-6.719,9.625-10.391,20.375-10.391,32  s3.672,22.375,10.391,32c-6.719,9.625-10.391,20.375-10.391,32c0,47.125,59.219,80,144,80s144-32.875,144-80  c0-11.625-3.656-22.375-10.375-32c0,0-0.031,0-0.031,0.031c6.719-9.625,10.406-20.406,10.406-32.031s-3.656-22.375-10.375-32  c0,0-0.031,0-0.031,0.031c3.5-5.031,6.094-10.406,7.844-16.031H512.188z M66.75,288H32.188V32h448v256H349.625  c-1.75-5.625-4.313-11-7.844-16.031c0,0.031,0.031,0.031,0.031,0.031h74.375c0-26.531,21.5-48,48-48V96c-26.5,0-48-21.469-48-48  H294.156c24.938,21.688,42.031,63.438,42.031,112c0,34.188-8.594,64.813-22.313,87.625C288.375,232.813,251.766,224,208.188,224  c-7.188,0-13.922,0.563-20.734,1c0.031,0,0.047,0,0.063,0c-7.156-18.969-11.328-41.125-11.328-65c0-48.563,17.125-90.313,42-112  h-122c0,26.531-21.5,48-48,48v128c20.25,0,37.5,12.563,44.547,30.313C79.906,263.844,70.75,275.125,66.75,288z M368.188,160  c0-13.25,10.75-24,24-24s24,10.75,24,24s-10.75,24-24,24S368.188,173.25,368.188,160z M331.063,260.25  c-0.469-0.438-0.75-0.938-1.25-1.375C330.313,259.313,330.594,259.813,331.063,260.25z M96.188,160c0-13.25,10.75-24,24-24  s24,10.75,24,24s-10.75,24-24,24S96.188,173.25,96.188,160z M208.188,480c-61.859,0-112-21.5-112-48c0-3.5,0.969-6.875,2.625-10.156  C124.391,438.125,162.313,448,208.188,448s83.813-9.875,109.375-26.156c1.656,3.281,2.625,6.656,2.625,10.156  C320.188,458.5,270.063,480,208.188,480z M208.188,416c-61.859,0-112-21.5-112-48c0-3.5,0.969-6.875,2.625-10.156  C124.391,374.125,162.313,384,208.188,384s83.813-9.875,109.375-26.156c1.656,3.281,2.625,6.656,2.625,10.156  C320.188,394.5,270.063,416,208.188,416z M208.188,352c-61.859,0-112-21.5-112-48s50.141-48,112-48c61.875,0,112,21.5,112,48  S270.063,352,208.188,352z"})),r.createElement("symbol",{id:"maphubs-icon-campfire",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("path",{d:"M74.256,81.934l-6.426-2.04l6.426-2.039c0.271-0.085,0.498-0.276,0.629-0.53c0.131-0.252,0.156-0.547,0.07-0.817   l-2.553-8.047c-0.178-0.564-0.776-0.876-1.349-0.698L50.32,74.34l-20.733-6.578c-0.567-0.178-1.171,0.134-1.348,0.698l-2.555,8.047   c-0.084,0.27-0.06,0.565,0.071,0.817c0.132,0.253,0.358,0.444,0.629,0.53l6.426,2.039l-6.426,2.04   c-0.564,0.178-0.878,0.781-0.698,1.346l2.553,8.047c0.085,0.271,0.275,0.497,0.529,0.628c0.153,0.08,0.322,0.121,0.493,0.121   c0.107,0,0.219-0.017,0.325-0.05l20.733-6.578l20.733,6.578c0.106,0.033,0.218,0.05,0.325,0.05c0.172,0,0.34-0.041,0.493-0.121   c0.254-0.131,0.444-0.357,0.53-0.628l2.553-8.047C75.132,82.715,74.82,82.112,74.256,81.934z"}),r.createElement("path",{d:"M50.646,65.841c26.751-2.229,16.186-36.697,11.396-44.995C56.646,11.498,49.336,5.523,49.336,5.523   c1.946,14.062-3.691,23.684-3.691,23.684l-5.788-6.953c-2.086,16.911-11.338,23.52-5.473,34.308   C40.043,66.97,50.646,65.841,50.646,65.841z M47.231,39.783l2.545,3.057c0,0,5.359-7.878,4.503-14.062c0,0,3.304,4.616,4.806,9.119   c1.497,4.485,4.654,20.073-7.108,21.053c0,0-4.663,0.496-7.152-4.081C42.246,50.125,46.314,47.219,47.231,39.783z"}))),r.createElement("symbol",{id:"maphubs-icon-village",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M72.579,48.714L51.546,27.682c-0.825-0.825-2.286-0.825-3.111,0L27.247,48.871c-0.629,0.629-0.817,1.575-0.477,2.397  c0.34,0.822,1.143,1.358,2.033,1.358h3.637v28.678c0,1.214,0.985,2.2,2.2,2.2h30.703c1.216,0,2.2-0.986,2.2-2.2V52.626h3.637  c0.008,0.001,0.014,0,0.018,0c1.215,0,2.2-0.985,2.2-2.2C73.397,49.734,73.078,49.117,72.579,48.714z"}),r.createElement("path",{d:"M97.055,43.588L75.867,22.399c-0.826-0.825-2.287-0.825-3.111,0L62,33.155l12.967,12.967  c1.243,1.088,1.951,2.644,1.951,4.304c0,3.11-2.495,5.648-5.588,5.719l-0.029,0.002h-0.112h-0.116h-0.009v22.075h18.599  c1.215,0,2.199-0.985,2.199-2.2V47.344h3.638c0.89,0,1.692-0.535,2.032-1.357C97.872,45.165,97.684,44.217,97.055,43.588z"}),r.createElement("path",{d:"M2.945,43.588l21.188-21.189c0.825-0.825,2.286-0.825,3.111,0L38,33.155L25.033,46.122  c-1.243,1.088-1.951,2.644-1.951,4.304c0,3.11,2.495,5.648,5.588,5.719l0.029,0.002h0.112h0.116h0.009v22.075H10.338  c-1.215,0-2.2-0.985-2.2-2.2V47.344H4.501c-0.89,0-1.692-0.535-2.033-1.357C2.128,45.165,2.316,44.217,2.945,43.588z"})),r.createElement("symbol",{id:"maphubs-icon-clinic",viewBox:"0 0 16 20",preserveAspectRatio:"xMidYMid meet"},r.createElement("polygon",{points:"15,6 10,6 10,1 6,1 6,6 1,6 1,10 6,10 6,15 10,15 10,10 15,10 "})),r.createElement("symbol",{id:"maphubs-icon-star",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",null,r.createElement("polygon",{points:"50,77.4 23.7,91.2 28.8,62 7.5,41.3 36.9,37 50,10.4 63.1,37 92.5,41.3 71.2,62 76.3,91.2  "}))),r.createElement("symbol",{id:"maphubs-icon-eye",viewBox:"0 0 100 70.66625",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M99.995,28.08c-0.002-0.042-0.006-0.082-0.009-0.123c-0.002-0.021-0.003-0.042-0.005-0.062 c-0.003-0.03-0.008-0.06-0.012-0.089c-0.004-0.035-0.008-0.07-0.014-0.104c-0.001-0.004-0.002-0.009-0.002-0.013 c-0.123-0.773-0.487-1.498-1.045-2.056c-3.19-3.781-6.985-7.146-10.844-10.219C79.753,8.792,70.248,3.252,59.756,1.022 C53.692-0.266,47.59-0.321,41.494,0.769c-5.545,0.992-10.889,3.054-15.891,5.61c-7.829,4-14.979,9.515-21.209,15.698 c-1.153,1.144-2.3,2.312-3.348,3.555c-1.396,1.654-1.396,3.613,0,5.267c3.19,3.781,6.985,7.145,10.844,10.219 c8.312,6.622,17.817,12.161,28.309,14.391c6.064,1.289,12.167,1.344,18.263,0.254c5.544-0.992,10.888-3.054,15.891-5.61 c7.829-4.001,14.979-9.515,21.209-15.698c1.153-1.145,2.3-2.312,3.348-3.555c0.558-0.559,0.922-1.283,1.045-2.057 c0-0.004,0.001-0.009,0.002-0.013c0.006-0.035,0.01-0.069,0.014-0.104c0.004-0.029,0.009-0.059,0.012-0.089 c0.002-0.021,0.003-0.041,0.005-0.062c0.003-0.04,0.007-0.08,0.009-0.122c0.003-0.062,0.005-0.124,0.005-0.187 S99.998,28.142,99.995,28.08z M50,47.507c-10.627,0-19.241-8.614-19.241-19.241C30.759,17.64,39.373,9.025,50,9.025 s19.241,8.614,19.241,19.241C69.241,38.893,60.627,47.507,50,47.507z"}),r.createElement("circle",{cx:"50",cy:"28.266",r:"6.369"})),r.createElement("symbol",{id:"maphubs-icon-palm-oil",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M89.664,31.345c-6.29-17.548-29.178-12.972-29.178-12.972C46.561-6.042,19.856,3.496,19.856,3.496  C39.884,8.265,46.371,22.19,46.371,22.19C8.988,11.318,4.599,44.887,4.599,44.887c15.991-11.152,30.594-9.213,36.499-7.724  l-1.595,1.427c0,0-24.412,14.116-32.995,55.313c0,0,1.051,4.178,7.584,4.378c6.528,0.199,6.528-3.423,6.528-3.423  s9.534-39.485,25.176-53.408L47.025,40c11.865,9.734,6.915,36.736,6.915,36.736c23.401-12.97,8.259-45.834,8.259-45.834  c23.433,4.327,25.365,29.242,25.365,29.242S95.961,48.889,89.664,31.345z"}),r.createElement("path",{d:"M78.146,97.679c6.069,0,10.99-4.919,10.99-10.986c0-6.07-10.99-17.76-10.99-25.406h-0.381  c0,7.646-10.987,19.336-10.987,25.406c0,6.067,4.921,10.986,10.987,10.986H78.146z"})),r.createElement("symbol",{id:"maphubs-icon-log-pile",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M21.2,59.2c-9,0-16.2,7.3-16.2,16.2s7.3,16.2,16.2,16.2s16.2-7.3,16.2-16.2S30.1,59.2,21.2,59.2z M21.2,87.8  c-6.9,0-12.4-5.6-12.4-12.4c0-6.9,5.6-12.4,12.4-12.4s12.4,5.6,12.4,12.4C33.6,82.3,28,87.8,21.2,87.8z"}),r.createElement("path",{d:"M50.1,59.2c-9,0-16.2,7.3-16.2,16.2s7.3,16.2,16.2,16.2s16.2-7.3,16.2-16.2S59,59.2,50.1,59.2z M50.1,87.8  c-6.9,0-12.4-5.6-12.4-12.4c0-6.9,5.6-12.4,12.4-12.4s12.4,5.6,12.4,12.4C62.5,82.3,56.9,87.8,50.1,87.8z"}),r.createElement("path",{d:"M78.7,59.2c-9,0-16.2,7.3-16.2,16.2s7.3,16.2,16.2,16.2S95,84.4,95,75.4S87.7,59.2,78.7,59.2z M78.7,87.8  c-6.9,0-12.4-5.6-12.4-12.4c0-6.9,5.6-12.4,12.4-12.4c6.9,0,12.4,5.6,12.4,12.4C91.2,82.3,85.6,87.8,78.7,87.8z"}),r.createElement("path",{d:"M64.5,34.5c-9,0-16.2,7.3-16.2,16.2s7.3,16.2,16.2,16.2s16.2-7.3,16.2-16.2S73.5,34.5,64.5,34.5z M64.5,63.1  c-6.9,0-12.4-5.6-12.4-12.4s5.6-12.4,12.4-12.4S77,43.8,77,50.7S71.4,63.1,64.5,63.1z"}),r.createElement("path",{d:"M50.1,9.4c-9,0-16.2,7.3-16.2,16.2s7.3,16.2,16.2,16.2s16.2-7.3,16.2-16.2S59,9.4,50.1,9.4z M50.1,38  c-6.9,0-12.4-5.6-12.4-12.4s5.6-12.4,12.4-12.4s12.4,5.6,12.4,12.4S56.9,38,50.1,38z"}),r.createElement("path",{d:"M35.8,34.5c-9,0-16.2,7.3-16.2,16.2s7.3,16.2,16.2,16.2S52,59.6,52,50.7S44.7,34.5,35.8,34.5z M35.8,63.1  c-6.9,0-12.4-5.6-12.4-12.4s5.6-12.4,12.4-12.4s12.4,5.6,12.4,12.4S42.6,63.1,35.8,63.1z"})),r.createElement("symbol",{id:"maphubs-icon-clearcutting",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("polygon",{points:"68.9,63.2 60.9,48.2 62.8,48.2 56.2,36.7 55.9,36.2 58,36.2 53.8,29 52.5,26.8 54.3,26.8 52,22.7 49.6,18.7   47.3,22.7 44.9,26.8 46.7,26.8 45.4,29 41.3,36.2 43.3,36.2 43,36.7 36.4,48.2 39.1,48.2 31.1,63.2 46.9,63.2 46.9,74.6 52.2,74.6   52.2,63.2 "}),r.createElement("rect",{x:"16",y:"61.8",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"24.9",y:"48.7",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"74.5",y:"64.7",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"61.4",y:"74.6",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"83.4",y:"76.9",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"84.9",y:"51.5",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"66.7",y:"46.5",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"11.3",y:"43.7",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"30.2",y:"73",width:"5.3",height:"9.9"}),r.createElement("rect",{x:"11.3",y:"77.9",width:"5.3",height:"9.9"})),r.createElement("symbol",{id:"maphubs-icon-dam",viewBox:"0 0 100 73.939",preserveAspectRatio:"xMidYMid meet"},r.createElement("polygon",{points:"34.284,73.939 0,73.939 0.024,67.227 34.284,67.227 "}),r.createElement("polygon",{points:"34.284,63.773 0,63.773 0.024,57.061 34.284,57.061 "}),r.createElement("polygon",{points:"34.284,53.584 0,53.584 0.024,46.871 34.284,46.871 "}),r.createElement("polygon",{points:"34.284,43.395 0,43.395 0.024,36.682 34.284,36.682 "}),r.createElement("path",{d:"M48.166,2.542C47.542,1.055,46.056,0,44.354,0l-5.516,0.024v73.915h26.109L48.166,2.542z"}),r.createElement("polygon",{points:"34.284,33.206 0,33.206 0.024,26.517 34.284,26.517 "}),r.createElement("polygon",{points:"34.284,23.04 0,23.04 0.024,16.327 34.284,16.327 "}),r.createElement("polygon",{points:"34.284,12.851 0,12.851 0.024,6.138 34.284,6.138 "}),r.createElement("path",{d:"M68.138,68.09c0.503,0.096,1.006,0.144,1.51,0.144c1.343,0,2.613-0.312,3.74-0.815c1.175-0.551,2.469-0.863,3.859-0.863 c1.367,0,2.662,0.312,3.836,0.863c1.127,0.504,2.422,0.815,3.74,0.815s2.59-0.312,3.74-0.815c1.15-0.551,2.47-0.863,3.836-0.863 c1.367,0,2.686,0.312,3.86,0.863c1.127,0.504,2.397,0.815,3.74,0.815v5.586c-1.343,0-2.613-0.288-3.74-0.791 c-1.175-0.552-2.493-0.863-3.86-0.863c-1.366,0-2.686,0.312-3.836,0.863c-1.15,0.503-2.422,0.791-3.74,0.791 s-2.613-0.288-3.74-0.791c-1.174-0.552-2.469-0.863-3.836-0.863c-1.391,0-2.685,0.312-3.859,0.863 c-1.127,0.503-2.397,0.791-3.74,0.791c-0.072,0-0.145,0-0.216,0L68.138,68.09z"}),r.createElement("path",{d:"M65.907,57.133c1.15,0.504,2.422,0.815,3.74,0.815c1.343,0,2.613-0.312,3.74-0.815c1.175-0.552,2.469-0.863,3.859-0.863 c1.367,0,2.662,0.312,3.836,0.863c1.127,0.504,2.422,0.815,3.74,0.815s2.59-0.312,3.74-0.815c1.15-0.552,2.47-0.863,3.836-0.863 c1.367,0,2.686,0.312,3.86,0.863c1.127,0.504,2.397,0.815,3.74,0.815v5.586c-1.343,0-2.613-0.288-3.74-0.791 c-1.175-0.552-2.493-0.863-3.86-0.863c-1.366,0-2.686,0.312-3.836,0.863c-1.15,0.503-2.422,0.791-3.74,0.791 s-2.613-0.288-3.74-0.791c-1.174-0.552-2.469-0.863-3.836-0.863c-1.391,0-2.685,0.312-3.859,0.863 c-1.127,0.503-2.397,0.791-3.74,0.791c-0.814,0-1.606-0.096-2.373-0.312L65.907,57.133z"})),r.createElement("symbol",{id:"maphubs-icon-sawblade",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("path",{d:"M94.9,59.1c0-0.2-0.1-0.4-0.3-0.5c-0.1-0.1-0.2-0.2-0.2-0.4c0.2-1.6,0-3.3,0.2-4.9c0.1-0.7-0.1-1.3-0.5-1.8  c-1-1.2-2-2.5-3-3.7c-0.9-1.2-1.9-2.3-2.8-3.5c-0.7-0.9-0.4-2.1,0.6-2.5c0.7-0.2,1.5-0.3,2.2-0.2c0.9,0.2,1.8,0.2,2.6,0.3  c0.2,0,0.4,0,0.6,0c0.8,0.1,0.8,0,0.5-0.8c-0.1-0.3-0.5-0.3-0.6-0.7c-0.5-1.7-1.3-3.4-1.9-5c-0.2-0.5-0.5-0.8-1-1.1  c-1.6-0.9-3.2-1.7-4.9-2.6c-1.1-0.6-2.1-1.1-3.2-1.7c-1.2-0.7-1.2-2.1,0-2.8c0.5-0.3,1-0.6,1.6-0.8c1.1-0.3,2.2-0.7,3.2-1.1  c0.4-0.2,0.5-0.3,0.1-0.6c-0.2-0.1-0.4-0.3-0.7-0.3c-0.2,0-0.3-0.1-0.5-0.2c-1.1-1.2-2.3-2.4-3.4-3.6c-0.5-0.6-1.1-0.9-1.9-0.9  c-0.6,0-1.2-0.1-1.9-0.2c-2.3-0.2-4.6-0.5-6.9-0.7c-0.7-0.1-1.3-0.4-1.4-1.1c-0.2-0.7,0-1.4,0.6-1.8c0.3-0.2,0.6-0.5,0.9-0.8  c0.9-0.8,1.7-1.5,2.6-2.3c0.5-0.4,0.4-0.7-0.2-0.8c-0.2-0.1-0.4-0.1-0.6,0c-0.1,0.1-0.3,0.1-0.4,0c-1.6-0.8-3.3-1.4-4.9-2.2  c-0.5-0.2-1.1-0.3-1.6-0.1c-1.1,0.3-2.3,0.7-3.4,1c-1.8,0.5-3.6,1.1-5.4,1.6c-0.6,0.2-1.2,0-1.6-0.5c-0.4-0.5-0.5-1.1-0.2-1.7  c0.4-0.9,0.8-1.8,1.3-2.8c0.3-0.6,0.6-1.2,0.9-1.8c0.2-0.4,0.1-0.6-0.4-0.5c-0.3,0-0.7-0.1-0.9,0.3c-0.1,0.1-0.2,0.1-0.3,0.1  c-1.9-0.2-3.8-0.1-5.6-0.1c-0.4,0-0.8,0.1-1.1,0.4c-2.3,1.9-4.6,3.8-7,5.7c-0.6,0.5-1.2,0.7-1.9,0.4c-0.7-0.3-0.8-0.9-0.8-1.6  c0-1.6,0.1-3.2,0.3-4.8c0.1-0.6-0.1-0.5-0.6-0.4c-0.4,0.2-0.7,0.6-1.1,0.7c-1.7,0.6-3.3,1.3-5,2c-0.5,0.2-0.8,0.5-1.1,1  c-0.9,1.7-1.8,3.3-2.7,5c-0.6,1.1-1.2,2.2-1.8,3.2c-0.7,1.1-2,0.9-2.5-0.2c-0.2-0.5-0.4-1-0.6-1.5c-0.3-1.1-0.6-2.1-1-3.2  c-0.1-0.4-0.4-0.7-0.8-0.6c-0.4,0.1-0.8,0.4-0.7,0.9c0.1,0.4-0.1,0.6-0.4,0.8c-1.3,1.2-2.5,2.4-3.7,3.5c-0.3,0.3-0.4,0.6-0.5,1  c-0.2,1.5-0.3,3-0.5,4.6c-0.2,1.6-0.3,3.2-0.5,4.8c-0.1,1.1-1.3,1.7-2.2,1.1c-0.5-0.4-1-0.8-1.3-1.3c-0.7-1-1.6-1.9-2.4-2.8  c-0.1-0.2-0.3-0.3-0.5-0.1c-0.3,0.3-0.6,0.7-0.5,1.2c0.1,0.2,0,0.4-0.1,0.6c-0.6,1.4-1.2,2.9-1.9,4.3c-0.4,0.8-0.4,1.6-0.1,2.4  c0.8,2.6,1.6,5.2,2.3,7.9c0.1,0.3,0.2,0.6,0.2,0.9c0,1.2-1.1,1.9-2.2,1.4c-1.5-0.7-2.9-1.4-4.4-2.1c-0.2-0.1-0.4-0.3-0.5-0.1  c-0.1,0.3-0.3,0.7,0,1c0.1,0.1,0.3,0.2,0.3,0.4c-0.2,1,0,2-0.1,3c-0.2,1.9,0,3.6,1.4,5.1c1.6,1.7,3,3.7,4.5,5.5  c0.5,0.6,0.8,1.3,0.4,2.1c-0.4,0.8-1.1,0.8-1.9,0.8c-1.4-0.1-2.7-0.2-4.1-0.3c-0.6,0-0.6,0.2-0.6,0.7c0.1,0.5,0.5,0.7,0.6,1.1  c0.5,1.4,1.1,2.7,1.6,4.1c0.3,0.9,0.9,1.6,1.7,2c0.4,0.2,0.8,0.5,1.3,0.7c2,1.1,4.1,2.2,6.1,3.3c0.6,0.3,1.1,0.8,1,1.5  c0,0.7-0.4,1.3-1.1,1.6c-0.6,0.3-1.2,0.4-1.9,0.6c-1,0.2-2,0.7-2.9,1c-0.4,0.2-0.4,0.4-0.1,0.7c0.2,0.2,0.4,0.3,0.6,0.3  c0.2,0,0.4,0.1,0.6,0.3c1.3,1.3,2.5,2.5,3.8,3.8c0.4,0.4,0.8,0.6,1.3,0.6c1.6,0.2,3.2,0.3,4.8,0.5c1.3,0.1,2.7,0.2,4,0.4  c0.4,0,0.8,0.1,1.1,0.5c0.7,1.1,0.8,1.7-0.2,2.6c-1.1,1-2.3,1.8-3.3,2.9c-0.2,0.2-0.6,0.4-0.3,0.7c0.2,0.3,0.6,0.4,1,0.2  c0.2-0.1,0.3-0.1,0.5,0c1.7,0.7,3.3,1.4,5,2.2c0.5,0.2,0.9,0.2,1.4,0.1c3-0.9,5.9-1.8,8.9-2.6c1-0.3,1.6,0.1,1.9,1.1  c0.1,0.4,0,0.9-0.2,1.3c-0.6,1.3-1.3,2.6-1.9,4c-0.1,0.2-0.4,0.5-0.1,0.6c0.3,0.2,0.7,0.3,1,0c0.2-0.2,0.3-0.3,0.5-0.1  c0.2,0.1,0.4,0.1,0.6,0.1c1.5,0,3,0,4.5,0c0.7,0,1.3-0.2,1.8-0.7c2.1-1.7,4.3-3.5,6.4-5.2c0.4-0.4,0.9-0.6,1.5-0.6  c0.7-0.1,1.3,0.4,1.4,1.2c0,0.2,0,0.5,0,0.7c-0.1,1.3-0.2,2.6-0.2,4c0,0.2-0.1,0.6,0.3,0.7c0.3,0.1,0.7,0.1,0.9-0.2  c0.1-0.1,0.2-0.2,0.3-0.2c1.8-0.4,3.5-1.3,5.2-1.9c0.3-0.1,0.6-0.4,0.8-0.7c1.3-2.5,2.7-4.9,4-7.4c0.3-0.6,0.6-1.1,1.1-1.5  c0.6-0.4,1.6-0.4,1.9,0.2c0.3,0.6,0.7,1.3,0.8,2c0.1,1.2,0.7,2.2,1,3.3c0.1,0.2,0.3,0.5,0.5,0.3c0.3-0.2,0.7-0.4,0.7-0.9  c0-0.2,0-0.4,0.2-0.5c1.4-1.1,2.5-2.4,3.8-3.5c0.4-0.3,0.6-0.7,0.7-1.2c0.1-1.3,0.3-2.6,0.4-3.8c0.2-1.8,0.4-3.7,0.6-5.5  c0.1-0.5,0.3-0.9,0.8-1.2c0.8-0.4,1.4-0.3,2.1,0.3c0.5,0.4,0.7,1,1.1,1.5c0.5,0.7,1.2,1.4,1.7,2.1c0.4,0.5,0.4,0.5,0.8-0.1  c0.3-0.6,0.1-1.3,0.4-1.9c0.7-1.2,1.1-2.5,1.8-3.7c0.4-0.8,0.4-1.6,0.2-2.5c-0.8-2.7-1.6-5.4-2.4-8.1c-0.2-0.6-0.2-1.3,0.2-1.8  c0.6-0.6,1.3-0.6,2-0.3c0.7,0.2,1.3,0.6,1.9,1c0.7,0.5,1.6,0.8,2.5,1.1c0.2,0.1,0.4,0.3,0.6,0.1C95,59.7,94.9,59.4,94.9,59.1z   M50,55.7c-3.1,0-5.7-2.5-5.7-5.7s2.5-5.7,5.7-5.7s5.7,2.5,5.7,5.7S53.1,55.7,50,55.7z"
})),r.createElement("symbol",{id:"maphubs-icon-chainsaw",viewBox:"0 0 100 125",preserveAspectRatio:"xMidYMid meet"},r.createElement("g",{style:{display:"inline",opacity:1}},r.createElement("path",{style:{opacity:1,fillOpacity:1,stroke:"none",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1},d:"m 27.389978,30.839493 c -1.18069,0.715742 -2.23836,1.673042 -3.090596,2.857868 l -5.27304,7.331668 c -3.250791,4.519428 -2.39997,10.805272 1.795005,14.335604 l -6.846561,3.946098 c -5.0582387,2.9147 -6.8199347,9.462829 -3.905219,14.521117 l 1.686785,2.925503 c 2.914717,5.058288 9.46283,6.819937 14.521117,3.90522 l 3.946429,-2.273961 0.07227,0.125168 32.783797,-18.927734 -2.116211,-3.665385 4.473901,-2.583008 c 0.706744,1.212001 1.355601,2.576171 1.801405,4.456063 2.473464,-2.539867 2.571462,-4.729825 2.39848,-6.880867 l 1.924877,-1.111329 c 0.706744,1.212001 1.353908,2.577148 1.799714,4.457039 2.473464,-2.539866 2.571461,-4.729824 2.398479,-6.880867 l 1.706679,-0.985351 c 0.706744,1.212 1.353909,2.577147 1.799714,4.457039 2.473657,-2.540065 2.573209,-4.73064 2.400171,-6.881844 l 1.794635,-1.036133 c 1.162646,0.811055 2.3349,1.788254 3.540637,3.327876 0.980018,-2.764994 0.58181,-4.632657 -0.18244,-6.261308 0.279405,-0.391246 0.527891,-0.800657 0.74457,-1.22599 1.499547,0.105971 3.08343,0.338011 5.027449,1.114045 -0.621385,-3.302327 -2.212413,-4.681635 -3.959866,-5.749313 -0.0094,-0.420644 -0.05592,-0.841449 -0.12117,-1.260655 1.354023,-0.861215 2.829965,-1.677535 5.015967,-2.226153 -2.561983,-2.430688 -4.746376,-2.509594 -6.887021,-2.311482 l -0.08301,-0.143774 c -0.196201,-0.33983 -0.416012,-0.657658 -0.64676,-0.963971 0.644415,-1.537752 1.401305,-3.103576 2.956889,-4.8668 -3.365502,-0.533169 -5.203203,0.537782 -6.812291,1.849204 -0.562208,-0.242465 -1.145197,-0.430896 -1.741922,-0.563972 -0.282558,-1.461489 -0.465514,-3.037558 -0.225205,-5.093192 -2.97423,1.43461 -3.90743,3.290622 -4.485419,5.219308 -0.602361,0.170157 -1.193166,0.401728 -1.766829,0.697575 -0.728679,-1.235947 -1.397754,-2.623723 -1.855378,-4.553453 -2.510488,2.577885 -2.573501,4.795407 -2.390055,6.977491 l -1.999301,1.154297 c -0.72399,-1.230817 -1.388563,-2.614086 -1.843659,-4.533155 -2.510646,2.578046 -2.575236,4.796251 -2.391746,6.978467 l -1.887665,1.089844 c -0.723989,-1.230817 -1.388563,-2.614086 -1.843659,-4.533155 -2.510646,2.578046 -2.575236,4.796252 -2.391747,6.978467 l -1.669466,0.963867 c -0.72399,-1.230816 -1.388564,-2.614085 -1.84366,-4.533154 -2.510488,2.577885 -2.575192,4.796383 -2.391746,6.978467 l -0.774687,0.447266 -2.793945,-4.839255 -3.443804,1.988281 c -0.167667,-0.137021 -0.3294,-0.278154 -0.5074,-0.406188 l -4.669448,-3.35725 C 35.583548,28.716929 30.932054,28.692266 27.38998,30.839493 Z m 3.136868,5.085558 c 1.535048,-0.954347 3.514667,-0.927162 5.108496,0.219269 l 3.009766,2.166191 -4.184661,2.416016 -8.202593,11.210663 -1.305111,-0.940206 c -2.125106,-1.528572 -2.583319,-4.338477 -1.054742,-6.463585 l 5.273041,-7.331669 c 0.382144,-0.531276 0.844122,-0.958563 1.355804,-1.276679 z M 53.552617,43.0842 76.432941,29.874239 c 1.775567,-1.025124 3.902705,-0.455159 4.92783,1.320408 l 0.803711,1.392068 c 1.025124,1.775568 0.455159,3.902706 -1.320408,4.92783 L 57.96375,50.724507 53.552617,43.0842 Z m -36.582905,21.425613 3.932897,-2.266149 6.321289,10.948794 -3.941354,2.271031 c -2.268141,1.306962 -5.020148,0.567077 -6.32711,-1.701063 l -1.686785,-2.925504 c -1.30696,-2.268141 -0.567077,-5.020148 1.701063,-6.327109 z"}))))}});e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(680),o=n(170),s=r.createClass({displayName:"AnimationOverlay",mixins:[o.listenTo(i.tick,"tick")],propTypes:{style:r.PropTypes.object.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{val:""}},tick:function(e){this.setState({val:e})},render:function(){return r.createElement("div",{style:this.props.style},r.createElement("p",null,this.state.val))}});e.exports=s},function(e,t,n){"use strict";var r=(n(201)("Map/ForestLossMixin"),n(662)),i=n(170),o=n(680),s={getLayer:function(e,t){return{id:"omh-"+e+"-"+t,source:{type:"raster",scheme:"xyz",maxzoom:19,minzoom:0,tiles:["https://storage.googleapis.com/moabi-raster-tiles/hansen-umd-"+e+"-"+t+"/{z}/{x}/{y}.png"],tileSize:256},layer:{id:"omh-"+e+"-"+t,type:"raster",source:"omh-"+e+"-"+t,minzoom:0,maxzoom:18,paint:{"raster-opacity":1},layout:{visibility:"none"}}}},toggleForestLoss:function(){this.state.showForestLoss?(this.props.onToggleForestLoss&&this.props.onToggleForestLoss(!1),this.removeForestLossLayers()):(this.props.onToggleForestLoss&&this.props.onToggleForestLoss(!0),this.addForestLossLayers())},getFirstLabelLayer:function(){var e,t=this.state.glStyle;return t&&t.layers&&t.layers.length>0?t.layers.forEach(function(t){!e&&t.id.startsWith("omh-label")&&(e=t.id)}):"default"!==this.state.baseMap&&"dark"!==this.state.baseMap&&"streets"!==this.state.baseMap||(e="place_other"),e},addForestLossLayers:function(){var e=this,t="water",n=this.state.glStyle;n&&n.layers&&n.layers.length>0&&(t=n.layers[0].id);var r=e.getLayer("treecover",2001);e.map.addSource(r.id,r.source),e.map.addLayer(r.layer,t);for(var i=this.getFirstLabelLayer(),o=2001;o<=2014;o++){var s=e.getLayer("lossyear",o);e.map.addSource(s.id,s.source),i?e.map.addLayer(s.layer,i):e.map.addLayer(s.layer)}this.setState({showForestLoss:!0})},removeForestLossLayers:function(){var e=this,t=e.getLayer("treecover",2001);e.map.removeLayer(t.layer.id),e.map.removeSource(t.id);for(var n=2001;n<=2014;n++){var r=e.getLayer("lossyear",n);e.map.removeLayer(r.layer.id),e.map.removeSource(r.id)}this.setState({showForestLoss:!1})},tick:function(e){var t=this;2001===e&&this.map.setLayoutProperty("omh-treecover-"+e,"visibility","visible"),this.map.setLayoutProperty("omh-lossyear-"+e,"visibility","visible"),setTimeout(function(){if(e>2001);else if(2001===e)for(var n=2002;n<=2014;n++)t.map.setLayoutProperty("omh-lossyear-"+n,"visibility","none")},1e3)}};e.exports=r(s,i.listenTo(o.tick,"tick"))},function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(680),s=n(201)("stores/AnimationStore");e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return{playing:!1,startVal:2001,endVal:2014,currentVal:2001,tickLength:1,tickTime:3e3,loop:!0}},storeDidUpdate:function(){s("store updated")},play:function(){s("play");var e=this;return this.state.playing?void s("already playing"):(e.setState({playing:!0}),void e.runTick())},runTick:function(){var e=this;this.state.playing&&(s("tick: "+e.state.currentVal),o.tick(e.state.currentVal),setTimeout(function(){e.state.currentVal<e.state.endVal?e.state.currentVal=e.state.currentVal+1:e.state.loop?e.state.currentVal=e.state.startVal:e.stop(),e.runTick()},e.state.tickTime))},stop:function(){s("stop"),this.setState({playing:!1})},reset:function(){s("reset"),this.setState({playing:!1,currentVal:this.state.startVal})}})},,,function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(284),s=n(168),a=n(676),l=r.createClass({displayName:"TextInput",mixins:[a,i.Mixin],propTypes:{value:r.PropTypes.string,length:r.PropTypes.number,successText:r.PropTypes.string,disabled:r.PropTypes.bool,icon:r.PropTypes.string,className:r.PropTypes.string,dataTooltip:r.PropTypes.string,dataDelay:r.PropTypes.number,dataPosition:r.PropTypes.string,name:r.PropTypes.string,label:r.PropTypes.string,placeholder:r.PropTypes.string,id:r.PropTypes.string,type:r.PropTypes.string,style:r.PropTypes.object,showCharCount:r.PropTypes.bool,useMaterialize:r.PropTypes.bool,onClick:r.PropTypes.func},getDefaultProps:function(){return{length:100,successText:"",defaultValue:"",disabled:!1,value:"",dataDelay:100,type:"text",style:{},showCharCount:!0,useMaterialize:!0,onClick:function(){}}},getInitialState:function(){return{value:this.props.value,charCount:this.props.value?this.props.value.length:0}},componentWillReceiveProps:function(e){if(this.props.value!=e.value){var t=0;e.value&&(t=e.value.length),this.setState({value:e.value,charCount:t})}},componentDidMount:function(){this.props.dataTooltip&&s(this.refs.inputWrapper).tooltip()},componentDidUpdate:function(e){!e.dataTooltip&&this.props.dataTooltip&&s(this.refs.inputWrapper).tooltip()},changeValue:function(e){e.stopPropagation(),this.setValue(e.currentTarget.value),this.setState({value:e.currentTarget.value,charCount:e.currentTarget.value.length})},render:function(){var e,t="";this.props.useMaterialize?(e=o("input-field",this.props.className),t=o({required:this.showRequired(),valid:this.isValid(),invalid:this.showError()})):e=o(this.props.className);var n="";this.props.icon&&(n=r.createElement("i",{className:"material-icons prefix"},this.props.icon));var i="black";this.state.charCount>this.props.length&&(i="red");var s="";this.state.value&&""!=this.state.value&&(s="active");var a="";a=this.props.id?this.props.id:this.props.name;var l="";return this.props.showCharCount&&(l=r.createElement("span",{className:"character-counter",style:{float:"right",fontSize:"12px",height:"1px",color:i}},this.state.charCount," / ",this.props.length)),r.createElement("div",{ref:"inputWrapper",className:e,style:this.props.style,"data-delay":this.props.dataDelay,"data-position":this.props.dataPosition,"data-tooltip":this.props.dataTooltip},n,r.createElement("input",{ref:"input",id:a,type:this.props.type,className:t,placeholder:this.props.placeholder,value:this.state.value,disabled:this.props.disabled,onClick:this.props.onClick,onChange:this.changeValue}),r.createElement("label",{htmlFor:a,className:s,"data-error":this.getErrorMessage(),"data-success":this.props.successText},this.props.label),l)}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(721),o=r(i),s=n(1),a=n(669),l=n(723),c=n(724),u=n(284),h=n(676),d=s.createClass({displayName:"Select",mixins:[h,a.Mixin],propTypes:{emptyText:s.PropTypes.string,defaultValue:s.PropTypes.string,name:s.PropTypes.string,className:s.PropTypes.string,options:s.PropTypes.array,dataTooltip:s.PropTypes.string,dataDelay:s.PropTypes.number,dataPosition:s.PropTypes.string,label:s.PropTypes.string,successText:s.PropTypes.string,id:s.PropTypes.string,onChange:s.PropTypes.func,startEmpty:s.PropTypes.bool,icon:s.PropTypes.string,note:s.PropTypes.string},getDefaultProps:function(){return{startEmpty:!0,emptyText:"Choose an Option",name:"select-box",id:"select-box",options:[],dataDelay:100}},getInitialState:function(){return{note:this.props.note}},setNote:function(e){var t=c(l(this.props.options,{value:e}),"note");t&&this.setState({note:t})},handleSelectChange:function(e){var t=e.value;this.setValue(t),this.setNote(t),this.props.onChange&&this.props.onChange(t)},componentWillMount:function(){this.setValue(this.props.defaultValue),this.setNote(this.props.defaultValue)},componentWillReceiveProps:function(e){e.startEmpty||this.props.defaultValue==e.defaultValue||(this.setValue(e.defaultValue),this.setNote(e.defaultValue))},validate:function(){return!this.isRequired()||!(!this.getValue()||""===this.getValue())},render:function(){var e=u("input-field",{tooltipped:!!this.props.dataTooltip}),t=this.getValue(),n="";this.state.note&&(n=s.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.note}}));var r="";return this.props.icon&&(r=s.createElement("i",{className:"material-icons prefix"},this.props.icon)),s.createElement("div",{className:this.props.className},s.createElement("div",{className:e,id:this.props.id,"data-delay":this.props.dataDelay,"data-position":this.props.dataPosition,"data-tooltip":this.props.dataTooltip},r,s.createElement(o.default,{label:this.props.emptyText,resetLabel:this.props.emptyText,defaultValue:t,onChange:this.handleSelectChange},this.props.options.map(function(e,t){return s.createElement("option",{key:t,dataValue:e.value},e.label)})),s.createElement("label",{htmlFor:this.props.name,"data-error":this.getErrorMessage(),"data-success":this.props.successText},this.props.label)),n)}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(722),o=r(i);t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),h=n(284),d=r(h),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=null;return e.defaultValue&&(r=n.getOptions().find(function(t){return t.key===e.defaultValue})),n.state={isOpen:!1,rmsListTopValue:0,isSelected:r,selected:{label:r?r.label:e.label,value:r?r.key:e.defaultValue}},n.mounted=!0,n.handleDocumentClick=n.handleDocumentClick.bind(n),n.fireChangeEvent=n.fireChangeEvent.bind(n),n.handleToggleSelect=n.handleToggleSelect.bind(n),n.handleOptionClick=n.handleOptionClick.bind(n),n.handleResetSelect=n.handleResetSelect.bind(n),n.changeState=n.changeState.bind(n),n.getValue=n.getValue.bind(n),n.countTopRmsList=n.countTopRmsList.bind(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentDidUpdate",value:function(e,t){this.refs.rmsList&&t.isOpen!==this.state.isOpen&&this.countTopRmsList()}},{key:"getValue",value:function(){return this.state.selected.value}},{key:"getLabel",value:function(){return this.state.selected.label}},{key:"handleToggleSelect",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"handleOptionClick",value:function(e){var t=e.target.attributes.data.value,n=void 0;this.props.children instanceof Array?n=this.props.children[e.target.value].props.children:this.props.children&&(n=this.props.children.props.children),this.changeState({isOpen:!1,isSelected:t,selected:{value:t,label:n}})}},{key:"changeState",value:function(e){this.fireChangeEvent(e),this.setState(e)}},{key:"handleResetSelect",value:function(){this.changeState({isOpen:!1,isSelected:null,selected:{value:"",label:""}})}},{key:"handleDocumentClick",value:function(e){this.mounted&&(this.refs.rmsWrapper.contains(e.target)||this.setState({isOpen:!1}))}},{key:"fireChangeEvent",value:function(e){e.selected.value!==this.state.selected.value&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"getOptions",value:function(){return this.props.children instanceof Array?this.props.children.map(function(e){return{key:e.props.dataValue,label:e.props.children}}):this.props.children?[{key:this.props.children.props.dataValue,label:this.props.children.props.children}]:[]}},{key:"countTopRmsList",value:function(){var e=40;this.setState({rmsListTopValue:document.body.offsetHeight-this.refs.rmsList.getBoundingClientRect().bottom>this.refs.rmsList.offsetHeight?0:-this.refs.rmsList.offsetHeight/2-e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.resetLabel,i=(0,d.default)("rms-text",{"rms-text__empty":!this.state.isSelected});return u.default.createElement("div",{className:"rms-wrapper",ref:"rmsWrapper"},u.default.createElement("div",{className:i,onClick:this.handleToggleSelect},u.default.createElement("span",null,this.state.selected.label?this.state.selected.label:n)),u.default.createElement("label",{className:"rms-label"},n),u.default.createElement("i",{className:"rms-caret"},"arrow_drop_down"),this.state.isOpen&&u.default.createElement("ul",{ref:"rmsList",className:"rms-list",style:{top:this.state.rmsListTopValue}},r&&u.default.createElement("li",{className:"rms-item rms-item__reset",onMouseDown:this.handleResetSelect,onClick:this.handleResetSelect},r),this.getOptions().map(function(t,n){var r=(0,d.default)("rms-item",{"rms-item__active":t.selected});return u.default.createElement("li",{key:"reactMaterialSelect_"+n,className:r,value:n,data:t.key,onMouseDown:e.handleOptionClick,onClick:e.handleOptionClick},t.label)})))}}]),t}(c.Component);p.propTypes={children:c.PropTypes.oneOfType([c.PropTypes.array,c.PropTypes.object]).isRequired,defaultValue:c.PropTypes.string,resetLabel:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.bool]),onChange:c.PropTypes.func,label:c.PropTypes.string},p.defaultProps={resetLabel:"No value"},t.default=p},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function o(e){return function(t){return null==t?void 0:t[e]}}function s(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function a(e){return function(t){return e(t)}}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function h(e,t){return function(n){return e(t(n))}}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(){this.__data__=dn?dn(null):{}}function g(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(dn){var n=t[e];return n===Ue?void 0:n}return Jt.call(t,e)?t[e]:void 0}function v(e){var t=this.__data__;return dn?void 0!==t[e]:Jt.call(t,e)}function y(e,t){var n=this.__data__;return n[e]=dn&&void 0===t?Ue:t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(){this.__data__=[]}function x(e){var t=this.__data__,n=z(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rn.call(t,n,1),!0}function _(e){var t=this.__data__,n=z(t,e);return n<0?void 0:t[n][1]}function E(e){return z(this.__data__,e)>-1}function C(e,t){var n=this.__data__,r=z(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(){this.__data__={hash:new p,map:new(ln||b),string:new p}}function A(e){return ae(this,e).delete(e)}function T(e){return ae(this,e).get(e)}function F(e){return ae(this,e).has(e)}function L(e,t){return ae(this,e).set(e,t),this}function R(e){var t=-1,n=e?e.length:0;for(this.__data__=new S;++t<n;)this.add(e[t])}function M(e){return this.__data__.set(e,Ue),this}function I(e){return this.__data__.has(e)}function D(e){this.__data__=new b(e)}function N(){this.__data__=new b}function P(e){return this.__data__.delete(e)}function O(e){return this.__data__.get(e)}function B(e){return this.__data__.has(e)}function $(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!ln||r.length<je-1)return r.push([e,t]),this;n=this.__data__=new S(r)}return n.set(e,t),this}function j(e,t){var n=Cn(e)||Ee(e)?s(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Jt.call(e,o)||i&&("length"==o||he(o,r))||n.push(o);return n}function z(e,t){for(var n=e.length;n--;)if(_e(e[n][0],t))return n;return-1}function U(e,t){t=de(t,e)?[t]:ne(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[ye(t[n++])];return n&&n==r?e:void 0}function V(e){return Zt.call(e)}function W(e,t){return null!=e&&t in Object(e)}function q(e,t,n,r,i){return e===t||(null==e||null==t||!Te(e)&&!Fe(t)?e!==e&&t!==t:H(e,t,q,n,r,i))}function H(e,t,n,r,i,o){var s=Cn(e),a=Cn(t),l=Xe,u=Xe;s||(l=xn(e),l=l==Ye?it:l),a||(u=xn(t),u=u==Ye?it:u);var h=l==it&&!c(e),d=u==it&&!c(t),p=l==u;if(p&&!h)return o||(o=new D),s||Sn(e)?ie(e,t,n,r,i,o):oe(e,t,l,n,r,i,o);if(!(i&We)){var f=h&&Jt.call(e,"__wrapped__"),g=d&&Jt.call(t,"__wrapped__");if(f||g){var m=f?e.value():e,v=g?t.value():t;return o||(o=new D),n(m,v,r,i,o)}}return!!p&&(o||(o=new D),se(e,t,n,r,i,o))}function G(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new D;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?q(u,c,r,Ve|We,h):d))return!1}}return!0}function K(e){if(!Te(e)||fe(e))return!1;var t=ke(e)||c(e)?Qt:Rt;return t.test(be(e))}function Y(e){return Fe(e)&&Ae(e.length)&&!!Dt[Zt.call(e)]}function X(e){return"function"==typeof e?e:null==e?Be:"object"==typeof e?Cn(e)?Q(e[0],e[1]):Z(e):$e(e)}function J(e){if(!ge(e))return on(e);var t=[];for(var n in Object(e))Jt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Z(e){var t=le(e);return 1==t.length&&t[0][2]?ve(t[0][0],t[0][1]):function(n){return n===e||G(n,e,t)}}function Q(e,t){return de(e)&&me(t)?ve(ye(e),t):function(n){var r=Ne(n,e);return void 0===r&&r===t?Pe(n,e):q(t,r,void 0,Ve|We)}}function ee(e){return function(t){return U(t,e)}}function te(e){if("string"==typeof e)return e;if(Le(e))return wn?wn.call(e):"";var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function ne(e){return Cn(e)?e:_n(e)}function re(e){return function(t,n,r){var i=Object(t);if(!Ce(t)){var o=X(n,3);t=Oe(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function ie(e,t,n,i,o,s){var a=o&We,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var h=-1,d=!0,p=o&Ve?new R:void 0;for(s.set(e,t),s.set(t,e);++h<l;){var f=e[h],g=t[h];if(i)var m=a?i(g,f,h,t,e,s):i(f,g,h,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!r(t,function(e,t){if(!p.has(t)&&(f===e||n(f,e,i,o,s)))return p.add(t)})){d=!1;break}}else if(f!==g&&!n(f,g,i,o,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function oe(e,t,n,r,i,o,s){switch(n){case dt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ht:return!(e.byteLength!=t.byteLength||!r(new tn(e),new tn(t)));case Je:case Ze:case rt:return _e(+e,+t);case Qe:return e.name==t.name&&e.message==t.message;case st:case lt:return e==t+"";case nt:var a=u;case at:var l=o&We;if(a||(a=d),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;o|=Ve,s.set(e,t);var h=ie(a(e),a(t),r,i,o,s);return s.delete(e),h;case ct:if(bn)return bn.call(e)==bn.call(t)}return!1}function se(e,t,n,r,i,o){var s=i&We,a=Oe(e),l=a.length,c=Oe(t),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in t:Jt.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var g=s;++h<l;){d=a[h];var m=e[d],v=t[d];if(r)var y=s?r(v,m,d,t,e,o):r(m,v,d,e,t,o);if(!(void 0===y?m===v||n(m,v,r,i,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o.delete(e),o.delete(t),f}function ae(e,t){var n=e.__data__;return pe(t)?n["string"==typeof t?"string":"hash"]:n.map}function le(e){for(var t=Oe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,me(i)]}return t}function ce(e,t){var n=l(e,t);return K(n)?n:void 0}function ue(e,t,n){t=de(t,e)?[t]:ne(t);for(var r,i=-1,o=t.length;++i<o;){var s=ye(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}if(r)return r;var o=e?e.length:0;return!!o&&Ae(o)&&he(s,o)&&(Cn(e)||Ee(e))}function he(e,t){return t=null==t?He:t,!!t&&("number"==typeof e||It.test(e))&&e>-1&&e%1==0&&e<t}function de(e,t){if(Cn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Le(e))||(Et.test(e)||!_t.test(e)||null!=t&&e in Object(t))}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fe(e){return!!Yt&&Yt in e}function ge(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Gt;return e===n}function me(e){return e===e&&!Te(e)}function ve(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function ye(e){if("string"==typeof e||Le(e))return e;var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function be(e){if(null!=e){try{return Xt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function we(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:Me(n);return o<0&&(o=sn(r+o,0)),i(e,X(t,3),o)}function xe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(ze);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(xe.Cache||S),n}function _e(e,t){return e===t||e!==e&&t!==t}function Ee(e){return Se(e)&&Jt.call(e,"callee")&&(!nn.call(e,"callee")||Zt.call(e)==Ye)}function Ce(e){return null!=e&&Ae(e.length)&&!ke(e)}function Se(e){return Fe(e)&&Ce(e)}function ke(e){var t=Te(e)?Zt.call(e):"";return t==et||t==tt}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=He}function Te(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fe(e){return!!e&&"object"==typeof e}function Le(e){return"symbol"==typeof e||Fe(e)&&Zt.call(e)==ct}function Re(e){if(!e)return 0===e?e:0;if(e=Ie(e),e===qe||e===-qe){var t=e<0?-1:1;return t*Ge}return e===e?e:0}function Me(e){var t=Re(e),n=t%1;return t===t?n?t-n:t:0}function Ie(e){if("number"==typeof e)return e;if(Le(e))return Ke;if(Te(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Te(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(At,"");var n=Lt.test(e);return n||Mt.test(e)?Nt(e.slice(2),n?2:8):Ft.test(e)?Ke:+e}function De(e){return null==e?"":te(e)}function Ne(e,t,n){var r=null==e?void 0:U(e,t);return void 0===r?n:r}function Pe(e,t){return null!=e&&ue(e,t,W)}function Oe(e){return Ce(e)?j(e):J(e)}function Be(e){return e}function $e(e){return de(e)?o(ye(e)):ee(e)}var je=200,ze="Expected a function",Ue="__lodash_hash_undefined__",Ve=1,We=2,qe=1/0,He=9007199254740991,Ge=1.7976931348623157e308,Ke=NaN,Ye="[object Arguments]",Xe="[object Array]",Je="[object Boolean]",Ze="[object Date]",Qe="[object Error]",et="[object Function]",tt="[object GeneratorFunction]",nt="[object Map]",rt="[object Number]",it="[object Object]",ot="[object Promise]",st="[object RegExp]",at="[object Set]",lt="[object String]",ct="[object Symbol]",ut="[object WeakMap]",ht="[object ArrayBuffer]",dt="[object DataView]",pt="[object Float32Array]",ft="[object Float64Array]",gt="[object Int8Array]",mt="[object Int16Array]",vt="[object Int32Array]",yt="[object Uint8Array]",bt="[object Uint8ClampedArray]",wt="[object Uint16Array]",xt="[object Uint32Array]",_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,Ct=/^\./,St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,At=/^\s+|\s+$/g,Tt=/\\(\\)?/g,Ft=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Rt=/^\[object .+?Constructor\]$/,Mt=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,Dt={};Dt[pt]=Dt[ft]=Dt[gt]=Dt[mt]=Dt[vt]=Dt[yt]=Dt[bt]=Dt[wt]=Dt[xt]=!0,Dt[Ye]=Dt[Xe]=Dt[ht]=Dt[Je]=Dt[dt]=Dt[Ze]=Dt[Qe]=Dt[et]=Dt[nt]=Dt[rt]=Dt[it]=Dt[st]=Dt[at]=Dt[lt]=Dt[ut]=!1;var Nt=parseInt,Pt="object"==typeof e&&e&&e.Object===Object&&e,Ot="object"==typeof self&&self&&self.Object===Object&&self,Bt=Pt||Ot||Function("return this")(),$t="object"==typeof t&&t&&!t.nodeType&&t,jt=$t&&"object"==typeof n&&n&&!n.nodeType&&n,zt=jt&&jt.exports===$t,Ut=zt&&Pt.process,Vt=function(){try{return Ut&&Ut.binding("util")}catch(e){}}(),Wt=Vt&&Vt.isTypedArray,qt=Array.prototype,Ht=Function.prototype,Gt=Object.prototype,Kt=Bt["__core-js_shared__"],Yt=function(){var e=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xt=Ht.toString,Jt=Gt.hasOwnProperty,Zt=Gt.toString,Qt=RegExp("^"+Xt.call(Jt).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=Bt.Symbol,tn=Bt.Uint8Array,nn=Gt.propertyIsEnumerable,rn=qt.splice,on=h(Object.keys,Object),sn=Math.max,an=ce(Bt,"DataView"),ln=ce(Bt,"Map"),cn=ce(Bt,"Promise"),un=ce(Bt,"Set"),hn=ce(Bt,"WeakMap"),dn=ce(Object,"create"),pn=be(an),fn=be(ln),gn=be(cn),mn=be(un),vn=be(hn),yn=en?en.prototype:void 0,bn=yn?yn.valueOf:void 0,wn=yn?yn.toString:void 0;p.prototype.clear=f,p.prototype.delete=g,p.prototype.get=m,p.prototype.has=v,p.prototype.set=y,b.prototype.clear=w,b.prototype.delete=x,b.prototype.get=_,b.prototype.has=E,b.prototype.set=C,S.prototype.clear=k,S.prototype.delete=A,S.prototype.get=T,S.prototype.has=F,S.prototype.set=L,R.prototype.add=R.prototype.push=M,R.prototype.has=I,D.prototype.clear=N,D.prototype.delete=P,D.prototype.get=O,D.prototype.has=B,D.prototype.set=$;var xn=V;(an&&xn(new an(new ArrayBuffer(1)))!=dt||ln&&xn(new ln)!=nt||cn&&xn(cn.resolve())!=ot||un&&xn(new un)!=at||hn&&xn(new hn)!=ut)&&(xn=function(e){var t=Zt.call(e),n=t==it?e.constructor:void 0,r=n?be(n):void 0;if(r)switch(r){case pn:return dt;case fn:return nt;case gn:return ot;case mn:return at;case vn:return ut}return t});var _n=xe(function(e){e=De(e);var t=[];return Ct.test(e)&&t.push(""),e.replace(St,function(e,n,r,i){t.push(r?i.replace(Tt,"$1"):n||e)}),t}),En=re(we);xe.Cache=S;var Cn=Array.isArray,Sn=Wt?a(Wt):Y;n.exports=En}).call(t,function(){return this}(),n(611)(e))},function(e,t){(function(t){function n(e,t){return null==e?void 0:e[t]}function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(){this.__data__=ge?ge(null):{}}function s(e){return this.has(e)&&delete this.__data__[e]}function a(e){var t=this.__data__;if(ge){var n=t[e];return n===U?void 0:n}return ce.call(t,e)?t[e]:void 0}function l(e){var t=this.__data__;return ge?void 0!==t[e]:ce.call(t,e)}function c(e,t){var n=this.__data__;return n[e]=ge&&void 0===t?U:t,this}function u(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=[]}function d(e){var t=this.__data__,n=_(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():pe.call(t,n,1),!0}function p(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]}function f(e){return _(this.__data__,e)>-1}function g(e,t){var n=this.__data__,r=_(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function v(){this.__data__={hash:new i,map:new(fe||u),string:new i}}function y(e){return k(this,e).delete(e)}function b(e){return k(this,e).get(e)}function w(e){return k(this,e).has(e)}function x(e,t){return k(this,e).set(e,t),this}function _(e,t){for(var n=e.length;n--;)if(D(e[n][0],t))return n;return-1}function E(e){if(!P(e)||L(e))return!1;var t=N(e)||r(e)?he:Q;return t.test(M(e))}function C(e){if("string"==typeof e)return e;if(B(e))return ve?ve.call(e):"";var t=e+"";return"0"==t&&1/e==-V?"-0":t}function S(e){return be(e)?e:ye(e)}function k(e,t){var n=e.__data__;return F(t)?n["string"==typeof t?"string":"hash"]:n.map}function A(e,t){var r=n(e,t);return E(r)?r:void 0}function T(e,t){if(be(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!B(e))||(K.test(e)||!G.test(e)||null!=t&&e in Object(t));
}function F(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function L(e){return!!ae&&ae in e}function R(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-V?"-0":t}function M(e){if(null!=e){try{return le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function I(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(z);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(I.Cache||m),n}function D(e,t){return e===t||e!==e&&t!==t}function N(e){var t=P(e)?ue.call(e):"";return t==W||t==q}function P(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function O(e){return!!e&&"object"==typeof e}function B(e){return"symbol"==typeof e||O(e)&&ue.call(e)==H}function $(e){return null==e?"":C(e)}function j(e,t,n){t=T(t,e)?[t]:S(t);var r=-1,i=t.length;for(i||(e=void 0,i=1);++r<i;){var o=null==e?void 0:e[R(t[r])];void 0===o&&(r=i,o=n),e=N(o)?o.call(e):o}return e}var z="Expected a function",U="__lodash_hash_undefined__",V=1/0,W="[object Function]",q="[object GeneratorFunction]",H="[object Symbol]",G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,Y=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,Z=/\\(\\)?/g,Q=/^\[object .+?Constructor\]$/,ee="object"==typeof t&&t&&t.Object===Object&&t,te="object"==typeof self&&self&&self.Object===Object&&self,ne=ee||te||Function("return this")(),re=Array.prototype,ie=Function.prototype,oe=Object.prototype,se=ne["__core-js_shared__"],ae=function(){var e=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),le=ie.toString,ce=oe.hasOwnProperty,ue=oe.toString,he=RegExp("^"+le.call(ce).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=ne.Symbol,pe=re.splice,fe=A(ne,"Map"),ge=A(Object,"create"),me=de?de.prototype:void 0,ve=me?me.toString:void 0;i.prototype.clear=o,i.prototype.delete=s,i.prototype.get=a,i.prototype.has=l,i.prototype.set=c,u.prototype.clear=h,u.prototype.delete=d,u.prototype.get=p,u.prototype.has=f,u.prototype.set=g,m.prototype.clear=v,m.prototype.delete=y,m.prototype.get=b,m.prototype.has=w,m.prototype.set=x;var ye=I(function(e){e=$(e);var t=[];return Y.test(e)&&t.push(""),e.replace(X,function(e,n,r,i){t.push(r?i.replace(Z,"$1"):n||e)}),t});I.Cache=m;var be=Array.isArray;e.exports=j}).call(t,function(){return this}())},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(284),s=n(168),a=n(676),l=r.createClass({displayName:"TextArea",mixins:[a,i.Mixin],propTypes:{length:r.PropTypes.number,value:r.PropTypes.string,icon:r.PropTypes.string,className:r.PropTypes.string,dataTooltip:r.PropTypes.string,dataDelay:r.PropTypes.number,dataPosition:r.PropTypes.string,name:r.PropTypes.string,label:r.PropTypes.string},getDefaultProps:function(){return{length:0,value:"",dataDelay:100}},getInitialState:function(){return{value:this.props.value,charCount:this.props.value?this.props.value.length:0}},componentDidMount:function(){this.props.dataTooltip&&s(this.refs.inputWrapper).tooltip()},componentWillReceiveProps:function(e){if(this.props.value!=e.value){var t=0;e.value&&(t=e.value.length),this.setState({value:e.value,charCount:t})}},changeValue:function(e){e.stopPropagation(),this.setValue(e.currentTarget.value),this.setState({value:e.currentTarget.value,charCount:e.currentTarget.value.length})},render:function(){var e=o("input-field",this.props.className),t=o("materialize-textarea",{required:this.showRequired(),valid:this.isValid(),invalid:this.showError()}),n="";this.props.icon&&(n=r.createElement("i",{className:"material-icons prefix"},this.props.icon));var i="black";this.state.charCount>this.props.length&&(i="red");var s="";return this.state.value&&""!=this.state.value&&(s="active"),r.createElement("div",{ref:"inputWrapper",className:e,"data-delay":this.props.dataDelay,"data-position":this.props.dataPosition,"data-tooltip":this.props.dataTooltip},n,r.createElement("textarea",{ref:"textarea",id:this.props.name,className:t,value:this.state.value,onChange:this.changeValue}),r.createElement("label",{htmlFor:this.props.name,className:s,"data-error":this.getErrorMessage(),"data-success":""},this.props.label),r.createElement("span",{className:"character-counter",style:{float:"right",fontSize:"12px",height:"1px",color:i}},this.state.charCount," / ",this.props.length))}});e.exports=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(284),s=n(865),a=n(167),l=n(942),c=n(964),u=n(968),h=n(170),d=n(189)(h),p=n(951),f=n(201),g=n(266),m=n(268),v=r.createClass({displayName:"CreateLayer",mixins:[d.connect(p,{initWithProps:["groups","layer"]}),d.connect(g,{initWithProps:["locale","_csrf"]})],__:function(e){return m.getLocaleString(this.state.locale,e)},propTypes:{groups:r.PropTypes.array,layer:r.PropTypes.object.isRequired,locale:r.PropTypes.string.isRequired},getDefaultProps:function(){return{groups:[]}},getInitialState:function(){return{step:1}},componentDidMount:function(){var e=this;window.onunload=function(){e.state.layer.layer_id&&e.state.layer.layer_id!=-1&&!e.state.layer.complete&&i.ajax({type:"POST",url:"/api/layer/admin/delete",contentType:"application/json;charset=UTF-8",dataType:"json",data:JSON.stringify({layer_id:e.state.layer.layer_id,_csrf:e.state._csrf}),async:!1,success:function(){},error:function(e){f(e)}})},window.onbeforeunload=function(){return e.state.layer.layer_id&&e.state.layer.layer_id!=-1&&!e.state.layer.complete?e.__("You have not finished creating your layer, if you leave now your layer will be deleted."):e.state.layer.layer_id&&e.state.layer.layer_id!=-1?void 0:e.__("You have not finished creating your layer.")}},submit:function(e,t){window.location="/layer/info/"+e+"/"+s(t)},nextStep:function(){this.setState({step:this.state.step+1})},prevStep:function(){this.setState({step:this.state.step-1})},render:function(){if(!this.state.groups||0==this.state.groups.length)return r.createElement("div",null,r.createElement(a,null),r.createElement("main",null,r.createElement("div",{className:"container"},r.createElement("div",{className:"row"},r.createElement("h5",null,this.__("Please Join a Group")),r.createElement("p",null,this.__("Please create or join a group before creating a layer."))))));var e=this.__("Step")+" "+this.state.step,t="",n=o("determinate",t),i="";1===this.state.step&&(t="width-25",i=r.createElement(l,{onSubmit:this.nextStep}));var s="";2===this.state.step&&(t="width-50",s=r.createElement(c,{groups:this.props.groups,showPrev:!0,onPrev:this.prevStep,onSubmit:this.nextStep}));var h="";return 3===this.state.step&&(t="width-75",h=r.createElement(u,{showPrev:!0,onPrev:this.prevStep,onSubmit:this.submit})),r.createElement("div",null,r.createElement(a,null),r.createElement("main",null,r.createElement("div",{style:{marginLeft:"10px",marginRight:"10px"}},r.createElement("h5",null,this.__("Create Layer")),r.createElement("div",{className:"row center no-margin"},r.createElement("b",null,e),r.createElement("div",{className:"progress"},r.createElement("div",{className:n}))),i,s,h)))}});e.exports=v},function(e,t,n){"use strict";var r=n(1),i=(n(284),n(281)),o=n(170),s=n(189)(o),a=n(266),l=n(943),c=n(944),u=n(286),h=n(945),d=r.createClass({displayName:"Step1",mixins:[s.connect(a),l],propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},getInitialState:function(){return{created:!1,canSubmit:!1,selectedSource:"local"}},sourceChange:function(e){this.setState({selectedSource:e})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},onSubmit:function(){this.props.onSubmit()},cancelCallback:function(){this.setState({warnIfUnsaved:!1}),i.showNotification({message:this.__("Layer Cancelled"),onDismiss:function(){window.location="/layers"}})},onCancel:function(){var e=this;e.state.created?c.cancelLayer(this.state._csrf,function(t){t?u.showMessage({title:e.__("Error"),message:t}):e.cancelCallback()}):e.cancelCallback()},render:function(){return r.createElement("div",{className:"row"},r.createElement(h,{onPrev:this.onPrev,onSubmit:this.onSubmit,showCancel:!0,cancelText:this.__("Cancel"),onCancel:this.onCancel}))}});e.exports=d},function(e,t,n){"use strict";var r=n(268),i={__:function(e){return r.getLocaleString(this.state.locale,e)}};e.exports=i},function(e,t,n){"use strict";var r=n(170),i=r.createActions({loadLayer:{},saveSettings:{},saveDataSettings:{},saveStyle:{},loadData:{},initEmptyLayer:{},deleteData:{},deleteLayer:{},cancelLayer:{},createLayer:{},setStyle:{},dataLoaded:{},tileServiceInitialized:{},setDataType:{},resetStyle:{},setComplete:{},finishUpload:{}});e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(170),o=n(189)(i),s=n(266),a=n(943),l=n(946),c=n(963),u=r.createClass({displayName:"CreateLayer",mixins:[o.connect(s),a,l],propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func,onCancel:r.PropTypes.func},getInitialState:function(){return{canSubmit:!1,source:""}},selectSource:function(e){this.setState({source:e})},onCancel:function(){this.props.onCancel&&this.props.onCancel()},onPrev:function(){this.props.onPrev&&this.props.onPrev()},onSubmit:function(){this.props.onSubmit()},render:function(){var e=this.getSource(this.state.source),t="";return MAPHUBS_CONFIG.mapHubsPro&&(t=r.createElement("div",{className:"col s6 m3 l2"},r.createElement(c,{name:this.__("Planet API"),value:"planet",selected:"planet"===this.state.source,icon:"cloud_download",onSelect:this.selectSource}))),r.createElement("div",null,r.createElement("div",{className:"row",style:{maxWidth:"500px",margin:"auto"}},r.createElement("div",{className:"col s6 m4 l4"},r.createElement(c,{name:this.__("New Point(s)"),value:"point",selected:"point"===this.state.source,icon:"place",onSelect:this.selectSource})),r.createElement("div",{className:"col s6 m4 l4"},r.createElement(c,{name:this.__("New Line(s)"),value:"line",selected:"line"===this.state.source,icon:"timeline",onSelect:this.selectSource})),r.createElement("div",{className:"col s6 m4 l4"},r.createElement(c,{name:this.__("New Polygon(s)"),value:"polygon",selected:"polygon"===this.state.source,icon:"crop_din",onSelect:this.selectSource}))),r.createElement("div",{className:"row",style:{maxWidth:"800px",margin:"auto"}},r.createElement("div",{className:"col s6 m3 l2"},r.createElement(c,{name:this.__("Upload File"),value:"local",selected:"local"===this.state.source,icon:"file_upload",onSelect:this.selectSource})),r.createElement("div",{className:"col s6 m3 l2"},r.createElement(c,{name:this.__("GeoJSON URL"),value:"geojson",selected:"gejosn"===this.state.source,icon:"cloud_download",onSelect:this.selectSource})),r.createElement("div",{className:"col s6 m3 l2"},r.createElement(c,{name:this.__("Mapbox Styles"),value:"mapbox",selected:"mapbox"===this.state.source,icon:"cloud_download",onSelect:this.selectSource})),r.createElement("div",{className:"col s6 m3 l2"},r.createElement(c,{name:this.__("Raster Tiles"),value:"raster",selected:"raster"===this.state.source,icon:"cloud_download",onSelect:this.selectSource})),r.createElement("div",{className:"col s6 m3 l2"},r.createElement(c,{name:this.__("Vector Tiles"),value:"vector",selected:"vector"===this.state.source,icon:"cloud_download",onSelect:this.selectSource})),r.createElement("div",{className:"col s6 m3 l2"},r.createElement(c,{name:this.__("ArcGIS Services"),value:"ags",selected:"ags"===this.state.source,icon:"cloud_download",onSelect:this.selectSource})),t),r.createElement("div",{className:"divider"}),r.createElement("div",{className:"container"},e))}});e.exports=u},function(e,t,n){"use strict";var r=n(1),i=n(947),o=n(955),s=n(956),a=n(957),l=n(958),c=n(959),u=n(960),h=n(961);n(962);var d={getSource:function(e){return"local"===e?r.createElement(i,{showPrev:!0,onPrev:this.onPrev,onSubmit:this.onSubmit}):"geojson"===e?r.createElement(c,{showPrev:!0,onPrev:this.onPrev,onSubmit:this.onSubmit}):"mapbox"===e?r.createElement(s,{showPrev:!0,onPrev:this.onPrev,onSubmit:this.onSubmit}):"raster"===e?r.createElement(a,{showPrev:!0,onPrev:this.onPrev,onSubmit:this.onSubmit}):"vector"===e?r.createElement(l,{showPrev:!0,onPrev:this.onPrev,onSubmit:this.onSubmit}):"ags"===e?r.createElement(u,{showPrev:!0,onPrev:this.onPrev,onSubmit:this.onSubmit}):"planet"===e?r.createElement(h,{showPrev:!0,onPrev:this.onPrev,onSubmit:this.onSubmit}):"point"===e||"line"===e||"polygon"===e?r.createElement(o,{showPrev:!0,type:e,onPrev:this.onPrev,onSubmit:this.onSubmit}):""}};e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(604),o=r(i),s=n(1),a=n(28),l=n(170),c=n(189)(l),u=n(168),h=n(948),d=n(605),p=n(281),f=n(951),g=n(952),m=n(944),v=n(286),y=n(954),b=n(266),w=n(268),x=s.createClass({displayName:"UploadLocalSource",mixins:[c.connect(f),c.connect(b)],__:function(e){return w.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:s.PropTypes.func.isRequired,showPrev:s.PropTypes.bool,onPrev:s.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},getInitialState:function(){return{canSubmit:!1,geoJSON:null,largeData:!1,processing:!1}},componentDidMount:function(){u("select").material_select()},componentDidUpdate:function(){if(this.state.geoJSON){var e=u(a.findDOMNode(this.refs.map));u("html,body").animate({scrollTop:e.offset().top},1e3)}this.state.multipleShapefiles&&this.refs.chooseshape.show()},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},onSubmit:function(){var e=this,t={is_external:!1,external_layer_type:"",external_layer_config:{}};m.saveDataSettings(t,e.state._csrf,function(t){t?v.showMessage({title:e.__("Error"),message:t}):(g.setLayerId(e.state.layer.layer_id),p.showNotification({message:e.__("Layer Saved"),dismissAfter:1e3,onDismiss:e.props.onSubmit}))})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},onUpload:function(e){var t=this;e.success?(this.setState({geoJSON:e.geoJSON,canSubmit:!0,largeData:e.largeData}),g.setImportedTags(e.uniqueProps),m.setDataType(e.data_type)):"MULTIPLESHP"==e.code?this.setState({multipleShapefiles:e.value}):v.showMessage({title:t.__("Error"),message:e.error}),this.setState({processing:!1})},onUploadError:function(e){v.showMessage({title:this.__("Error"),message:e})},finishUpload:function(e){var t=this;m.finishUpload(e,this.state._csrf,function(e,n){n.success?(t.setState({geoJSON:n.geoJSON,canSubmit:!0,multipleShapefiles:null}),g.setImportedTags(n.uniqueProps),m.setDataType(n.data_type)):v.showMessage({title:t.__("Error"),message:n.error})})},onProcessingStart:function(){this.setState({processing:!0})},render:function(){var e="";this.props.showPrev&&(e=s.createElement("div",{className:"left"},s.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},s.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step"))));var t="/api/layer/"+this.state.layer.layer_id+"/upload",n="";this.state.largeData&&(n=s.createElement("p",null,this.__("Data Uploaded Successfully. Large dataset detected, you will be able to preview the data in Step 5 after it is loaded.")));var r="";this.state.geoJSON&&(r=s.createElement("div",null,s.createElement("p",null,this.__("Please review the data on the map to confirm the upload was successful.")),s.createElement(d,{ref:"map",style:{width:"100%",height:"400px"},showFeatureInfoEditButtons:!1,data:this.state.geoJSON})));var i="";if(this.state.multipleShapefiles){var a=[];this.state.multipleShapefiles.forEach(function(e){a.push({value:e,label:e})}),i=s.createElement(y,{ref:"chooseshape",title:this.__("Multiple Shapefiles Found - Please Select One"),options:a,onSubmit:this.finishUpload})}return s.createElement("div",{className:"row"},s.createElement(o.default,{id:"upload-process-progess",title:this.__("Processing Data"),subTitle:"",dismissible:!1,show:this.state.processing}),s.createElement("div",null,s.createElement("p",null,this.__("Upload File: Shapefile(Zip), GeoJSON, KML, GPX (tracks or waypoints), or CSV (with Lat/Lon fields)")),s.createElement("div",{className:"row"},s.createElement(h,{onUpload:this.onUpload,onFinishTx:this.onProcessingStart,onError:this.onUploadError,action:t})),s.createElement("div",{className:"row"},n,r),i),e,s.createElement("div",{className:"right"},s.createElement("button",{className:"waves-effect waves-light btn",disabled:!this.state.canSubmit,onClick:this.onSubmit},s.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue"))))}});e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(949),o=r(i),s=n(1),a=n(201)("FileUpload"),l=n(170),c=n(189)(l),u=n(266),h=n(268),d=s.createClass({displayName:"File",mixins:[c.connect(u)],__:function(e){return h.getLocaleString(this.state.locale,e)},propTypes:{action:s.PropTypes.string,onUpload:s.PropTypes.func,onChange:s.PropTypes.func,onFinishTx:s.PropTypes.func,onAbort:s.PropTypes.func,onError:s.PropTypes.func,inputStyle:s.PropTypes.object,style:s.PropTypes.object},getDefaultProps:function(){return{inputStyle:{visibility:"hidden",width:"1px"},style:{display:"inline-block"}}},onProgress:function(e,t,n){a("upload progress: "+n),100===n&&this.props.onFinishTx&&this.props.onFinishTx()},onLoad:function(e){var t=e.target.response,n=JSON.parse(t);this.setState({uploading:!1}),this.props.onUpload(n)},onError:function(e,t){this.props.onError&&this.props.onError(e,t)},onAbort:function(e,t){this.props.onAbort&&this.props.onAbort(e,t)},formGetter:function(){return new FormData(document.getElementById("customForm"))},onClick:function(){this.input.click()},customFormRenderer:function(e,t){var n=this,r=function(t){n.props.onChange&&n.props.onChange(),e(t)};return s.createElement("div",{className:"col s12 m4 l3",onClick:t,style:this.props.style},s.createElement("form",{id:"customForm",ref:"form",method:"post",style:{marginBottom:"15px"}},s.createElement("div",{className:"row file-field input-field"},s.createElement("div",{className:"col s12"},s.createElement("div",{className:"btn"},s.createElement("span",null,this.__("Choose File")),s.createElement("input",{type:"file",name:"file",style:this.props.inputStyle,ref:"input",onChange:r}))))))},customProgressRenderer:function(e,t,n){if(t||e>-1){var r=e+"%",i=s.createElement("span",null,r);return t&&(i=s.createElement("span",{style:{color:"#a94442"}},this.__("Failed to upload ..."))),100===e&&(i=s.createElement("span",null,this.__("Done"))),s.createElement("div",{className:"col s12 m8 l9"},s.createElement("div",{className:"progress col s10",style:{marginTop:"18px"}},s.createElement("div",{className:"determinate",style:{width:r}})),s.createElement("div",{className:"col s2"},s.createElement("button",{className:"btn-floating",onClick:n},s.createElement("i",{className:"material-icons"},"close"))),s.createElement("div",{style:{clear:"left",textAlign:"center"}},i))}return s.createElement("div",null)},render:function(){return s.createElement(o.default,{key:"omh",url:this.props.action,onProgress:this.onProgress,onLoad:this.onLoad,onError:this.onError,onAbort:this.onAbort,formGetter:this.formGetter,formRenderer:this.customFormRenderer,progressRenderer:this.customProgressRenderer})}});e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(950),o=r(i);t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(234),u=n(1),h=r(u),d=n(28),p=r(d),f=n(3),g=r(f),m={progressWrapper:{height:"10px",marginTop:"10px",width:"400px",float:"left",overflow:"hidden",backgroundColor:"#f5f5f5",borderRadius:"4px",WebkitBoxShadow:"inset 0 1px 2px rgba(0,0,0,.1)",boxShadow:"inset 0 1px 2px rgba(0,0,0,.1)"},progressBar:{float:"left",width:"0",height:"100%",fontSize:"12px",lineHeight:"20px",color:"#fff",textAlign:"center",backgroundColor:"#337ab7",WebkitBoxShadow:"inset 0 -1px 0 rgba(0,0,0,.15)",boxShadow:"inset 0 -1px 0 rgba(0,0,0,.15)",WebkitTransition:"width .6s ease",Otransition:"width .6s ease",transition:"width .6s ease"},cancelButton:{marginTop:"5px",WebkitAppearance:"none",padding:0,cursor:"pointer",background:"0 0",border:0,float:"left",fontSize:"21px",fontWeight:700,lineHeight:1,color:"#000",textShadow:"0 1px 0 #fff",filter:"alpha(opacity=20)",opacity:".2"}},v=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.proxy=new c.EventEmitter,n.state={progress:-1,hasError:!1},n}return s(t,e),l(t,[{key:"cancelUpload",value:function(){this.proxy.emit("abort"),this.setState({progress:-1,hasError:!1})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({progress:0,hasError:!1},this._doUpload)}},{key:"onFileClick",value:function(){this.refs.input.click()}},{key:"render",value:function(){var e=this.props.formRenderer(this.onSubmit.bind(this),this.onFileClick.bind(this)),t=this.props.progressRenderer(this.state.progress,this.state.hasError,this.cancelUpload.bind(this));return h.default.createElement("div",null,e,t)}},{key:"_getFormData",value:function(){return this.props.formGetter?this.props.formGetter():new FormData(p.default.findDOMNode(this.refs.form))}},{key:"_doUpload",value:function(){var e=this,t=this._getFormData(),n=new XMLHttpRequest;n.open("POST",this.props.url),n.addEventListener("load",function(t){e.proxy.removeAllListeners(["abort"]);var r={progress:100};n.status>=200&&n.status<=299?e.setState(r,function(){e.props.onLoad(t,n)}):(r.hasError=!0,e.setState(r,function(){e.props.onError(t,n)}))},!1),n.addEventListener("error",function(t){e.setState({hasError:!0},function(){e.props.onError(t,n)})},!1),n.upload.addEventListener("progress",function(t){var r=0;0!==t.total&&(r=parseInt(t.loaded/t.total*100)),e.setState({progress:r},function(){e.props.onProgress(t,n,r)})},!1),n.addEventListener("abort",function(t){e.setState({progress:-1},function(){e.props.onAbort(t,n)})},!1),this.proxy.once("abort",function(){n.abort()}),this.props.beforeSend(n).send(this.props.formCustomizer(t))}}]),t}(h.default.Component);v.propTypes={url:h.default.PropTypes.string.isRequired,formGetter:h.default.PropTypes.func,formRenderer:h.default.PropTypes.func,progressRenderer:h.default.PropTypes.func,formCustomizer:h.default.PropTypes.func,beforeSend:h.default.PropTypes.func,onProgress:h.default.PropTypes.func,onLoad:h.default.PropTypes.func,onError:h.default.PropTypes.func,onAbort:h.default.PropTypes.func},v.defaultProps={formRenderer:function(e){return h.default.createElement("form",{className:"_react_fileupload_form_content",ref:"form",method:"post",onSubmit:e},h.default.createElement("div",null,h.default.createElement("input",{type:"file",name:"file"})),h.default.createElement("input",{type:"submit"}))},progressRenderer:function(e,t,n){if(t||e>-1){var r=(0,g.default)({},m.progressBar);r.width=e+"%";var i=h.default.createElement("span",null,"Uploading ...");return t&&(r.backgroundColor="#d9534f",i=h.default.createElement("span",{style:{color:"#a94442"}},"Failed to upload ...")),100===e&&(i=h.default.createElement("span",null,"Successfully uploaded")),h.default.createElement("div",{className:"_react_fileupload_progress_content"},h.default.createElement("div",{style:m.progressWrapper},h.default.createElement("div",{className:"_react_fileupload_progress_bar",style:r})),h.default.createElement("button",{className:"_react_fileupload_progress_cancel",style:m.cancelButton,onClick:n},h.default.createElement("span",null,"×")),h.default.createElement("div",{style:{clear:"left"}},i))}},formCustomizer:function(e){return e},beforeSend:function(e){return e},onProgress:function(e,t,n){},onLoad:function(e,t){},onError:function(e,t){},onAbort:function(e,t){}},t.default=v},function(e,t,n){"use strict";var r=n(170),i=n(189)(r),o=n(944),s=n(952),a=n(196),l=n(696),c=n(608),u=n(205).checkClientError,h=n(201)("layer-store"),d=n(953);e.exports=r.createStore({mixins:[i],listenables:o,getInitialState:function(){return this.listenTo(s.presetsChanged,this.presetsChanged),{layer:d,mapColor:"#FF0000",groups:[]}},getSourceConfig:function(){var e={type:"vector"};return this.state.layer.is_external&&(e=this.state.layer.external_layer_config),e},loadLayer:function(e){var t=this.state.mapColor;e.settings&&e.settings.color&&(t=e.settings.color),this.setState({layer:e,mapColor:t}),this.state.layer.style||this.resetStyleGL(),this.state.layer.legend_html||this.resetLegendHTML(),this.trigger(this.state)},resetStyleGL:function(){var e=this.state.layer,t=c.getBaseUrl();if(e.is_external&&"mapbox-map"==e.external_layer_type)e.style=l.defaultRasterStyle(e.layer_id,e.external_layer_config.url);else if(e.is_external&&"raster"==e.external_layer_config.type)e.style=l.defaultRasterStyle(e.layer_id,t+"/api/layer/"+this.state.layer.layer_id+"/tile.json");else if(e.is_external&&"mapbox-style"==e.external_layer_config.type)e.style=l.getMapboxStyle(e.external_layer_config.mapboxid);else if(e.is_external&&"ags-mapserver-tiles"==e.external_layer_config.type)e.style=l.defaultRasterStyle(e.layer_id,e.external_layer_config.url+"?f=json","arcgisraster");else if(e.is_external&&"geojson"==e.external_layer_config.type)e.style=l.defaultStyle(e.layer_id,this.getSourceConfig(),e.external_layer_config.data_type);else{if(e.style.sources.osm)return void alert("Unable to reset OSM layers");e.style=l.defaultStyle(e.layer_id,this.getSourceConfig(),e.data_type)}this.setState({layer:e})},resetLegendHTML:function(){var e=this.state.layer;!e.is_external||"raster"!=e.external_layer_config.type&&"ags-mapserver-tiles"!=e.external_layer_config.type?e.is_external&&"mapbox-style"==e.external_layer_config.type?e.legend_html=l.rasterLegend(e):e.legend_html=l.defaultLegend(e):e.legend_html=l.rasterLegend(e),this.setState({layer:e})},resetStyle:function(){this.resetStyleGL(),this.resetLegendHTML(),this.trigger(this.state)},initLayer:function(e){return e.style=l.defaultStyle(e.layer_id,this.getSourceConfig(),e.data_type),e.legend_html=l.defaultLegend(e),e.settings=l.defaultSettings(),e.preview_position={zoom:1,lat:0,lng:0,bbox:null},e},createLayer:function(e,t){var n=this,r=this.state.layer;a.post("/api/layer/admin/createLayer").type("json").accept("json").send({_csrf:e}).end(function(e,i){u(i,e,t,function(e){r.layer_id=i.body.layer_id,n.setState({layer:r}),e()})})},saveSettings:function(e,t,n,r){var i=this;a.post("/api/layer/admin/saveSettings").type("json").accept("json").send({layer_id:i.state.layer.layer_id,name:e.name,description:e.description,group_id:e.group,private:e.private,source:e.source,license:e.license,_csrf:t}).end(function(t,o){u(o,t,r,function(t){var r=i.state.layer;r.name=e.name,r.description=e.description,r.owned_by_group_id=e.group,r.private=e.private,r.source=e.source,r.license=e.license,n&&(r=i.initLayer(r)),i.setState({layer:r}),t()})})},saveDataSettings:function(e,t,n){h("saveDataSettings");var r=this,i=this.state.layer;a.post("/api/layer/admin/saveDataSettings").type("json").accept("json").send({layer_id:i.layer_id,is_empty:e.is_empty,empty_data_type:e.empty_data_type,is_external:e.is_external,external_layer_type:e.external_layer_type,external_layer_config:e.external_layer_config,_csrf:t}).end(function(t,o){u(o,t,n,function(t){i.is_external=e.is_external,i.external_layer_type=e.external_layer_type,i.external_layer_config=e.external_layer_config,i.is_empty=e.is_empty,e.is_empty&&(i.data_type=e.empty_data_type),r.setState({layer:i}),r.trigger(r.state),t()})})},setStyle:function(e,t,n,r,i,o){var s=this.state.layer;s.style=e,s.labels=t,s.legend_html=n,s.preview_position=i,s.settings=r;var a=this.state.mapColor;r&&r.color&&(a=r.color),this.setState({layer:s,mapColor:a}),this.trigger(this.state),o&&o()},setDataType:function(e){var t=this.state.layer;t.data_type=e,this.setState({layer:t}),this.trigger(this.state)},presetsChanged:function(e){var t=this.state.layer;t.presets=e,this.setState({layer:t}),this.trigger(this.state)},setComplete:function(e,t){var n=this,r=this.state.layer;r.complete=!0,a.post("/api/layer/admin/setComplete").type("json").accept("json").send({layer_id:r.layer_id,_csrf:e}).end(function(e,i){u(i,e,t,function(e){n.setState({layer:r}),n.trigger(n.state),e()})})},saveStyle:function(e,t,n){var r=this,i=this.state.layer;a.post("/api/layer/admin/saveStyle").type("json").accept("json").send({layer_id:i.layer_id,style:e.style,labels:e.labels,legend_html:e.legend_html,preview_position:e.preview_position,settings:e.settings,_csrf:t}).end(function(t,o){u(o,t,n,function(t){i.style=e.style,i.legend_html=e.legend_html,i.preview_position=e.preview_position,r.setState({layer:i}),r.trigger(r.state),t()})})},loadData:function(e,t){h("loadData");var n=this;a.post("/api/layer/create/savedata/"+n.state.layer.layer_id).type("json").accept("json").timeout(12e5).set("csrf-token",e).end(function(e,r){u(r,e,t,function(e){n.trigger(n.state),o.dataLoaded(),e()})})},initEmptyLayer:function(e,t){h("initEmptyLayer");var n=this;a.post("/api/layer/create/empty/"+n.state.layer.layer_id).type("json").accept("json").set("csrf-token",e).end(function(e,r){u(r,e,t,function(e){n.trigger(n.state),o.dataLoaded(),e()})})},finishUpload:function(e,t,n){var r=this;a.post("/api/layer/finishupload").type("json").accept("json").send({layer_id:r.state.layer.layer_id,requestedShapefile:e,_csrf:t}).end(function(e,t){u(t,e,n,function(e){e(null,t.body)})})},deleteData:function(e,t,n){var r=this;a.post("/api/layer/deletedata/"+r.state.layer.layer_id).type("json").accept("json").set("csrf-token",t).end(function(e,t){u(t,e,n,function(e){e()})})},deleteLayer:function(e,t){var n=this;a.post("/api/layer/admin/delete").type("json").accept("json").send({layer_id:n.state.layer.layer_id,_csrf:e}).end(function(e,n){u(n,e,t,function(e){e()})})},cancelLayer:function(e,t){var n=this;a.post("/api/layer/admin/delete").type("json").accept("json").send({layer_id:n.state.layer.layer_id,_csrf:e}).end(function(e,r){u(r,e,t,function(e){n.setState({layer:d}),n.trigger(n.state),e()})})}})},function(e,t,n){"use strict";var r=n(170),i=r.createActions({setImportedTags:{},setTagMapping:{},presetsChanged:{},submitPresets:{},addPreset:{},deletePreset:{},updatePreset:{},setLayerId:{},moveUp:{},moveDown:{},loadPresets:{},loadDefaultPresets:{}});e.exports=i},function(e,t){"use strict";e.exports={layer_id:-1,name:"",description:"",published:!0,owned_by_group_id:null,data_type:"",source:"",license:"none",
preview_position:{zoom:1,lat:0,lng:0,bbox:[[-180,-180],[180,180]]},style:null,legend_html:null,is_external:!1,external_layer_type:"",external_layer_config:{},complete:!1}},function(e,t,n){"use strict";var r=n(283),i=n(1),o=n(669),s=n(668),a=i.createClass({displayName:"RadioModal",propTypes:{onCancel:i.PropTypes.func,onSubmit:i.PropTypes.func.isRequired,options:i.PropTypes.array.isRequired,title:i.PropTypes.string.isRequired},getInitialState:function(){return{show:!1,canSubmit:!1,selectedOption:null}},show:function(){this.setState({show:!0})},hide:function(){this.setState({show:!1})},onCancel:function(){this.props.onCancel&&this.props.onCancel(),this.hide()},onSubmit:function(){this.props.onSubmit(this.state.selectedOption),this.hide()},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},optionChange:function(e){this.setState({selectedOption:e})},render:function(){return i.createElement(r.Modal,{id:"radio-modal",show:this.state.show,fixedFooter:!0,dismissible:!1},i.createElement(r.ModalContent,null,i.createElement("h5",null,this.props.title),i.createElement(o.Form,{onValid:this.enableButton,onInvalid:this.disableButton},i.createElement(s,{name:"type",label:"",options:this.props.options,onChange:this.optionChange}))),i.createElement(r.ModalFooter,null,i.createElement("div",{className:"right"},i.createElement("button",{className:"waves-effect waves-light btn",style:{float:"none",marginRight:"15px"},onClick:this.onCancel},"Cancel"),i.createElement("button",{className:"waves-effect waves-light btn",style:{float:"none"},disabled:!this.state.canSubmit,onClick:this.onSubmit},"Submit"))))}});e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(170),o=n(189)(i),s=n(281),a=n(951),l=n(952),c=n(944),u=n(286),h=n(266),d=n(268),p=r.createClass({displayName:"EmptyLocalSource",mixins:[o.connect(a),o.connect(h)],__:function(e){return d.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,type:r.PropTypes.string,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},onSubmit:function(){var e=this,t={is_external:!1,external_layer_type:"",external_layer_config:{},is_empty:!0,empty_data_type:this.props.type};c.saveDataSettings(t,e.state._csrf,function(t){t?u.showMessage({title:e.__("Error"),message:t}):(l.setLayerId(e.state.layer.layer_id),s.showNotification({message:e.__("Layer Saved"),dismissAfter:1e3,onDismiss:e.props.onSubmit}))})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){var e="";return this.props.showPrev&&(e=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step")))),r.createElement("div",{className:"row"},r.createElement("p",null,this.__("Creating a new layer of type:")+" "+this.props.type),e,r.createElement("div",{className:"right"},r.createElement("button",{className:"waves-effect waves-light btn",onClick:this.onSubmit},r.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue"))))}});e.exports=p},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(170),s=n(189)(o),a=n(719),l=n(668),c=(n(284),n(944)),u=n(952),h=n(281),d=n(286),p=n(951),f=n(266),g=n(268),m=r.createClass({displayName:"MapboxSource",mixins:[s.connect(p),s.connect(f)],__:function(e){return g.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},componentWillMount:function(){i.addValidationRule("isValidMapboxStyleURL",function(e,t){return t.startsWith("mapbox://styles/")}),i.addValidationRule("isValidMapboxMapID",function(e,t){var n=t.split(".");return n&&Array.isArray(n)&&2==n.length})},getInitialState:function(){return{canSubmit:!1,selectedOption:"style"}},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},submit:function(e){var t=this,n=null;if(e.mapboxStyleID){var r=e.mapboxStyleID.replace(/mapbox:\/\/styles\//i,"");n={is_external:!0,external_layer_type:"mapbox-style",external_layer_config:{type:"mapbox-style",mapboxid:r}}}else if(e.mapboxMapID){var i=e.mapboxMapID;n={is_external:!0,external_layer_type:"mapbox-map",external_layer_config:{url:"mapbox://"+i,type:"raster",tileSize:256}}}c.saveDataSettings(n,t.state._csrf,function(e){e?d.showMessage({title:t.__("Error"),message:e}):(u.setLayerId(t.state.layer.layer_id),h.showNotification({message:t.__("Layer Saved"),dismissAfter:1e3,onDismiss:function(){c.resetStyle(),c.tileServiceInitialized(),t.props.onSubmit()}}))})},optionChange:function(e){this.setState({selectedOption:e})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){var e=[{value:"style",label:this.__("Link to a complete Mapbox Studio Style")},{value:"tiles",label:this.__("Link to Mapbox Data/Raster Tiles")}],t=!1,n=!1;switch(this.state.selectedOption){case"style":t=!0;break;case"tiles":n=!0}var o="";this.props.showPrev&&(o=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step"))));var s="";t&&(s=r.createElement("div",null,r.createElement("p",null,this.__("Mapbox Style Source")),r.createElement("div",{className:"row"},r.createElement(a,{name:"mapboxStyleID",label:this.__("Mapbox Style URL"),icon:"info",className:"col s12",validations:{isValidMapboxStyleURL:!0},validationErrors:{isValidMapboxStyleURL:this.__("Invalid Mapbox Style URL, must be in the format mapbox://styles/...")},length:100,dataPosition:"top",dataTooltip:this.__("Mapbox Style URL in the format mapbox://styles/..."),required:!0}))));var c="";return n&&(c=r.createElement("div",null,r.createElement("p",null,this.__("Mapbox Tileset/Raster Source")),r.createElement("div",{className:"row"},r.createElement(a,{name:"mapboxMapID",label:this.__("Mapbox Tileset Map ID"),icon:"info",className:"col s12",validations:{isValidMapboxMapID:!0},validationErrors:{isValidMapboxMapID:this.__("Invalid Mapbox Map ID, should be in the format accountname.mapid")},length:100,dataPosition:"top",dataTooltip:this.__("Mapbox Map ID"),required:!0})))),r.createElement("div",{className:"row"},r.createElement(i.Form,null,r.createElement("b",null,this.__("Choose an Option")),r.createElement("div",{className:"row"},r.createElement(l,{name:"type",label:"",defaultValue:this.state.selectedOption,options:e,onChange:this.optionChange,className:"col s10"})),r.createElement("hr",null)),r.createElement(i.Form,{onValidSubmit:this.submit,onValid:this.enableButton,onInvalid:this.disableButton},s,c,o,r.createElement("div",{className:"right"},r.createElement("button",{type:"submit",className:"waves-effect waves-light btn",disabled:!this.state.canSubmit},r.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue")))))}});e.exports=m},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(170),s=n(189)(o),a=n(719),l=n(952),c=n(944),u=n(281),h=n(286),d=n(951),p=n(266),f=n(268),g=(n(284),r.createClass({displayName:"RasterTileSource",mixins:[s.connect(d),s.connect(p)],__:function(e){return f.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},getInitialState:function(){return{canSubmit:!1}},componentWillMount:function(){i.addValidationRule("isHttps",function(e,t){return t.startsWith("https://")})},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},submit:function(e){var t=this;c.saveDataSettings({is_external:!0,external_layer_type:"Raster Tile Service",external_layer_config:{type:"raster",tiles:[e.rasterTileUrl]}},t.state._csrf,function(e){e?h.showMessage({title:t.__("Error"),message:e}):(l.setLayerId(t.state.layer.layer_id),u.showNotification({message:t.__("Layer Saved"),dismissAfter:1e3,onDismiss:function(){c.resetStyle(),c.tileServiceInitialized(),t.props.onSubmit()}}))})},sourceChange:function(e){this.setState({selectedSource:e})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){var e="";return this.props.showPrev&&(e=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step")))),r.createElement("div",{className:"row"},r.createElement(i.Form,{onValidSubmit:this.submit,onValid:this.enableButton,onInvalid:this.disableButton},r.createElement("div",null,r.createElement("p",null,"Raster Tile Source"),r.createElement("div",{className:"row"},r.createElement(a,{name:"rasterTileUrl",label:this.__("Raster Tile URL"),icon:"info",className:"col s12",validations:"maxLength:500,isHttps",validationErrors:{maxLength:this.__("Must be 500 characters or less."),isHttps:this.__("SSL required for external links, URLs must start with https://")},length:500,dataPosition:"top",dataTooltip:this.__("Raster URL for example:")+"http://myserver/tiles/{z}/{x}/{y}.png",required:!0}))),e,r.createElement("div",{className:"right"},r.createElement("button",{type:"submit",className:"waves-effect waves-light btn",disabled:!this.state.canSubmit},r.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue")))))}}));e.exports=g},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(170),s=n(189)(o),a=n(719),l=n(952),c=n(944),u=n(281),h=n(286),d=n(951),p=n(266),f=n(268),g=r.createClass({displayName:"RasterTileSource",mixins:[s.connect(d),s.connect(p)],__:function(e){return f.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},getInitialState:function(){return{canSubmit:!1}},componentWillMount:function(){i.addValidationRule("isHttps",function(e,t){return t.startsWith("https://")})},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},submit:function(e){var t=this,n=e.bounds.split(",");n.map(function(e){return e.trim()}),c.saveDataSettings({is_external:!0,external_layer_type:"Vector Tile Service",external_layer_config:{type:"vector",minzoom:e.minzoom,maxzoom:e.maxzoom,bounds:n,tiles:[e.vectorTileUrl]}},t.state._csrf,function(e){e?h.showMessage({title:t.__("Error"),message:e}):(l.setLayerId(t.state.layer.layer_id),u.showNotification({message:t.__("Layer Saved"),dismissAfter:1e3,onDismiss:function(){c.resetStyle(),c.tileServiceInitialized(),t.props.onSubmit()}}))})},sourceChange:function(e){this.setState({selectedSource:e})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){var e="";return this.props.showPrev&&(e=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step")))),r.createElement("div",{className:"row"},r.createElement(i.Form,{onValidSubmit:this.submit,onValid:this.enableButton,onInvalid:this.disableButton},r.createElement("div",null,r.createElement("p",null,this.__("Vector Tile Source")),r.createElement("div",{className:"row"},r.createElement(a,{name:"vectorTileUrl",label:this.__("Vector Tile URL"),icon:"info",className:"col s12",validations:"maxLength:500,isHttps",validationErrors:{maxLength:this.__("Must be 500 characters or less."),isHttps:this.__("SSL required for external links, URLs must start with https://")},length:500,dataPosition:"top",dataTooltip:this.__("Vector Tile URL for example:")+"http://myserver/tiles/{z}/{x}/{y}.pbf",required:!0})),r.createElement("div",{className:"row"},r.createElement(a,{name:"minzoom",label:this.__("MinZoom"),icon:"info",className:"col s12",dataPosition:"top",dataTooltip:this.__("Lowest tile zoom level available in data"),required:!0})),r.createElement("div",{className:"row"},r.createElement(a,{name:"maxzoom",label:this.__("MaxZoom"),icon:"info",className:"col s12",dataPosition:"top",dataTooltip:this.__("Highest tile zoom level available in data"),required:!0})),r.createElement("div",{className:"row"},r.createElement(a,{name:"bounds",label:this.__("Bounds"),icon:"info",className:"col s12",dataPosition:"top",dataTooltip:this.__("Comma delimited WGS84 coordinates for extent of the data: minx, miny, maxx, maxy"),required:!0}))),e,r.createElement("div",{className:"right"},r.createElement("button",{type:"submit",className:"waves-effect waves-light btn",disabled:!this.state.canSubmit},r.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue")))))}});e.exports=g},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(170),s=n(189)(o),a=n(719),l=n(952),c=n(944),u=n(281),h=n(286),d=n(668),p=n(951),f=n(266),g=n(268),m=r.createClass({displayName:"GeoJSONUrlSource",mixins:[s.connect(p),s.connect(f)],__:function(e){return g.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},getInitialState:function(){return{canSubmit:!1}},componentWillMount:function(){i.addValidationRule("isHttps",function(e,t){return t.startsWith("https://")})},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},submit:function(e){var t=this;c.saveDataSettings({is_external:!0,external_layer_type:"GeoJSON",external_layer_config:{type:"geojson",id:e.id,data_type:e.data_type,data:e.geojsonUrl}},t.state._csrf,function(e){e?h.showMessage({title:t.__("Error"),message:e}):(l.setLayerId(t.state.layer.layer_id),u.showNotification({message:t.__("Layer Saved"),dismissAfter:1e3,onDismiss:function(){c.resetStyle(),c.tileServiceInitialized(),t.props.onSubmit()}}))})},sourceChange:function(e){this.setState({selectedSource:e})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){var e="";this.props.showPrev&&(e=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step"))));var t=[{value:"point",label:this.__("Point")},{value:"line",label:this.__("Line")},{value:"polygon",label:this.__("Polygon")}];return r.createElement("div",{className:"row"},r.createElement(i.Form,{onValidSubmit:this.submit,onValid:this.enableButton,onInvalid:this.disableButton},r.createElement("div",null,r.createElement("p",null,this.__("GeoJSON URL")),r.createElement("div",{className:"row"},r.createElement(a,{name:"geojsonUrl",label:this.__("GeoJSON URL"),icon:"info",className:"col s12",validations:"maxLength:500,isHttps",validationErrors:{maxLength:this.__("Must be 500 characters or less."),isHttps:this.__("SSL required for external links, URLs must start with https://")},length:500,dataPosition:"top",dataTooltip:this.__("Vector Tile URL for example:")+"http://myserver/tiles/{z}/{x}/{y}.pbf",required:!0})),r.createElement("div",{className:"row"},r.createElement(a,{name:"id",label:this.__("ID Property (Optional)"),icon:"info",className:"col s12",dataPosition:"top",dataTooltip:this.__("Some features require idenify a unique identifier that can be used to select features"),required:!0})),r.createElement("div",{className:"row"},r.createElement(d,{name:"data_type",label:"",defaultValue:"point",options:t,className:"col s10"}))),e,r.createElement("div",{className:"right"},r.createElement("button",{type:"submit",className:"waves-effect waves-light btn",disabled:!this.state.canSubmit},r.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue")))))}});e.exports=m},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(170),s=n(189)(o),a=n(719),l=n(668),c=n(952),u=n(944),h=n(281),d=n(286),p=n(266),f=n(268),g=n(951),m=r.createClass({displayName:"AGOLSource",mixins:[s.connect(g),s.connect(p)],__:function(e){return f.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},getInitialState:function(){return{canSubmit:!1,selectedOption:"mapserverquery"}},componentWillMount:function(){i.addValidationRule("isHttps",function(e,t){return t.startsWith("https://")})},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},submit:function(e){var t=this,n=null;e.mapServiceUrl?n={is_external:!0,external_layer_type:"ArcGIS MapServer Query",external_layer_config:{type:"ags-mapserver-query",url:e.mapServiceUrl}}:e.featureServiceUrl?n={is_external:!0,external_layer_type:"ArcGIS FeatureServer Query",external_layer_config:{type:"ags-featureserver-query",url:e.featureServiceUrl}}:e.tileServiceUrl&&(n={is_external:!0,external_layer_type:"ArcGIS MapServer Tiles",external_layer_config:{type:"ags-mapserver-tiles",url:e.tileServiceUrl}}),u.saveDataSettings(n,t.state._csrf,function(e){e?d.showMessage({title:t.__("Error"),message:e}):(c.setLayerId(t.state.layer.layer_id),h.showNotification({message:t.__("Layer Saved"),dismissAfter:1e3,onDismiss:function(){u.resetStyle(),u.tileServiceInitialized(),t.props.onSubmit()}}))})},optionChange:function(e){this.setState({selectedOption:e})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){var e=[{value:"mapserverquery",label:this.__("Link to a MapServer Query Service")},{value:"featureserverquery",label:this.__("Link to a FeatureServer Query Service")},{value:"mapservertiles",label:this.__("Link to a MapServer Tile Service")}],t=!1,n=!1,o=!1;switch(this.state.selectedOption){case"mapserverquery":t=!0;break;case"featureserverquery":n=!0;break;case"mapservertiles":o=!0}var s="";t&&(s=r.createElement("div",null,r.createElement("p",null,this.__("ArcGIS MapServer Query Source")),r.createElement("div",{className:"row"},r.createElement(a,{name:"mapServiceUrl",label:this.__("Map Service URL"),icon:"info",className:"col s12",validations:"maxLength:250,isHttps",validationErrors:{maxLength:this.__("Must be 250 characters or less."),isHttps:this.__("SSL required for external links, URLs must start with https://")},length:250,dataPosition:"top",dataTooltip:this.__("Map Service URL: ex: http://myserver/arcgis/rest/services/MyMap/MapServer/0"),required:!0}))));var c="";n&&(c=r.createElement("div",null,r.createElement("p",null,this.__("ArcGIS FeatureService Query Source")),r.createElement("div",{className:"row"},r.createElement(a,{name:"featureServiceUrl",label:this.__("Feature Service URL"),icon:"info",className:"col s12",validations:"maxLength:250,isHttps",validationErrors:{maxLength:this.__("Must be 250 characters or less."),isHttps:this.__("SSL required for external links, URLs must start with https://")},length:250,dataPosition:"top",dataTooltip:this.__("Feature Service URL ex: http://myserver/arcgis/rest/services/MyMap/FeatureServer/0"),required:!0}))));var u="";o&&(u=r.createElement("div",null,r.createElement("p",null,this.__("ArcGIS MapServer Tiles")),r.createElement("div",{className:"row"},r.createElement(a,{name:"tileServiceUrl",label:this.__("MapServer Service URL"),icon:"info",className:"col s12",validations:"maxLength:250,isHttps",validationErrors:{maxLength:this.__("Must be 250 characters or less."),isHttps:this.__("SSL required for external links, URLs must start with https://")},length:250,dataPosition:"top",dataTooltip:this.__("MapServer URL ex: http://myserver/arcgis/rest/services/MyMap/MapServer"),required:!0}))));var h="";return this.props.showPrev&&(h=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step")))),r.createElement("div",{className:"row"},r.createElement(i.Form,null,r.createElement("b",null,this.__("Choose an Option")),r.createElement("div",{className:"row"},r.createElement(l,{name:"type",label:"",defaultValue:this.state.selectedOption,options:e,onChange:this.optionChange,className:"col s10"})),r.createElement("hr",null)),r.createElement(i.Form,{onValidSubmit:this.submit,onValid:this.enableButton,onInvalid:this.disableButton},s,c,u,h,r.createElement("div",{className:"right"},r.createElement("button",{type:"submit",className:"waves-effect waves-light btn",disabled:!this.state.canSubmit},r.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue")))))}});e.exports=m},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(170),s=n(189)(o),a=n(668),l=n(719),c=n(952),u=n(944),h=n(281),d=n(286),p=n(951),f=n(266),g=n(268),m=r.createClass({displayName:"PlanetLabsSource",mixins:[s.connect(p),s.connect(f)],__:function(e){return g.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func.isRequired,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func},getDefaultProps:function(){return{onSubmit:null}},getInitialState:function(){return{canSubmit:!1,selectedOption:"scene",selectedSceneOption:"ortho"}},enableButton:function(){this.setState({canSubmit:!0})},disableButton:function(){this.setState({canSubmit:!1})},submit:function(e){var t=this,n="https://tiles.planet.com";"scene"==this.state.selectedOption?n+="/v0/scenes/"+this.state.selectedSceneOption+"/"+e.planetScene:"mosaic"==this.state.selectedOption&&(n+="/v0/mosaics/"+e.planetMosaic),n+="/{z}/{x}/{y}.png?api_key="+MAPHUBS_CONFIG.PLANET_LABS_API_KEY,u.saveDataSettings({is_external:!0,external_layer_type:"Planet Labs",external_layer_config:{type:"raster",planet_labs_scene:e.scene,planet_labs_mosaic:e.mosaic,tiles:[n]}},t.state._csrf,function(e){e?d.showMessage({title:t.__("Error"),message:e}):(c.setLayerId(t.state.layer.layer_id),h.showNotification({message:t.__("Layer Saved"),dismissAfter:1e3,onDismiss:function(){u.resetStyle(),u.tileServiceInitialized(),t.props.onSubmit()}}))})},optionChange:function(e){this.setState({selectedOption:e})},sceneOptionChange:function(e){this.setState({selectedSceneOption:e})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){var e=[{value:"scene",label:this.__("Link to a Planet Labs Scene")},{value:"mosaic",label:this.__("Link to a Planet Labs Mosaic")}],t=[{value:"ortho",label:this.__("Ortho")},{value:"rapideye",label:this.__("RapidEye")},{value:"landsat",label:this.__("Landsat")}],n="";"scene"==this.state.selectedOption?n=r.createElement("div",null,r.createElement("p",null,this.__("Planet Labs Scene: "),r.createElement("a",{href:"https://www.planet.com/docs/referencev0/scenes/",target:"_blank"},"https://www.planet.com/docs/referencev0/scenes/")),r.createElement("div",{className:"row"},r.createElement(a,{name:"type",label:"",defaultValue:this.state.selectedSceneOption,options:t,onChange:this.sceneOptionChange,className:"col s10"})),r.createElement("div",{className:"row"},r.createElement(l,{name:"planetScene",label:this.__("Planet Labs Scene ID"),validations:"maxLength:250",validationErrors:{maxLength:this.__("Must be 250 characters or less.")},length:250,dataPosition:"top",dataTooltip:this.__("Copy and Paste from the Planet Scene Browser"),icon:"info",className:"col s12",required:!0}))):"mosaic"==this.state.selectedOption&&(n=r.createElement("div",null,r.createElement("p",null,this.__("Planet Labs Mosaic: "),r.createElement("a",{href:"https://www.planet.com/docs/referencev0/scenes/",target:"_blank"},"https://www.planet.com/docs/referencev0/scenes/")),r.createElement("div",{className:"row"},r.createElement(l,{name:"planetMosaic",label:this.__("Planet Labs Mosaic ID"),validations:"maxLength:250",validationErrors:{maxLength:this.__("Must be 250 characters or less.")},length:250,dataPosition:"top",dataTooltip:this.__("Extract from browser URL in Mosaic Browser"),icon:"info",className:"col s12",required:!0}))));var o="";return this.props.showPrev&&(o=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.__("Previous Step")))),r.createElement("div",{className:"row"},r.createElement(i.Form,null,r.createElement("b",null,this.__("Choose an Option")),r.createElement("div",{className:"row"},r.createElement(a,{name:"type",label:"",defaultValue:this.state.selectedOption,options:e,onChange:this.optionChange,className:"col s10"})),r.createElement("hr",null)),r.createElement(i.Form,{onValidSubmit:this.submit,onValid:this.enableButton,onInvalid:this.disableButton},n,o,r.createElement("div",{className:"right"},r.createElement("button",{type:"submit",className:"waves-effect waves-light btn",disabled:!this.state.canSubmit},r.createElement("i",{className:"material-icons right"},"arrow_forward"),this.__("Save and Continue")))))}});e.exports=m},function(e,t,n){"use strict";var r=n(170),i=n(952),o=n(196),s=n(698),a=n(697),l=n(201)("preset-store"),c=n(205).checkClientError;e.exports=r.createStore({data:{},init:function(){this.data={layer_id:-1,presets:[],pendingChanges:!1},this.idSequence=1,this.listenTo(i.setImportedTags,this.setImportedTags),this.listenTo(i.submitPresets,this.submitPresets),this.listenTo(i.addPreset,this.addPreset),this.listenTo(i.deletePreset,this.deletePreset),this.listenTo(i.updatePreset,this.updatePreset),this.listenTo(i.setLayerId,this.setLayerId),this.listenTo(i.loadPresets,this.loadPresets),this.listenTo(i.loadDefaultPresets,this.loadDefaultPresets),this.listenTo(i.moveUp,this.moveUp),this.listenTo(i.moveDown,this.moveDown)},setLayerId:function(e){l("setLayerId"),this.data.layer_id=e},loadPresets:function(e){var t=this;e&&Array.isArray(e)&&(e.forEach(function(e){e.id=t.idSequence++}),this.data.presets=e,this.trigger(this.data))},loadDefaultPresets:function(){var e=[{tag:"name",label:"Name",type:"text",isRequired:!0,showOnMap:!0,id:this.idSequence++},{tag:"description",label:"Description",type:"text",isRequired:!1,showOnMap:!0,id:this.idSequence++},{tag:"source",label:"Source",type:"text",isRequired:!0,showOnMap:!0,id:this.idSequence++}];this.data.presets=e,this.data.pendingChanges=!0,this.trigger(this.data)},setImportedTags:function(e){l("setImportedTags");var t=this;delete this.data.presets,this.data.presets=[],t.trigger(this.data),e.forEach(function(e){var n={};n="mhid"==e?{tag:"orig_mhid",label:"orig_mhid",type:"text",isRequired:!1,showOnMap:!0,mapTo:e,id:t.idSequence++}:{tag:e,label:e,type:"text",isRequired:!1,showOnMap:!0,mapTo:e,id:t.idSequence++},t.data.presets.push(n)}),this.data.pendingChanges=!0,t.trigger(this.data),i.presetsChanged(this.data.presets)},submitPresets:function(e,t,n){l("submitPresets");var r=this;o.post("/api/layer/presets/save").type("json").accept("json").send({layer_id:r.data.layer_id,presets:r.data.presets,create:e,_csrf:t}).end(function(e,t){c(t,e,n,function(e){r.data.pendingChanges=!1,r.trigger(r.data),e()})})},deletePreset:function(e){l("delete preset:"+e),a(this.data.presets,{id:e}),this.data.pendingChanges=!0,this.trigger(this.data),i.presetsChanged(this.data.presets)},addPreset:function(){l("adding new preset"),this.data.presets.push({tag:"",label:"",type:"text",isRequired:!1,showOnMap:!0,id:this.idSequence++}),this.data.pendingChanges=!0,this.trigger(this.data),i.presetsChanged(this.data.presets)},updatePreset:function(e,t){l("update preset:"+e);var n=s(this.data.presets,{id:e});n>=0?(this.data.presets[n]=t,this.data.pendingChanges=!0):l("Can't find preset with id: "+e)},moveUp:function(e){var t=s(this.data.presets,{id:e});0!==t&&(this.data.presets=this.move(this.data.presets,t,t-1),this.trigger(this.data),i.presetsChanged(this.data.presets))},moveDown:function(e){var t=s(this.data.presets,{id:e});t!==this.data.presets.length-1&&(this.data.presets=this.move(this.data.presets,t,t+1),this.trigger(this.data),i.presetsChanged(this.data.presets))},move:function(e,t,n){return e.splice(n,0,e.splice(t,1)[0]),e},getInitialState:function(){return this.data}})},function(e,t,n){"use strict";var r=n(1),i=n(170),o=n(189)(i),s=n(266),a=n(943),l=r.createClass({displayName:"SourceSelectionBox",mixins:[o.connect(s),a],propTypes:{onSelect:r.PropTypes.func.isRequired,name:r.PropTypes.string.isRequired,value:r.PropTypes.string.isRequired,icon:r.PropTypes.string,selected:r.PropTypes.bool},getDefaultProps:function(){return{selected:!1}},getInitialState:function(){return{selected:this.props.selected}},componentWillReceiveProps:function(e){e.selected!==this.state.selected&&this.setState({selected:e.selected})},onSelect:function(){this.props.onSelect(this.props.value)},render:function(){var e="";return this.props.icon&&(e=r.createElement("i",{className:"material-icons white-text",style:{fontSize:"48px"}},this.props.icon)),r.createElement("div",{className:"card-panel center omh-color",style:{width:"125px",height:"125px",padding:"10px",marginLeft:"auto",marginRight:"auto"},onClick:this.onSelect},r.createElement("form",{action:"#",style:{height:"100%",position:"relative"}},e,r.createElement("p",{className:"no-margin white-text",style:{position:"absolute",bottom:"0"}},r.createElement("input",{type:"checkbox",className:"filled-in",id:this.props.name+"-checkbox",onChange:this.onSelect,checked:this.state.selected?"checked":null}),r.createElement("label",{className:"white-text",htmlFor:this.props.name+"-checkbox"},this.props.name))))}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(604),o=r(i),s=n(1),a=n(965),l=n(944),c=n(952),u=n(286),h=n(170),d=n(189)(h),p=n(951),f=n(266),g=n(943),m=s.createClass({displayName:"Step2",mixins:[d.connect(p),d.connect(f),g],propTypes:{groups:s.PropTypes.array,onSubmit:s.PropTypes.func},getDefaultProps:function(){return{groups:[],onSubmit:null}},getInitialState:function(){return{saving:!1}},onSubmit:function(){return this.state.layer.is_external||this.state.layer.is_empty?this.state.layer.is_empty?this.initEmptyLayer():this.saveExternal():this.saveDataLoad()},initEmptyLayer:function(){var e=this;c.loadDefaultPresets(),c.submitPresets(!0,this.state._csrf,function(t){t?u.showMessage({title:e.__("Error"),message:t}):l.initEmptyLayer(e.state._csrf,function(t){t?u.showMessage({title:e.__("Error"),message:t}):(l.tileServiceInitialized(),e.props.onSubmit&&e.props.onSubmit())})})},saveDataLoad:function(){var e=this;e.setState({saving:!0}),c.submitPresets(!0,this.state._csrf,function(t){t?(u.showMessage({title:e.__("Error"),message:t}),e.setState({saving:!1})):l.loadData(e.state._csrf,function(t){e.setState({saving:!1}),t?u.showMessage({title:e.__("Error"),message:t}):(l.tileServiceInitialized(),e.props.onSubmit&&e.props.onSubmit())})})},saveExternal:function(){l.tileServiceInitialized(),this.props.onSubmit&&this.props.onSubmit()},render:function(){return s.createElement("div",{className:"row"},s.createElement(o.default,{id:"load-data-progess",title:this.__("Loading Data"),subTitle:this.__("Data Loading: This may take a few minutes for larger datasets."),dismissible:!1,show:this.state.saving}),s.createElement("p",null,this.__("Provide Information About the Data Layer")),s.createElement(a,{groups:this.props.groups,submitText:this.__("Save and Continue"),onSubmit:this.onSubmit,warnIfUnsaved:!1}))}});e.exports=m},function(e,t,n){"use strict";var r=n(1),i=n(170),o=n(189)(i),s=n(669),a=n(851),l=n(719),c=n(966),u=n(720),h=n(967),d=n(951),p=n(944),f=n(286),g=n(266),m=n(268),v=r.createClass({displayName:"LayerSettings",mixins:[o.connect(d),o.connect(g)],__:function(e){return m.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:r.PropTypes.func,active:r.PropTypes.bool,onValid:r.PropTypes.func,onInValid:r.PropTypes.func,submitText:r.PropTypes.string,
showGroup:r.PropTypes.bool,showPrev:r.PropTypes.bool,onPrev:r.PropTypes.func,prevText:r.PropTypes.string,warnIfUnsaved:r.PropTypes.bool},getDefaultProps:function(){return{onSubmit:null,active:!0,showGroup:!0,warnIfUnsaved:!1,showPrev:!1}},getInitialState:function(){return{canSubmit:!1}},componentDidMount:function(){var e=this;window.onbeforeunload=function(){if(e.props.warnIfUnsaved&&e.state.pendingChanges)return e.__("You have not saved your edits, your changes will be lost.")}},onFormChange:function(){this.setState({pendingChanges:!0})},onValid:function(){this.setState({canSubmit:!0}),this.props.onValid&&this.props.onValid()},onInvalid:function(){this.setState({canSubmit:!1}),this.props.onInValid&&this.props.onInValid()},onSubmit:function(e){var t=this,n=!1;this.state.layer.owned_by_group_id||(n=!0),!e.group&&this.state.layer.owned_by_group_id?e.group=this.state.layer.owned_by_group_id:e.group||1!=this.state.groups.length||(e.group=this.state.groups[0].group_id),e.private||(e.private=!1),p.saveSettings(e,t.state._csrf,n,function(e){e?f.showMessage({title:t.__("Error"),message:e}):(t.setState({pendingChanges:!1}),t.props.onSubmit&&t.props.onSubmit())})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){if(!this.state.groups||0==this.state.groups.length)return r.createElement("div",{className:"container"},r.createElement("div",{className:"row"},r.createElement("h5",null,this.__("Please Join a Group")),r.createElement("p",null,this.__("Please create or join a group before creating a layer."))));var e=!0;"published"===this.state.layer.status&&(e=!1);var t=h.getLicenses(this.__),n="",i="";return this.props.showPrev&&(n=r.createElement("div",{className:"left"},r.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},r.createElement("i",{className:"material-icons left"},"arrow_back"),this.props.prevText)),i=r.createElement("i",{className:"material-icons right"},"arrow_forward")),r.createElement("div",{style:{marginRight:"2%",marginLeft:"2%",marginTop:"10px"}},r.createElement(s.Form,{onValidSubmit:this.onSubmit,onChange:this.onFormChange,onValid:this.onValid,onInvalid:this.onInValid},r.createElement("div",{className:"row"},r.createElement("div",{className:"col s12 m6"},r.createElement("div",{className:"row"},r.createElement(l,{name:"name",label:this.__("Name"),icon:"info",className:"col s12",value:this.state.layer.name,validations:"maxLength:100",validationErrors:{maxLength:this.__("Name must be 100 characters or less.")},length:100,dataPosition:"top",dataTooltip:this.__("Short Descriptive Name for the Layer"),required:!0})),r.createElement("div",{className:"row"},r.createElement(a,{name:"description",label:this.__("Description"),icon:"description",className:"col s12",value:this.state.layer.description,validations:"maxLength:1000",validationErrors:{maxLength:this.__("Description must be 1000 characters or less.")},length:1e3,dataPosition:"top",dataTooltip:this.__("Brief Description of the Layer"),required:!0})),r.createElement("div",{className:"row"},r.createElement(c,{groups:this.state.groups,type:"layer",canChangeGroup:e,editing:!e}))),r.createElement("div",{className:"col s12 m6"},r.createElement("div",{className:"row"},r.createElement(l,{name:"source",label:this.__("Source Description"),icon:"explore",className:"col s12",value:this.state.layer.source,validations:"maxLength:300",validationErrors:{maxLength:this.__("Name must be 300 characters or less.")},length:300,dataPosition:"top",dataTooltip:this.__("Short Description of the Layer Source"),required:!0})),r.createElement("div",{className:"row"},r.createElement(u,{name:"license",id:"layer-source-select",label:this.__("License"),startEmpty:!1,value:this.state.layer.license,defaultValue:this.state.layer.license,options:t,note:this.__("Select a license for more information"),icon:"info",className:"col s12",dataPosition:"top",dataTooltip:this.__("Layer License")})))),r.createElement("div",{className:"container"},n,r.createElement("div",{className:"right"},r.createElement("button",{type:"submit",className:"waves-effect waves-light btn",disabled:!this.state.canSubmit},i,this.props.submitText)))))}});e.exports=v},function(e,t,n){"use strict";var r=n(1),i=n(610),o=n(679),s=n(720),a=n(170),l=n(189)(a),c=n(266),u=n(268),h=r.createClass({displayName:"SelectGroup",mixins:[l.connect(c)],__:function(e){return u.getLocaleString(this.state.locale,e)},propTypes:{groups:r.PropTypes.array.isRequired,type:r.PropTypes.string.isRequired,group_id:r.PropTypes.string,canChangeGroup:r.PropTypes.bool,private:r.PropTypes.bool,editing:r.PropTypes.bool},getDefaultProps:function(){return{canChangeGroup:!0,private:!0,editing:!1}},getInitialState:function(){return{group_id:this.props.group_id,private:this.props.private}},componentWillReceiveProps:function(e){e.group_id!==this.props.group_id&&this.setState({group_id:e.group_id})},shouldComponentUpdate:function(e,t){return!i(this.props,e)||!i(this.state,t)},getOwnerGroup:function(e){var t;return this.props.groups.forEach(function(n){n.group_id===e&&(t=n)}),t},onGroupChange:function(e){this.setState({group_id:e})},render:function(){var e=!0;this.state.group_id&&(e=!1);var t="";if(this.props.groups.length>1&&this.props.canChangeGroup){var n=[];this.props.groups.map(function(e){n.push({value:e.group_id,label:e.name})}),t=r.createElement("div",{className:"row"},r.createElement("p",{style:{padding:"10px"}},this.__("Since you are in multiple groups, please select the group that should own this item.")),r.createElement(s,{name:"group",id:"layer-settings-select",label:this.__("Group"),startEmpty:e,value:this.state.group_id,defaultValue:this.state.group_id,onChange:this.onGroupChange,emptyText:this.__("Choose a Group"),options:n,className:"col s12",dataPosition:"right",dataTooltip:this.__("Owned by Group"),required:!0}))}else t=r.createElement("div",{className:"row"},r.createElement("b",null,this.__("Group:")," "),this.props.groups[0].name);var i="";if(this.state.group_id){var a,l,c,u=this.getOwnerGroup(this.state.group_id),h=!1,d=!1;if("public"!==u.account.tier.tier_id&&("layer"===this.props.type?u.account.tier.private_layer_limit>0&&(h=!0,a=u.account.numPrivateLayers,l=u.account.tier.private_layer_limit,a+1>l&&(d=!0),c=this.__("private layers")):"hub"===this.props.type?u.account.tier.private_hub_limit>0&&(h=!0,a=u.account.numPrivateHubs,l=u.account.tier.private_hub_limit,a+1>l&&(d=!0),c=this.__("private hubs")):"map"===this.props.type&&u.account.tier.private_map_limit>0&&(h=!0,a=u.account.numPrivateMaps,l=u.account.tier.private_map_limit,a+1>l&&(d=!0),c=this.__("private maps"))),h){var p=this.__("Private layers are only accessible to members of the same group"),f=!1,g=!1,m="";d?(g=!0,this.props.editing?f=this.state.private:m=r.createElement("p",null,this.__("Upgrade your account to add additional ")," ",c)):f=this.state.private,i=r.createElement("div",{className:"row"},r.createElement("p",{style:{padding:"10px"}},this.__("Account Level:")," ",r.createElement("b",null,u.account.tier.name)," ",r.createElement("span",null,this.__("You are currently using ")," ",a," ",this.__("of")," ",l," ",c)),r.createElement(o,{name:"private",labelOff:this.__("Public"),disabled:g,labelOn:this.__("Private"),checked:f,className:"col s12",dataPosition:"right",dataTooltip:p}),m)}}return r.createElement("div",null,t,i)}});e.exports=h},function(e,t){"use strict";e.exports={getLicenses:function(e){return[{value:"none",label:e("No License Provided"),note:"<p>"+e("License is not known or is not provided")+"</p>"},{value:"custom",label:e("Custom"),note:"<p>"+e("Custom License - see layer documentation")+"</p>"},{value:"custom-nc",label:e("Custom- Non-Commerical"),note:"<p>"+e("Custom Non-Commerical License - see layer documentation")+"</p>"},{value:"odc-by",label:"Open Data Commons Attribution License",note:'<a target="_blank" href="http://opendatacommons.org/licenses/by/">http://opendatacommons.org/licenses/by/</a>'},{value:"odc-odbl",label:"ODC Open Database License",note:'<a target="_blank" href="http://opendatacommons.org/licenses/odbl/">http://opendatacommons.org/licenses/odbl/</a>'},{value:"odc-pddl",label:"ODC Public Domain Dedication and License",note:'<a target="_blank" href="http://opendatacommons.org/licenses/pddl/">http://opendatacommons.org/licenses/pddl/</a>'},{value:"cc-pd",label:"Creative Commons Public Domain (CC PD)",note:'<a target="_blank" href="https://wiki.creativecommons.org/wiki/Public_domain"><img src="/assets/licenses/publicdomain.png" width="100" height="35"/><br />https://wiki.creativecommons.org/wiki/Public_domain</a>'},{value:"cc-cc0",label:"Creative Commons Zero - No Copyright Reserved (CC0)",note:'<a target="_blank" href="https://wiki.creativecommons.org/wiki/CC0"><img src="/assets/licenses/cc-zero.png" width="100" height="35"/><br />https://wiki.creativecommons.org/wiki/CC0</a>'},{value:"cc-by",label:"Creative Commons Attribution (CC BY)",note:'<a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><img src="/assets/licenses/by.png" width="100" height="35"/><br />https://creativecommons.org/licenses/by/4.0/</a>'},{value:"cc-by-sa",label:"Creative Commons Attribution-ShareAlike (CC BY-SA)",note:'<a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0"><img src="/assets/licenses/by-sa.png" width="100" height="35"/><br />https://creativecommons.org/licenses/by-sa/4.0</a>'},{value:"cc-by-nd",label:"Creative Commons Attribution-NoDerivs (CC BY-ND)",image:"/assets/license/by-nd.png",note:'<a target="_blank" href="https://creativecommons.org/licenses/by-nd/4.0/"><img src="/assets/licenses/by-nd.png" width="100" height="35"/><br />https://creativecommons.org/licenses/by-nd/4.0/</a>'},{value:"cc-by-nc",label:"Creative Commons Attribution-NonCommercial (CC BY-NC)",image:"/assets/license/by-nc.png",note:'<a target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"><img src="/assets/licenses/by-nc.png" width="100" height="35"/><br />https://creativecommons.org/licenses/by-nc/4.0/</a>'},{value:"cc-by-nc-sa",label:"Creative Commons Attribution-NonCommercial-ShareAlike (CC BY-NC-SA)",note:'<a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="/assets/licenses/by-nc-sa.png" width="100" height="35"/><br />https://creativecommons.org/licenses/by-nc-sa/4.0/</a>'},{value:"cc-by-nc-nd",label:"Creative Commons Attribution-NonCommercial-NoDerivs (CC BY-NC-ND)",note:'<a target="_blank" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img src="/assets/licenses/by-nc-nd.png" width="100" height="35"/><br />https://creativecommons.org/licenses/by-nc-nd/4.0/</a>'}]}}},function(e,t,n){"use strict";var r=n(1),i=n(969),o=n(944),s=n(170),a=n(189)(s),l=n(266),c=n(943),u=r.createClass({displayName:"Step5",mixins:[a.connect(l),c],propTypes:{onSubmit:r.PropTypes.func,onPrev:r.PropTypes.func},onSubmit:function(e,t){var n=this;o.setComplete(this.state._csrf,function(){n.props.onSubmit&&n.props.onSubmit(e,t)})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},render:function(){return r.createElement("div",{className:"row"},r.createElement(i,{waitForTileInit:!0,showPrev:!0,prevText:this.__("Previous"),onPrev:this.onPrev,onSubmit:this.onSubmit}))}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(604),o=r(i),s=n(1),a=n(170),l=n(189)(a),c=n(696),u=n(168),h=n(605),d=n(970),p=n(951),f=n(944),g=n(286),m=n(289),v=n(608),y=n(972),b=n(987),w=n(266),x=n(268),_=s.createClass({displayName:"LayerStyle",mixins:[l.connect(p),l.connect(w),a.listenTo(f.tileServiceInitialized,"tileServiceInitialized")],__:function(e){return x.getLocaleString(this.state.locale,e)},propTypes:{onSubmit:s.PropTypes.func,showPrev:s.PropTypes.bool,prevText:s.PropTypes.string,onPrev:s.PropTypes.func,waitForTileInit:s.PropTypes.bool},getDefaultProps:function(){return{onSubmit:null,waitForTileInit:!1}},getInitialState:function(){return{rasterOpacity:100,saving:!1,showMap:!this.props.waitForTileInit}},tileServiceInitialized:function(){this.setState({showMap:!0})},componentDidMount:function(){u(".collapsible").collapsible({accordion:!0})},onSubmit:function(){var e=this;e.setState({saving:!0});var t=this.refs.map.getPosition();t.bbox=this.refs.map.getBounds(),f.saveStyle({layer_id:this.state.layer.layer_id,style:this.state.layer.style,labels:this.state.layer.labels,settings:this.state.layer.settings,legend_html:this.state.layer.legend_html,preview_position:t},this.state._csrf,function(t){e.setState({saving:!1}),t?g.showMessage({title:e.__("Error"),message:t}):e.props.onSubmit&&e.props.onSubmit(e.state.layer.layer_id,e.state.layer.name)})},onPrev:function(){this.props.onPrev&&this.props.onPrev()},setColor:function(e,t){var n=c.updateStyleColor(this.state.layer.style,e),r=c.legendWithColor(this.state.layer,e);f.setStyle(n,this.state.layer.labels,r,t,null)},setRasterOpacity:function(e){var t=null;if(this.state.layer.is_external&&"ags-mapserver-tiles"==this.state.layer.external_layer_config.type)t=c.rasterStyleWithOpacity(this.state.layer.layer_id,this.state.layer.external_layer_config.url+"?f=json",e,"arcgisraster");else{var n=v.getBaseUrl();t=c.rasterStyleWithOpacity(this.state.layer.layer_id,n+"/api/layer/"+this.state.layer.layer_id+"/tile.json",e)}var r=c.rasterLegend(this.state.layer);f.setStyle(t,this.state.layer.labels,r,this.state.layer.settings,this.state.layer.preview_position),this.setState({rasterOpacity:e})},setStyle:function(e){f.setStyle(e,this.state.layer.labels,this.state.layer.legend_html,this.state.layer.settings,this.state.layer.preview_position)},setLabels:function(e,t){f.setStyle(e,t,this.state.layer.legend_html,this.state.layer.settings,this.state.layer.preview_position)},setMarkers:function(e){f.setStyle(e,this.state.layer.labels,this.state.layer.legend_html,this.state.layer.settings,this.state.layer.preview_position)},setSettings:function(e,t){f.setStyle(e,this.state.layer.labels,this.state.layer.legend_html,t,this.state.layer.preview_position)},setLegend:function(e){f.setStyle(this.state.layer.style,this.state.layer.labels,e,this.state.layer.settings,this.state.layer.preview_position)},reloadMap:function(){this.refs.map.reload()},resetStyle:function(){m.showConfirmation({title:this.__("Confirm Reset"),postitiveButtonText:this.__("Reset"),negativeButtonText:this.__("Cancel"),message:this.__("Warning! This will permanently delete all custom style settings from this layer."),onPositiveResponse:function(){f.resetStyle()}})},render:function(){var e=null;if(this.state.layer.preview_position&&this.state.layer.preview_position.bbox){var t=this.state.layer.preview_position.bbox;e=[t[0][0],t[0][1],t[1][0],t[1][1]]}var n="";void 0!==this.state.layer.layer_id&&this.state.layer.layer_id!==-1&&this.state.showMap&&(n=s.createElement("div",null,s.createElement(h,{ref:"map",id:"layer-style-map",className:"z-depth-2",insetMap:!1,style:{height:"300px",width:"400px",margin:"auto"},glStyle:this.state.layer.style,showLogo:!1,fitBounds:e}),s.createElement(d,{style:{height:"calc(100% - 300px)",width:"400px",margin:"auto",overflow:"auto"},collapsible:!0,hideInactive:!1,showLayersButton:!1,layers:[this.state.layer]})));var r="";this.props.showPrev&&(r=s.createElement("div",{className:"left"},s.createElement("a",{className:"waves-effect waves-light btn",onClick:this.onPrev},s.createElement("i",{className:"material-icons left"},"arrow_back"),this.props.prevText)));var i="";return i=!this.state.layer.is_external||"raster"!=this.state.layer.external_layer_config.type&&"ags-mapserver-tiles"!=this.state.layer.external_layer_config.type?this.state.layer.is_external&&"mapbox-style"==this.state.layer.external_layer_config.type?s.createElement("div",{style:{marginTop:"20px",marginBottom:"20px",padding:"20px",border:"1px solid #b1b1b1"}},s.createElement("b",null,this.__("Mapbox Studio Style Layer")),s.createElement("p",null,this.__("If you are the owner of this layer, click here to edit in Mapbox Studio on mapbox.com")),s.createElement("a",{target:"_blank",className:"btn",href:"https://www.mapbox.com/studio/styles/"+this.state.layer.external_layer_config.mapboxid+"/edit"},this.__("Edit in Mapbox Studio")),s.createElement("p",null,this.__("Once you have published your style on Mapbox,click refresh the preview map."),s.createElement("b",null,this.__("It may take a few minutes for the changes to appear, your layer will update automatically."))),s.createElement("button",{onClick:this.reloadMap,className:"waves-effect waves-light btn"},this.__("Reload"))):s.createElement("div",null,s.createElement("h5",null,this.__("Choose Style")),s.createElement(b,{color:this.state.mapColor,onColorChange:this.setColor,style:this.state.layer.style,onStyleChange:this.setStyle,labels:this.state.layer.labels,onLabelsChange:this.setLabels,onMarkersChange:this.setMarkers,settings:this.state.layer.settings,onSettingsChange:this.setSettings,layer:this.state.layer,legendCode:this.state.layer.legend_html,onLegendChange:this.setLegend})):s.createElement("div",null,s.createElement("h5",null,this.__("Choose Style")),s.createElement(y,{value:this.state.rasterOpacity,onChange:this.setRasterOpacity,style:this.state.layer.style,onStyleChange:this.setStyle,layer:this.state.layer,legendCode:this.state.layer.legend_html,onLegendChange:this.setLegend,showAdvanced:!0})),s.createElement("div",null,s.createElement(o.default,{id:"save-style-progess",title:this.__("Saving map"),subTitle:"",dismissible:!1,show:this.state.saving}),s.createElement("div",{className:"row"},s.createElement("div",{className:"row center"},s.createElement("div",{className:"col s12 m6 l6"},s.createElement("h5",null,this.__("Choose Preview")),n,s.createElement("p",null,this.__("The map preview is how your map will look in search results and other listings."))),s.createElement("div",{className:"col s12 m6 l6",style:{width:"425px"}},i,s.createElement("div",{className:"right"},s.createElement("button",{onClick:this.resetStyle,style:{marginRight:"10px"},className:"waves-effect waves-light btn"},this.__("Reset")),s.createElement("button",{onClick:this.onSubmit,className:"waves-effect waves-light btn"},this.__("Save"))))),r))}});e.exports=_},function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(170),s=n(189)(o),a=n(266),l=n(649),c=n(268),u=n(971),h=r.createClass({displayName:"MiniLegend",mixins:[s.connect(a),s.connect(l)],__:function(e){return c.getLocaleString(this.state.locale,e)},propTypes:{title:r.PropTypes.string,layers:r.PropTypes.array,hideInactive:r.PropTypes.bool,collapsible:r.PropTypes.bool,collapseToBottom:r.PropTypes.bool,showLayersButton:r.PropTypes.bool,style:r.PropTypes.object},getDefaultProps:function(){return{layers:[],hideInactive:!0,collapsible:!0,collapseToBottom:!1,showLayersButton:!0,style:{}}},getInitialState:function(){return{collapsed:!1}},toggleCollapsed:function(){this.setState({collapsed:!this.state.collapsed})},componentDidMount:function(){this.props.collapsible&&i(this.refs.legend).collapsible(),this.props.showLayersButton&&i(this.refs.mapLayersButton).sideNav({menuWidth:240,edge:"left",closeOnClick:!0})},render:function(){var e=this,t="";this.props.showLayersButton&&(t=r.createElement("a",{ref:"mapLayersButton",href:"#","data-activates":"map-layers",style:{position:"absolute",right:"20px",display:"inherit",height:"30px",zIndex:"100",borderRadius:"4px",lineHeight:"30px",textAlign:"center",width:"30px"},"data-position":"bottom","data-delay":"50","data-tooltip":this.__("Tools")},r.createElement("i",{className:"material-icons",style:{height:"30px",lineHeight:"30px",width:"30px",color:"#000",cursor:"pointer",borderStyle:"none",textAlign:"center",fontSize:"18px"}},"settings")));var n="";n=this.props.title&&""!=this.props.title?this.props.title:this.__("Legend");var i="";if(this.props.collapsible){var o;o=this.props.collapseToBottom?this.state.collapsed?"keyboard_arrow_up":"keyboard_arrow_down":this.state.collapsed?"keyboard_arrow_down":"keyboard_arrow_up",i=r.createElement("div",{className:"row no-margin",style:{height:"30px"}},r.createElement("div",{className:"col s10 no-padding valign-wrapper",style:{height:"30px"}},r.createElement("h6",{className:"black-text valign",style:{padding:"0.2rem",marginLeft:"2px",marginTop:"0px",marginBottom:"0px",fontWeight:"500"}},n)),r.createElement("div",{className:"col s2 no-padding valign"},t,r.createElement("i",{ref:"titleIcon",className:"material-icons icon-fade-in",style:{float:"right",marginRight:0,height:"100%",lineHeight:"30px"}},o)))}else i=r.createElement("div",{className:"row no-margin valign-wrapper",style:{height:"44px"}},r.createElement("h6",{className:"black-text valign",style:{padding:"0.2rem",marginLeft:"2px",fontWeight:"500"}},n),r.createElement("div",{className:"col s2 no-padding valign"},t));var s=!0;(this.state.collapsed||1==this.props.layers.length)&&(s=!1);var a=this.props.style;return a.height="9999px",r.createElement("div",{style:this.props.style},r.createElement("ul",{ref:"legend",className:"collapsible","data-collapsible":"accordion",style:{display:"flex",flexDirection:"column",textAlign:"left",margin:0,maxHeight:"100%",boxShadow:"none",border:"none"}},r.createElement("li",{className:"z-depth-1",style:{display:"flex",flexDirection:"column",backgroundColor:"#FFF",maxHeight:"100%",borderTop:"1px solid #ddd",borderRight:"1px solid #ddd",borderLeft:"1px solid #ddd"}},r.createElement("div",{className:"collapsible-header active no-padding",style:{height:"30px",minHeight:"30px"},onClick:this.toggleCollapsed},i),r.createElement("div",{className:"collapsible-body",style:{display:"flex",flexDirection:"column",borderBottom:"none"}},r.createElement("div",{className:"no-margin",style:{overflowY:s?"auto":"hidden",padding:"5px"}},this.props.layers.map(function(t){return"undefined"==typeof t.settings.active&&(t.settings.active=!0),e.props.hideInactive&&!t.settings.active?null:r.createElement(u,{key:t.layer_id,layer:t})}),r.createElement("div",{style:{lineHeight:"0.75em",padding:"2px"}},r.createElement("span",{style:{fontSize:"6px",float:"left",backgroundColor:"#FFF"},className:"grey-text align-left"},"Base Map - ",r.createElement("span",{className:"no-margin no-padding",dangerouslySetInnerHTML:{__html:this.state.attribution}}))))))))}});e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(711),o=n(676),s=r.createClass({displayName:"LegendItem",mixins:[o],propTypes:{layer:r.PropTypes.object.isRequired,style:r.PropTypes.object},getDefaultProps:function(){return{style:{padding:"2px",width:"100%",margin:"auto",position:"relative",minHeight:"25px",borderBottom:"1px solid #F1F1F1"}}},render:function(){var e=this;if(void 0==this.props.layer)return r.createElement("div",null);if(!this.props.layer||!this.props.layer.layer_id)return r.createElement("div",null);var t=r.createElement("div",{style:this.props.style},r.createElement("span",{className:"no-margin no-padding valign",dangerouslySetInnerHTML:{__html:this.props.layer.legend_html}}),r.createElement("span",{className:"grey-text right right-align truncate no-padding",style:{margin:0,fontSize:"6px",lineHeight:"6px",position:"absolute",bottom:0,right:0}},this.props.layer.source)),n=this.props.layer.style;return n.layers&&Array.isArray(n.layers)&&n.layers.length>0&&n.layers.forEach(function(n){if(n.id.startsWith("omh-data-point")&&n.metadata&&n.metadata["maphubs:markers"]&&n.metadata["maphubs:markers"].enabled){var o=JSON.parse(JSON.stringify(n.metadata["maphubs:markers"]));o.width=18,o.height=18,t=r.createElement("div",{className:"omh-legend valign-wrapper",style:e.props.style},r.createElement("div",{className:"valign",style:{float:"left"}},r.createElement(i,o)),r.createElement("h3",{className:"valign",style:{paddingLeft:"5px",paddingTop:"0px",paddingBottom:"5px"}},e.props.layer.name),r.createElement("span",{className:"grey-text left left-align truncate no-padding",style:{margin:0,fontSize:"6px",lineHeight:"6px",position:"absolute",bottom:0,right:0}},e.props.layer.source))}}),t}});e.exports=s},function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(973),s=n(170),a=n(189)(s),l=n(266),c=n(268),u=n(986),h=r.createClass({displayName:"OpacityChooser",mixins:[a.connect(l)],__:function(e){return c.getLocaleString(this.state.locale,e)},propTypes:{onChange:r.PropTypes.func.isRequired,value:r.PropTypes.number,onStyleChange:r.PropTypes.func,onLegendChange:r.PropTypes.func,onSettingsChange:r.PropTypes.func,style:r.PropTypes.object,legendCode:r.PropTypes.string,layer:r.PropTypes.object,settings:r.PropTypes.object,showAdvanced:r.PropTypes.bool},getDefaultProps:function(){return{value:100,settings:{}}},getInitialState:function(){return{opacity:this.props.value,style:this.props.style,legendCode:this.props.legendCode,settings:this.props.settings}},componentDidMount:function(){i(this.refs.collapsible).collapsible({accordion:!0})},componentWillReceiveProps:function(e){this.setState({style:e.style,legendCode:e.legendCode,settings:e.settings})},onChange:function(e){var t=e.target.valueAsNumber;this.setState({opacity:t}),this.props.onChange(t)},onStyleChange:function(e){e=JSON.parse(e),this.setState({style:e}),this.props.onStyleChange(e)},onSettingsChange:function(e,t){this.setState({style:e,settings:t}),this.props.onSettingsChange(e,t)},onLegendChange:function(e){this.setState({legendCode:e}),this.props.onLegendChange(e)},showStyleEditor:function(){this.refs.styleEditor.show()},showLegendEditor:function(){this.refs.legendEditor.show()},render:function(){var e="";return this.props.showAdvanced&&(e=r.createElement("li",null,r.createElement("div",{className:"collapsible-header"},r.createElement("i",{className:"material-icons"},"code"),this.__("Advanced")),r.createElement("div",{className:"collapsible-body"},r.createElement("button",{onClick:this.showStyleEditor,className:"btn",style:{margin:"10px"}},this.__("Edit Style Code")),r.createElement("br",null),r.createElement("button",{onClick:this.showLegendEditor,className:"btn",style:{marginBottom:"10px"}},this.__("Edit Legend Code")),r.createElement(u,{layer:this.props.layer,style:this.state.style,settings:this.state.settings,onChange:this.onSettingsChange})))),r.createElement("div",null,r.createElement("ul",{ref:"collapsible",className:"collapsible","data-collapsible":"accordion"},r.createElement("li",null,r.createElement("div",{className:"collapsible-header active"},r.createElement("i",{className:"material-icons"},"opacity"),this.__("Opacity")),r.createElement("div",{className:"collapsible-body"},r.createElement("div",{className:"row"},r.createElement("form",{action:"#"},r.createElement("p",{className:"range-field"},r.createElement("input",{type:"range",id:"opacity",min:"0",max:"100",value:this.state.opacity,onChange:this.onChange})))),r.createElement("div",{className:"row valign-wrapper"},r.createElement("h5",{className:"valign",style:{margin:"auto"}},this.state.opacity,"%")))),e),r.createElement(o,{ref:"styleEditor",id:"raster-style-editor",mode:"json",code:JSON.stringify(this.state.style,void 0,2),title:"Edit Layer Style",onSave:this.onStyleChange}),r.createElement(o,{ref:"legendEditor",id:"raster-legend-editor",mode:"html",code:this.state.legendCode,title:"Edit Layer Legend",onSave:this.onLegendChange}))}});e.exports=h},function(e,t,n){"use strict";var r,i=n(283),o=n(1),s=n(170),a=n(189)(s),l=n(266),c=n(268),u=n(610);n(974),r=n(977).default,n(979),n(981),n(985);var h=o.createClass({displayName:"CodeEditor",mixins:[a.connect(l)],__:function(e){return c.getLocaleString(this.state.locale,e)},propTypes:{id:o.PropTypes.string,onSave:o.PropTypes.func.isRequired,title:o.PropTypes.string.isRequired,code:o.PropTypes.string,mode:o.PropTypes.string,theme:o.PropTypes.string,modal:o.PropTypes.bool},getDefaultProps:function(){return{id:"code-editor",mode:"json",theme:"monokai",modal:!0}},getInitialState:function(){return{code:this.props.code,canSave:!0,show:!1}},componentWillReceiveProps:function(e){this.setState({code:e.code})},shouldComponentUpdate:function(e,t){return!u(this.props,e)||!u(this.state,t)},componentDidUpdate:function(){var e=this;this.refs.ace&&(this.editor=this.refs.ace.editor,this.editor.getSession().on("changeAnnotation",function(){var t=e.editor.getSession().getAnnotations(),n=!0;t&&t.length>0&&t.forEach(function(e){"error"===e.type&&(n=!1)}),e.setState({canSave:n})}))},show:function(){this.setState({show:!0})},hide:function(){this.setState({show:!1})},onChange:function(e){this.setState({code:e})},onCancel:function(){this.hide()},onSave:function(){this.state.canSave&&(this.props.modal&&this.hide(),this.props.onSave(this.state.code))},render:function(){var e="";return this.state.show&&(e=o.createElement(r,{ref:"ace",mode:this.props.mode,theme:this.props.theme,onChange:this.onChange,name:this.props.id,width:"100%",height:"100%",highlightActiveLine:!0,enableBasicAutocompletion:!0,value:this.state.code,editorProps:{$blockScrolling:!0}})),this.props.modal?o.createElement(i.Modal,{id:this.props.id,show:this.state.show,className:"code-edit-modal",fixedFooter:!0,dismissible:!1},o.createElement(i.ModalContent,{style:{padding:"0px"}},o.createElement("div",{className:"left-align",style:{height:"100%"}},e)),o.createElement(i.ModalFooter,null,o.createElement("p",{className:"left no-padding"},this.props.title),o.createElement("div",{className:"right"},o.createElement("a",{className:"waves-effect waves-light btn",style:{float:"none",marginRight:"15px"},onClick:this.onCancel},this.__("Cancel")),o.createElement("a",{className:"waves-effect waves-light btn",style:{float:"none"},disabled:!this.state.canSave,onClick:this.onSave},this.__("Save"))))):o.createElement("div",{style:{height:"calc(100% - 100px)",width:"100%"}},o.createElement("p",{className:"left no-padding"},this.props.title),e,o.createElement("div",{className:"right"},o.createElement("a",{className:"waves-effect waves-light btn",style:{float:"none",marginTop:"15px"},disabled:!this.state.canSave,onClick:this.onSave},this.__("Save"))))}});e.exports=h},function(e,t,n){!function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(r.original=t.define,t.define=r,t.define.packaged=!0),t.acequire&&t.acequire.packaged||(o.original=t.acequire,t.acequire=o,t.acequire.packaged=!0)}var t="ace",n=function(){return this}();if(n||"undefined"==typeof window||(n=window),t||"undefined"==typeof acequirejs){var r=function(e,t,n){return"string"!=typeof e?void(r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=t),void(r.modules[e]||(r.payloads[e]=n,r.modules[e]=null)))};r.modules={},r.payloads={};var i=function(e,t,n){if("string"==typeof t){var r=a(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],s=0,l=t.length;s<l;++s){var c=a(e,t[s]);if(void 0==c&&o.original)return;i.push(c)}return n&&n.apply(null,i)||!0}},o=function(e,t){var n=i("",e,t);return void 0==n&&o.original?o.original.apply(this,arguments):n},s=function(e,t){if(t.indexOf("!")!==-1){var n=t.split("!");return s(e,n[0])+"!"+s(e,n[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");for(t=r+"/"+t;t.indexOf(".")!==-1&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=s(e,t);var n=r.modules[t];if(!n){if(n=r.payloads[t],"function"==typeof n){var o={},a={id:t,uri:"",exports:o,packaged:!0},l=function(e,n){return i(t,e,n)},c=n(l,o,a);o=c||a.exports,r.modules[t]=o,delete r.payloads[t]}n=r.modules[t]=o||n}return n};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";function r(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function i(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===o.exec.call(/()??/,"")[1],a=function(){
var e=/^/g;return o.test.call(e,""),!e.lastIndex}();a&&s||(RegExp.prototype.exec=function(e){var t,n,l=o.exec.apply(this,arguments);if("string"==typeof e&&l){if(!s&&l.length>1&&i(l,"")>-1&&(n=RegExp(this.source,o.replace.call(r(this),"g","")),o.replace.call(e.slice(l.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(e){var t=o.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function r(){}function i(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function o(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=f.call(arguments,1),i=function(){if(this instanceof i){var r=t.apply(this,n.concat(f.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(f.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,i.prototype=new r,r.prototype=null),i});var s,a,l,c,u,h=Function.prototype.call,d=Array.prototype,p=Object.prototype,f=d.slice,g=h.bind(p.toString),m=h.bind(p.hasOwnProperty);if((u=m(p,"__defineGetter__"))&&(s=h.bind(p.__defineGetter__),a=h.bind(p.__defineSetter__),l=h.bind(p.__lookupGetter__),c=h.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),i=f.call(arguments,2),o=i.length;if(e===n)o&&this.push.apply(this,i);else{var s=Math.min(t,n-e),a=e+s,l=a+o-s,c=n-a,u=n-s;if(l<a)for(var h=0;h<c;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(o&&e===u)this.length=u,this.push.apply(this,i);else for(this.length=u+o,h=0;h<o;++h)this[e+h]=i[h]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==g(e)});var y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)s in n&&(i[s]=e.call(o,n[s],s,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=N(this),r=b&&"[object String]"==g(this)?this.split(""):n,i=r.length>>>0,o=[],s=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var a=0;a<i;a++)a in r&&(t=r[a],e.call(s,t,a,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;o<r;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(i=e.call(void 0,i,n[o],o,t));while(o--);return i}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(e){var t=b&&"[object String]"==g(this)?this.split(""):N(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=o(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(e){var t=b&&"[object String]"==g(this)?this.split(""):N(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:p)}),!Object.getOwnPropertyDescriptor){var w="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(w+e);if(m(e,t)){var n,r,i;if(n={enumerable:!0,configurable:!0},u){var o=e.__proto__;e.__proto__=p;var r=l(e,t),i=c(e,t);if(e.__proto__=o,r||i)return r&&(n.get=r),i&&(n.set=i),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var x;x=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=x();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var _=i({}),E="undefined"==typeof document||i(document.createElement("div"));if(!_||!E)var C=Object.defineProperty}if(!Object.defineProperty||C){var S="Property description must be an object: ",k="Object.defineProperty called on non-object: ",A="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(k+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(S+n);if(C)try{return C.call(Object,e,t,n)}catch(e){}if(m(n,"value"))if(u&&(l(e,t)||c(e,t))){var r=e.__proto__;e.__proto__=p,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!u)throw new TypeError(A);m(n,"get")&&s(e,t,n.get),m(n,"set")&&a(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)m(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";m(e,t);)t+="?";e[t]=!0;var n=m(e,t);return delete e[t],n}),!Object.keys){var T=!0,F=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],L=F.length;for(var R in{toString:null})T=!1;Object.keys=function e(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)m(t,n)&&e.push(n);if(T)for(var r=0,i=L;r<i;r++){var o=F[r];m(t,o)&&e.push(o)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var M="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||M.trim()){M="["+M+"]";var I=new RegExp("^"+M+M+"*"),D=new RegExp(M+M+"*$");String.prototype.trim=function(){return String(this).replace(I,"").replace(D,"")}}var N=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,n){"use strict";var r="http://www.w3.org/1999/xhtml";return t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className+"").split(/\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;r<n.length;)if(n[r++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;r<n.length;)if(n[r++].id===e)return!0;return!1},t.importCssString=function(e,n,r){if(r=r||document,n&&t.hasCssString(n,r))return null;var i;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),r.createStyleSheet?(i=r.createStyleSheet(),i.cssText=e,n&&(i.owningElement.id=n)):(i=t.createElement("style"),i.appendChild(r.createTextNode(e)),n&&(i.id=n),t.getDocumentHead(r).appendChild(i))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var s=n.offsetWidth;i.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=r.clientWidth),o.removeChild(r),s-a},"undefined"==typeof document?void(t.importCssString=function(){}):(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),void(t.getParentWindow=function(e){return e.defaultView||e.parentWindow}))}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((i.match(/rv:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t,n){var r=c(t);if(!s.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),a.altGr){if(3==(3&r))return;a.altGr=0}if(18===n||17===n){var i="location"in t?t.location:t.keyLocation;if(17===n&&1===i)1==a[n]&&(l=t.timeStamp);else if(18===n&&3===r&&2===i){var u=t.timeStamp-l;u<50&&(a.altGr=!0)}}}if(n in o.MODIFIER_KEYS&&(n=-1),8&r&&n>=91&&n<=93&&(n=-1),!r&&13===n){var i="location"in t?t.location:t.keyLocation;if(3===i&&(e(t,r,-n),t.defaultPrevented))return}if(s.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in o.FUNCTION_KEYS||n in o.PRINTABLE_KEYS)&&e(t,r,n)}function i(){a=Object.create(null)}var o=e("./keys"),s=e("./useragent"),a=null,l=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):void(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||s.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var r,i;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];r=t.clientX,i=t.clientY}),t.addListener(e,"touchmove",function(e){var t=1,o=e.changedTouches[0];e.wheelX=-(o.clientX-r)/t,e.wheelY=-(o.clientY-i)/t,r=o.clientX,i=o.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,r,i){function o(e){if(0!==t.getButton(e)?h=0:e.detail>1?(h++,h>4&&(h=1)):h=1,s.isIE){var o=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-c)>5;u&&!o||(h=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),1==h&&(l=e.clientX,c=e.clientY)}if(e._clicks=h,r[i]("mousedown",e),h>4)h=0;else if(h>1)return r[i](d[h],e)}function a(e){h=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),r[i]("mousedown",e),r[i](d[h],e)}var l,c,u,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",o),s.isOldIE&&t.addListener(e,"dblclick",a)})};var c=!s.isMac||!s.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return o.KEY_MODS[c(e)]},t.addCommandKeyListener=function(e,n){var o=t.addListener;if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var l=null;o(e,"keydown",function(e){l=e.keyCode}),o(e,"keypress",function(e){return r(n,e,l)})}else{var c=null;o(e,"keydown",function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=r(n,e,e.keyCode);return c=e.defaultPrevented,t}),o(e,"keypress",function(e){c&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),c=null)}),o(e,"keyup",function(e){a[e.keyCode]=null}),a||(i(),o(window,"focus",i))}},"object"==typeof window&&window.postMessage&&!s.isOldIE){var u=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+u;t.addListener(n,"message",function i(o){o.data==r&&(t.stopPropagation(o),t.removeListener(n,"message",i),e())}),n.postMessage(r,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;n={};for(var r in t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=i.isChrome<18,l=i.isIE,c=function(e,t){function n(e){if(!g){if(g=!0,A)t=0,n=e?0:h.value.length-1;else var t=e?2:1,n=2;try{h.setSelectionRange(t,n)}catch(e){}g=!1}}function c(){g||(h.value=d,i.isWebKit&&w.schedule())}function u(){clearTimeout(j),j=setTimeout(function(){m&&(h.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},i.isOldIE?200:0)}var h=o.createElement("textarea");h.className="ace_text-input",i.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",i.isOldIE&&(h.style.top="-1000px"),e.insertBefore(h,e.firstChild);var d="",p=!1,f=!1,g=!1,m="",v=!0;try{var y=document.activeElement===h}catch(e){}r.addListener(h,"blur",function(e){t.onBlur(e),y=!1}),r.addListener(h,"focus",function(e){y=!0,t.onFocus(e),n()}),this.focus=function(){if(m)return h.focus();var e=h.style.top;h.style.position="fixed",h.style.top="0px",h.focus(),setTimeout(function(){h.style.position="","0px"==h.style.top&&(h.style.top=e)},0)},this.blur=function(){h.blur()},this.isFocused=function(){return y};var b=s.delayedCall(function(){y&&n(v)}),w=s.delayedCall(function(){g||(h.value=d,y&&n())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,b.schedule())}),c(),y&&t.onFocus();var x=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},x=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),i.isOldIE){var _=!1,E=function(e){if(!_){var t=h.value;if(!g&&t&&t!=d){if(e&&t==d[0])return C.schedule();F(t),_=!0,c(),_=!1}}},C=s.delayedCall(E);r.addListener(h,"propertychange",E);var S={13:1,27:1};r.addListener(h,"keyup",function(e){return!g||h.value&&!S[e.keyCode]||setTimeout(B,0),(h.value.charCodeAt(0)||0)<129?C.call():void(g?O():P())}),r.addListener(h,"keydown",function(e){C.schedule(50)})}var k=function(e){p?p=!1:x(h)?(t.selectAll(),n()):A&&n(t.selection.isEmpty())},A=null;this.setInputHandler=function(e){A=e},this.getInputHandler=function(){return A};var T=!1,F=function(e){A&&(e=A(e),A=null),f?(n(),e&&t.onPaste(e),f=!1):e==d.charAt(0)?T?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),T&&(T=!1)},L=function(e){if(!g){var t=h.value;F(t),c()}},R=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!a){var i=l||n?"Text":"text/plain";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return R(e,t,!0)}}},M=function(e,i){var o=t.getCopyText();return o?void(R(e,o)?(i?t.onCut():t.onCopy(),r.preventDefault(e)):(p=!0,h.value=o,h.select(),setTimeout(function(){p=!1,c(),n(),i?t.onCut():t.onCopy()}))):r.preventDefault(e)},I=function(e){M(e,!0)},D=function(e){M(e,!1)},N=function(e){var o=R(e);"string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(n),r.preventDefault(e)):(h.value="",f=!0)};r.addCommandKeyListener(h,t.onCommandKey.bind(t)),r.addListener(h,"select",k),r.addListener(h,"input",L),r.addListener(h,"cut",I),r.addListener(h,"copy",D),r.addListener(h,"paste",N),"oncut"in h&&"oncopy"in h&&"onpaste"in h||r.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:D(e);break;case 86:N(e);break;case 88:I(e)}});var P=function(e){g||!t.onCompositionStart||t.$readOnly||(g={},g.canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(O,0),t.on("mousedown",B),g.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},O=function(){if(g&&t.onCompositionUpdate&&!t.$readOnly){var e=h.value.replace(/\x01/g,"");if(g.lastValue!==e&&(t.onCompositionUpdate(e),g.lastValue&&t.undo(),g.canUndo&&(g.lastValue=e),g.lastValue)){var n=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},B=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=g;g=!1;var r=setTimeout(function(){r=null;var e=h.value.replace(/\x01/g,"");g||(e==n.lastValue?c():!n.lastValue&&e&&(c(),F(e)))});A=function(e){return r&&clearTimeout(r),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&r&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",B),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range),i.isChrome&&i.isChrome>=53&&L()}},$=s.delayedCall(O,50);r.addListener(h,"compositionstart",P),i.isGecko?r.addListener(h,"text",function(){$.schedule()}):(r.addListener(h,"keyup",function(){$.schedule()}),r.addListener(h,"keydown",function(){$.schedule()})),r.addListener(h,"compositionend",B),this.getElement=function(){return h},this.setReadOnly=function(e){h.readOnly=e},this.onContextMenu=function(e){T=!0,n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){if(n||!i.isOldIE){m||(m=h.style.cssText),h.style.cssText=(n?"z-index:100000;":"")+"height:"+h.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),a=o.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-h.clientHeight-2,p=function(e){h.style.left=e.clientX-c-2+"px",h.style.top=Math.min(e.clientY-l-2,d)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(j),i.isWin&&!i.isOldIE&&r.capture(t.container,p,u))}},this.onContextMenuClose=u;var j,z=function(e){t.textInput.onContextMenu(e),u()};r.addListener(h,"mouseup",z),r.addListener(h,"mousedown",function(e){e.preventDefault(),u()}),r.addListener(t.renderer.scroller,"contextmenu",z),r.addListener(h,"contextmenu",z)};t.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var s=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(0!==i){var o=r.getSelectionRange(),s=o.isEmpty();return r.$blockScrolling++,(s||1==i)&&r.selection.moveToPosition(n),r.$blockScrolling--,void(2==i&&r.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),
n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=o(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),a=this.$clickSelection.comparePoint(i.end);if(s==-1&&a<=0)t=this.$clickSelection.end,i.end.row==r.row&&i.end.column==r.column||(r=i.start);else if(1==a&&s>=0)t=this.$clickSelection.start,i.start.row==r.row&&i.start.column==r.column||(r=i.end);else if(s==-1&&1==a)r=i.end,t=i.start;else{var l=o(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>s||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return i||n<200?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(i||n<200)return this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(r.prototype),t.DefaultHandlers=r}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var i=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),t.Tooltip=r}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function r(e){function t(){var t=h.getDocumentPosition().row,i=l.$annotations[t];if(!i)return n();var o=s.session.getLength();if(t==o){var a=s.renderer.pixelToScreenCoordinates(0,h.y).row,u=h.$pos;if(a>s.session.documentToScreenRow(u.row,u.column))return n()}if(d!=i)if(d=i.text.join("<br/>"),c.setHtml(d),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",n),e.$tooltipFollowsMouse)r(h);else{var p=h.domEvent.target,f=p.getBoundingClientRect(),g=c.getElement().style;g.left=f.right+"px",g.top=f.bottom+"px"}}function n(){u&&(u=clearTimeout(u)),d&&(c.hide(),d=null,s._signal("hideGutterTooltip",c),s.removeEventListener("mousewheel",n))}function r(e){c.setPosition(e.x,e.y)}var s=e.editor,l=s.renderer.$gutterLayer,c=new i(s.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var r=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(r,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,h,d;e.editor.setDefaultHandler("guttermousemove",function(i){var s=i.domEvent.target||i.domEvent.srcElement;return o.hasCssClass(s,"ace_fold-widget")?n():(d&&e.$tooltipFollowsMouse&&r(i),h=i,void(u||(u=setTimeout(function(){u=null,h&&!e.isMousePressed?t():n()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(e){h=null,d&&!u&&(u=setTimeout(function(){u=null,n()},50))}),s.on("changeSession",n)}function i(e){l.call(this,e)}var o=e("../lib/dom"),s=e("../lib/oop"),a=e("../lib/event"),l=e("../tooltip").Tooltip;s.inherits(i,l),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+o>r&&(t-=20+o),l.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=r}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!T||r||o)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,T=n,F={x:w,y:x};else{var s=i(F.x,F.y,w,x);s>u?T=null:n-T>=c&&(m.renderer.scrollCursorIntoView(),T=null)}}function n(e,t){var n=Date.now(),r=m.renderer.layerConfig.lineHeight,i=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:w-o.left,right:o.right-w},y:{top:x-o.top,bottom:o.bottom-x}},a=Math.min(s.x.left,s.x.right),c=Math.min(s.y.top,s.y.bottom),u={row:e.row,column:e.column};a/i<=2&&(u.column+=s.x.left<s.x.right?-3:2),c/r<=1&&(u.row+=s.y.top<s.y.bottom?-1:1);var h=e.row!=u.row,d=e.column!=u.column,p=!t||e.row!=t.row;h||d&&!p?A?n-A>=l&&m.renderer.scrollCursorIntoView(u):A=n:A=null}function r(){var e=C;C=m.renderer.screenToTextCoordinates(w,x),t(C,e),n(C,e)}function h(){E=m.selection.toOrientedRange(),b=m.session.addMarker(E,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),r(),_=setInterval(r,20),R=0,s.addListener(document,"mousemove",p)}function d(){clearInterval(_),m.session.removeMarker(b),b=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(E),m.$blockScrolling-=1,m.isFocused()&&!k&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),E=null,C=null,R=0,A=null,T=null,s.removeListener(document,"mousemove",p)}function p(){null==M&&(M=setTimeout(function(){null!=M&&b&&d()},20))}function f(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function g(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return r&&t.indexOf(i)>=0?o="copy":n.indexOf(i)>=0?o="move":t.indexOf(i)>=0&&(o="copy"),o}var m=e.editor,v=o.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var b,w,x,_,E,C,S,k,A,T,F,L=m.container,R=0;this.onDragStart=function(e){if(this.cancelDrag||!L.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}E=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),a.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),k=!0,this.setState("drag")},this.onDragEnd=function(e){if(L.draggable=!1,k=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;S||"move"!=t||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return w=e.clientX,x=e.clientY,b||h(),R++,e.dataTransfer.dropEffect=S=g(e),s.preventDefault(e)},this.onDragOver=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return w=e.clientX,x=e.clientY,b||(h(),R++),null!==M&&(M=null),e.dataTransfer.dropEffect=S=g(e),s.preventDefault(e)},this.onDragLeave=function(e){if(R--,R<=0&&b)return d(),S=null,s.preventDefault(e)},this.onDrop=function(e){if(C){var t=e.dataTransfer;if(k)switch(S){case"move":E=E.contains(C.row,C.column)?{start:C,end:C}:m.moveText(E,C);break;case"copy":E=m.moveText(E,C,!0)}else{var n=t.getData("Text");E={start:C,end:m.session.insert(C,n)},m.focus(),S=null}return d(),s.preventDefault(e)}},s.addListener(L,"dragstart",this.onDragStart.bind(e)),s.addListener(L,"dragend",this.onDragEnd.bind(e)),s.addListener(L,"dragenter",this.onDragEnter.bind(e)),s.addListener(L,"dragover",this.onDragOver.bind(e)),s.addListener(L,"dragleave",this.onDragLeave.bind(e)),s.addListener(L,"drop",this.onDrop.bind(e));var M=null}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var o=e("../lib/dom"),s=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=a.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(a.isIE&&"dragReady"==this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if("dragWait"===this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(1===i&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=t.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);o!=-1&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t){n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var i=r.indexOf(t);i!=-1&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),r.indexOf(t)==-1&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var o=e("./oop"),s=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return r('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,s),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),o.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=r,this.reportError=i}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,r){"no use strict";function i(i){if(c&&c.document){u.packaged=i||e.packaged||r.packaged||c.define&&n(975).packaged;for(var s={},a="",l=document.currentScript||document._currentScript,h=l&&l.ownerDocument||document,d=h.getElementsByTagName("script"),p=0;p<d.length;p++){var f=d[p],g=f.src||f.getAttribute("src");if(g){for(var m=f.attributes,v=0,y=m.length;v<y;v++){var b=m[v];0===b.name.indexOf("data-ace-")&&(s[o(b.name.replace(/^data-ace-/,""))]=b.value)}var w=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(a=w[1])}}a&&(s.base=s.base||a,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var x in s)"undefined"!=typeof s[x]&&t.set(x,s[x])}}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var s=e("./lib/lang"),a=(e("./lib/oop"),e("./lib/net")),l=e("./lib/app_config").AppConfig;r.exports=t=new l;var c=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);u[e]=t},t.all=function(){return s.copyObject(u)},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r="snippets"==t?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var s=u[t+"Path"];return null==s?s=u.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(e){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var s=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void a.loadScript(t.moduleUrl(n,o),s):s()}},i(!0),t.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();r.addListener(a,"click",this.onMouseEvent.bind(this,"click")),r.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;r.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(a,"mousedown",n),r.addListener(c,"mousedown",n),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n),r.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new a(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var o=this,s=function(e){if(e){if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});o.$onCaptureMouseMove=s,o.releaseMouse=r.capture(this.editor.container,s,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";function r(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session,o=i.getParentFoldRangeData(r,!0),s=o.range||o.firstRange;if(s){r=s.start.row;var a=i.getFoldAt(r,i.getLine(r).length,1);a?i.removeFold(a):(i.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t!=-1&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r),!(o&&o.command&&(s="null"==o.command||a.exec(o.command,this.$editor,o.args,r),s&&r&&e!=-1&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s))););return s||e!=-1||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return t==-1||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(n==-1)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection");
})};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(r||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,t===!0?new s(r,0,n,this.session.getLine(n).length):new s(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),o=i.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,r=this.doc.getLine(t),i=r.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(t,n,1);return o?void this.moveCursorTo(o.end.row,o.end.column):((e=this.session.nonTokenRe.exec(i))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=r.substring(n)),n>=r.length?(this.moveCursorTo(t,r.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight())):((e=this.session.tokenRe.exec(i))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o,s=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0?(this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft())):((o=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n))},this.$shortWordEndIndex=function(e){var t,n,r=0,i=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,t=this.session.tokenRe.exec(e))r=this.session.tokenRe.lastIndex;else{for(;(n=e[r])&&i.test(n);)r++;if(r<1)for(o.lastIndex=0;(n=e[r])&&!o.test(n);)if(o.lastIndex=0,r++,i.test(n)){if(r>2){r--;break}for(;(n=e[r])&&i.test(n);)r++;if(r>2)break}}return o.lastIndex=0,r},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||e>0)&&r.row++,this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var r=e("./config"),i=2e3,o=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(h>1?c.onMatch=this.$applyToken:c.onMatch=c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+i+1)}):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[i]=l,i+=h,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(o[0]=0,r.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,l){return r?r="]"!=a:a?r=!0:s?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=l)),e}),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=o[s[y]],p=f.onMatch?f.onMatch(g,r,n):f.token,f.next&&(r="string"==typeof f.next?f.next:f.next(r,n),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,a=this.regExps[r],a.lastIndex=m);break}if(g)if("string"==typeof p)f&&f.merge===!1||d.type!==p?(d.type&&c.push(d),d={type:p,value:g}):d.value+=g;else if(p){d.type&&c.push(d),d={type:null,value:""};for(var y=0;y<p.length;y++)c.push(p[y])}if(u==e.length)break;if(u=m,h++>i){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else{i=[];for(var l in s)i.push(t+l)}if(this.addRules(s,t),n)for(var c=Array.prototype[o?"push":"unshift"],a=0;a<i.length;a++)c.apply(this.$rules[i[a]],r.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||(h=l.token,"string"!=typeof h&&(h=h[0]||""),i[h]&&(h+=r++)),i[h]=u,l.next=h,n(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var p="string"==typeof l?l:"string"==typeof l.include?l.include:"";if(p&&(c=i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter(function(e){return!e.next})),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var r=0,i=this.$rules;Object.keys(i).forEach(n,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];n&&(o=o.toLowerCase());for(var s=o.split(r||"|"),a=s.length;a--;)i[s[a]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(r.prototype),t.TokenIterator=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?r=u[t]:void(r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function(){this.add("braces","insertion",function(e,t,n,i,o){var s=n.getCursorPosition(),l=i.doc.getLine(s.row);if("{"==o){h(n);var c=n.getSelectionRange(),u=i.doc.getTextRange(c);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return d(c,u,"{","}");if(p.isSaneInsertion(n,i))return/[\]\}\)]/.test(l[s.column])||n.inMultiSelectMode?(p.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(n);var f=l.substring(s.column,s.column+1);if("}"==f){var g=i.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&p.isAutoInsertedClosing(s,l,o))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(n);var m="";p.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var f=l.substring(s.column,s.column+1);if("}"===f){var v=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!v)return null;var y=this.$getIndent(i.getLine(v.row))}else{if(!m)return void p.clearMaybeInsertedClosing();var y=this.$getIndent(l)}var b=y+i.getTabString();return{text:"\n"+b+"\n"+y+m,selection:[1,b.length,1,b.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(n);var a=i.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if("("==i){h(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"(",")");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){h(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=r.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if(")"==a)return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if("["==i){h(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"[","]");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){h(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=r.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if("]"==a)return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if('"'==i||"'"==i){if(this.lineCommentStart&&this.lineCommentStart.indexOf(i)!=-1)return;h(n);var o=i,s=n.getSelectionRange(),a=r.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return d(s,a,o,o);if(!a){var l=n.getCursorPosition(),c=r.doc.getLine(l.row),u=c.substring(l.column-1,l.column),p=c.substring(l.column,l.column+1),f=r.getTokenAt(l.row,l.column),g=r.getTokenAt(l.row,l.column+1);if("\\"==u&&f&&/escape/.test(f.type))return null;var m,v=f&&/string|escape/.test(f.type),y=!g||/string|escape/.test(g.type);if(p==o)m=v!==y,m&&/string\.end/.test(g.type)&&(m=!1);else{if(v&&!y)return null;if(v&&y)return null;var b=r.$mode.tokenRe;b.lastIndex=0;var w=b.test(u);b.lastIndex=0;var x=b.test(u);if(w||x)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;m=!0}return{text:m?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if(a==o)return i.end.column++,i}})};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(p,o),t.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";function r(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}t.packages={},r({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var r=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,s=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){this.HighlightRules=i};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;t<=r;t++)e(o.getLine(t),t)}var o=t.doc,s=!0,l=!0,c=1/0,u=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(a.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var d=a.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),h=t.getUseSoftTabs();var f=function(e,t){var n=e.match(d);if(n){var r=n[1].length,i=n[0].length;y(e,r,i)||" "!=n[0][i-1]||i--,o.removeInLine(t,r,i)}},g=p+" ",m=function(e,t){s&&!/\S/.test(e)||(y(e,c,c)?o.insertInLine({row:t,column:c},g):o.insertInLine({row:t,column:c},p))},v=function(e,t){return d.test(e)},y=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%u!=0)return!1;for(var r=0;" "==e.charAt(n++);)r++;return u>2?r%u!=u-1:r%u==0}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,b=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+a.escapeRegExp(p)+")"),w=new RegExp("(?:"+a.escapeRegExp(b)+")\\s*$"),m=function(e,t){v(e,t)||s&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},b),o.insertInLine({row:t,column:c},p))},f=function(e,t){var n;(n=e.match(w))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(d))&&o.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(d.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var x=1/0;i(function(e,t){var n=e.search(/\S/);n!==-1?(n<c&&(c=n),l&&!v(e,t)&&(l=!1)):x>e.length&&(x=e.length)}),c==1/0&&(c=x,s=!1,l=!1),h&&c%u!=0&&(c=Math.floor(c/u)*u),i(l?f:m)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,s,a=new l(t,r.row,r.column),u=a.getCurrentToken(),h=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var d,p;u&&/comment/.test(u.type);){var f=u.value.indexOf(i.start);if(f!=-1){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+f;d=new c(g,m,g,m+i.start.length);break}u=a.stepBackward()}for(var a=new l(t,r.row,r.column),u=a.getCurrentToken();u&&/comment/.test(u.type);){var f=u.value.indexOf(i.end);if(f!=-1){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+f;p=new c(g,m,g,m+i.end.length);break}u=a.stepForward()}p&&t.remove(p),d&&(t.remove(d),o=d.start.row,s=-i.start.length)}else s=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),t.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}}(this)},this.$delegator=function(e,t,n){var r=t[0];"string"!=typeof r&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var o=r.split(this.$embeds[i]);if(!o[0]&&o[1]){t[0]=o[1];var s=this.$modes[this.$embeds[i]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,s=i.length;o<s;o++)if("string"==typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"==typeof i[o].token)for(var a=0,l=i[o].token.length;a<l;a++)if(/keyword|support|storage/.test(i[o].token[a])){var r=i[o].regex.match(/\(.+?\)/g)[a];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||"";switch(t.action){case"insert":var s=t.lines;if(1===s.length)e[r]=o.substring(0,i)+t.lines[0]+o.substring(i);else{var a=[r,1].concat(t.lines);e.splice.apply(e,a),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i)}break;case"remove":var l=t.end.column,c=t.end.row;r===c?e[r]=o.substring(0,i)+o.substring(l):e.splice(r,c-r+1,o.substring(0,i)+e[c].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),s=(i?1:-1)*(t.end.column-t.start.column),a=t.start,l=i?a:t.end;return e(n,a,r)?{row:n.row,column:n.column}:e(l,n,!r)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,a=r?t+1:t,l=r?0:this.getLine(a).length,c=new s(i,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return n=t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),i(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length,i=e.start.row,o=e.start.column,s=0,a=0;;){s=a,a+=t-1;var l=n.slice(s,a);if(a>r){e.lines=l,e.start.row=i+s,e.start.column=o;break}l.push(""),this.applyDelta({start:this.pos(i+s,o),end:this.pos(i+a,o=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if(e-=n[i].length+r,e<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)i+=n[s].length+r;return i+e.column;
}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc,o=t;n.lines[t];)t++;var s=i.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);if(a++,a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,o<=r&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&(c=r.getMatchOffsets(n.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(r=a[c],i=r.range.compareStart(t,n),i==-1)return void e(null,t,n,s,l);if(o=e(null,r.start.row,r.start.column,s,l),o=!o&&e(r.placeholder,r.start.row,r.start.column,s),o||0===i)return;l=!r.sameRow,s=r.end.column}e(null,t,n,s,l)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(n=this.folds[i],r=n.range.compareEnd(e,t),r==-1)return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){i=this.folds;var s=i.indexOf(r);for(0===s&&(this.start.column+=n),s;s<i.length;s++){if(r=i[s],r.start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(i),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var c=new r(s,o);return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if(e-=r.start.column-t,e<0)return{row:r.start.row,column:r.start.column+e};if(e-=r.placeholder.length,e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("./range").Range,i=r.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});for(var n,r=t[0],o=1;o<t.length;o++){n=r,r=t[o];var s=i(n.end,r.start);s<0||(0!=s||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(o,1),e.push(r),r=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],s=r;s<i;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else var n=e.start,t=e.end;for(var r=t.row,i=n.row,o=i-r,s=-t.column+n.column,a=this.ranges,l=0,c=a.length;l<c;l++){var u=a[l];if(!(u.end.row<r)){if(u.start.row>r)break;if(u.start.row==r&&u.start.column>=t.column&&(u.start.column==t.column&&this.$insertRight||(u.start.column+=s,u.start.row+=o)),u.end.row==r&&u.end.column>=t.column){if(u.end.column==t.column&&this.$insertRight)continue;u.end.column==t.column&&s>0&&l<c-1&&u.end.column>u.start.column&&u.end.column==a[l+1].start.column&&(u.end.column-=s),u.end.column+=s,u.end.row+=o}}}if(0!=o&&l<c)for(;l<c;l++){var u=a[l];u.start.row+=o,u.end.row+=o}}}).call(o.prototype),t.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){r(e.start,t),r(e.end,t)}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function s(e,t){o(e.start,t),o(e.end,t)}var a=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),c=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(c,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new c(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,o=-1;r<this.subFolds.length&&(o=this.subFolds[r].range.compare(t,n),1==o);r++);var s=this.subFolds[r];if(0==o)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=r,o=-1;a<this.subFolds.length&&(o=this.subFolds[a].range.compare(t,n),1==o);a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,a-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return s(e,this.start)}}.call(c.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";function r(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var s=i[o];if(s.range.contains(e,t)){if(1==n&&s.range.isEnd(e,t))continue;if(n==-1&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var s=r[o].range.compareRange(e);if(2!=s){if(s==-2)break;for(var a=r[o].folds,l=0;l<a.length;l++){var c=a[l];if(s=c.range.compareRange(e),s==-2)break;if(2!=s){if(42==s)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(r=r||this.getFoldLine(e),!r)return null;for(var i,o,s={end:{column:0}},a=0;a<r.folds.length;a++){o=r.folds[a];var l=o.range.compareEnd(e,t);if(l==-1){i=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return i||(i=this.getLine(o.start.row).substring(s.end.column)),n==-1?i.substring(0,t-s.end.column):1==n?i.substring(t-s.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,r=this.$foldData,i=!1;e instanceof s?n=e:(n=new s(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(a<c||a==c&&l<=u-2))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var f=0;f<r.length;f++){var g=r[f];if(c==g.start.row){g.addFold(n),i=!0;break}if(a==g.end.row){if(g.addFold(n),i=!0,!n.sameRow){var m=r[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return i||(g=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,n,a){if(!(t<r)){if(t==r){if(n<i)return;a=Math.max(i,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}},t,n),s},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(i)return this.getFoldDisplayLine(i,e,t,n,r);var o;return o=this.doc.getLine(e),o.substring(r||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new o(e,n)})},this.toggleFold=function(e){var t,n,r=this.selection,i=r.getRange();if(i.isEmpty()){var o=i.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(n=this.findMatchingBracket(o))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(o.row,o.column)||i}else{var s=this.getFoldsInRange(i);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())return void this.expandFold(t);var a="...";if(!i.isMultiLine()){if(a=this.getTextRange(i),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,i)},this.getCommentFoldRange=function(e,t,n){var r=new a(this,e,t),o=r.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var s=new i,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do o=r.stepBackward();while(o&&l.test(o.type));r.stepForward()}if(s.start.row=r.getCurrentTokenRow(),s.start.column=r.getCurrentTokenColumn()+2,r=new a(this,e,t),n!=-1){do o=r.stepForward();while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return s.end.row=r.getCurrentTokenRow(),s.end.column=r.getCurrentTokenColumn()+o.value.length-2,s}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var i=e;i<t;i++)if(null==r[i]&&(r[i]=this.getFoldWidget(i)),"start"==r[i]){var o=this.getFoldWidgetRange(i);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){i=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var s=this.getFoldWidgetRange(i);if(r||(r=s),s&&s.end.row>=e)break}i--}return{range:i!==-1&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,i===-1?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=e("../range").Range,o=e("./fold_line").FoldLine,s=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=r}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";function r(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,i=n.charAt(e.column-1),s=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(s||(i=n.charAt(e.column),e={row:e.row,column:e.column+1},s=i&&i.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=o.fromPoints(e,a),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=o.fromPoints(a,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=r}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./config"),s=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),o.resetOptions(this),this.setMode(t),o._signal("session",this)};(function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}r.implement(this,s),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t)o=r.length-1,i=this.getLine(e).length;else for(var o=0;o<r.length&&(i+=r[o].value.length,!(i>=t));o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new c(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var o=t;if(o>0){do o--;while(o>=0&&n.charAt(o).match(i));o++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new c(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,
this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!n?(this.$onChangeMode(this.$modes[r]),void(t&&t())):(this.$modeId=r,o.loadModule(["mode",r],function(e){return this.$modeId!==r?t&&t():(this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),void(t&&t()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var i=this;this.bgTokenizer.addEventListener("update",function(e){i._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[i++],s=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=e.length-1;r!=-1;r--){var i=e[r];"doc"==i.group?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=0;r<e.length;r++){var i=e[r];"doc"==i.group&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){return t?"insert"!==e.action:"insert"===e.action}var i,o,s=e[0],a=!1;r(s)?(i=c.fromPoints(s.start,s.end),a=!0):(i=c.fromPoints(s.start,s.start),a=!1);for(var l=1;l<e.length;l++)s=e[l],r(s)?(o=s.start,i.compare(o.row,o.column)==-1&&i.setStart(o),o=s.end,1==i.compare(o.row,o.column)&&i.setEnd(o),a=!0):(o=s.start,i.compare(o.row,o.column)==-1&&(i=c.fromPoints(s.start,s.start)),a=!1);if(null!=n){0===c.comparePoints(n.start,i.start)&&(n.start.column+=i.end.column-i.start.column,n.end.column+=i.end.column-i.start.column);var u=n.compareRange(i);1==u?i.setStart(n.start):u==-1&&i.setEnd(n.end)}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=c.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,r),i.length){var l=e.start,u=o.start,s=u.row-l.row,a=u.column-l.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=a),e.end.row==l.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var s=0;s<r&&" "==o.charAt(s);++s);s<r&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var o=new c(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,s=i.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=this.getFoldLine(i.row),h=0;if(u){u.addRemoveChars(i.row,i.column,r.column-i.column),u.shiftRow(-a);var d=this.getFoldLine(o);d&&d!==u&&(d.merge(u),u=d),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=i.row&&u.shiftRow(-a)}s=o}else{var p=Array(a);p.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);var c=this.$foldData,u=this.getFoldLine(o),h=0;if(u){var g=u.range.compareInside(r.row,r.column);0==g?(u=u.split(r.row,r.column),u&&(u.shiftRow(a),u.addRemoveChars(s,0,i.column-r.column))):g==-1&&(u.addRemoveChars(o,0,i.column-r.column),u.shiftRow(a)),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=o&&u.shiftRow(a)}}else{a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a);var u=this.getFoldLine(o);u&&u.addRemoveChars(o,r.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,r,i=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,l=this.$wrapLimit,c=e;for(t=Math.min(t,i.length-1);c<=t;)r=this.getFoldLine(c,r),r?(n=[],r.walk(function(e,t,r,o){var s;if(null!=e){s=this.$getDisplayTokens(e,n.length),s[0]=a;for(var l=1;l<s.length;l++)s[l]=u}else s=this.$getDisplayTokens(i[t].substring(o,r),n.length);n=n.concat(s)}.bind(this),r.end.row,i[r.end.row].length+1),s[r.start.row]=this.$computeWrapSplits(n,l,o),c=r.end.row+1):(n=this.$getDisplayTokens(i[c]),s[c]=this.$computeWrapSplits(n,l,o),c++)};var t=1,n=2,a=3,u=4,p=9,f=10,g=11,m=12;this.$computeWrapSplits=function(e,t,r){function i(){var t=0;if(0===y)return t;if(v)for(var n=0;n<e.length;n++){var i=e[n];if(i==f)t+=1;else{if(i!=g){if(i==m)continue;break}t+=r}}return d&&v!==!1&&(t+=r),Math.min(t,y)}function o(t){var n=e.slice(c,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),s.length||(b=i(),s.indent=b),h+=r,s.push(h),c=t}if(0==e.length)return[];for(var s=[],l=e.length,c=0,h=0,d=this.$wrapAsCode,v=this.$indentedSoftWrap,y=t<=Math.max(2*r,8)||v===!1?0:Math.floor(t/2),b=0;l-c>t-b;){var w=c+t-b;if(e[w-1]>=f&&e[w]>=f)o(w);else if(e[w]!=a&&e[w]!=u){for(var x=Math.max(w-(t-(t>>2)),c-1);w>x&&e[w]<a;)w--;if(d){for(;w>x&&e[w]<a;)w--;for(;w>x&&e[w]==p;)w--}else for(;w>x&&e[w]<f;)w--;w>x?o(++w):(w=c+t,e[w]==n&&w--,o(w-b))}else{for(w;w!=c-1&&e[w]!=a;w--);if(w>c){o(w);continue}for(w=c+t;w<e.length&&e[w]==u;w++);if(w==e.length)break;o(w)}}return s},this.$getDisplayTokens=function(r,i){var o,s=[];i=i||0;for(var a=0;a<r.length;a++){var l=r.charCodeAt(a);if(9==l){o=this.getScreenTabSize(s.length+i),s.push(g);for(var c=1;c<o;c++)s.push(m)}else 32==l?s.push(f):l>39&&l<48||l>57&&l<64?s.push(p):l>=4352&&e(l)?s.push(t,n):s.push(t)}return s},this.$getStringScreenWidth=function(t,n,r){if(0==n)return[0,0];null==n&&(n=1/0),r=r||0;var i,o;for(o=0;o<t.length&&(i=t.charCodeAt(o),r+=9==i?this.getScreenTabSize(r):i>=4352&&e(i)?2:1,!(r>n));o++);return[r,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,r,i=0,o=0,s=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],i=this.$docRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getLength()-1,p=this.getNextFoldLine(i),f=p?p.start.row:1/0;s<=e&&(a=this.getRowLength(i),!(s+a>e||i>=d));)s+=a,i++,i>f&&(i=p.end.row+1,p=this.getNextFoldLine(i,p),f=p?p.start.row:1/0),h&&(this.$docRowCache.push(i),this.$screenRowCache.push(s));if(p&&p.start.row<=i)n=this.getFoldDisplayLine(p),i=p.start.row;else{if(s+a<=e||i>d)return{row:d,column:this.getLine(d).length};n=this.getLine(i),p=null}var g=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){var v=Math.floor(e-s);r=m[v],v>0&&m.length&&(g=m.indent,o=m[v-1]||m[m.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,t-g)[1],this.$useWrapMode&&o>=r&&(o=r-1),p?p.idxToPosition(o):{row:i,column:o}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],r=this.$screenRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if(s=d.end.row+1,s>e)break;d=this.getNextFoldLine(s,d),p=d?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var f="";d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),i=d.start.row):(f=this.getLine(e).substring(0,t),i=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){for(var v=0;f.length>=m[v];)r++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return{row:r,column:g+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=0,t=this.$foldData[i++],o=t?t.start.row:1/0;r<n;){var s=this.$wrapData[r];e+=s?s.length+1:1,r++,r>o&&(r=t.end.row+1,t=this.$foldData[i++],o=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,i=0;i<a.length;i++)t=a[i],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];n||(n=1/0),r=r||0;var i,o;for(o=0;o<t.length&&(i=t.charAt(o),r+="\t"===i?this.getScreenTabSize(r):e.getCharacterWidth(i),!(r>n));o++);return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";function r(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}var i=e("./lib/lang"),o=e("./lib/oop"),s=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(e){return o.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i){if(e.start)r=e;else{var o=e.offset+(i||0);if(r=new s(n,o,n,o+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))return r=null,!1}return!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(r[h+d].search(a[d])==-1)continue e;var p=r[h],f=r[h+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(o.push(l=new s(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++)for(var y=i.getMatchOffsets(r[v],a),d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}if(n){for(var w=n.start.column,x=n.start.column,v=0,d=o.length-1;v<d&&o[v].start.column<w&&o[v].start.row==n.start.row;)v++;for(;v<d&&o[d].end.column>x&&o[d].end.row==n.end.row;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;v<d;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r;if(t.$isMultiLine)var o=n.length,a=function(t,i,a){var l=t.search(n[0]);if(l!=-1){for(var c=1;c<o;c++)if(t=e.getLine(i+c),t.search(n[c])==-1)return;var u=t.match(n[o-1])[0].length,h=new s(i,l,i+o-1,u);return 1==n.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):a&&(h.start.column+=a),!!r(h)||void 0}};else if(t.backwards)var a=function(e,t,o){for(var s=i.getMatchOffsets(e,n),a=s.length-1;a>=0;a--)if(r(s[a],t,o))return!0};else var a=function(e,t,o){for(var s=i.getMatchOffsets(e,n),a=0;a<s.length;a++)if(r(s[a],t,o))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){r=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=r(n,e));var o=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,o);try{var s=new RegExp(n,o)}catch(e){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(e){return!1}return""==n[0]?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=1==t.backwards,r=0!=t.skipCurrent,i=t.range,o=t.start;o||(o=i?i[n?"end":"start"]:e.selection.getRange()),o.start&&(o=o[r!=n?"end":"start"]);var s=i?i.start.row:0,a=i?i.end.row:e.getLength()-1,l=n?function(n){var r=o.row,i=e.getLine(r).substring(0,o.column);if(!n(i,r)){for(r--;r>=s;r--)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=a,s=o.row;r>=s;r--)if(n(e.getLine(r),r))return}}:function(n){var r=o.row,i=e.getLine(r).substr(o.column);if(!n(i,r,o.column)){for(r+=1;r<=a;r++)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=s,a=o.row;r<=a;r++)if(n(e.getLine(r),r))return}};return{forEach:l}}}).call(a.prototype),t.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function i(e,t){r.call(this,e,t),this.$singleCommand=!1}var o=e("../lib/keys"),s=e("../lib/useragent"),a=o.KEY_MODS;i.prototype=r.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var s=o.indexOf(e);s!=-1&&(o.splice(s,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(e.indexOf(" ")!=-1){var i=e.split(/\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var o=this.parseKeys(e),s=a[o.hashId]+o.key;this._addCommandToBinding(r+s,t,n)},this)},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?(i=o[t].indexOf(n))!=-1&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=r||n.isDefault?-100:e(n));var s=o[t];for(i=0;i<s.length;i++){var a=s[i],l=e(a);if(l>r)break}s.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=o[n];if(o.FUNCTION_KEYS[r])n=o.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var i=0,s=t.length;s--;){var a=o.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;i|=a}return{key:n,hashId:i}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=a[t]+n,o=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(t==-1||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:o}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=i}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(s,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),i.returnValue!==!1},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(s.prototype),t.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function r(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),o=e("../config"),s=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","F4"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Shift-F4"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",
readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){return!!e.selection.isEmpty()&&void e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;u<=r.row+1;u++){var h=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(u)));0!==h.length&&(h=" "+h),c+=h}r.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,r.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row===t&&r[o].end.column===n||i.push(new s(r[o].end.row,r[o].end.column,t,n))),0===o?0===r[o].start.row&&0===r[o].start.column||i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new g(s.isMac?"mac":"win",m),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new h("")),v.resetOptions(this),v._signal("editor",this)};(function(){r.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&n.indexOf(e.command.name)!==-1;"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new p(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(i.type.indexOf("tag-open")==-1||(i=r.stepForward())){var o=i.value,s=0,a=r.stepBackward();if("<"==a.value){do a=i,i=r.stepForward(),i&&i.value===o&&i.type.indexOf("tag-name")!==-1&&("<"===a.value?s++:"</"===a.value&&s--);while(i&&s>=0)}else{do i=a,a=r.stepBackward(),i&&i.value===o&&i.type.indexOf("tag-name")!==-1&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&s<=0);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=r.getCurrentTokenRow(),c=r.getCurrentTokenColumn(),u=new p(l,c,l,c+i.value.length),h=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=h&&0!==u.compareRange(h.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),o=i.length,s=i.substring(Math.max(n,0),Math.min(r,o));if(!(n>=0&&/^[\w\d]/.test(s)||r<=o&&/[\w\d]$/.test(s))&&(s=i.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var i=r.length;i--;){var o=r[i];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[i])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new p.fromPoints(i,i);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=n.getState(i.row),a=n.getLine(i.row),h=r.checkOutdent(u,a,e);n.insert(i,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new p(i.row,c+o.selection[0],i.row,c+o.selection[1])):this.selection.setSelectionRange(new p(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(u,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}h&&r.autoOutdent(u,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new p(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new p(e.row,t-2,e.row,t)),this.session.replace(r,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}}var i=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=o.stringRepeat(" ",c);else{for(var c=l%a;" "==i[t.start.column-1]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var r=new p(0,0,0,0),i=e.first;i<=e.last;i++){
var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var o={value:i[0],start:i.index,end:i.index+i[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new p(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),e*=s!==o.end&&n<s?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new p(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&e==-1&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0),n=this.$getSelectedRows(s[u]);for(var d=n.first,p=n.last;++u<c;){l&&s[u].moveBy(l,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(d,p,t?0:e),t&&e==-1&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,c[a]===-1&&(s="bracket",l=!0)}}else o&&o.type.indexOf("tag-name")!==-1&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value?c[o.value]++:"</"===i.value&&c[o.value]--,c[o.value]===-1&&(s="tag",l=!0));l||(i=o,o=r.stepForward(),u=0)}while(o&&!l);if(s){var d,f;if("bracket"===s)d=this.session.getBracketRange(n),d||(d=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1),f=d.start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===s){if(!o||o.type.indexOf("tag-name")===-1)return;var g=o.value;if(d=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===d.compare(n.row,n.column)){l=!1;do o=i,i=r.stepBackward(),i&&(i.type.indexOf("tag-close")!==-1&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===g&&o.type.indexOf("tag-name")!==-1&&("<"===i.value?c[g]++:"</"===i.value&&c[g]--,0===c[g]&&(l=!0)));while(i&&!l)}o&&o.type.indexOf("tag-name")&&(f=d.start,f.row==n.row&&Math.abs(f.column-n.column)<2&&(f=d.end))}f=d&&d.cursor||f,f&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",function(){r=!0}),s=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;r=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null,null!=r&&(i.style.top=a+"px",i.style.left=o.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){for(var i=e[r],o={group:i.group,deltas:new Array(i.length)},s=0;s<i.deltas.length;s++){var a=i.deltas[s];o.deltas[s]=t(a)}n[r]=o}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(r.prototype),t.UndoManager=r}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,s),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",i.text.indexOf(s)===-1&&i.text.push(s);var a=n.type;"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(n),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,h=0,d=t.gutterRenderer||this.$renderer,p=null,f=-1,g=n;;){if(g>s&&(g=o.end.row+1,o=t.getNextFoldLine(g,o),s=o?o.start.row:1/0),g>i){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++f],p||(p={element:null,textNode:null,foldWidget:null},p.element=r.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),c[g]&&(m+=c[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),p.element.className!=m&&(p.element.className=m);var v=t.getRowLength(g)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=t.getFoldWidget(g))}if(y){p.foldWidget||(p.foldWidget=r.createElement("span"),p.element.appendChild(p.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&g<o.end.row?" ace_closed":" ace_open",p.foldWidget.className!=m&&(p.foldWidget.className=m);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=h=d?d.getText(t,g):g+u;b!=p.textNode.data&&(p.textNode.data=b),g++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+u);var w=d?d.getWidth(t,h,e):h.toString().length*e.characterWidth,x=this.$padding||this.$computePadding();w+=x.left+x.right,w===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),s=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,s,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,i,o,s){for(var a=this.session,l=n.start.row,c=n.end.row,u=l,h=0,d=0,p=a.getScreenLastRowColumn(u),f=new r(u,n.start.column,u,d);u<=c;u++)f.start.row=f.end.row=u,f.start.column=u==l?n.start.column:a.getRowWrapIndent(u),f.end.column=p,h=d,d=p,p=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,f,i+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,h<d,d>p,u==c),o,u==c?0:1,s)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,s=r.lineHeight,a=this.$getTop(t.start.row,r),l=o+t.start.column*r.characterWidth;i=i||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",i,"'></div>"),a=this.$getTop(t.end.row,r);var c=t.end.column*r.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",s,"px;","width:",c,"px;","top:",a,"px;","left:",o,"px;",i,"'></div>"),s=(t.end.row-t.start.row-1)*r.lineHeight,!(s<=0)){a=this.$getTop(t.start.row+1,r);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",i,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,r,i,o){var s=r.lineHeight,a=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-o),e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")}}).call(o.prototype),t.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+o.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",i="",s="";if(this.showInvisibles){r+=" ace_invisible",i=" ace_invisible_space",s=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=o.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+r+i+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+r+s+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<r;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(r)){r=l.start.row;break}a=l.end.row}s++}for(var a=r,l=this.session.getNextFoldLine(a),c=l?l.start.row:1/0;;){if(a>c&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),c=l?l.start.row:1/0),a>i)break;var u=o[s++];if(u){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==c&&l),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=h.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,o,!1,o==a&&s),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);o++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,i=n,o=this.session.getNextFoldLine(i),s=o?o.start.row:1/0;;){if(i>s&&(i=o.end.row+1,o=this.session.getNextFoldLine(i,o),s=o?o.start.row:1/0),i>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(i),"px'>"),this.$renderLine(t,i,!1,i==s&&o),this.$useLineGroups()&&t.push("</div>"),i++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,s=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,r,s,a){if(n)return i.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(i.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var l=i.session.getScreenTabSize(t+s);return t+=l-1,i.$tabStrings[l]}if("　"==e){var c=i.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=i.showInvisibles?i.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*i.config.characterWidth+"px'>"+u+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+i.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*i.config.characterWidth+"px'>"+e+"</span>")},l=r.replace(s,a);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return r<=0||r>=n?t:" "==t[0]?(r-=r%this.tabSize,e.push(o.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):"\t"==t[0]?(e.push(o.stringRepeat(this.$tabStrings["\t"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){for(var i=0,s=0,a=n[0],l=0,c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,h=this.renderIndentGuide(e,h,a),!h)continue;i-=h.length}if(i+h.length<a)l=this.$renderToken(e,l,u,h),i+=h.length;else{for(;i+h.length>=a;)l=this.$renderToken(e,l,u,h.substring(0,a-i)),h=h.substring(a-i),i=a,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(o.stringRepeat(" ",n.indent)),s++,l=0,a=n[s]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,l=this.$renderToken(e,l,u,h))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++)r=t[o],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){if(r||0==r||(r=this.session.getFoldLine(t)),r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),i.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,i,o,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,r++,r==e.length)return;if(o!=t){var s=e[r].value.substring(t-o);
s.length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1}for(;o<n&&r<e.length;){var s=e[r].value;s.length+o>n?i.push({type:e[r].type,value:s.substring(0,n-o)}):i.push(e[r]),o+=s.length,r+=1}}var r=this.session,i=[],o=r.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?i.push({type:"fold",value:e}):(l&&(o=r.getTokens(t)),o.length&&n(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===r&&(r=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||r||(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var n=0,i=t.length;n<i;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var s=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,e,t[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px")}}for(;this.cursors.length>r;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};r.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else var t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=o.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),s=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,m='.ace_editor {\tposition: relative;\toverflow: hidden;\tfont: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\tdirection: ltr;\ttext-align: left;\t}\t.ace_scroller {\tposition: absolute;\toverflow: hidden;\ttop: 0;\tbottom: 0;\tbackground-color: inherit;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\tcursor: text;\t}\t.ace_content {\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmin-width: 100%;\t}\t.ace_dragging .ace_scroller:before{\tposition: absolute;\ttop: 0;\tleft: 0;\tright: 0;\tbottom: 0;\tcontent: \'\';\tbackground: rgba(250, 250, 250, 0.01);\tz-index: 1000;\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground: rgba(0, 0, 0, 0.01);\t}\t.ace_selecting, .ace_selecting * {\tcursor: text !important;\t}\t.ace_gutter {\tposition: absolute;\toverflow : hidden;\twidth: auto;\ttop: 0;\tbottom: 0;\tleft: 0;\tcursor: default;\tz-index: 4;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_gutter-active-line {\tposition: absolute;\tleft: 0;\tright: 0;\t}\t.ace_scroller.ace_scroll-left {\tbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\t}\t.ace_gutter-cell {\tpadding-left: 19px;\tpadding-right: 6px;\tbackground-repeat: no-repeat;\t}\t.ace_gutter-cell.ace_error {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_warning {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\tbackground-position: 2px center;\t}\t.ace_dark .ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\t}\t.ace_scrollbar {\tposition: absolute;\tright: 0;\tbottom: 0;\tz-index: 6;\t}\t.ace_scrollbar-inner {\tposition: absolute;\tcursor: text;\tleft: 0;\ttop: 0;\t}\t.ace_scrollbar-v{\toverflow-x: hidden;\toverflow-y: scroll;\ttop: 0;\t}\t.ace_scrollbar-h {\toverflow-x: scroll;\toverflow-y: hidden;\tleft: 0;\t}\t.ace_print-margin {\tposition: absolute;\theight: 100%;\t}\t.ace_text-input {\tposition: absolute;\tz-index: 0;\twidth: 0.5em;\theight: 1em;\topacity: 0;\tbackground: transparent;\t-moz-appearance: none;\tappearance: none;\tborder: none;\tresize: none;\toutline: none;\toverflow: hidden;\tfont: inherit;\tpadding: 0 1px;\tmargin: 0 -1px;\ttext-indent: -1em;\t-ms-user-select: text;\t-moz-user-select: text;\t-webkit-user-select: text;\tuser-select: text;\twhite-space: pre!important;\t}\t.ace_text-input.ace_composition {\tbackground: inherit;\tcolor: inherit;\tz-index: 1000;\topacity: 1;\ttext-indent: 0;\t}\t.ace_layer {\tz-index: 1;\tposition: absolute;\toverflow: hidden;\tword-wrap: normal;\twhite-space: pre;\theight: 100%;\twidth: 100%;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tpointer-events: none;\t}\t.ace_gutter-layer {\tposition: relative;\twidth: auto;\ttext-align: right;\tpointer-events: auto;\t}\t.ace_text-layer {\tfont: inherit !important;\t}\t.ace_cjk {\tdisplay: inline-block;\ttext-align: center;\t}\t.ace_cursor-layer {\tz-index: 4;\t}\t.ace_cursor {\tz-index: 4;\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tborder-left: 2px solid;\ttransform: translatez(0);\t}\t.ace_slim-cursors .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_overwrite-cursors .ace_cursor {\tborder-left-width: 0;\tborder-bottom: 1px solid;\t}\t.ace_hidden-cursors .ace_cursor {\topacity: 0.2;\t}\t.ace_smooth-blinking .ace_cursor {\t-webkit-transition: opacity 0.18s;\ttransition: opacity 0.18s;\t}\t.ace_editor.ace_multiselect .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\tposition: absolute;\tz-index: 3;\t}\t.ace_marker-layer .ace_selection {\tposition: absolute;\tz-index: 5;\t}\t.ace_marker-layer .ace_bracket {\tposition: absolute;\tz-index: 6;\t}\t.ace_marker-layer .ace_active-line {\tposition: absolute;\tz-index: 2;\t}\t.ace_marker-layer .ace_selected-word {\tposition: absolute;\tz-index: 4;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\t}\t.ace_line .ace_fold {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: inline-block;\theight: 11px;\tmargin-top: -2px;\tvertical-align: middle;\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\tbackground-repeat: no-repeat, repeat-x;\tbackground-position: center center, top left;\tcolor: transparent;\tborder: 1px solid black;\tborder-radius: 2px;\tcursor: pointer;\tpointer-events: auto;\t}\t.ace_dark .ace_fold {\t}\t.ace_fold:hover{\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\t}\t.ace_tooltip {\tbackground-color: #FFF;\tbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\tbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\tborder: 1px solid gray;\tborder-radius: 1px;\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\tcolor: black;\tmax-width: 100%;\tpadding: 3px 4px;\tposition: fixed;\tz-index: 999999;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: default;\twhite-space: pre;\tword-wrap: break-word;\tline-height: normal;\tfont-style: normal;\tfont-weight: normal;\tletter-spacing: normal;\tpointer-events: none;\t}\t.ace_folding-enabled > .ace_gutter-cell {\tpadding-right: 13px;\t}\t.ace_fold-widget {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmargin: 0 -12px 0 1px;\tdisplay: none;\twidth: 11px;\tvertical-align: top;\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: center;\tborder-radius: 3px;\tborder: 1px solid transparent;\tcursor: pointer;\t}\t.ace_folding-enabled .ace_fold-widget {\tdisplay: inline-block;   \t}\t.ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\t}\t.ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\t}\t.ace_fold-widget:hover {\tborder: 1px solid rgba(0, 0, 0, 0.3);\tbackground-color: rgba(255, 255, 255, 0.2);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t}\t.ace_fold-widget:active {\tborder: 1px solid rgba(0, 0, 0, 0.4);\tbackground-color: rgba(0, 0, 0, 0.05);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t}\t.ace_dark .ace_fold-widget {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\t}\t.ace_dark .ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget:hover {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbackground-color: rgba(255, 255, 255, 0.1);\t}\t.ace_dark .ace_fold-widget:active {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t}\t.ace_fold-widget.ace_invalid {\tbackground-color: #FFB4B4;\tborder-color: #DE5555;\t}\t.ace_fade-fold-widgets .ace_fold-widget {\t-webkit-transition: opacity 0.4s ease 0.05s;\ttransition: opacity 0.4s ease 0.05s;\topacity: 0;\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget {\t-webkit-transition: opacity 0.05s ease 0.05s;\ttransition: opacity 0.05s ease 0.05s;\topacity:1;\t}\t.ace_underline {\ttext-decoration: underline;\t}\t.ace_bold {\tfont-weight: bold;\t}\t.ace_nobold .ace_bold {\tfont-weight: normal;\t}\t.ace_italic {\tfont-style: italic;\t}\t.ace_error-marker {\tbackground-color: rgba(255, 0, 0,0.2);\tposition: absolute;\tz-index: 9;\t}\t.ace_highlight-marker {\tbackground-color: rgba(255, 255, 0,0.2);\tposition: absolute;\tz-index: 8;\t}\t.ace_br1 {border-top-left-radius    : 3px;}\t.ace_br2 {border-top-right-radius   : 3px;}\t.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\t.ace_br4 {border-bottom-right-radius: 3px;}\t.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\t.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\t.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\t.ace_br8 {border-bottom-left-radius : 3px;}\t.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\t.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\t.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\t.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\t';i.importCssString(m,"ace_editor.css");var v=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return r&&(e||o.height!=r)&&(o.height=r,i|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(i|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(i|=this.CHANGE_FULL)),o.$dirty=!n||!r,i&&this._signal("resize",s),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");
e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,i=this.lineHeight;if(t<0||t>e.height-i)return void(r.top=r.left="0");var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,i+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,r.height=i+"px",r.width=o+"px",r.left=Math.min(n,this.$size.scrollerWidth-o)+"px",r.top=Math.min(t,this.$size.height-i)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,o=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),a=this.$horizScroll!==s;a&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,u=t.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=h;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,i-t.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+d.right)));var p=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+h<0||this.scrollTop>d.top),f=l!==p;f&&(this.$vScroll=p,this.scrollBarV.setVisible(p));var g,m,v=Math.ceil(u/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),b=y+v,w=this.lineHeight;y=e.screenToDocumentRow(y,0);var x=e.getFoldLine(y);x&&(y=x.start.row),g=e.documentToScreenRow(y,0),m=e.getRowLength(y)*w,b=Math.min(e.screenToDocumentRow(b,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(b)*w+m,c=this.scrollTop-g*w;var _=0;return this.layerConfig.width!=o&&(_=this.CHANGE_H_SCROLL),(a||f)&&(_=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:y,firstRowScreen:g,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:u,maxHeight:i,offset:c,gutterOffset:w?Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},_},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(o(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=i.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(s,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0],e==n))return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),o=Math.round(r);return{row:i,column:o,side:r-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(r.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.importCssString(n.cssText,n.cssClass,r.container.ownerDocument),r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var o="padding"in n?n.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&o!=r.$padding&&r.setPadding(o),r.$theme=n.cssClass,r.theme=n,i.addCssClass(r.container,n.cssClass),i.setCssClass(r.container,"ace_dark",n.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var r=this;if(this.$themeId=e,r._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var s=e||this.$options.theme.initialValue;o.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,a=e("../config"),l=function(t,r,i,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)o=o||a.moduleUrl(r.id,"worker");else{var s=this.$normalizePath;o=o||s(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach(function(t){l[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{var c=r.src,u=n(976),h=new u([c],{type:"application/javascript"}),d=(window.URL||window.webkitURL).createObjectURL(h);this.$worker=new Worker(d)}catch(e){if(!(e instanceof window.DOMException))throw e;var h=this.$workerBlob(o),p=window.URL||window.webkitURL,f=p.createObjectURL(h);this.$worker=new Worker(f),p.revokeObjectURL(f)}this.$worker.postMessage({init:!0,tlns:l,module:r.id,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,s),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(t),r.getBlob("application/javascript")}}}).call(l.prototype);var c=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,i=!1,o=Object.create(s),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),r&&(i?setTimeout(c):c())},this.setEmitSync=function(e){i=e};var c=function(){var e=l.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&o._signal(e.event,e.data)};o.postMessage=function(e){l.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],function(e){for(r=new e[n](o);l.messageBuffer.length;)c()})};c.prototype=l.prototype,t.UIWorkerClient=c,t.WorkerClient=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,r,i,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.remove(new r(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function r(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,n=t.altKey,i=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!a&&!n&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,h=e.editor,d=h.selection,p=h.inMultiSelectMode,f=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&r(f,g),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=h.session,x=h.renderer.pixelToScreenCoordinates(v,y),_=x;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=i?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&i)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&s.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var E=d.toOrientedRange();h.addSelectionMarker(E)}var C=d.rangeList.rangeAtPoint(f);h.$blockScrolling++,h.inVirtualSelectionMode=!0,i&&(C=null,E=d.ranges[0]||E,h.removeSelectionMarker(E)),h.once("mouseup",function(){var e=d.toOrientedRange();C&&e.isEmpty()&&r(C.cursor,e.cursor)?d.substractPoint(e.cursor):(i?d.substractPoint(E.cursor):E&&(h.removeSelectionMarker(E),d.addRange(E)),d.addRange(e)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),h.inVirtualSelectionMode=!0;var S,k=[],A=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column);r(_,e)&&r(t,d.lead)||(_=e,h.$blockScrolling++,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(k),k=d.rectangularRangeBlock(_,x),h.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=h.$mouseHandler.$clickSelection.clone()),k.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};h.$blockScrolling++,p&&!l?d.toSingleRange():!p&&l&&(S=d.toOrientedRange(),h.addSelectionMarker(S)),i?x=w.documentToScreenPosition(d.lead):d.moveToPosition(f),h.$blockScrolling--,_={row:-1,column:-1};var T=function(e){clearInterval(L),h.removeSelectionMarkers(k),k.length||(k=[d.toOrientedRange()]),h.$blockScrolling++,S&&(h.removeSelectionMarker(S),d.toSingleRange(S));for(var t=0;t<k.length;t++)d.addRange(k[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},F=A;o.capture(h.container,b,T);var L=setInterval(function(){F()},20);return e.preventDefault()}}}var o=e("../lib/event"),s=e("../lib/useragent");t.onMouseDown=i}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function r(e,t,n){return g.$options.wrap=!0,g.$options.needle=t,g.$options.backwards=n==-1,g.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function o(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(p.defaultCommands),s(e))}function s(e){function t(t){r&&(e.renderer.setMouseCursor(""),r=!1)}var n=e.textInput.getElement(),r=!1;h.addListener(n,"keydown",function(n){var i=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&i?r||(e.renderer.setMouseCursor("crosshair"),
r=!0):r&&t()}),h.addListener(n,"keyup",t),h.addListener(n,"blur",t)}var a=e("./range_list").RangeList,l=e("./range").Range,c=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,h=e("./lib/event"),d=e("./lib/lang"),p=e("./commands/multi_select_commands");t.commands=p.defaultCommands.concat(p.multiSelectCommands);var f=e("./search").Search,g=new f,m=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),i=n.start.row,o=n.end.row;if(i==o){if(r)var s=n.end,a=n.start;else var s=n.start,a=n.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(s,s))}var c=[],u=this.getLineRange(i,!0);u.start.column=n.start.column,c.push(u);for(var h=i+1;h<o;h++)c.push(this.getLineRange(h,!0));u=this.getLineRange(o,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),i=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(r,i);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,a=t.column;else var s=t.column,a=e.column;var c=e.row<t.row;if(c)var u=e.row,h=t.row;else var u=t.row,h=e.row;s<0&&(s=0),u<0&&(u=0),u==h&&(n=!0);for(var d=u;d<=h;d++){var p=l.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,a));if(p.isEmpty()){if(f&&i(p.end,f))break;var f=p.end}p.cursor=o?p.start:p.end,r.push(p)}if(c&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;r[m].isEmpty();)m++;for(var v=g;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(c.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(p.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(p.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,l=a.rangeList,u=(i?a:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=a._eventRegistry;a._eventRegistry={};var d=new c(s);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(o)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;d.fromOrientedRange(u[p]),d.index=p,this.selection=s.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===f||(r=f),d.toOrientedRange(u[p])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row==t.row&&this.session.$clipPositionToDocument(r.row,r.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var s=i.length;s--;)o.addRange(i[s],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,i=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(i.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(i.row+e,i.column);if(n.isEmpty())var s=o;else var a=this.session.documentToScreenPosition(r?n.end:n.start),s=this.session.screenToDocumentPosition(a.row+e,a.column);if(r){var c=l.fromPoints(o,s);c.cursor=c.start}else{var c=l.fromPoints(s,o);c.cursor=c.end}if(c.desiredColumn=i.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){var o=r[i];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],i=r.length;i--;){var o=r[i];a.unshift(t.getTextRange(o))}e<0?a.unshift(a.pop()):a.push(a.shift());for(var i=r.length;i--;){var o=r[i],s=o.clone();t.replace(o,a[i]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(e,t,n){var i=this.session,o=i.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=i.getWordRange(s.start.row,s.start.column),s.cursor=e==-1?s.start:s.end,this.multiSelect.addRange(s),!n)){var a=i.getTextRange(s),l=r(i,a,e);l&&(l.cursor=e==-1?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,i=n.filter(function(e){return e.cursor.row==r||void(r=e.cursor.row)});if(n.length&&i.length!=n.length-1){i.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=1/0,a=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return i==-1&&(i=0),n.column>o&&(o=n.column),i<s&&(s=i),i});n.forEach(function(t,n){var r=t.cursor,i=o-r.column,c=a[n]-s;i>c?e.insert(r,d.stringRepeat(" ",i-c)):e.remove(new l(r.row,r.column,r.row,r.column-i+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,h=c.end.row,p=u==h;if(p){var f,g=this.session.getLength();do f=this.session.getLine(h);while(/[=:]/.test(f)&&++h<g);do f=this.session.getLine(u);while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),h>=g&&(h=g-1)}var m=this.session.removeFullLines(u,h);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return d.stringRepeat(" ",e)}function r(e){return e[2]?n(s)+e[2]+n(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?n(s+a-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(s)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,a=t[2].length,l=t[3].length,t):(s+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),s!=t[1].length&&(c=!1),s>t[1].length&&(s=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?r:c?u?i:r:o)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=o,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){o(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),s=o.search(i);if(s!=-1){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(i);if(h!=-1){if(h<=s)break;u=t}}if(u>c){var d=e.getLine(u).length;return new r(c,a,u,d)}}},this.openingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),r.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,r.fromPoints(a,s)}}).call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {\tbackground: #f0f0f0;\tcolor: #333;\t}\t.ace-tm .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8;\t}\t.ace-tm .ace_fold {\tbackground-color: #6B72E6;\t}\t.ace-tm {\tbackground-color: #FFFFFF;\tcolor: black;\t}\t.ace-tm .ace_cursor {\tcolor: black;\t}\t.ace-tm .ace_invisible {\tcolor: rgb(191, 191, 191);\t}\t.ace-tm .ace_storage,\t.ace-tm .ace_keyword {\tcolor: blue;\t}\t.ace-tm .ace_constant {\tcolor: rgb(197, 6, 11);\t}\t.ace-tm .ace_constant.ace_buildin {\tcolor: rgb(88, 72, 246);\t}\t.ace-tm .ace_constant.ace_language {\tcolor: rgb(88, 92, 246);\t}\t.ace-tm .ace_constant.ace_library {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_invalid {\tbackground-color: rgba(255, 0, 0, 0.1);\tcolor: red;\t}\t.ace-tm .ace_support.ace_function {\tcolor: rgb(60, 76, 114);\t}\t.ace-tm .ace_support.ace_constant {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_support.ace_type,\t.ace-tm .ace_support.ace_class {\tcolor: rgb(109, 121, 222);\t}\t.ace-tm .ace_keyword.ace_operator {\tcolor: rgb(104, 118, 135);\t}\t.ace-tm .ace_string {\tcolor: rgb(3, 106, 7);\t}\t.ace-tm .ace_comment {\tcolor: rgb(76, 136, 107);\t}\t.ace-tm .ace_comment.ace_doc {\tcolor: rgb(0, 102, 255);\t}\t.ace-tm .ace_comment.ace_doc.ace_tag {\tcolor: rgb(128, 159, 191);\t}\t.ace-tm .ace_constant.ace_numeric {\tcolor: rgb(0, 0, 205);\t}\t.ace-tm .ace_variable {\tcolor: rgb(49, 132, 149);\t}\t.ace-tm .ace_xml-pe {\tcolor: rgb(104, 104, 91);\t}\t.ace-tm .ace_entity.ace_name.ace_function {\tcolor: #0000A2;\t}\t.ace-tm .ace_heading {\tcolor: rgb(12, 7, 255);\t}\t.ace-tm .ace_list {\tcolor:rgb(185, 6, 144);\t}\t.ace-tm .ace_meta.ace_tag {\tcolor:rgb(0, 22, 142);\t}\t.ace-tm .ace_string.ace_regex {\tcolor: rgb(255, 0, 0)\t}\t.ace-tm .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255);\t}\t.ace-tm.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px white;\t}\t.ace-tm .ace_marker-layer .ace_step {\tbackground: rgb(252, 255, 0);\t}\t.ace-tm .ace_marker-layer .ace_stack {\tbackground: rgb(164, 229, 101);\t}\t.ace-tm .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgb(192, 192, 192);\t}\t.ace-tm .ace_marker-layer .ace_active-line {\tbackground: rgba(0, 0, 0, 0.07);\t}\t.ace-tm .ace_gutter-active-line {\tbackground-color : #dcdcdc;\t}\t.ace-tm .ace_marker-layer .ace_selected-word {\tbackground: rgb(250, 250, 255);\tborder: 1px solid rgb(200, 200, 250);\t}\t.ace-tm .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\t}\t';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var i=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,s="add"==e.action,a=i+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[i]?n[o].hidden=s:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var o=new Array(r);o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var o=this.session.lineWidgets;e.row!=r.end.row||o[r.start.row]?e.hidden=!0:o[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),a<0&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=i;s<=o;s++){var a=r[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,s=n(t,e[o]);if(s>0)r=o+1;else{if(!(s<0))return o;i=o-1}}return-(r+1)}function i(e,t,n){var i=e.getAnnotations().sort(a.comparePoints);if(i.length){var o=r(i,{row:t,column:-1},a.comparePoints);o<0&&(o=-o-1),o>=i.length?o=n>0?0:i.length-1:0===o&&n<0&&(o=i.length-1);var s=i[o];if(s&&n){if(s.row===t){do s=i[o+=n];while(s&&s.row===t);if(!s)return i.slice()}var l=[];t=s.row;do l[n<0?"unshift":"push"](s),s=i[o+=n];while(s&&s.row==t);return l.length&&l}}}var o=e("../line_widgets").LineWidgets,s=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new o(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():a-=t;var c,u=i(n,a,t);if(u){var h=u[0];r.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,r.row=h.row,c=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},p=d.el.appendChild(s.createElement("div")),f=d.el.appendChild(s.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(r).left;f.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(s.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("\t    .error_widget_wrapper {\t        background: inherit;\t        color: inherit;\t        border:none\t    }\t    .error_widget {\t        border-top: solid 2px;\t        border-bottom: solid 2px;\t        margin: 5px 0;\t        padding: 10px 40px;\t        white-space: pre-wrap;\t    }\t    .error_widget.ace_error, .error_widget_arrow.ace_error{\t        border-color: #ff5a5a\t    }\t    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\t        border-color: #F1D817\t    }\t    .error_widget.ace_info, .error_widget_arrow.ace_info{\t        border-color: #5a5a5a\t    }\t    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\t        border-color: #5aaa5a\t    }\t    .error_widget_arrow {\t        position: absolute;\t        border: solid 5px;\t        border-top-color: transparent!important;\t        border-right-color: transparent!important;\t        border-left-color: transparent!important;\t        top: -5px;\t    }\t","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/dom"),o=e("./lib/event"),s=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.define=n(975),t.edit=function(e){if("string"==typeof e){var n=e;if(e=document.getElementById(n),!e)throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var r="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;r=a.value,e=i.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(r=i.getInnerText(e),e.innerHTML="");var l=t.createEditSession(r),u=new s(new c(e));u.setSession(l);var h={document:l,editor:u,onResize:u.resize.bind(u,null)};return a&&(h.textarea=a),o.addListener(window,"resize",h.onResize),u.on("destroy",function(){o.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),u.container.env=u.env=h,u},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.EditSession=a,t.UndoManager=l,t.version="1.2.6"}),function(){ace.acequire(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),e.exports=window.ace.acequire("ace/ace")},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){function n(){if(t.Blob)try{return new Blob(["asdf"],{type:"text/plain"}),Blob}catch(e){}var e=t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return function(t,n){var r=new e,i=n.endings,o=n.type;if(i)for(var s=0,a=t.length;s<a;++s)r.append(t[s],i);else for(var s=0,a=t.length;s<a;++s)r.append(t[s]);return o?r.getBlob(o):r.getBlob()}}e.exports=n()}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(978),u=r(c),h=n(1),d=r(h),p=n(610),f=r(p),g=u.default.acequire("ace/range"),m=g.Range,v=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"],y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["onChange","onFocus","onBlur","onCopy","onPaste","onScroll","handleOptions"].forEach(function(e){n[e]=n[e].bind(n)}),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=(t.name,t.className),r=t.onBeforeLoad,i=t.mode,o=t.focus,s=t.theme,a=t.fontSize,l=t.value,c=t.defaultValue,h=t.cursorStart,d=t.showGutter,p=t.wrapEnabled,f=t.showPrintMargin,g=t.scrollMargin,m=void 0===g?[0,0,0,0]:g,y=t.keyboardHandler,b=t.onLoad,w=t.commands,x=t.annotations,_=t.markers;this.editor=u.default.edit(this.refs.editor),r&&r(u.default);for(var E=Object.keys(this.props.editorProps),C=0;C<E.length;C++)this.editor[E[C]]=this.props.editorProps[E[C]];this.editor.renderer.setScrollMargin(m[0],m[1],m[2],m[3]),this.editor.getSession().setMode("ace/mode/"+i),this.editor.setTheme("ace/theme/"+s),this.editor.setFontSize(a),this.editor.setValue(void 0===c?l:c,h),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(f),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.session.on("changeScrollTop",this.onScroll),this.handleOptions(this.props),this.editor.getSession().setAnnotations(x||[]),this.handleMarkers(_||[]);
for(var S=this.editor.$options,k=0;k<v.length;k++){var A=v[k];S.hasOwnProperty(A)&&this.editor.setOption(A,this.props[A])}Array.isArray(w)&&w.forEach(function(t){e.editor.commands.addCommand(t)}),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),n&&(this.refs.editor.className+=" "+n),o&&this.editor.focus(),b&&b(this.editor)}},{key:"componentWillReceiveProps",value:function(e){for(var t=this.props,n=0;n<v.length;n++){var r=v[n];e[r]!==t[r]&&this.editor.setOption(r,e[r])}if(e.className!==t.className){var i=this.refs.editor.className,o=i.trim().split(" "),s=t.className.trim().split(" ");s.forEach(function(e){var t=o.indexOf(e);o.splice(t,1)}),this.refs.editor.className=" "+e.className+" "+o.join(" ")}if(e.mode!==t.mode&&this.editor.getSession().setMode("ace/mode/"+e.mode),e.theme!==t.theme&&this.editor.setTheme("ace/theme/"+e.theme),e.keyboardHandler!==t.keyboardHandler&&(e.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):this.editor.setKeyboardHandler(null)),e.fontSize!==t.fontSize&&this.editor.setFontSize(e.fontSize),e.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(e.showPrintMargin),e.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(e.showGutter),(0,f.default)(e.setOptions,t.setOptions)||this.handleOptions(e),(0,f.default)(e.annotations,t.annotations)||this.editor.getSession().setAnnotations(e.annotations||[]),(0,f.default)(e.markers,t.markers)||this.handleMarkers(e.markers||[]),(0,f.default)(e.scrollMargins,t.scrollMargins)||this.handleScrollMargins(e.scrollMargins),this.editor&&this.editor.getValue()!==e.value){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(e.value,e.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}e.focus&&!t.focus&&this.editor.focus(),e.height!==this.props.height&&this.editor.resize()}},{key:"handleScrollMargins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0];this.editor.renderer.setScrollMargins(e[0],e[1],e[2],e[3])}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(){if(this.props.onChange&&!this.silent){var e=this.editor.getValue();this.props.onChange(e)}}},{key:"onFocus",value:function(){this.props.onFocus&&this.props.onFocus()}},{key:"onBlur",value:function(){this.props.onBlur&&this.props.onBlur()}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])}},{key:"handleMarkers",value:function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);n=this.editor.getSession().getMarkers(!1);for(var i in n)n.hasOwnProperty(i)&&this.editor.getSession().removeMarker(n[i].id);e.forEach(function(e){var n=e.startRow,r=e.startCol,i=e.endRow,o=e.endCol,s=e.className,a=e.type,l=e.inFront,c=void 0!==l&&l,u=new m(n,r,i,o);t.editor.getSession().addMarker(u,s,a,c)})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,r=e.height,i=e.style,o=a({width:n,height:r},i);return d.default.createElement("div",{ref:"editor",id:t,style:o})}}]),t}(h.Component);t.default=y,y.propTypes={mode:h.PropTypes.string,focus:h.PropTypes.bool,theme:h.PropTypes.string,name:h.PropTypes.string,className:h.PropTypes.string,height:h.PropTypes.string,width:h.PropTypes.string,fontSize:h.PropTypes.oneOfType([h.PropTypes.number,h.PropTypes.string]),showGutter:h.PropTypes.bool,onChange:h.PropTypes.func,onCopy:h.PropTypes.func,onPaste:h.PropTypes.func,onFocus:h.PropTypes.func,onBlur:h.PropTypes.func,onScroll:h.PropTypes.func,value:h.PropTypes.string,defaultValue:h.PropTypes.string,onLoad:h.PropTypes.func,onBeforeLoad:h.PropTypes.func,minLines:h.PropTypes.number,maxLines:h.PropTypes.number,readOnly:h.PropTypes.bool,highlightActiveLine:h.PropTypes.bool,tabSize:h.PropTypes.number,showPrintMargin:h.PropTypes.bool,cursorStart:h.PropTypes.number,editorProps:h.PropTypes.object,setOptions:h.PropTypes.object,annotations:h.PropTypes.array,markers:h.PropTypes.array,keyboardHandler:h.PropTypes.string,wrapEnabled:h.PropTypes.bool,enableBasicAutocompletion:h.PropTypes.oneOfType([h.PropTypes.bool,h.PropTypes.array]),enableLiveAutocompletion:h.PropTypes.oneOfType([h.PropTypes.bool,h.PropTypes.array]),commands:h.PropTypes.array},y.defaultProps={name:"brace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},function(e,t,n){!function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(r.original=t.define,t.define=r,t.define.packaged=!0),t.acequire&&t.acequire.packaged||(o.original=t.acequire,t.acequire=o,t.acequire.packaged=!0)}var t="ace",n=function(){return this}();if(n||"undefined"==typeof window||(n=window),t||"undefined"==typeof acequirejs){var r=function(e,t,n){return"string"!=typeof e?void(r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=t),void(r.modules[e]||(r.payloads[e]=n,r.modules[e]=null)))};r.modules={},r.payloads={};var i=function(e,t,n){if("string"==typeof t){var r=a(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],s=0,l=t.length;s<l;++s){var c=a(e,t[s]);if(void 0==c&&o.original)return;i.push(c)}return n&&n.apply(null,i)||!0}},o=function(e,t){var n=i("",e,t);return void 0==n&&o.original?o.original.apply(this,arguments):n},s=function(e,t){if(t.indexOf("!")!==-1){var n=t.split("!");return s(e,n[0])+"!"+s(e,n[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");for(t=r+"/"+t;t.indexOf(".")!==-1&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=s(e,t);var n=r.modules[t];if(!n){if(n=r.payloads[t],"function"==typeof n){var o={},a={id:t,uri:"",exports:o,packaged:!0},l=function(e,n){return i(t,e,n)},c=n(l,o,a);o=c||a.exports,r.modules[t]=o,delete r.payloads[t]}n=r.modules[t]=o||n}return n};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";function r(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function i(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===o.exec.call(/()??/,"")[1],a=function(){var e=/^/g;return o.test.call(e,""),!e.lastIndex}();a&&s||(RegExp.prototype.exec=function(e){var t,n,l=o.exec.apply(this,arguments);if("string"==typeof e&&l){if(!s&&l.length>1&&i(l,"")>-1&&(n=RegExp(this.source,o.replace.call(r(this),"g","")),o.replace.call(e.slice(l.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(e){var t=o.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function r(){}function i(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function o(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=f.call(arguments,1),i=function(){if(this instanceof i){var r=t.apply(this,n.concat(f.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(f.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,i.prototype=new r,r.prototype=null),i});var s,a,l,c,u,h=Function.prototype.call,d=Array.prototype,p=Object.prototype,f=d.slice,g=h.bind(p.toString),m=h.bind(p.hasOwnProperty);if((u=m(p,"__defineGetter__"))&&(s=h.bind(p.__defineGetter__),a=h.bind(p.__defineSetter__),l=h.bind(p.__lookupGetter__),c=h.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),i=f.call(arguments,2),o=i.length;if(e===n)o&&this.push.apply(this,i);else{var s=Math.min(t,n-e),a=e+s,l=a+o-s,c=n-a,u=n-s;if(l<a)for(var h=0;h<c;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(o&&e===u)this.length=u,this.push.apply(this,i);else for(this.length=u+o,h=0;h<o;++h)this[e+h]=i[h]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==g(e)});var y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)s in n&&(i[s]=e.call(o,n[s],s,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=N(this),r=b&&"[object String]"==g(this)?this.split(""):n,i=r.length>>>0,o=[],s=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var a=0;a<i;a++)a in r&&(t=r[a],e.call(s,t,a,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;o<r;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=N(this),n=b&&"[object String]"==g(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(i=e.call(void 0,i,n[o],o,t));while(o--);return i}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(e){var t=b&&"[object String]"==g(this)?this.split(""):N(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=o(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(e){var t=b&&"[object String]"==g(this)?this.split(""):N(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:p)}),!Object.getOwnPropertyDescriptor){var w="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(w+e);if(m(e,t)){var n,r,i;if(n={enumerable:!0,configurable:!0},u){var o=e.__proto__;e.__proto__=p;var r=l(e,t),i=c(e,t);if(e.__proto__=o,r||i)return r&&(n.get=r),i&&(n.set=i),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var x;x=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=x();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var _=i({}),E="undefined"==typeof document||i(document.createElement("div"));if(!_||!E)var C=Object.defineProperty}if(!Object.defineProperty||C){var S="Property description must be an object: ",k="Object.defineProperty called on non-object: ",A="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(k+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(S+n);if(C)try{return C.call(Object,e,t,n)}catch(e){}if(m(n,"value"))if(u&&(l(e,t)||c(e,t))){var r=e.__proto__;e.__proto__=p,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!u)throw new TypeError(A);m(n,"get")&&s(e,t,n.get),m(n,"set")&&a(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)m(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";m(e,t);)t+="?";e[t]=!0;var n=m(e,t);return delete e[t],n}),!Object.keys){var T=!0,F=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],L=F.length;for(var R in{toString:null})T=!1;Object.keys=function e(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)m(t,n)&&e.push(n);if(T)for(var r=0,i=L;r<i;r++){var o=F[r];m(t,o)&&e.push(o)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var M="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||M.trim()){M="["+M+"]";var I=new RegExp("^"+M+M+"*"),D=new RegExp(M+M+"*$");String.prototype.trim=function(){return String(this).replace(I,"").replace(D,"")}}var N=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,n){"use strict";var r="http://www.w3.org/1999/xhtml";return t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className+"").split(/\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;r<n.length;)if(n[r++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;r<n.length;)if(n[r++].id===e)return!0;return!1},t.importCssString=function(e,n,r){if(r=r||document,n&&t.hasCssString(n,r))return null;var i;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),r.createStyleSheet?(i=r.createStyleSheet(),i.cssText=e,n&&(i.owningElement.id=n)):(i=t.createElement("style"),i.appendChild(r.createTextNode(e)),n&&(i.id=n),t.getDocumentHead(r).appendChild(i))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var s=n.offsetWidth;i.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=r.clientWidth),o.removeChild(r),s-a},"undefined"==typeof document?void(t.importCssString=function(){}):(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),void(t.getParentWindow=function(e){return e.defaultView||e.parentWindow}))}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((i.match(/rv:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t,n){var r=c(t);if(!s.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),a.altGr){if(3==(3&r))return;a.altGr=0}if(18===n||17===n){var i="location"in t?t.location:t.keyLocation;if(17===n&&1===i)1==a[n]&&(l=t.timeStamp);else if(18===n&&3===r&&2===i){var u=t.timeStamp-l;u<50&&(a.altGr=!0)}}}if(n in o.MODIFIER_KEYS&&(n=-1),8&r&&n>=91&&n<=93&&(n=-1),!r&&13===n){var i="location"in t?t.location:t.keyLocation;if(3===i&&(e(t,r,-n),t.defaultPrevented))return}if(s.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in o.FUNCTION_KEYS||n in o.PRINTABLE_KEYS)&&e(t,r,n)}function i(){a=Object.create(null)}var o=e("./keys"),s=e("./useragent"),a=null,l=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):void(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||s.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var r,i;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];r=t.clientX,i=t.clientY}),t.addListener(e,"touchmove",function(e){var t=1,o=e.changedTouches[0];e.wheelX=-(o.clientX-r)/t,e.wheelY=-(o.clientY-i)/t,r=o.clientX,i=o.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,r,i){function o(e){if(0!==t.getButton(e)?h=0:e.detail>1?(h++,h>4&&(h=1)):h=1,s.isIE){var o=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-c)>5;u&&!o||(h=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),1==h&&(l=e.clientX,c=e.clientY)}if(e._clicks=h,r[i]("mousedown",e),h>4)h=0;else if(h>1)return r[i](d[h],e)}function a(e){h=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),r[i]("mousedown",e),r[i](d[h],e)}var l,c,u,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",o),s.isOldIE&&t.addListener(e,"dblclick",a)})};var c=!s.isMac||!s.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return o.KEY_MODS[c(e)]},t.addCommandKeyListener=function(e,n){var o=t.addListener;if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var l=null;o(e,"keydown",function(e){l=e.keyCode}),o(e,"keypress",function(e){return r(n,e,l)})}else{var c=null;o(e,"keydown",function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=r(n,e,e.keyCode);return c=e.defaultPrevented,t}),o(e,"keypress",function(e){c&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),c=null)}),o(e,"keyup",function(e){a[e.keyCode]=null}),a||(i(),o(window,"focus",i))}},"object"==typeof window&&window.postMessage&&!s.isOldIE){var u=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+u;t.addListener(n,"message",function i(o){o.data==r&&(t.stopPropagation(o),t.removeListener(n,"message",i),e())}),n.postMessage(r,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;n={};for(var r in t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=i.isChrome<18,l=i.isIE,c=function(e,t){function n(e){if(!g){if(g=!0,A)t=0,n=e?0:h.value.length-1;else var t=e?2:1,n=2;try{h.setSelectionRange(t,n)}catch(e){}g=!1}}function c(){g||(h.value=d,i.isWebKit&&w.schedule())}function u(){clearTimeout(j),j=setTimeout(function(){m&&(h.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},i.isOldIE?200:0)}var h=o.createElement("textarea");h.className="ace_text-input",i.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",i.isOldIE&&(h.style.top="-1000px"),e.insertBefore(h,e.firstChild);var d="",p=!1,f=!1,g=!1,m="",v=!0;try{var y=document.activeElement===h}catch(e){}r.addListener(h,"blur",function(e){t.onBlur(e),y=!1}),r.addListener(h,"focus",function(e){y=!0,t.onFocus(e),n()}),this.focus=function(){if(m)return h.focus();var e=h.style.top;h.style.position="fixed",h.style.top="0px",h.focus(),setTimeout(function(){h.style.position="","0px"==h.style.top&&(h.style.top=e)},0)},this.blur=function(){h.blur()},this.isFocused=function(){
return y};var b=s.delayedCall(function(){y&&n(v)}),w=s.delayedCall(function(){g||(h.value=d,y&&n())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,b.schedule())}),c(),y&&t.onFocus();var x=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},x=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),i.isOldIE){var _=!1,E=function(e){if(!_){var t=h.value;if(!g&&t&&t!=d){if(e&&t==d[0])return C.schedule();F(t),_=!0,c(),_=!1}}},C=s.delayedCall(E);r.addListener(h,"propertychange",E);var S={13:1,27:1};r.addListener(h,"keyup",function(e){return!g||h.value&&!S[e.keyCode]||setTimeout(B,0),(h.value.charCodeAt(0)||0)<129?C.call():void(g?O():P())}),r.addListener(h,"keydown",function(e){C.schedule(50)})}var k=function(e){p?p=!1:x(h)?(t.selectAll(),n()):A&&n(t.selection.isEmpty())},A=null;this.setInputHandler=function(e){A=e},this.getInputHandler=function(){return A};var T=!1,F=function(e){A&&(e=A(e),A=null),f?(n(),e&&t.onPaste(e),f=!1):e==d.charAt(0)?T?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),T&&(T=!1)},L=function(e){if(!g){var t=h.value;F(t),c()}},R=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!a){var i=l||n?"Text":"text/plain";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return R(e,t,!0)}}},M=function(e,i){var o=t.getCopyText();return o?void(R(e,o)?(i?t.onCut():t.onCopy(),r.preventDefault(e)):(p=!0,h.value=o,h.select(),setTimeout(function(){p=!1,c(),n(),i?t.onCut():t.onCopy()}))):r.preventDefault(e)},I=function(e){M(e,!0)},D=function(e){M(e,!1)},N=function(e){var o=R(e);"string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(n),r.preventDefault(e)):(h.value="",f=!0)};r.addCommandKeyListener(h,t.onCommandKey.bind(t)),r.addListener(h,"select",k),r.addListener(h,"input",L),r.addListener(h,"cut",I),r.addListener(h,"copy",D),r.addListener(h,"paste",N),"oncut"in h&&"oncopy"in h&&"onpaste"in h||r.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:D(e);break;case 86:N(e);break;case 88:I(e)}});var P=function(e){g||!t.onCompositionStart||t.$readOnly||(g={},g.canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(O,0),t.on("mousedown",B),g.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},O=function(){if(g&&t.onCompositionUpdate&&!t.$readOnly){var e=h.value.replace(/\x01/g,"");if(g.lastValue!==e&&(t.onCompositionUpdate(e),g.lastValue&&t.undo(),g.canUndo&&(g.lastValue=e),g.lastValue)){var n=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},B=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=g;g=!1;var r=setTimeout(function(){r=null;var e=h.value.replace(/\x01/g,"");g||(e==n.lastValue?c():!n.lastValue&&e&&(c(),F(e)))});A=function(e){return r&&clearTimeout(r),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&r&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",B),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range),i.isChrome&&i.isChrome>=53&&L()}},$=s.delayedCall(O,50);r.addListener(h,"compositionstart",P),i.isGecko?r.addListener(h,"text",function(){$.schedule()}):(r.addListener(h,"keyup",function(){$.schedule()}),r.addListener(h,"keydown",function(){$.schedule()})),r.addListener(h,"compositionend",B),this.getElement=function(){return h},this.setReadOnly=function(e){h.readOnly=e},this.onContextMenu=function(e){T=!0,n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){if(n||!i.isOldIE){m||(m=h.style.cssText),h.style.cssText=(n?"z-index:100000;":"")+"height:"+h.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),a=o.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-h.clientHeight-2,p=function(e){h.style.left=e.clientX-c-2+"px",h.style.top=Math.min(e.clientY-l-2,d)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(j),i.isWin&&!i.isOldIE&&r.capture(t.container,p,u))}},this.onContextMenuClose=u;var j,z=function(e){t.textInput.onContextMenu(e),u()};r.addListener(h,"mouseup",z),r.addListener(h,"mousedown",function(e){e.preventDefault(),u()}),r.addListener(t.renderer.scroller,"contextmenu",z),r.addListener(h,"contextmenu",z)};t.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var s=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(0!==i){var o=r.getSelectionRange(),s=o.isEmpty();return r.$blockScrolling++,(s||1==i)&&r.selection.moveToPosition(n),r.$blockScrolling--,void(2==i&&r.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=o(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),a=this.$clickSelection.comparePoint(i.end);if(s==-1&&a<=0)t=this.$clickSelection.end,i.end.row==r.row&&i.end.column==r.column||(r=i.start);else if(1==a&&s>=0)t=this.$clickSelection.start,i.start.row==r.row&&i.start.column==r.column||(r=i.end);else if(s==-1&&1==a)r=i.end,t=i.start;else{var l=o(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>s||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return i||n<200?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(i||n<200)return this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(r.prototype),t.DefaultHandlers=r}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var i=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),t.Tooltip=r}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function r(e){function t(){var t=h.getDocumentPosition().row,i=l.$annotations[t];if(!i)return n();var o=s.session.getLength();if(t==o){var a=s.renderer.pixelToScreenCoordinates(0,h.y).row,u=h.$pos;if(a>s.session.documentToScreenRow(u.row,u.column))return n()}if(d!=i)if(d=i.text.join("<br/>"),c.setHtml(d),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",n),e.$tooltipFollowsMouse)r(h);else{var p=h.domEvent.target,f=p.getBoundingClientRect(),g=c.getElement().style;g.left=f.right+"px",g.top=f.bottom+"px"}}function n(){u&&(u=clearTimeout(u)),d&&(c.hide(),d=null,s._signal("hideGutterTooltip",c),s.removeEventListener("mousewheel",n))}function r(e){c.setPosition(e.x,e.y)}var s=e.editor,l=s.renderer.$gutterLayer,c=new i(s.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var r=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(r,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,h,d;e.editor.setDefaultHandler("guttermousemove",function(i){var s=i.domEvent.target||i.domEvent.srcElement;return o.hasCssClass(s,"ace_fold-widget")?n():(d&&e.$tooltipFollowsMouse&&r(i),h=i,void(u||(u=setTimeout(function(){u=null,h&&!e.isMousePressed?t():n()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(e){h=null,d&&!u&&(u=setTimeout(function(){u=null,n()},50))}),s.on("changeSession",n)}function i(e){l.call(this,e)}var o=e("../lib/dom"),s=e("../lib/oop"),a=e("../lib/event"),l=e("../tooltip").Tooltip;s.inherits(i,l),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+o>r&&(t-=20+o),l.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=r}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!T||r||o)m.$blockScrolling+=1,m.moveCursorToPosition(e),m.$blockScrolling-=1,T=n,F={x:w,y:x};else{var s=i(F.x,F.y,w,x);s>u?T=null:n-T>=c&&(m.renderer.scrollCursorIntoView(),T=null)}}function n(e,t){var n=Date.now(),r=m.renderer.layerConfig.lineHeight,i=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:w-o.left,right:o.right-w},y:{top:x-o.top,bottom:o.bottom-x}},a=Math.min(s.x.left,s.x.right),c=Math.min(s.y.top,s.y.bottom),u={row:e.row,column:e.column};a/i<=2&&(u.column+=s.x.left<s.x.right?-3:2),c/r<=1&&(u.row+=s.y.top<s.y.bottom?-1:1);var h=e.row!=u.row,d=e.column!=u.column,p=!t||e.row!=t.row;h||d&&!p?A?n-A>=l&&m.renderer.scrollCursorIntoView(u):A=n:A=null}function r(){var e=C;C=m.renderer.screenToTextCoordinates(w,x),t(C,e),n(C,e)}function h(){E=m.selection.toOrientedRange(),b=m.session.addMarker(E,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),r(),_=setInterval(r,20),R=0,s.addListener(document,"mousemove",p)}function d(){clearInterval(_),m.session.removeMarker(b),b=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(E),m.$blockScrolling-=1,m.isFocused()&&!k&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),E=null,C=null,R=0,A=null,T=null,s.removeListener(document,"mousemove",p)}function p(){null==M&&(M=setTimeout(function(){null!=M&&b&&d()},20))}function f(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function g(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return r&&t.indexOf(i)>=0?o="copy":n.indexOf(i)>=0?o="move":t.indexOf(i)>=0&&(o="copy"),o}var m=e.editor,v=o.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(t){e[t]=this[t]},this),m.addEventListener("mousedown",this.onMouseDown.bind(e));var b,w,x,_,E,C,S,k,A,T,F,L=m.container,R=0;this.onDragStart=function(e){if(this.cancelDrag||!L.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}E=m.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),a.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),k=!0,this.setState("drag")},this.onDragEnd=function(e){if(L.draggable=!1,k=!1,this.setState(null),!m.getReadOnly()){var t=e.dataTransfer.dropEffect;S||"move"!=t||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return w=e.clientX,x=e.clientY,b||h(),R++,e.dataTransfer.dropEffect=S=g(e),s.preventDefault(e)},this.onDragOver=function(e){if(!m.getReadOnly()&&f(e.dataTransfer))return w=e.clientX,x=e.clientY,b||(h(),R++),null!==M&&(M=null),e.dataTransfer.dropEffect=S=g(e),s.preventDefault(e)},this.onDragLeave=function(e){if(R--,R<=0&&b)return d(),S=null,s.preventDefault(e)},this.onDrop=function(e){if(C){var t=e.dataTransfer;if(k)switch(S){case"move":E=E.contains(C.row,C.column)?{start:C,end:C}:m.moveText(E,C);break;case"copy":E=m.moveText(E,C,!0)}else{var n=t.getData("Text");E={start:C,end:m.session.insert(C,n)},m.focus(),S=null}return d(),s.preventDefault(e)}},s.addListener(L,"dragstart",this.onDragStart.bind(e)),s.addListener(L,"dragend",this.onDragEnd.bind(e)),s.addListener(L,"dragenter",this.onDragEnter.bind(e)),s.addListener(L,"dragover",this.onDragOver.bind(e)),s.addListener(L,"dragleave",this.onDragLeave.bind(e)),s.addListener(L,"drop",this.onDrop.bind(e));var M=null}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var o=e("../lib/dom"),s=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=a.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(a.isIE&&"dragReady"==this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if("dragWait"===this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(1===i&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=t.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);o!=-1&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t){n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var i=r.indexOf(t);i!=-1&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),r.indexOf(t)==-1&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var o=e("./oop"),s=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return r('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,s),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),o.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=r,this.reportError=i}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,r){"no use strict";function i(i){if(c&&c.document){u.packaged=i||e.packaged||r.packaged||c.define&&n(975).packaged;for(var s={},a="",l=document.currentScript||document._currentScript,h=l&&l.ownerDocument||document,d=h.getElementsByTagName("script"),p=0;p<d.length;p++){var f=d[p],g=f.src||f.getAttribute("src");if(g){for(var m=f.attributes,v=0,y=m.length;v<y;v++){var b=m[v];0===b.name.indexOf("data-ace-")&&(s[o(b.name.replace(/^data-ace-/,""))]=b.value)}var w=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(a=w[1])}}a&&(s.base=s.base||a,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var x in s)"undefined"!=typeof s[x]&&t.set(x,s[x])}}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var s=e("./lib/lang"),a=(e("./lib/oop"),e("./lib/net")),l=e("./lib/app_config").AppConfig;r.exports=t=new l;var c=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);u[e]=t},t.all=function(){return s.copyObject(u)},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r="snippets"==t?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var s=u[t+"Path"];return null==s?s=u.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(e){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var s=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void a.loadScript(t.moduleUrl(n,o),s):s()}},i(!0),t.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();r.addListener(a,"click",this.onMouseEvent.bind(this,"click")),r.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;r.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(a,"mousedown",n),r.addListener(c,"mousedown",n),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n),r.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new a(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var o=this,s=function(e){if(e){if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});o.$onCaptureMouseMove=s,o.releaseMouse=r.capture(this.editor.container,s,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0
},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";function r(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session,o=i.getParentFoldRangeData(r,!0),s=o.range||o.firstRange;if(s){r=s.start.row;var a=i.getFoldAt(r,i.getLine(r).length,1);a?i.removeFold(a):(i.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t!=-1&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r),!(o&&o.command&&(s="null"==o.command||a.exec(o.command,this.$editor,o.args,r),s&&r&&e!=-1&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s))););return s||e!=-1||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return t==-1||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(n==-1)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(r||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,t===!0?new s(r,0,n,this.session.getLine(n).length):new s(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),o=i.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,r=this.doc.getLine(t),i=r.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(t,n,1);return o?void this.moveCursorTo(o.end.row,o.end.column):((e=this.session.nonTokenRe.exec(i))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=r.substring(n)),n>=r.length?(this.moveCursorTo(t,r.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight())):((e=this.session.tokenRe.exec(i))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o,s=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0?(this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft())):((o=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n))},this.$shortWordEndIndex=function(e){var t,n,r=0,i=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,t=this.session.tokenRe.exec(e))r=this.session.tokenRe.lastIndex;else{for(;(n=e[r])&&i.test(n);)r++;if(r<1)for(o.lastIndex=0;(n=e[r])&&!o.test(n);)if(o.lastIndex=0,r++,i.test(n)){if(r>2){r--;break}for(;(n=e[r])&&i.test(n);)r++;if(r>2)break}}return o.lastIndex=0,r},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||e>0)&&r.row++,this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var r=e("./config"),i=2e3,o=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(h>1?c.onMatch=this.$applyToken:c.onMatch=c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+i+1)}):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[i]=l,i+=h,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(o[0]=0,r.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,l){return r?r="]"!=a:a?r=!0:s?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=l)),e}),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=o[s[y]],p=f.onMatch?f.onMatch(g,r,n):f.token,f.next&&(r="string"==typeof f.next?f.next:f.next(r,n),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,a=this.regExps[r],a.lastIndex=m);break}if(g)if("string"==typeof p)f&&f.merge===!1||d.type!==p?(d.type&&c.push(d),d={type:p,value:g}):d.value+=g;else if(p){d.type&&c.push(d),d={type:null,value:""};for(var y=0;y<p.length;y++)c.push(p[y])}if(u==e.length)break;if(u=m,h++>i){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else{i=[];for(var l in s)i.push(t+l)}if(this.addRules(s,t),n)for(var c=Array.prototype[o?"push":"unshift"],a=0;a<i.length;a++)c.apply(this.$rules[i[a]],r.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||(h=l.token,"string"!=typeof h&&(h=h[0]||""),i[h]&&(h+=r++)),i[h]=u,l.next=h,n(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var p="string"==typeof l?l:"string"==typeof l.include?l.include:"";if(p&&(c=i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter(function(e){return!e.next})),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var r=0,i=this.$rules;Object.keys(i).forEach(n,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];n&&(o=o.toLowerCase());for(var s=o.split(r||"|"),a=s.length;a--;)i[s[a]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(r.prototype),t.TokenIterator=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?r=u[t]:void(r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function(){this.add("braces","insertion",function(e,t,n,i,o){var s=n.getCursorPosition(),l=i.doc.getLine(s.row);if("{"==o){h(n);var c=n.getSelectionRange(),u=i.doc.getTextRange(c);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return d(c,u,"{","}");if(p.isSaneInsertion(n,i))return/[\]\}\)]/.test(l[s.column])||n.inMultiSelectMode?(p.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(n);var f=l.substring(s.column,s.column+1);if("}"==f){var g=i.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&p.isAutoInsertedClosing(s,l,o))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(n);var m="";p.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var f=l.substring(s.column,s.column+1);if("}"===f){var v=i.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!v)return null;var y=this.$getIndent(i.getLine(v.row))}else{if(!m)return void p.clearMaybeInsertedClosing();var y=this.$getIndent(l)}var b=y+i.getTabString();return{text:"\n"+b+"\n"+y+m,selection:[1,b.length,1,b.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(n);var a=i.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if("("==i){h(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"(",")");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){h(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=r.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if(")"==a)return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if("["==i){h(n);var o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"[","]");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){h(n);var a=n.getCursorPosition(),l=r.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=r.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if("]"==a)return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if('"'==i||"'"==i){if(this.lineCommentStart&&this.lineCommentStart.indexOf(i)!=-1)return;h(n);var o=i,s=n.getSelectionRange(),a=r.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return d(s,a,o,o);if(!a){var l=n.getCursorPosition(),c=r.doc.getLine(l.row),u=c.substring(l.column-1,l.column),p=c.substring(l.column,l.column+1),f=r.getTokenAt(l.row,l.column),g=r.getTokenAt(l.row,l.column+1);if("\\"==u&&f&&/escape/.test(f.type))return null;var m,v=f&&/string|escape/.test(f.type),y=!g||/string|escape/.test(g.type);if(p==o)m=v!==y,m&&/string\.end/.test(g.type)&&(m=!1);else{if(v&&!y)return null;if(v&&y)return null;var b=r.$mode.tokenRe;b.lastIndex=0;var w=b.test(u);b.lastIndex=0;var x=b.test(u);if(w||x)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;m=!0}return{text:m?o+o:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){h(n);var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if(a==o)return i.end.column++,i}})};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);
this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(p,o),t.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";function r(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}t.packages={},r({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var r=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,s=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){this.HighlightRules=i};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;t<=r;t++)e(o.getLine(t),t)}var o=t.doc,s=!0,l=!0,c=1/0,u=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(a.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var d=a.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),h=t.getUseSoftTabs();var f=function(e,t){var n=e.match(d);if(n){var r=n[1].length,i=n[0].length;y(e,r,i)||" "!=n[0][i-1]||i--,o.removeInLine(t,r,i)}},g=p+" ",m=function(e,t){s&&!/\S/.test(e)||(y(e,c,c)?o.insertInLine({row:t,column:c},g):o.insertInLine({row:t,column:c},p))},v=function(e,t){return d.test(e)},y=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%u!=0)return!1;for(var r=0;" "==e.charAt(n++);)r++;return u>2?r%u!=u-1:r%u==0}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,b=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+a.escapeRegExp(p)+")"),w=new RegExp("(?:"+a.escapeRegExp(b)+")\\s*$"),m=function(e,t){v(e,t)||s&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},b),o.insertInLine({row:t,column:c},p))},f=function(e,t){var n;(n=e.match(w))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(d))&&o.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(d.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var x=1/0;i(function(e,t){var n=e.search(/\S/);n!==-1?(n<c&&(c=n),l&&!v(e,t)&&(l=!1)):x>e.length&&(x=e.length)}),c==1/0&&(c=x,s=!1,l=!1),h&&c%u!=0&&(c=Math.floor(c/u)*u),i(l?f:m)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,s,a=new l(t,r.row,r.column),u=a.getCurrentToken(),h=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var d,p;u&&/comment/.test(u.type);){var f=u.value.indexOf(i.start);if(f!=-1){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+f;d=new c(g,m,g,m+i.start.length);break}u=a.stepBackward()}for(var a=new l(t,r.row,r.column),u=a.getCurrentToken();u&&/comment/.test(u.type);){var f=u.value.indexOf(i.end);if(f!=-1){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+f;p=new c(g,m,g,m+i.end.length);break}u=a.stepForward()}p&&t.remove(p),d&&(t.remove(d),o=d.start.row,s=-i.start.length)}else s=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),t.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}}(this)},this.$delegator=function(e,t,n){var r=t[0];"string"!=typeof r&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var o=r.split(this.$embeds[i]);if(!o[0]&&o[1]){t[0]=o[1];var s=this.$modes[this.$embeds[i]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,s=i.length;o<s;o++)if("string"==typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"==typeof i[o].token)for(var a=0,l=i[o].token.length;a<l;a++)if(/keyword|support|storage/.test(i[o].token[a])){var r=i[o].regex.match(/\(.+?\)/g)[a];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){
"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||"";switch(t.action){case"insert":var s=t.lines;if(1===s.length)e[r]=o.substring(0,i)+t.lines[0]+o.substring(i);else{var a=[r,1].concat(t.lines);e.splice.apply(e,a),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i)}break;case"remove":var l=t.end.column,c=t.end.row;r===c?e[r]=o.substring(0,i)+o.substring(l):e.splice(r,c-r+1,o.substring(0,i)+e[c].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),s=(i?1:-1)*(t.end.column-t.start.column),a=t.start,l=i?a:t.end;return e(n,a,r)?{row:n.row,column:n.column}:e(l,n,!r)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,a=r?t+1:t,l=r?0:this.getLine(a).length,c=new s(i,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return n=t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),i(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length,i=e.start.row,o=e.start.column,s=0,a=0;;){s=a,a+=t-1;var l=n.slice(s,a);if(a>r){e.lines=l,e.start.row=i+s,e.start.column=o;break}l.push(""),this.applyDelta({start:this.pos(i+s,o),end:this.pos(i+a,o=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if(e-=n[i].length+r,e<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)i+=n[s].length+r;return i+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc,o=t;n.lines[t];)t++;var s=i.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);if(a++,a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,o<=r&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&(c=r.getMatchOffsets(n.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(r=a[c],i=r.range.compareStart(t,n),i==-1)return void e(null,t,n,s,l);if(o=e(null,r.start.row,r.start.column,s,l),o=!o&&e(r.placeholder,r.start.row,r.start.column,s),o||0===i)return;l=!r.sameRow,s=r.end.column}e(null,t,n,s,l)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(n=this.folds[i],r=n.range.compareEnd(e,t),r==-1)return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){i=this.folds;var s=i.indexOf(r);for(0===s&&(this.start.column+=n),s;s<i.length;s++){if(r=i[s],r.start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(i),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var c=new r(s,o);return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if(e-=r.start.column-t,e<0)return{row:r.start.row,column:r.start.column+e};if(e-=r.placeholder.length,e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("./range").Range,i=r.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});for(var n,r=t[0],o=1;o<t.length;o++){n=r,r=t[o];var s=i(n.end,r.start);s<0||(0!=s||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(o,1),e.push(r),r=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],s=r;s<i;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else var n=e.start,t=e.end;for(var r=t.row,i=n.row,o=i-r,s=-t.column+n.column,a=this.ranges,l=0,c=a.length;l<c;l++){var u=a[l];if(!(u.end.row<r)){if(u.start.row>r)break;if(u.start.row==r&&u.start.column>=t.column&&(u.start.column==t.column&&this.$insertRight||(u.start.column+=s,u.start.row+=o)),u.end.row==r&&u.end.column>=t.column){if(u.end.column==t.column&&this.$insertRight)continue;u.end.column==t.column&&s>0&&l<c-1&&u.end.column>u.start.column&&u.end.column==a[l+1].start.column&&(u.end.column-=s),u.end.column+=s,u.end.row+=o}}}if(0!=o&&l<c)for(;l<c;l++){var u=a[l];u.start.row+=o,u.end.row+=o}}}).call(o.prototype),t.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){r(e.start,t),r(e.end,t)}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function s(e,t){o(e.start,t),o(e.end,t)}var a=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),c=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(c,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new c(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,o=-1;r<this.subFolds.length&&(o=this.subFolds[r].range.compare(t,n),1==o);r++);var s=this.subFolds[r];if(0==o)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=r,o=-1;a<this.subFolds.length&&(o=this.subFolds[a].range.compare(t,n),1==o);a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,a-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return s(e,this.start)}}.call(c.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";function r(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var s=i[o];if(s.range.contains(e,t)){if(1==n&&s.range.isEnd(e,t))continue;if(n==-1&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var s=r[o].range.compareRange(e);if(2!=s){if(s==-2)break;for(var a=r[o].folds,l=0;l<a.length;l++){var c=a[l];if(s=c.range.compareRange(e),s==-2)break;if(2!=s){if(42==s)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(r=r||this.getFoldLine(e),!r)return null;for(var i,o,s={end:{column:0}},a=0;a<r.folds.length;a++){o=r.folds[a];var l=o.range.compareEnd(e,t);if(l==-1){i=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return i||(i=this.getLine(o.start.row).substring(s.end.column)),n==-1?i.substring(0,t-s.end.column):1==n?i.substring(t-s.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,r=this.$foldData,i=!1;e instanceof s?n=e:(n=new s(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(a<c||a==c&&l<=u-2))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var f=0;f<r.length;f++){var g=r[f];if(c==g.start.row){g.addFold(n),i=!0;break}if(a==g.end.row){if(g.addFold(n),i=!0,!n.sameRow){var m=r[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return i||(g=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,n,a){if(!(t<r)){if(t==r){if(n<i)return;a=Math.max(i,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}},t,n),s},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(i)return this.getFoldDisplayLine(i,e,t,n,r);var o;return o=this.doc.getLine(e),o.substring(r||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new o(e,n)})},this.toggleFold=function(e){var t,n,r=this.selection,i=r.getRange();if(i.isEmpty()){var o=i.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(n=this.findMatchingBracket(o))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(o.row,o.column)||i}else{var s=this.getFoldsInRange(i);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())return void this.expandFold(t);var a="...";if(!i.isMultiLine()){if(a=this.getTextRange(i),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,i)},this.getCommentFoldRange=function(e,t,n){var r=new a(this,e,t),o=r.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var s=new i,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do o=r.stepBackward();while(o&&l.test(o.type));r.stepForward()}if(s.start.row=r.getCurrentTokenRow(),s.start.column=r.getCurrentTokenColumn()+2,r=new a(this,e,t),n!=-1){do o=r.stepForward();while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return s.end.row=r.getCurrentTokenRow(),s.end.column=r.getCurrentTokenColumn()+o.value.length-2,s}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var i=e;i<t;i++)if(null==r[i]&&(r[i]=this.getFoldWidget(i)),"start"==r[i]){var o=this.getFoldWidgetRange(i);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){i=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var s=this.getFoldWidgetRange(i);if(r||(r=s),s&&s.end.row>=e)break}i--}return{range:i!==-1&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,i===-1?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=e("../range").Range,o=e("./fold_line").FoldLine,s=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=r}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";function r(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,i=n.charAt(e.column-1),s=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(s||(i=n.charAt(e.column),e={row:e.row,column:e.column+1},s=i&&i.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=o.fromPoints(e,a),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=o.fromPoints(a,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){
if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=r}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./config"),s=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),o.resetOptions(this),this.setMode(t),o._signal("session",this)};(function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}r.implement(this,s),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t)o=r.length-1,i=this.getLine(e).length;else for(var o=0;o<r.length&&(i+=r[o].value.length,!(i>=t));o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new c(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var o=t;if(o>0){do o--;while(o>=0&&n.charAt(o).match(i));o++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new c(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!n?(this.$onChangeMode(this.$modes[r]),void(t&&t())):(this.$modeId=r,o.loadModule(["mode",r],function(e){return this.$modeId!==r?t&&t():(this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),void(t&&t()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var i=this;this.bgTokenizer.addEventListener("update",function(e){i._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[i++],s=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=e.length-1;r!=-1;r--){var i=e[r];"doc"==i.group?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=0;r<e.length;r++){var i=e[r];"doc"==i.group&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){return t?"insert"!==e.action:"insert"===e.action}var i,o,s=e[0],a=!1;r(s)?(i=c.fromPoints(s.start,s.end),a=!0):(i=c.fromPoints(s.start,s.start),a=!1);for(var l=1;l<e.length;l++)s=e[l],r(s)?(o=s.start,i.compare(o.row,o.column)==-1&&i.setStart(o),o=s.end,1==i.compare(o.row,o.column)&&i.setEnd(o),a=!0):(o=s.start,i.compare(o.row,o.column)==-1&&(i=c.fromPoints(s.start,s.start)),a=!1);if(null!=n){0===c.comparePoints(n.start,i.start)&&(n.start.column+=i.end.column-i.start.column,n.end.column+=i.end.column-i.start.column);var u=n.compareRange(i);1==u?i.setStart(n.start):u==-1&&i.setEnd(n.end)}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=c.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,r),i.length){var l=e.start,u=o.start,s=u.row-l.row,a=u.column-l.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=a),e.end.row==l.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var s=0;s<r&&" "==o.charAt(s);++s);s<r&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var o=new c(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,s=i.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=this.getFoldLine(i.row),h=0;if(u){u.addRemoveChars(i.row,i.column,r.column-i.column),u.shiftRow(-a);var d=this.getFoldLine(o);d&&d!==u&&(d.merge(u),u=d),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=i.row&&u.shiftRow(-a)}s=o}else{var p=Array(a);p.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);var c=this.$foldData,u=this.getFoldLine(o),h=0;if(u){var g=u.range.compareInside(r.row,r.column);0==g?(u=u.split(r.row,r.column),u&&(u.shiftRow(a),u.addRemoveChars(s,0,i.column-r.column))):g==-1&&(u.addRemoveChars(o,0,i.column-r.column),u.shiftRow(a)),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=o&&u.shiftRow(a)}}else{a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a);var u=this.getFoldLine(o);u&&u.addRemoveChars(o,r.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,r,i=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,l=this.$wrapLimit,c=e;for(t=Math.min(t,i.length-1);c<=t;)r=this.getFoldLine(c,r),r?(n=[],r.walk(function(e,t,r,o){var s;if(null!=e){s=this.$getDisplayTokens(e,n.length),s[0]=a;for(var l=1;l<s.length;l++)s[l]=u}else s=this.$getDisplayTokens(i[t].substring(o,r),n.length);n=n.concat(s)}.bind(this),r.end.row,i[r.end.row].length+1),s[r.start.row]=this.$computeWrapSplits(n,l,o),c=r.end.row+1):(n=this.$getDisplayTokens(i[c]),s[c]=this.$computeWrapSplits(n,l,o),c++)};var t=1,n=2,a=3,u=4,p=9,f=10,g=11,m=12;this.$computeWrapSplits=function(e,t,r){function i(){var t=0;if(0===y)return t;if(v)for(var n=0;n<e.length;n++){var i=e[n];if(i==f)t+=1;else{if(i!=g){if(i==m)continue;break}t+=r}}return d&&v!==!1&&(t+=r),Math.min(t,y)}function o(t){var n=e.slice(c,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),s.length||(b=i(),s.indent=b),h+=r,s.push(h),c=t}if(0==e.length)return[];for(var s=[],l=e.length,c=0,h=0,d=this.$wrapAsCode,v=this.$indentedSoftWrap,y=t<=Math.max(2*r,8)||v===!1?0:Math.floor(t/2),b=0;l-c>t-b;){var w=c+t-b;if(e[w-1]>=f&&e[w]>=f)o(w);else if(e[w]!=a&&e[w]!=u){for(var x=Math.max(w-(t-(t>>2)),c-1);w>x&&e[w]<a;)w--;if(d){for(;w>x&&e[w]<a;)w--;for(;w>x&&e[w]==p;)w--}else for(;w>x&&e[w]<f;)w--;w>x?o(++w):(w=c+t,e[w]==n&&w--,o(w-b))}else{for(w;w!=c-1&&e[w]!=a;w--);if(w>c){o(w);continue}for(w=c+t;w<e.length&&e[w]==u;w++);if(w==e.length)break;o(w)}}return s},this.$getDisplayTokens=function(r,i){var o,s=[];i=i||0;for(var a=0;a<r.length;a++){var l=r.charCodeAt(a);if(9==l){o=this.getScreenTabSize(s.length+i),s.push(g);for(var c=1;c<o;c++)s.push(m)}else 32==l?s.push(f):l>39&&l<48||l>57&&l<64?s.push(p):l>=4352&&e(l)?s.push(t,n):s.push(t)}return s},this.$getStringScreenWidth=function(t,n,r){if(0==n)return[0,0];null==n&&(n=1/0),r=r||0;var i,o;for(o=0;o<t.length&&(i=t.charCodeAt(o),r+=9==i?this.getScreenTabSize(r):i>=4352&&e(i)?2:1,!(r>n));o++);return[r,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,r,i=0,o=0,s=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],i=this.$docRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getLength()-1,p=this.getNextFoldLine(i),f=p?p.start.row:1/0;s<=e&&(a=this.getRowLength(i),!(s+a>e||i>=d));)s+=a,i++,i>f&&(i=p.end.row+1,p=this.getNextFoldLine(i,p),f=p?p.start.row:1/0),h&&(this.$docRowCache.push(i),this.$screenRowCache.push(s));if(p&&p.start.row<=i)n=this.getFoldDisplayLine(p),i=p.start.row;else{if(s+a<=e||i>d)return{row:d,column:this.getLine(d).length};n=this.getLine(i),p=null}var g=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){var v=Math.floor(e-s);r=m[v],v>0&&m.length&&(g=m.indent,o=m[v-1]||m[m.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,t-g)[1],this.$useWrapMode&&o>=r&&(o=r-1),p?p.idxToPosition(o):{row:i,column:o}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],r=this.$screenRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if(s=d.end.row+1,s>e)break;d=this.getNextFoldLine(s,d),p=d?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var f="";d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),i=d.start.row):(f=this.getLine(e).substring(0,t),i=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){for(var v=0;f.length>=m[v];)r++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return{row:r,column:g+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=0,t=this.$foldData[i++],o=t?t.start.row:1/0;r<n;){var s=this.$wrapData[r];e+=s?s.length+1:1,r++,r>o&&(r=t.end.row+1,t=this.$foldData[i++],o=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,i=0;i<a.length;i++)t=a[i],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];n||(n=1/0),r=r||0;var i,o;for(o=0;o<t.length&&(i=t.charAt(o),r+="\t"===i?this.getScreenTabSize(r):e.getCharacterWidth(i),!(r>n));o++);return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";function r(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}var i=e("./lib/lang"),o=e("./lib/oop"),s=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(e){return o.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i){if(e.start)r=e;else{var o=e.offset+(i||0);if(r=new s(n,o,n,o+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))return r=null,!1}return!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(r[h+d].search(a[d])==-1)continue e;var p=r[h],f=r[h+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(o.push(l=new s(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++)for(var y=i.getMatchOffsets(r[v],a),d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}if(n){for(var w=n.start.column,x=n.start.column,v=0,d=o.length-1;v<d&&o[v].start.column<w&&o[v].start.row==n.start.row;)v++;for(;v<d&&o[d].end.column>x&&o[d].end.row==n.end.row;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;v<d;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r;if(t.$isMultiLine)var o=n.length,a=function(t,i,a){var l=t.search(n[0]);if(l!=-1){for(var c=1;c<o;c++)if(t=e.getLine(i+c),t.search(n[c])==-1)return;var u=t.match(n[o-1])[0].length,h=new s(i,l,i+o-1,u);return 1==n.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):a&&(h.start.column+=a),!!r(h)||void 0}};else if(t.backwards)var a=function(e,t,o){for(var s=i.getMatchOffsets(e,n),a=s.length-1;a>=0;a--)if(r(s[a],t,o))return!0};else var a=function(e,t,o){for(var s=i.getMatchOffsets(e,n),a=0;a<s.length;a++)if(r(s[a],t,o))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){r=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=r(n,e));var o=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,o);try{var s=new RegExp(n,o)}catch(e){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(e){return!1}return""==n[0]?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=1==t.backwards,r=0!=t.skipCurrent,i=t.range,o=t.start;o||(o=i?i[n?"end":"start"]:e.selection.getRange()),o.start&&(o=o[r!=n?"end":"start"]);var s=i?i.start.row:0,a=i?i.end.row:e.getLength()-1,l=n?function(n){var r=o.row,i=e.getLine(r).substring(0,o.column);if(!n(i,r)){for(r--;r>=s;r--)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=a,s=o.row;r>=s;r--)if(n(e.getLine(r),r))return}}:function(n){var r=o.row,i=e.getLine(r).substr(o.column);if(!n(i,r,o.column)){for(r+=1;r<=a;r++)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=s,a=o.row;r<=a;r++)if(n(e.getLine(r),r))return}};return{forEach:l}}}).call(a.prototype),t.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function i(e,t){r.call(this,e,t),this.$singleCommand=!1}var o=e("../lib/keys"),s=e("../lib/useragent"),a=o.KEY_MODS;i.prototype=r.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var s=o.indexOf(e);s!=-1&&(o.splice(s,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(e.indexOf(" ")!=-1){var i=e.split(/\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var o=this.parseKeys(e),s=a[o.hashId]+o.key;this._addCommandToBinding(r+s,t,n)},this)},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{
Array.isArray(o[t])?(i=o[t].indexOf(n))!=-1&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=r||n.isDefault?-100:e(n));var s=o[t];for(i=0;i<s.length;i++){var a=s[i],l=e(a);if(l>r)break}s.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=o[n];if(o.FUNCTION_KEYS[r])n=o.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var i=0,s=t.length;s--;){var a=o.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;i|=a}return{key:n,hashId:i}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=a[t]+n,o=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(t==-1||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:o}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=i}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(s,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),i.returnValue!==!1},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(s.prototype),t.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function r(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),o=e("../config"),s=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","F4"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Shift-F4"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){return!!e.selection.isEmpty()&&void e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;u<=r.row+1;u++){var h=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(u)));0!==h.length&&(h=" "+h),c+=h}r.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,r.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row===t&&r[o].end.column===n||i.push(new s(r[o].end.row,r[o].end.column,t,n))),0===o?0===r[o].start.row&&0===r[o].start.column||i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new g(s.isMac?"mac":"win",m),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new h("")),v.resetOptions(this),v._signal("editor",this)};(function(){r.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&n.indexOf(e.command.name)!==-1;"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new p(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(i.type.indexOf("tag-open")==-1||(i=r.stepForward())){var o=i.value,s=0,a=r.stepBackward();if("<"==a.value){do a=i,i=r.stepForward(),i&&i.value===o&&i.type.indexOf("tag-name")!==-1&&("<"===a.value?s++:"</"===a.value&&s--);while(i&&s>=0)}else{do i=a,a=r.stepBackward(),i&&i.value===o&&i.type.indexOf("tag-name")!==-1&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&s<=0);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=r.getCurrentTokenRow(),c=r.getCurrentTokenColumn(),u=new p(l,c,l,c+i.value.length),h=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=h&&0!==u.compareRange(h.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),o=i.length,s=i.substring(Math.max(n,0),Math.min(r,o));if(!(n>=0&&/^[\w\d]/.test(s)||r<=o&&/[\w\d]$/.test(s))&&(s=i.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({
wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var i=r.length;i--;){var o=r[i];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[i])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new p.fromPoints(i,i);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=n.getState(i.row),a=n.getLine(i.row),h=r.checkOutdent(u,a,e);n.insert(i,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new p(i.row,c+o.selection[0],i.row,c+o.selection[1])):this.selection.setSelectionRange(new p(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(u,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}h&&r.autoOutdent(u,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new p(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new p(e.row,t-2,e.row,t)),this.session.replace(r,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"\t")}}var i=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=o.stringRepeat(" ",c);else{for(var c=l%a;" "==i[t.start.column-1]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var r=new p(0,0,0,0),i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var o={value:i[0],start:i.index,end:i.index+i[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new p(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),e*=s!==o.end&&n<s?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new p(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&e==-1&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0),n=this.$getSelectedRows(s[u]);for(var d=n.first,p=n.last;++u<c;){l&&s[u].moveBy(l,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(d,p,t?0:e),t&&e==-1&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,c[a]===-1&&(s="bracket",l=!0)}}else o&&o.type.indexOf("tag-name")!==-1&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value?c[o.value]++:"</"===i.value&&c[o.value]--,c[o.value]===-1&&(s="tag",l=!0));l||(i=o,o=r.stepForward(),u=0)}while(o&&!l);if(s){var d,f;if("bracket"===s)d=this.session.getBracketRange(n),d||(d=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1),f=d.start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===s){if(!o||o.type.indexOf("tag-name")===-1)return;var g=o.value;if(d=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===d.compare(n.row,n.column)){l=!1;do o=i,i=r.stepBackward(),i&&(i.type.indexOf("tag-close")!==-1&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===g&&o.type.indexOf("tag-name")!==-1&&("<"===i.value?c[g]++:"</"===i.value&&c[g]--,0===c[g]&&(l=!0)));while(i&&!l)}o&&o.type.indexOf("tag-name")&&(f=d.start,f.row==n.row&&Math.abs(f.column-n.column)<2&&(f=d.end))}f=d&&d.cursor||f,f&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",function(){r=!0}),s=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;r=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null,null!=r&&(i.style.top=a+"px",i.style.left=o.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){for(var i=e[r],o={group:i.group,deltas:new Array(i.length)},s=0;s<i.deltas.length;s++){var a=i.deltas[s];o.deltas[s]=t(a)}n[r]=o}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(r.prototype),t.UndoManager=r}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,s),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",i.text.indexOf(s)===-1&&i.text.push(s);var a=n.type;"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(n),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,h=0,d=t.gutterRenderer||this.$renderer,p=null,f=-1,g=n;;){if(g>s&&(g=o.end.row+1,o=t.getNextFoldLine(g,o),s=o?o.start.row:1/0),g>i){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++f],p||(p={element:null,textNode:null,foldWidget:null},p.element=r.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),c[g]&&(m+=c[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),p.element.className!=m&&(p.element.className=m);var v=t.getRowLength(g)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=t.getFoldWidget(g))}if(y){p.foldWidget||(p.foldWidget=r.createElement("span"),p.element.appendChild(p.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&g<o.end.row?" ace_closed":" ace_open",p.foldWidget.className!=m&&(p.foldWidget.className=m);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=h=d?d.getText(t,g):g+u;b!=p.textNode.data&&(p.textNode.data=b),g++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+u);var w=d?d.getWidth(t,h,e):h.toString().length*e.characterWidth,x=this.$padding||this.$computePadding();w+=x.left+x.right,w===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),s=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,s,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,i,o,s){for(var a=this.session,l=n.start.row,c=n.end.row,u=l,h=0,d=0,p=a.getScreenLastRowColumn(u),f=new r(u,n.start.column,u,d);u<=c;u++)f.start.row=f.end.row=u,f.start.column=u==l?n.start.column:a.getRowWrapIndent(u),f.end.column=p,h=d,d=p,p=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,f,i+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,h<d,d>p,u==c),o,u==c?0:1,s)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,s=r.lineHeight,a=this.$getTop(t.start.row,r),l=o+t.start.column*r.characterWidth;i=i||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",i,"'></div>"),a=this.$getTop(t.end.row,r);var c=t.end.column*r.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",s,"px;","width:",c,"px;","top:",a,"px;","left:",o,"px;",i,"'></div>"),s=(t.end.row-t.start.row-1)*r.lineHeight,!(s<=0)){a=this.$getTop(t.start.row+1,r);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",i,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,r,i,o){var s=r.lineHeight,a=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;
t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-o),e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;e.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")}}).call(o.prototype),t.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+o.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",i="",s="";if(this.showInvisibles){r+=" ace_invisible",i=" ace_invisible_space",s=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=o.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+r+i+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+r+s+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<r;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(r)){r=l.start.row;break}a=l.end.row}s++}for(var a=r,l=this.session.getNextFoldLine(a),c=l?l.start.row:1/0;;){if(a>c&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),c=l?l.start.row:1/0),a>i)break;var u=o[s++];if(u){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==c&&l),u.style.height=e.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=h.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,o,!1,o==a&&s),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);o++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,i=n,o=this.session.getNextFoldLine(i),s=o?o.start.row:1/0;;){if(i>s&&(i=o.end.row+1,o=this.session.getNextFoldLine(i,o),s=o?o.start.row:1/0),i>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(i),"px'>"),this.$renderLine(t,i,!1,i==s&&o),this.$useLineGroups()&&t.push("</div>"),i++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,s=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,r,s,a){if(n)return i.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(i.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var l=i.session.getScreenTabSize(t+s);return t+=l-1,i.$tabStrings[l]}if("　"==e){var c=i.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=i.showInvisibles?i.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*i.config.characterWidth+"px'>"+u+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+i.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*i.config.characterWidth+"px'>"+e+"</span>")},l=r.replace(s,a);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return r<=0||r>=n?t:" "==t[0]?(r-=r%this.tabSize,e.push(o.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):"\t"==t[0]?(e.push(o.stringRepeat(this.$tabStrings["\t"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){for(var i=0,s=0,a=n[0],l=0,c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,h=this.renderIndentGuide(e,h,a),!h)continue;i-=h.length}if(i+h.length<a)l=this.$renderToken(e,l,u,h),i+=h.length;else{for(;i+h.length>=a;)l=this.$renderToken(e,l,u,h.substring(0,a-i)),h=h.substring(a-i),i=a,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(o.stringRepeat(" ",n.indent)),s++,l=0,a=n[s]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,l=this.$renderToken(e,l,u,h))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++)r=t[o],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){if(r||0==r||(r=this.session.getFoldLine(t)),r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),i.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,i,o,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,r++,r==e.length)return;if(o!=t){var s=e[r].value.substring(t-o);s.length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1}for(;o<n&&r<e.length;){var s=e[r].value;s.length+o>n?i.push({type:e[r].type,value:s.substring(0,n-o)}):i.push(e[r]),o+=s.length,r+=1}}var r=this.session,i=[],o=r.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?i.push({type:"fold",value:e}):(l&&(o=r.getTokens(t)),o.length&&n(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===r&&(r=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||r||(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var n=0,i=t.length;n<i;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var s=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,e,t[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px")}}for(;this.cursors.length>r;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};r.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else var t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=o.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),s=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,m='.ace_editor {\tposition: relative;\toverflow: hidden;\tfont: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\tdirection: ltr;\ttext-align: left;\t}\t.ace_scroller {\tposition: absolute;\toverflow: hidden;\ttop: 0;\tbottom: 0;\tbackground-color: inherit;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\tcursor: text;\t}\t.ace_content {\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmin-width: 100%;\t}\t.ace_dragging .ace_scroller:before{\tposition: absolute;\ttop: 0;\tleft: 0;\tright: 0;\tbottom: 0;\tcontent: \'\';\tbackground: rgba(250, 250, 250, 0.01);\tz-index: 1000;\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground: rgba(0, 0, 0, 0.01);\t}\t.ace_selecting, .ace_selecting * {\tcursor: text !important;\t}\t.ace_gutter {\tposition: absolute;\toverflow : hidden;\twidth: auto;\ttop: 0;\tbottom: 0;\tleft: 0;\tcursor: default;\tz-index: 4;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_gutter-active-line {\tposition: absolute;\tleft: 0;\tright: 0;\t}\t.ace_scroller.ace_scroll-left {\tbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\t}\t.ace_gutter-cell {\tpadding-left: 19px;\tpadding-right: 6px;\tbackground-repeat: no-repeat;\t}\t.ace_gutter-cell.ace_error {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_warning {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\tbackground-position: 2px center;\t}\t.ace_dark .ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\t}\t.ace_scrollbar {\tposition: absolute;\tright: 0;\tbottom: 0;\tz-index: 6;\t}\t.ace_scrollbar-inner {\tposition: absolute;\tcursor: text;\tleft: 0;\ttop: 0;\t}\t.ace_scrollbar-v{\toverflow-x: hidden;\toverflow-y: scroll;\ttop: 0;\t}\t.ace_scrollbar-h {\toverflow-x: scroll;\toverflow-y: hidden;\tleft: 0;\t}\t.ace_print-margin {\tposition: absolute;\theight: 100%;\t}\t.ace_text-input {\tposition: absolute;\tz-index: 0;\twidth: 0.5em;\theight: 1em;\topacity: 0;\tbackground: transparent;\t-moz-appearance: none;\tappearance: none;\tborder: none;\tresize: none;\toutline: none;\toverflow: hidden;\tfont: inherit;\tpadding: 0 1px;\tmargin: 0 -1px;\ttext-indent: -1em;\t-ms-user-select: text;\t-moz-user-select: text;\t-webkit-user-select: text;\tuser-select: text;\twhite-space: pre!important;\t}\t.ace_text-input.ace_composition {\tbackground: inherit;\tcolor: inherit;\tz-index: 1000;\topacity: 1;\ttext-indent: 0;\t}\t.ace_layer {\tz-index: 1;\tposition: absolute;\toverflow: hidden;\tword-wrap: normal;\twhite-space: pre;\theight: 100%;\twidth: 100%;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tpointer-events: none;\t}\t.ace_gutter-layer {\tposition: relative;\twidth: auto;\ttext-align: right;\tpointer-events: auto;\t}\t.ace_text-layer {\tfont: inherit !important;\t}\t.ace_cjk {\tdisplay: inline-block;\ttext-align: center;\t}\t.ace_cursor-layer {\tz-index: 4;\t}\t.ace_cursor {\tz-index: 4;\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tborder-left: 2px solid;\ttransform: translatez(0);\t}\t.ace_slim-cursors .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_overwrite-cursors .ace_cursor {\tborder-left-width: 0;\tborder-bottom: 1px solid;\t}\t.ace_hidden-cursors .ace_cursor {\topacity: 0.2;\t}\t.ace_smooth-blinking .ace_cursor {\t-webkit-transition: opacity 0.18s;\ttransition: opacity 0.18s;\t}\t.ace_editor.ace_multiselect .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\tposition: absolute;\tz-index: 3;\t}\t.ace_marker-layer .ace_selection {\tposition: absolute;\tz-index: 5;\t}\t.ace_marker-layer .ace_bracket {\tposition: absolute;\tz-index: 6;\t}\t.ace_marker-layer .ace_active-line {\tposition: absolute;\tz-index: 2;\t}\t.ace_marker-layer .ace_selected-word {\tposition: absolute;\tz-index: 4;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\t}\t.ace_line .ace_fold {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: inline-block;\theight: 11px;\tmargin-top: -2px;\tvertical-align: middle;\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\tbackground-repeat: no-repeat, repeat-x;\tbackground-position: center center, top left;\tcolor: transparent;\tborder: 1px solid black;\tborder-radius: 2px;\tcursor: pointer;\tpointer-events: auto;\t}\t.ace_dark .ace_fold {\t}\t.ace_fold:hover{\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\t}\t.ace_tooltip {\tbackground-color: #FFF;\tbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\tbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\tborder: 1px solid gray;\tborder-radius: 1px;\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\tcolor: black;\tmax-width: 100%;\tpadding: 3px 4px;\tposition: fixed;\tz-index: 999999;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: default;\twhite-space: pre;\tword-wrap: break-word;\tline-height: normal;\tfont-style: normal;\tfont-weight: normal;\tletter-spacing: normal;\tpointer-events: none;\t}\t.ace_folding-enabled > .ace_gutter-cell {\tpadding-right: 13px;\t}\t.ace_fold-widget {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmargin: 0 -12px 0 1px;\tdisplay: none;\twidth: 11px;\tvertical-align: top;\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: center;\tborder-radius: 3px;\tborder: 1px solid transparent;\tcursor: pointer;\t}\t.ace_folding-enabled .ace_fold-widget {\tdisplay: inline-block;   \t}\t.ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\t}\t.ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\t}\t.ace_fold-widget:hover {\tborder: 1px solid rgba(0, 0, 0, 0.3);\tbackground-color: rgba(255, 255, 255, 0.2);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t}\t.ace_fold-widget:active {\tborder: 1px solid rgba(0, 0, 0, 0.4);\tbackground-color: rgba(0, 0, 0, 0.05);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t}\t.ace_dark .ace_fold-widget {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\t}\t.ace_dark .ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget:hover {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbackground-color: rgba(255, 255, 255, 0.1);\t}\t.ace_dark .ace_fold-widget:active {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t}\t.ace_fold-widget.ace_invalid {\tbackground-color: #FFB4B4;\tborder-color: #DE5555;\t}\t.ace_fade-fold-widgets .ace_fold-widget {\t-webkit-transition: opacity 0.4s ease 0.05s;\ttransition: opacity 0.4s ease 0.05s;\topacity: 0;\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget {\t-webkit-transition: opacity 0.05s ease 0.05s;\ttransition: opacity 0.05s ease 0.05s;\topacity:1;\t}\t.ace_underline {\ttext-decoration: underline;\t}\t.ace_bold {\tfont-weight: bold;\t}\t.ace_nobold .ace_bold {\tfont-weight: normal;\t}\t.ace_italic {\tfont-style: italic;\t}\t.ace_error-marker {\tbackground-color: rgba(255, 0, 0,0.2);\tposition: absolute;\tz-index: 9;\t}\t.ace_highlight-marker {\tbackground-color: rgba(255, 255, 0,0.2);\tposition: absolute;\tz-index: 8;\t}\t.ace_br1 {border-top-left-radius    : 3px;}\t.ace_br2 {border-top-right-radius   : 3px;}\t.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\t.ace_br4 {border-bottom-right-radius: 3px;}\t.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\t.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\t.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\t.ace_br8 {border-bottom-left-radius : 3px;}\t.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\t.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\t.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\t.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\t';
i.importCssString(m,"ace_editor.css");var v=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return r&&(e||o.height!=r)&&(o.height=r,i|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(i|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(i|=this.CHANGE_FULL)),o.$dirty=!n||!r,i&&this._signal("resize",s),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,i=this.lineHeight;if(t<0||t>e.height-i)return void(r.top=r.left="0");var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,i+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,r.height=i+"px",r.width=o+"px",r.left=Math.min(n,this.$size.scrollerWidth-o)+"px",r.top=Math.min(t,this.$size.height-i)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,o=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),a=this.$horizScroll!==s;a&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,u=t.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=h;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,i-t.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+d.right)));var p=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+h<0||this.scrollTop>d.top),f=l!==p;f&&(this.$vScroll=p,this.scrollBarV.setVisible(p));var g,m,v=Math.ceil(u/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),b=y+v,w=this.lineHeight;y=e.screenToDocumentRow(y,0);var x=e.getFoldLine(y);x&&(y=x.start.row),g=e.documentToScreenRow(y,0),m=e.getRowLength(y)*w,b=Math.min(e.screenToDocumentRow(b,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(b)*w+m,c=this.scrollTop-g*w;var _=0;return this.layerConfig.width!=o&&(_=this.CHANGE_H_SCROLL),(a||f)&&(_=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:y,firstRowScreen:g,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:u,maxHeight:i,offset:c,gutterOffset:w?Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},_},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(o(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=i.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(s,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0],e==n))return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),o=Math.round(r);return{row:i,column:o,side:r-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(r.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.importCssString(n.cssText,n.cssClass,r.container.ownerDocument),r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var o="padding"in n?n.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&o!=r.$padding&&r.setPadding(o),r.$theme=n.cssClass,r.theme=n,i.addCssClass(r.container,n.cssClass),i.setCssClass(r.container,"ace_dark",n.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var r=this;if(this.$themeId=e,r._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var s=e||this.$options.theme.initialValue;o.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,a=e("../config"),l=function(t,r,i,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)o=o||a.moduleUrl(r.id,"worker");else{var s=this.$normalizePath;o=o||s(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach(function(t){l[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{var c=r.src,u=n(976),h=new u([c],{type:"application/javascript"}),d=(window.URL||window.webkitURL).createObjectURL(h);this.$worker=new Worker(d)}catch(e){if(!(e instanceof window.DOMException))throw e;var h=this.$workerBlob(o),p=window.URL||window.webkitURL,f=p.createObjectURL(h);this.$worker=new Worker(f),p.revokeObjectURL(f)}this.$worker.postMessage({init:!0,tlns:l,module:r.id,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,s),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(t),r.getBlob("application/javascript")}}}).call(l.prototype);var c=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,i=!1,o=Object.create(s),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),r&&(i?setTimeout(c):c())},this.setEmitSync=function(e){i=e};var c=function(){var e=l.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&o._signal(e.event,e.data)};o.postMessage=function(e){l.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],function(e){for(r=new e[n](o);l.messageBuffer.length;)c()})};c.prototype=l.prototype,t.UIWorkerClient=c,t.WorkerClient=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,r,i,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1);
})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.remove(new r(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function r(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,n=t.altKey,i=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!a&&!n&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,h=e.editor,d=h.selection,p=h.inMultiSelectMode,f=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&r(f,g),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=h.session,x=h.renderer.pixelToScreenCoordinates(v,y),_=x;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=i?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&i)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&s.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var E=d.toOrientedRange();h.addSelectionMarker(E)}var C=d.rangeList.rangeAtPoint(f);h.$blockScrolling++,h.inVirtualSelectionMode=!0,i&&(C=null,E=d.ranges[0]||E,h.removeSelectionMarker(E)),h.once("mouseup",function(){var e=d.toOrientedRange();C&&e.isEmpty()&&r(C.cursor,e.cursor)?d.substractPoint(e.cursor):(i?d.substractPoint(E.cursor):E&&(h.removeSelectionMarker(E),d.addRange(E)),d.addRange(e)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),h.inVirtualSelectionMode=!0;var S,k=[],A=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column);r(_,e)&&r(t,d.lead)||(_=e,h.$blockScrolling++,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(k),k=d.rectangularRangeBlock(_,x),h.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=h.$mouseHandler.$clickSelection.clone()),k.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};h.$blockScrolling++,p&&!l?d.toSingleRange():!p&&l&&(S=d.toOrientedRange(),h.addSelectionMarker(S)),i?x=w.documentToScreenPosition(d.lead):d.moveToPosition(f),h.$blockScrolling--,_={row:-1,column:-1};var T=function(e){clearInterval(L),h.removeSelectionMarkers(k),k.length||(k=[d.toOrientedRange()]),h.$blockScrolling++,S&&(h.removeSelectionMarker(S),d.toSingleRange(S));for(var t=0;t<k.length;t++)d.addRange(k[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},F=A;o.capture(h.container,b,T);var L=setInterval(function(){F()},20);return e.preventDefault()}}}var o=e("../lib/event"),s=e("../lib/useragent");t.onMouseDown=i}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function r(e,t,n){return g.$options.wrap=!0,g.$options.needle=t,g.$options.backwards=n==-1,g.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function o(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(p.defaultCommands),s(e))}function s(e){function t(t){r&&(e.renderer.setMouseCursor(""),r=!1)}var n=e.textInput.getElement(),r=!1;h.addListener(n,"keydown",function(n){var i=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&i?r||(e.renderer.setMouseCursor("crosshair"),r=!0):r&&t()}),h.addListener(n,"keyup",t),h.addListener(n,"blur",t)}var a=e("./range_list").RangeList,l=e("./range").Range,c=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,h=e("./lib/event"),d=e("./lib/lang"),p=e("./commands/multi_select_commands");t.commands=p.defaultCommands.concat(p.multiSelectCommands);var f=e("./search").Search,g=new f,m=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),i=n.start.row,o=n.end.row;if(i==o){if(r)var s=n.end,a=n.start;else var s=n.start,a=n.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(s,s))}var c=[],u=this.getLineRange(i,!0);u.start.column=n.start.column,c.push(u);for(var h=i+1;h<o;h++)c.push(this.getLineRange(h,!0));u=this.getLineRange(o,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),i=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(r,i);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,a=t.column;else var s=t.column,a=e.column;var c=e.row<t.row;if(c)var u=e.row,h=t.row;else var u=t.row,h=e.row;s<0&&(s=0),u<0&&(u=0),u==h&&(n=!0);for(var d=u;d<=h;d++){var p=l.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,a));if(p.isEmpty()){if(f&&i(p.end,f))break;var f=p.end}p.cursor=o?p.start:p.end,r.push(p)}if(c&&r.reverse(),!n){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;r[m].isEmpty();)m++;for(var v=g;v>=m;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(c.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(p.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(p.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,l=a.rangeList,u=(i?a:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=a._eventRegistry;a._eventRegistry={};var d=new c(s);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(o)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;d.fromOrientedRange(u[p]),d.index=p,this.selection=s.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===f||(r=f),d.toOrientedRange(u[p])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row==t.row&&this.session.$clipPositionToDocument(r.row,r.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var s=i.length;s--;)o.addRange(i[s],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,i=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(i.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(i.row+e,i.column);if(n.isEmpty())var s=o;else var a=this.session.documentToScreenPosition(r?n.end:n.start),s=this.session.screenToDocumentPosition(a.row+e,a.column);if(r){var c=l.fromPoints(o,s);c.cursor=c.start}else{var c=l.fromPoints(s,o);c.cursor=c.end}if(c.desiredColumn=i.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){var o=r[i];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],i=r.length;i--;){var o=r[i];a.unshift(t.getTextRange(o))}e<0?a.unshift(a.pop()):a.push(a.shift());for(var i=r.length;i--;){var o=r[i],s=o.clone();t.replace(o,a[i]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(e,t,n){var i=this.session,o=i.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=i.getWordRange(s.start.row,s.start.column),s.cursor=e==-1?s.start:s.end,this.multiSelect.addRange(s),!n)){var a=i.getTextRange(s),l=r(i,a,e);l&&(l.cursor=e==-1?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,i=n.filter(function(e){return e.cursor.row==r||void(r=e.cursor.row)});if(n.length&&i.length!=n.length-1){i.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=1/0,a=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return i==-1&&(i=0),n.column>o&&(o=n.column),i<s&&(s=i),i});n.forEach(function(t,n){var r=t.cursor,i=o-r.column,c=a[n]-s;i>c?e.insert(r,d.stringRepeat(" ",i-c)):e.remove(new l(r.row,r.column,r.row,r.column-i+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,h=c.end.row,p=u==h;if(p){var f,g=this.session.getLength();do f=this.session.getLine(h);while(/[=:]/.test(f)&&++h<g);do f=this.session.getLine(u);while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),h>=g&&(h=g-1)}var m=this.session.removeFullLines(u,h);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return d.stringRepeat(" ",e)}function r(e){return e[2]?n(s)+e[2]+n(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?n(s+a-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?n(s)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,a=t[2].length,l=t[3].length,t):(s+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),s!=t[1].length&&(c=!1),s>t[1].length&&(s=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?r:c?u?i:r:o)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=o,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){o(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),s=o.search(i);if(s!=-1){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(i);if(h!=-1){if(h<=s)break;u=t}}if(u>c){var d=e.getLine(u).length;return new r(c,a,u,d)}}},this.openingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),r.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,i,o){var s={row:n,column:i},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,r.fromPoints(a,s)}}).call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {\tbackground: #f0f0f0;\tcolor: #333;\t}\t.ace-tm .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8;\t}\t.ace-tm .ace_fold {\tbackground-color: #6B72E6;\t}\t.ace-tm {\tbackground-color: #FFFFFF;\tcolor: black;\t}\t.ace-tm .ace_cursor {\tcolor: black;\t}\t.ace-tm .ace_invisible {\tcolor: rgb(191, 191, 191);\t}\t.ace-tm .ace_storage,\t.ace-tm .ace_keyword {\tcolor: blue;\t}\t.ace-tm .ace_constant {\tcolor: rgb(197, 6, 11);\t}\t.ace-tm .ace_constant.ace_buildin {\tcolor: rgb(88, 72, 246);\t}\t.ace-tm .ace_constant.ace_language {\tcolor: rgb(88, 92, 246);\t}\t.ace-tm .ace_constant.ace_library {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_invalid {\tbackground-color: rgba(255, 0, 0, 0.1);\tcolor: red;\t}\t.ace-tm .ace_support.ace_function {\tcolor: rgb(60, 76, 114);\t}\t.ace-tm .ace_support.ace_constant {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_support.ace_type,\t.ace-tm .ace_support.ace_class {\tcolor: rgb(109, 121, 222);\t}\t.ace-tm .ace_keyword.ace_operator {\tcolor: rgb(104, 118, 135);\t}\t.ace-tm .ace_string {\tcolor: rgb(3, 106, 7);\t}\t.ace-tm .ace_comment {\tcolor: rgb(76, 136, 107);\t}\t.ace-tm .ace_comment.ace_doc {\tcolor: rgb(0, 102, 255);\t}\t.ace-tm .ace_comment.ace_doc.ace_tag {\tcolor: rgb(128, 159, 191);\t}\t.ace-tm .ace_constant.ace_numeric {\tcolor: rgb(0, 0, 205);\t}\t.ace-tm .ace_variable {\tcolor: rgb(49, 132, 149);\t}\t.ace-tm .ace_xml-pe {\tcolor: rgb(104, 104, 91);\t}\t.ace-tm .ace_entity.ace_name.ace_function {\tcolor: #0000A2;\t}\t.ace-tm .ace_heading {\tcolor: rgb(12, 7, 255);\t}\t.ace-tm .ace_list {\tcolor:rgb(185, 6, 144);\t}\t.ace-tm .ace_meta.ace_tag {\tcolor:rgb(0, 22, 142);\t}\t.ace-tm .ace_string.ace_regex {\tcolor: rgb(255, 0, 0)\t}\t.ace-tm .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255);\t}\t.ace-tm.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px white;\t}\t.ace-tm .ace_marker-layer .ace_step {\tbackground: rgb(252, 255, 0);\t}\t.ace-tm .ace_marker-layer .ace_stack {\tbackground: rgb(164, 229, 101);\t}\t.ace-tm .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgb(192, 192, 192);\t}\t.ace-tm .ace_marker-layer .ace_active-line {\tbackground: rgba(0, 0, 0, 0.07);\t}\t.ace-tm .ace_gutter-active-line {\tbackground-color : #dcdcdc;\t}\t.ace-tm .ace_marker-layer .ace_selected-word {\tbackground: rgb(250, 250, 255);\tborder: 1px solid rgb(200, 200, 250);\t}\t.ace-tm .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\t}\t';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var i=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,s="add"==e.action,a=i+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[i]?n[o].hidden=s:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var o=new Array(r);o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var o=this.session.lineWidgets;e.row!=r.end.row||o[r.start.row]?e.hidden=!0:o[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),a<0&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=i;s<=o;s++){var a=r[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,s=n(t,e[o]);if(s>0)r=o+1;else{if(!(s<0))return o;i=o-1}}return-(r+1);
}function i(e,t,n){var i=e.getAnnotations().sort(a.comparePoints);if(i.length){var o=r(i,{row:t,column:-1},a.comparePoints);o<0&&(o=-o-1),o>=i.length?o=n>0?0:i.length-1:0===o&&n<0&&(o=i.length-1);var s=i[o];if(s&&n){if(s.row===t){do s=i[o+=n];while(s&&s.row===t);if(!s)return i.slice()}var l=[];t=s.row;do l[n<0?"unshift":"push"](s),s=i[o+=n];while(s&&s.row==t);return l.length&&l}}}var o=e("../line_widgets").LineWidgets,s=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new o(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():a-=t;var c,u=i(n,a,t);if(u){var h=u[0];r.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,r.row=h.row,c=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},p=d.el.appendChild(s.createElement("div")),f=d.el.appendChild(s.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(r).left;f.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(s.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("\t    .error_widget_wrapper {\t        background: inherit;\t        color: inherit;\t        border:none\t    }\t    .error_widget {\t        border-top: solid 2px;\t        border-bottom: solid 2px;\t        margin: 5px 0;\t        padding: 10px 40px;\t        white-space: pre-wrap;\t    }\t    .error_widget.ace_error, .error_widget_arrow.ace_error{\t        border-color: #ff5a5a\t    }\t    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\t        border-color: #F1D817\t    }\t    .error_widget.ace_info, .error_widget_arrow.ace_info{\t        border-color: #5a5a5a\t    }\t    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\t        border-color: #5aaa5a\t    }\t    .error_widget_arrow {\t        position: absolute;\t        border: solid 5px;\t        border-top-color: transparent!important;\t        border-right-color: transparent!important;\t        border-left-color: transparent!important;\t        top: -5px;\t    }\t","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/dom"),o=e("./lib/event"),s=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.define=n(975),t.edit=function(e){if("string"==typeof e){var n=e;if(e=document.getElementById(n),!e)throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var r="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;r=a.value,e=i.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(r=i.getInnerText(e),e.innerHTML="");var l=t.createEditSession(r),u=new s(new c(e));u.setSession(l);var h={document:l,editor:u,onResize:u.resize.bind(u,null)};return a&&(h.textarea=a),o.addListener(window,"resize",h.onResize),u.on("destroy",function(){o.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),u.container.env=u.env=h,u},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.EditSession=a,t.UndoManager=l,t.version="1.2.6"}),function(){ace.acequire(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),e.exports=window.ace.acequire("ace/ace")},function(e,t,n){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}};r.inherits(o,i),t.JsonHighlightRules=o}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\s*\})/);if(!i)return 0;var o=i[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new r(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);var o=i.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,s);var a=e.getCommentFoldRange(n,s+o[0].length,1);return a&&!a.isMultiLine()&&(r?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=i.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,s):e.getCommentFoldRange(n,s,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),o=t,s=n.length;t+=1;for(var a=t,l=e.getLength();++t<l;){n=e.getLine(t);var c=n.search(/\S/);if(c!==-1){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}a=t}}return new i(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}var u=n;if(u>s)return new i(s,r,u,t.length)}}.call(s.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("./text").Mode,s=e("./json_highlight_rules").JsonHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=e("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c};i.inherits(h,o),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);if("start"==e){var i=t.match(/^.*[\{\(\[]\s*$/);i&&(r+=n)}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new u(["ace"],n(980),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/json"}.call(h.prototype),t.Mode=h})},function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t,n){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};r.inherits(o,i),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";function r(){var e=l.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var r="/"==e.charAt(1)?2:1;return 1==r?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==r&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==r?"":"end-")+"tag-open.xml",value:e.slice(0,r)},{type:"meta.tag.tag-name.xml",value:e.substr(r)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,i("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function i(e){return[{token:"comment",regex:/\/\*/,next:[s.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[s.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var o=e("../lib/oop"),s=e("./doc_comment_highlight_rules").DocCommentHighlightRules,a=e("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",c=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[s.getStartRule("doc-start"),i("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/[+-]?\d[\d_]*(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+l+")(\\.)(prototype)(\\.)("+l+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+n+")\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[s.getStartRule("doc-start"),i("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:o},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||r.call(this)),this.embedRules(s,"doc-",[s.getEndRule("no_regex")]),this.normalizeRules()};o.inherits(c,a),t.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\s*\})/);if(!i)return 0;var o=i[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new r(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);var o=i.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,s);var a=e.getCommentFoldRange(n,s+o[0].length,1);return a&&!a.isMultiLine()&&(r?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=i.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,s):e.getCommentFoldRange(n,s,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),o=t,s=n.length;t+=1;for(var a=t,l=e.getLength();++t<l;){n=e.getLine(t);var c=n.search(/\S/);if(c!==-1){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}a=t}}return new i(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}var u=n;if(u>s)return new i(s,r,u,t.length)}}.call(s.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("./text").Mode,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};i.inherits(h,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),o=i.tokens,s=i.state;if(o.length&&"comment"==o[o.length-1].type)return r;if("start"==e||"no_regex"==e){var a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);a&&(r+=n)}else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a=t.match(/^\s*(\/?)\*/);a&&(a[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new l(["ace"],n(982),"JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(h.prototype),t.Mode=h}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|min-height|min-width|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};r.inherits(p,i),t.CssHighlightRules=p}),ace.define("ace/mode/css_completions",["require","exports","module"],function(e,t,n){"use strict";var r={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},i=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});r.hasOwnProperty(n)||(r[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,r){this.completionsDefined||this.defineCompletions();var i=t.getTokenAt(n.row,n.column);if(!i)return[];if("ruleset"===e){var o=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(o)?(/([\w\-]+):[^:]*$/.test(o),this.getPropertyValueCompletions(e,t,n,r)):this.getPropertyCompletions(e,t,n,r)}return[]},this.getPropertyCompletions=function(e,t,n,i){var o=Object.keys(r);return o.map(function(e){return{caption:e,snippet:e+": $0",meta:"property",score:Number.MAX_VALUE}})},this.getPropertyValueCompletions=function(e,t,n,i){var o=t.getLine(n.row).substr(0,n.column),s=(/([\w\-]+):[^:]*$/.exec(o)||{})[1];if(!s)return[];var a=[];return s in r&&"object"==typeof r[s]&&(a=Object.keys(r[s])),a.map(function(e){return{caption:e,snippet:e,meta:"property value",score:Number.MAX_VALUE}})}}).call(i.prototype),t.CssCompletions=i}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(i),this.add("colon","insertion",function(e,t,n,r,i){if(":"===i){var s=n.getCursorPosition(),a=new o(r,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=r.doc.getLine(s.row),u=c.substring(s.column,s.column+1);if(":"===u)return{text:"",selection:[1,1]};if(!c.substring(s.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new o(r,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){var u=r.doc.getLine(i.start.row),h=u.substring(i.end.column,i.end.column+1);if(";"===h)return i.end.column++,i}}}),this.add("semicolon","insertion",function(e,t,n,r,i){if(";"===i){var o=n.getCursorPosition(),s=r.doc.getLine(o.row),a=s.substring(o.column,o.column+1);if(";"===a)return{text:"",selection:[1,1]}}})};r.inherits(s,i),t.CssBehaviour=s}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("./text").Mode,s=e("./css_highlight_rules").CssHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./css_completions").CssCompletions,u=e("./behaviour/css").CssBehaviour,h=e("./folding/cstyle").FoldMode,d=function(){
this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new u,this.$completer=new c,this.foldingRules=new h};i.inherits(d,o),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e).tokens;if(i.length&&"comment"==i[i.length-1].type)return r;var o=t.match(/^.*\{\s*$/);return o&&(r+=n),r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){var t=new l(["ace"],n(983),"Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(d.prototype),t.Mode=d}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(i.prototype),r.inherits(o,i),t.XmlHighlightRules=o}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=i.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(new s({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};r.inherits(c,a),t.HtmlHighlightRules=c}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";function r(e,t){return e.type.lastIndexOf(t+".xml")>-1}var i=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(e,t,n,i,o){if('"'==o||"'"==o){var a=o,l=i.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),u=i.doc.getLine(c.row),h=u.substring(c.column,c.column+1),d=new s(i,c.row,c.column),p=d.getCurrentToken();if(h==a&&(r(p,"attribute-value")||r(p,"string")))return{text:"",selection:[1,1]};if(p||(p=d.stepBackward()),!p)return;for(;r(p,"tag-whitespace")||r(p,"whitespace");)p=d.stepBackward();var f=!h||h.match(/\s/);if(r(p,"attribute-equals")&&(f||">"==h)||r(p,"decl-attribute-equals")&&(f||"?"==h))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)){var s=r.doc.getLine(i.start.row),a=s.substring(i.start.column+1,i.start.column+2);if(a==o)return i.end.column++,i}}),this.add("autoclosing","insertion",function(e,t,n,i,o){if(">"==o){var a=n.getSelectionRange().start,l=new s(i,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(r(c,"tag-name")||r(c,"tag-whitespace")||r(c,"attribute-name")||r(c,"attribute-equals")||r(c,"attribute-value")))return;if(r(c,"reference.attribute-value"))return;if(r(c,"attribute-value")){var u=c.value.charAt(0);if('"'==u||"'"==u){var h=c.value.charAt(c.value.length-1),d=l.getCurrentTokenColumn()+c.value.length;if(d>a.column||d==a.column&&u!=h)return}}for(;!r(c,"tag-name");)if(c=l.stepBackward(),"<"==c.value){c=l.stepForward();break}var p=l.getCurrentTokenRow(),f=l.getCurrentTokenColumn();if(r(l.stepBackward(),"end-tag-open"))return;var g=c.value;if(p==a.row&&(g=g.substring(0,a.column-f)),this.voidElements.hasOwnProperty(g.toLowerCase()))return;return{text:"></"+g+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,n,r,i){if("\n"==i){var o=n.getCursorPosition(),a=r.getLine(o.row),l=new s(r,o.row,o.column),c=l.getCurrentToken();if(c&&c.type.indexOf("tag-close")!==-1){if("/>"==c.value)return;for(;c&&c.type.indexOf("tag-name")===-1;)c=l.stepBackward();if(!c)return;var u=c.value,h=l.getCurrentTokenRow();if(c=l.stepBackward(),!c||c.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[u]){var d=r.getTokenAt(o.row,o.column+1),a=r.getLine(h),p=this.$getIndent(a),f=p+r.getTabString();return d&&"</"===d.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}})});i.inherits(a,o),t.XmlBehaviour=a}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};r.inherits(o,i),function(){this.$getMode=function(e){"string"!=typeof e&&(e=e[0]);for(var t in this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,r){var i=this.$getMode(e);return i?i.getFoldWidget(t,n,r):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var r=this.$getMode(e.getState(n-1));return r&&r.getFoldWidget(e,t,n)||(r=this.$getMode(e.getState(n))),r&&r.getFoldWidget(e,t,n)||(r=this.defaultMode),r.getFoldWidgetRange(e,t,n)}}.call(o.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,n){"use strict";function r(e,t){return e.type.lastIndexOf(t+".xml")>-1}var i=e("../../lib/oop"),o=(e("../../lib/lang"),e("../../range").Range),s=e("./fold_mode").FoldMode,a=e("../../token_iterator").TokenIterator,l=t.FoldMode=function(e,t){s.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())?"":this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),i=new c,o=0;o<n.length;o++){var s=n[o];if(r(s,"tag-open")){if(i.end.column=i.start.column+s.value.length,i.closing=r(s,"end-tag-open"),s=n[++o],!s)return null;for(i.tagName=s.value,i.end.column+=s.value.length,o++;o<n.length;o++)if(s=n[o],i.end.column+=s.value.length,r(s,"tag-close")){i.selfClosing="/>"==s.value;break}return i}if(r(s,"tag-close"))return i.selfClosing="/>"==s.value,i;i.start.column+=s.value.length}return null},this._findEndTagInLine=function(e,t,n,i){for(var o=e.getTokens(t),s=0,a=0;a<o.length;a++){var l=o[a];if(s+=l.value.length,!(s<i)&&r(l,"end-tag-open")&&(l=o[a+1],l&&l.value==n))return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do if(r(t,"tag-open"))n.closing=r(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(r(t,"tag-name"))n.tagName=t.value;else if(r(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n;while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(r(t,"tag-open"))return n.closing=r(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;r(t,"tag-name")?n.tagName=t.value:r(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return null;var i,s=r.closing||r.selfClosing,l=[];if(s)for(var c=new a(e,n,r.end.column),u={row:n,column:r.start.column};i=this._readTagBackward(c);){if(i.selfClosing){if(l.length)continue;return i.start.column+=i.tagName.length+2,i.end.column-=2,o.fromPoints(i.start,i.end)}if(i.closing)l.push(i);else if(this._pop(l,i),0==l.length)return i.start.column+=i.tagName.length+2,i.start.row==i.end.row&&i.start.column<i.end.column&&(i.start.column=i.end.column),o.fromPoints(i.start,u)}else{var c=new a(e,n,r.start.column),h={row:n,column:r.start.column+r.tagName.length+2};for(r.start.row==r.end.row&&(h.column=r.end.column);i=this._readTagForward(c);){if(i.selfClosing){if(l.length)continue;return i.start.column+=i.tagName.length+2,i.end.column-=2,o.fromPoints(i.start,i.end)}if(i.closing){if(this._pop(l,i),0==l.length)return o.fromPoints(h,i.start)}else l.push(i)}}}}).call(l.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./mixed").FoldMode,o=e("./xml").FoldMode,s=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){i.call(this,new o(e,t),{"js-":new s,"css-":new s})};r.inherits(a,i)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t,n){"use strict";function r(e,t){return e.type.lastIndexOf(t+".xml")>-1}function i(e,t){for(var n=new s(e,t.row,t.column),i=n.getCurrentToken();i&&!r(i,"tag-name");)i=n.stepBackward();if(i)return i.value}function o(e,t){for(var n=new s(e,t.row,t.column),i=n.getCurrentToken();i&&!r(i,"attribute-name");)i=n.stepBackward();if(i)return i.value}var s=e("../token_iterator").TokenIterator,a=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],l=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],c=a.concat(l),u={html:{manifest:1},head:{},title:{},base:{href:1,target:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},noscript:{href:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},section:{},nav:{},article:{pubdate:1},aside:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},header:{},footer:{},address:{},main:{},p:{},hr:{},pre:{},blockquote:{cite:1},ol:{start:1,reversed:1},ul:{},li:{value:1},dl:{},dt:{},dd:{},figure:{},figcaption:{},div:{},a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},em:{},strong:{},small:{},s:{},cite:{},q:{cite:1},dfn:{},abbr:{},data:{},time:{datetime:1},code:{},var:{},samp:{},kbd:{},sub:{},sup:{},i:{},b:{},u:{},mark:{},ruby:{},rt:{},rp:{},bdi:{},bdo:{},span:{},br:{},wbr:{},ins:{cite:1,datetime:1},del:{cite:1,datetime:1},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},embed:{src:1,height:1,width:1,type:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},param:{name:1,value:1},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},source:{src:1,type:1,media:1},track:{kind:1,src:1,srclang:1,label:1,default:1},canvas:{width:1,height:1},map:{name:1},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},svg:{},math:{},table:{summary:1},caption:{},colgroup:{span:1},col:{span:1},tbody:{},thead:{},tfoot:{},tr:{},td:{headers:1,rowspan:1,colspan:1},th:{headers:1,rowspan:1,colspan:1,scope:1},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},fieldset:{disabled:1,form:1,name:1},legend:{},label:{form:1,for:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},size:1,src:1,step:1,width:1,files:1,value:1},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},datalist:{},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},output:{for:1,form:1,name:1},progress:{value:1,max:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},details:{open:1},summary:{},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},menu:{type:1,label:1},dialog:{open:1}},h=Object.keys(u),d=function(){};(function(){this.getCompletions=function(e,t,n,i){var o=t.getTokenAt(n.row,n.column);if(!o)return[];if(r(o,"tag-name")||r(o,"tag-open")||r(o,"end-tag-open"))return this.getTagCompletions(e,t,n,i);if(r(o,"tag-whitespace")||r(o,"attribute-name"))return this.getAttributeCompletions(e,t,n,i);if(r(o,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,i);var s=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(s)?this.getHTMLEntityCompletions(e,t,n,i):[]},this.getTagCompletions=function(e,t,n,r){return h.map(function(e){return{value:e,meta:"tag",score:Number.MAX_VALUE}})},this.getAttributeCompletions=function(e,t,n,r){var o=i(t,n);if(!o)return[];var s=c;return o in u&&(s=s.concat(Object.keys(u[o]))),s.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:Number.MAX_VALUE}})},this.getAttributeValueCompletions=function(e,t,n,r){var s=i(t,n),a=o(t,n);if(!s)return[];var l=[];return s in u&&a in u[s]&&"object"==typeof u[s][a]&&(l=Object.keys(u[s][a])),l.map(function(e){return{caption:e,snippet:e,meta:"attribute value",score:Number.MAX_VALUE}})},this.getHTMLEntityCompletions=function(e,t,n,r){var i=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return i.map(function(e){return{caption:e,snippet:e,meta:"html entity",score:Number.MAX_VALUE}})}}).call(d.prototype),t.HtmlCompletions=d}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("../lib/lang"),s=e("./text").Mode,a=e("./javascript").Mode,l=e("./css").Mode,c=e("./html_highlight_rules").HtmlHighlightRules,u=e("./behaviour/xml").XmlBehaviour,h=e("./folding/html").FoldMode,d=e("./html_completions").HtmlCompletions,p=e("../worker/worker_client").WorkerClient,f=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],m=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=c,this.$behaviour=new u,this.$completer=new d,this.createModeDelegates({"js-":a,"css-":l}),this.foldingRules=new h(this.voidElements,o.arrayToMap(g))};i.inherits(m,s),function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=o.arrayToMap(f),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){if(this.constructor==m){var t=new p(["ace"],n(984),"Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}.call(m.prototype),t.Mode=m})},function(e,t){e.exports.id="ace/mode/javascript_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/javascript/jshint",["require","exports","module"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error("Cannot find module \'"+name+"\'");throw err.code="MODULE_NOT_FOUND",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire="function"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({"/node_modules/browserify/node_modules/events/events.js":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError(\'Uncaught, unspecified "error" event.\')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],"/node_modules/jshint/data/ascii-identifier-data.js":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],"/node_modules/jshint/lodash.js":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return"function"!=valType&&"object"!=valType&&"function"!=othType&&"object"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq="string"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return"number"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return"function"==type||!!value&&"object"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\\\$&"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION="3.7.0",FUNC_ERROR_TEXT="Expected a function",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|(["\'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={"function":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),"xo")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames="string"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/node_modules/jshint/src/jshint.js":[function(_dereq_,module,exports){var _=_dereq_("../lodash"),events=_dereq_("events"),vars=_dereq_("./vars.js"),messages=_dereq_("./messages.js"),Lexer=_dereq_("./lex.js").Lexer,reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,style=_dereq_("./style.js"),options=_dereq_("./options.js"),scopeManager=_dereq_("./scope-manager.js"),JSHINT=function(){"use strict";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||"jslint"===t.type||_.has(options.removed,name)?!0:(error("E001",t,name),!1)}function isString(obj){return"[object String]"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return"string"==typeof r||"number"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict="global"),state.inES6()||warning("W134",state.tokens.next,"module",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict="global")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict="global")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict="global")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict="global"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:"JSHintError",line:line,character:chr,message:message+" ("+percentage+"% scanned).",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},"(end)"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:"(error)",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||"",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit("E043",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:"(internal)",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if("globals"===nt.type){body.forEach(function(g,idx){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if("-"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}"-"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]="true"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}"exported"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}state.funct["(scope)"].addExported(e)}),"members"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||\'"\'!==ch1&&"\'"!==ch1||(m=m.substr(1,m.length-2).replace(\'\\\\"\',\'"\')),membersOnly[m]=!1}));var numvals=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];("jshint"===nt.type||"jslint"===nt.type)&&(body.forEach(function(g){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if("false"!==val){if(val=+val,"number"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error("E032",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]="indent"===key?4:!1;else{if("validthis"===key)return state.funct["(global)"]?void error("E009"):"true"!==val&&"false"!==val?void error("E002",nt):(state.option.validthis="true"===val,void 0);if("quotmark"!==key)if("shadow"!==key)if("unused"!==key)if("latedef"!==key)if("ignore"!==key)if("strict"!==key){"module"===key&&(hasParsedCode(state.funct)||error("E055",state.tokens.next,"module"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if("esversion"===key){switch(val){case"5":state.inES5(!0)&&warning("I003");case"3":case"6":state.option.moz=!1,state.option.esversion=+val;break;case"2015":state.option.moz=!1,state.option.esversion=6;break;default:error("E002",nt)}return hasParsedCode(state.funct)||error("E055",state.tokens.next,"esversion"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]="-"===match[1],void 0;var tn;return"true"===val||"false"===val?("jslint"===nt.type?(tn=options.renamed[key]||key,state.option[tn]="true"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]="true"===val,"newcap"===key&&(state.option["(explicitNewcap)"]=!0),void 0):(error("E002",nt),void 0)}switch(val){case"true":state.option.moz=!1,state.option.esversion=esversions[key];break;case"false":state.option.moz||(state.option.esversion=5);break;default:error("E002",nt)}}else switch(val){case"true":state.option.strict=!0;break;case"false":state.option.strict=!1;break;case"func":case"global":case"implied":state.option.strict=val;break;default:error("E002",nt)}else switch(val){case"line":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error("E002",nt)}else switch(val){case"true":state.option.latedef=!0;break;case"false":state.option.latedef=!1;break;case"nofunc":state.option.latedef="nofunc";break;default:error("E002",nt)}else switch(val){case"true":state.option.unused=!0;break;case"false":state.option.unused=!1;break;case"vars":case"strict":state.option.unused=val;break;default:error("E002",nt)}else switch(val){case"true":state.option.shadow=!0;break;case"outer":state.option.shadow="outer";break;case"false":case"inner":state.option.shadow="inner";break;default:error("E002",nt)}else switch(val){case"true":case"false":state.option.quotmark="true"===val;break;case"double":case"single":state.option.quotmark=val;break;default:error("E002",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||"(end)"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while("(endline)"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case"(number)":"."===state.tokens.next.id&&warning("W005",state.tokens.curr);break;case"-":("-"===state.tokens.next.id||"--"===state.tokens.next.id)&&warning("W006");break;case"+":("+"===state.tokens.next.id||"++"===state.tokens.next.id)&&warning("W007")}for(id&&state.tokens.next.id!==id&&(t?"(end)"===state.tokens.next.id?error("E019",t,t.id):error("E020",state.tokens.next,id,t.id,t.line,state.tokens.next.value):("(identifier)"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning("W116",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit("E041",state.tokens.curr.line),"(end)"===state.tokens.next.id||"(error)"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)"falls through"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if("(endline)"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return";"===next.id||"}"===next.id||":"===next.id?!0:isInfix(next)===isInfix(curr)||"yield"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&"unary"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||"let"!==state.tokens.next.value||"("!==peek(0).value||(state.inMoz()||warning("W118",state.tokens.next,"let expressions"),isLetExpr=!0,state.funct["(scope)"].stack(),advance("let"),advance("("),state.tokens.prev.fud(),advance(")")),"(end)"===state.tokens.next.id&&error("E006",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains(["]",")"],state.tokens.prev.id)&&_.contains(["[","("],state.tokens.curr.id);if(isDangerous&&warning("W014",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct["(verb)"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error("E030",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||"(template)"===state.tokens.next.type)&&!isEndOfExpr();)isArray="Array"===state.tokens.curr.value,isObject="Object"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&("new"!==left.value||left.first&&left.first.value&&"."===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W009",state.tokens.curr),isObject&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W010",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error("E033",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct["(scope)"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning("W014",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning("E022",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning("I001"),comma.first=!1),warning("W014",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(",")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case"break":case"case":case"catch":case"continue":case"default":case"do":case"else":case"finally":case"for":case"if":case"in":case"instanceof":case"return":case"switch":case"throw":case"try":case"var":case"let":case"while":case"with":return error("E024",state.tokens.next,state.tokens.next.value),!1}if("(punctuator)"===state.tokens.next.type)switch(state.tokens.next.value){case"}":case"]":case",":if(opts.allowTrailing)return!0;case")":return error("E024",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&"object"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>="a"&&"z">=c||c>="A"&&"Z">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud="function"==typeof f?f:function(){return this.arity="unary",this.right=expression(150),("++"===this.id||"--"===this.id)&&(state.option.plusplus?warning("W016",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||"."===this.right.id||"["===this.right.id||warning("W017",this),this.right&&this.right.isMetaProperty?error("E031",this):this.right&&this.right.identifier&&state.funct["(scope)"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return"function"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),"in"!==s&&"instanceof"!==s||"!"!==left.id||warning("W018",left,"!"),"function"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:"arrow",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,"NaN")||isIdentifier(right,"NaN")?warning("W019",this):f&&f.apply(this,[left,right]),left&&right||quit("E041",state.tokens.curr.line),"!"===left.id&&warning("W018",left,"!"),"!"===right.id&&warning("W018",right,"!"),this},x}function isPoorRelation(node){return node&&("(number)"===node.type&&0===+node.value||"(string)"===node.type&&""===node.value||"null"===node.type&&!state.option.eqnull||"true"===node.type||"false"===node.type||"undefined"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,"(identifier)"===right.type&&"typeof"===right.value&&"(string)"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return"this"===left.type&&null===state.funct["(context)"]?isGlobal=!0:"(identifier)"===left.type&&(state.option.node&&"global"===left.value?isGlobal=!0:!state.option.browser||"window"!==left.value&&"document"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return"object"==typeof obj?"prototype"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&"object"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=["Array","ArrayBuffer","Boolean","Collator","DataView","Date","DateTimeFormat","Error","EvalError","Float32Array","Float64Array","Function","Infinity","Intl","Int16Array","Int32Array","Int8Array","Iterator","Number","NumberFormat","Object","RangeError","ReferenceError","RegExp","StopIteration","String","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning("W121",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct["(scope)"].block.reassign(left.value,left),"."===left.id?((!left.left||"arguments"===left.left.value&&!state.isStrict())&&warning("E031",assignToken),state.nameStack.set(state.tokens.prev),!0):"{"===left.id||"["===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct["(scope)"].block.modify(t.id,t.token)}):"{"!==left.id&&left.left?"arguments"!==left.left.value||state.isStrict()||warning("E031",assignToken):warning("E031",assignToken),"["===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error("E031",assignToken),!0):left.identifier&&!isReserved(left)?("exception"===state.funct["(scope)"].labeltype(left.value)&&warning("W022",left),state.nameStack.set(left),!0):(left===state.syntax["function"]&&warning("W023",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,"function"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error("E031",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led="function"==typeof f?f:function(left){return state.option.bitwise&&warning("W016",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning("W016",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error("E031",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning("W016",this,this.id):left.identifier&&!isReserved(left)||"."===left.id||"["===left.id||warning("W017",this),left.isMetaProperty?error("E031",this):left&&left.identifier&&state.funct["(scope)"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&"undefined"===val?val:(warning("W024",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if("..."===state.tokens.next.value){if(state.inES6(!0)||warning("W119",state.tokens.next,"spread/rest operator","6"),advance(),checkPunctuator(state.tokens.next,"..."))for(warning("E024",state.tokens.next,"...");checkPunctuator(state.tokens.next,"...");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning("E024",state.tokens.curr,"..."),void 0)}error("E030",state.tokens.next,state.tokens.next.value),";"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(";"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while("(end)"!==t.id&&"(comment)"===t.id);if(t.reach)return;if("(endline)"!==t.id){if("function"===t.id){state.option.latedef===!0&&warning("W026",t);break}warning("W027",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(";"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&"(end)"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,"}");sameLine&&!blockEnd?errorAt("E058",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt("W033",state.tokens.curr.line,state.tokens.curr.character)}else advance(";")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(";"===t.id)return advance(";"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&":"===peek().id&&(warning("W024",t,t.id),res=!1),t.identifier&&!res&&":"===peek().id&&(advance(),advance(":"),hasOwnScope=!0,state.funct["(scope)"].stack(),state.funct["(scope)"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||"{"===state.tokens.next.value||warning("W028",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),"{"===t.id){var iscase="case"===state.funct["(verb)"]&&":"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&"function"===r.value||"(punctuator)"===r.type&&r.left&&r.left.identifier&&"function"===r.left.value||state.isStrict()||"global"!==state.option.strict||warning("E007"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&"("===r.id&&"new"===r.left.id&&warning("W031",t):warning("W030",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct["(scope)"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&"(end)"!==state.tokens.next.id;)";"===state.tokens.next.id?(p=peek(),(!p||"("!==p.id&&"["!==p.id)&&warning("W032"),advance(";")):a.push(statement());return a}function directives(){for(var i,p,pn;"(string)"===state.tokens.next.id;){if(p=peek(0),"(endline)"===p.id){i=1;do pn=peek(i++);while("(endline)"===pn.id);if(";"===pn.id)p=pn;else{if("["===pn.value||"."===pn.value)break;state.option.asi&&"("!==pn.value||warning("W033",state.tokens.next)}}else{if("."===p.id||"["===p.id)break;";"!==p.id&&warning("W033",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||"use strict"===directive&&"implied"===state.option.strict)&&warning("W034",state.tokens.curr,directive),state.directive[directive]=!0,";"===p.id&&advance(";")}state.isStrict()&&(state.option["(explicitNewcap)"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct["(metrics)"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),"{"===state.tokens.next.id){if(advance("{"),state.funct["(scope)"].stack(),line=state.tokens.curr.line,"}"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance("}",t),isfunc&&(state.funct["(scope)"].validateParams(),m&&(state.directive=m)),state.funct["(scope)"].unstack(),indent=old_indent}else if(ordinary)state.funct["(noblockscopedvar)"]="for"!==state.tokens.next.id,state.funct["(scope)"].stack(),(!stmt||state.option.curly)&&warning("W116",state.tokens.next,"{",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct["(scope)"].unstack(),delete state.funct["(noblockscopedvar)"];else if(isfunc){if(state.funct["(scope)"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error("W118",state.tokens.curr,"function closure expressions"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007")),state.funct["(scope)"].unstack()}else error("E021",state.tokens.next,"{",state.tokens.next.value);switch(state.funct["(verb)"]){case"break":case"continue":case"return":case"throw":if(iscase)break;default:state.funct["(verb)"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning("W035",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&"boolean"!=typeof membersOnly[m]&&warning("W036",state.tokens.curr,m),"number"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct["(comparray)"].stack();var reversed=!1;return"for"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning("W116",state.tokens.next,"for",state.tokens.next.value),state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("for"),"each"===state.tokens.next.value&&(advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),advance("("),state.funct["(comparray)"].setState("define"),res.left=expression(130),_.contains(["in","of"],state.tokens.next.value)?advance():error("E045",state.tokens.curr),state.funct["(comparray)"].setState("generate"),expression(10),advance(")"),"if"===state.tokens.next.value&&(advance("if"),advance("("),state.funct["(comparray)"].setState("filter"),res.filter=expression(10),advance(")")),reversed||(state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("]"),state.funct["(comparray)"].unstack(),res}function isMethod(){return state.funct["(statement)"]&&"class"===state.funct["(statement)"].type||state.funct["(context)"]&&"class"===state.funct["(context)"]["(verb)"]}function isPropertyName(token){return token.identifier||"(string)"===token.id||"(number)"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return"object"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?"object"==typeof id&&("(string)"===id.id||"(identifier)"===id.id?id=id.value:"(number)"===id.id&&(id=""+id.value)):"(string)"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):"(number)"===state.tokens.next.id&&(id=""+state.tokens.next.value,preserve||advance()),"hasOwnProperty"===id&&warning("W001"),id}function functionparams(options){function addParam(addParamArgs){state.funct["(scope)"].addParam.apply(state.funct["(scope)"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct["(scope)"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance("("),")"===state.tokens.next.id)return advance(")"),void 0;for(;;){arity++;var currentParams=[];if(_.contains(["{","["],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,"...")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[",",")"]);)advance();if(pastDefault&&"="!==state.tokens.next.id&&error("W138",state.tokens.current),"="===state.tokens.next.id&&(state.inES6()||warning("W119",state.tokens.next,"default parameters","6"),advance("="),pastDefault=!0,expression(10)),currentParams.forEach(addParam),","!==state.tokens.next.id)return advance(")",next),{arity:arity,params:paramsIds};pastRest&&warning("W131",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={"(name)":name,"(breakage)":0,"(loopage)":0,"(tokens)":{},"(properties)":{},"(catch)":!1,"(global)":!1,"(line)":null,"(character)":null,"(metrics)":null,"(statement)":null,"(context)":null,"(scope)":null,"(comparray)":null,"(generator)":null,"(arrow)":null,"(params)":null};return token&&_.extend(funct,{"(line)":token.line,"(character)":token.character,"(metrics)":createMetrics(token)}),_.extend(funct,overwrites),funct["(context)"]&&(funct["(scope)"]=funct["(context)"]["(scope)"],funct["(comparray)"]=funct["(context)"]["(comparray)"]),funct}function isFunctor(token){return"(scope)"in token}function hasParsedCode(funct){return funct["(global)"]&&!funct["(verb)"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:"(template)",type:"(template)",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator="generator"===options.type,isArrow="arrow"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{"(statement)":statement,"(context)":state.funct,"(arrow)":isArrow,"(generator)":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct["(scope)"].stack("functionouter");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct["(scope)"].block.add(internallyAccessibleName,classExprBinding?"class":"function",state.tokens.curr,!1),state.funct["(scope)"].stack("functionparams");var paramsInfo=functionparams(options);return paramsInfo?(state.funct["(params)"]=paramsInfo.params,state.funct["(metrics)"].arity=paramsInfo.arity,state.funct["(metrics)"].verifyMaxParametersPerFunction()):state.funct["(metrics)"].arity=0,isArrow&&(state.inES6(!0)||warning("W119",state.tokens.curr,"arrow function syntax (=>)","6"),options.loneArg||advance("=>")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&"yielded"!==state.funct["(generator)"]&&warning("W124",state.tokens.curr),state.funct["(metrics)"].verifyMaxStatementsPerFunction(),state.funct["(metrics)"].verifyMaxComplexityPerFunction(),state.funct["(unusedOption)"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct["(last)"]=state.tokens.curr.line,state.funct["(lastcharacter)"]=state.tokens.curr.character,state.funct["(scope)"].unstack(),state.funct["(scope)"].unstack(),state.funct=state.funct["(context)"],ignoreLoopFunc||state.option.loopfunc||!state.funct["(loopage)"]||f["(isCapturing)"]&&warning("W083",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning("W071",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning("W072",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning("W073",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning("W074",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct["(metrics)"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,","===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case"=":case"+=":case"-=":case"*=":case"%=":case"&=":case"|=":case"^=":case"/=":paren||state.option.boss||warning("W084")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning("W078",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,".")){var left=state.tokens.curr.id;advance(".");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error("E057",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning("W104",state.tokens.curr,isAssignment?"destructuring assignment":"destructuring binding","6"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,["[","{"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,","))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,"(")){var is_rest=checkPunctuator(state.tokens.next,"...");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning("E030",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance("("),nextInnerDE(),advance(")")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,"[")?(advance("["),expression(10),advance("]"),advance(":"),nextInnerDE()):"(string)"===state.tokens.next.id||"(number)"===state.tokens.next.id?(advance(),advance(":"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,":")?(advance(":"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,"[")){openingParsed||advance("["),checkPunctuator(state.tokens.next,"]")&&warning("W137",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,"]");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,",")&&(warning("W130",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,"=")&&(checkPunctuator(state.tokens.prev,"...")?advance("]"):advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"]")||advance(",");advance("]")}else if(checkPunctuator(firstToken,"{")){for(openingParsed||advance("{"),checkPunctuator(state.tokens.next,"}")&&warning("W137",state.tokens.curr);!checkPunctuator(state.tokens.next,"}")&&(assignmentProperty(),checkPunctuator(state.tokens.next,"=")&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"}")||(advance(","),!checkPunctuator(state.tokens.next,"}"))););advance("}")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning("W080",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet="let"===type,isConst="const"===type;for(state.inES6()||warning("W104",state.tokens.curr,type,"6"),isLet&&"("===state.tokens.next.value?(state.inMoz()||warning("W118",state.tokens.next,"let block"),advance("("),state.funct["(scope)"].stack(),letblock=!0):state.funct["(noblockscopedvar)"]&&error("E048",state.tokens.curr,isConst?"Const":"Let"),statement.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&"="!==state.tokens.next.id&&warning("E012",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct["(scope)"].block.isGlobal()&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&!state.funct["(noblockscopedvar)"]&&(state.funct["(scope)"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct["(scope)"].setExported(t.token.value,t.token)));if("="===state.tokens.next.id&&(advance("="),prefix||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),!prefix&&"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),","!==state.tokens.next.id)break;comma()}return letblock&&(advance(")"),block(!0,!0),statement.block=!0,state.funct["(scope)"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning("W104",state.tokens.curr,"class","6"),isStatement?(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"class",token:state.tokens.curr})):state.tokens.next.identifier&&"extends"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;"extends"===state.tokens.next.value&&(advance("extends"),c.heritage=expression(10)),state.inClassBody=!0,advance("{"),c.body=classbody(c),advance("}"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;"}"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,";"!==name.id){if("*"===name.id&&(isGenerator=!0,advance("*"),name=state.tokens.next),"["===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning("W052",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&"static"===name.value&&(checkPunctuator(state.tokens.next,"*")&&(isGenerator=!0,advance("*")),(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,isStatic=!0,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||"get"!==name.value&&"set"!==name.value||(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,getset=name,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,"(")){for(error("E054",state.tokens.next,state.tokens.next.value);"}"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,"(");)advance();"("!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):("constructor"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&"constructor"===name.value){var propDesc="get"===getset.value?"class getter method":"class setter method";error("E049",name,propDesc,"constructor")}else"prototype"===name.value&&error("E049",name,"class method","prototype");propertyName(name),doFunction({statement:c,type:isGenerator?"generator":null,classExprBinding:c.namedExpr?c.name:null})}else warning("W032"),advance(";");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=["key","class method","static class method"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&"__proto__"!==name?warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName="get"===accessorType?"getterToken":"setterToken",msg="";isClass?(isStatic&&(msg+="static "),msg+=accessorType+"ter method"):msg="key",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&"__proto__"!==name&&warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance("["),state.inES6()||warning("W119",state.tokens.curr,"computed property names","6");var value=expression(10);return advance("]"),value}function checkPunctuators(token,values){return"(punctuator)"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return"(punctuator)"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning("W104",state.tokens.curr,"destructuring assignment","6"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance("{"),"}"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E026",state.tokens.next,t.line);else{if("}"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id?error("E028",state.tokens.next):"(string)"!==state.tokens.next.id&&warning("W095",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning("W075",state.tokens.next,"key",state.tokens.next.value):"__proto__"===state.tokens.next.value&&!state.option.proto||"__iterator__"===state.tokens.next.value&&!state.option.iterator?warning("W096",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(":"),jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("}")}function jsonArray(){var t=state.tokens.next;if(advance("["),"]"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E027",state.tokens.next,t.line);else{if("]"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id&&error("E028",state.tokens.next)}if(jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("]")}switch(state.tokens.next.id){case"{":jsonObject();break;case"[":jsonArray();break;case"true":case"false":case"null":case"(number)":case"(string)":advance();break;case"-":advance("-"),advance("(number)");break;default:error("E003",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},functionicity=["closure","exception","global","label","outer","unused","var"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=["xml","unknown"],typeofValues.es3=["undefined","boolean","number","string","function","object"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat("symbol"),type("(number)",function(){return this}),type("(string)",function(){return this}),state.syntax["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var v=this.value;return"=>"===state.tokens.next.id?this:(state.funct["(comparray)"].check(v)||state.funct["(scope)"].block.use(v,state.tokens.curr),this)},led:function(){error("E033",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax["(template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax["(template middle)"]=_.extend({type:"(template middle)",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(template tail)"]=_.extend({type:"(template tail)",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(no subst template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type("(regexp)",function(){return this}),delim("(endline)"),delim("(begin)"),delim("(end)").reach=!0,delim("(error)").reach=!0,delim("}").reach=!0,delim(")"),delim("]"),delim(\'"\').reach=!0,delim("\'").reach=!0,delim(";"),delim(":").reach=!0,delim("#"),reserve("else"),reserve("case").reach=!0,reserve("catch"),reserve("default").reach=!0,reserve("finally"),reservevar("arguments",function(x){state.isStrict()&&state.funct["(global)"]&&warning("E008",x)}),reservevar("eval"),reservevar("false"),reservevar("Infinity"),reservevar("null"),reservevar("this",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct["(statement)"]&&state.funct["(name)"].charAt(0)>"Z"||state.funct["(global)"])&&warning("W040",x)}),reservevar("true"),reservevar("undefined"),assignop("=","assign",20),assignop("+=","assignadd",20),assignop("-=","assignsub",20),assignop("*=","assignmult",20),assignop("/=","assigndiv",20).nud=function(){error("E014")},assignop("%=","assignmod",20),bitwiseassignop("&="),bitwiseassignop("|="),bitwiseassignop("^="),bitwiseassignop("<<="),bitwiseassignop(">>="),bitwiseassignop(">>>="),infix(",",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning("W127"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),","!==state.tokens.next.value||!comma())break}return that},10,!0),infix("?",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(":"),that["else"]=expression(10),that},30);var orPrecendence=40;infix("||",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix("&&","and",50),bitwise("|","bitor",70),bitwise("^","bitxor",80),bitwise("&","bitand",90),relation("==",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning("W116",this,"===","==");break;case isPoorRelation(left):warning("W041",this,"===",left.value);break;case isPoorRelation(right):warning("W041",this,"===",right.value);break;case isTypoTypeof(right,left,state):warning("W122",this,right.value);break;case isTypoTypeof(left,right,state):warning("W122",this,left.value)}return this}),relation("===",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!=",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning("W116",this,"!==","!=")):isPoorRelation(left)?warning("W041",this,"!==",left.value):isPoorRelation(right)?warning("W041",this,"!==",right.value):isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!==",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("<"),relation(">"),relation("<="),relation(">="),bitwise("<<","shiftleft",120),bitwise(">>","shiftright",120),bitwise(">>>","shiftrightunsigned",120),infix("in","in",120),infix("instanceof","instanceof",120),infix("+",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&"(string)"===left.id&&"(string)"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning("W050",left),left):that},130),prefix("+","num"),prefix("+++",function(){return warning("W007"),this.arity="unary",this.right=expression(150),this}),infix("+++",function(left){return warning("W007"),this.left=left,this.right=expression(130),this},130),infix("-","sub",130),prefix("-","neg"),prefix("---",function(){return warning("W006"),this.arity="unary",this.right=expression(150),this}),infix("---",function(left){return warning("W006"),this.left=left,this.right=expression(130),this},130),infix("*","mult",140),infix("/","div",140),infix("%","mod",140),suffix("++"),prefix("++","preinc"),state.syntax["++"].exps=!0,suffix("--"),prefix("--","predec"),state.syntax["--"].exps=!0,prefix("delete",function(){var p=expression(10);return p?("."!==p.id&&"["!==p.id&&warning("W051"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix("~",function(){return state.option.bitwise&&warning("W016",this,"~"),this.arity="unary",this.right=expression(150),this}),prefix("...",function(){return state.inES6(!0)||warning("W119",this,"spread/rest operator","6"),state.tokens.next.identifier||"(string)"===state.tokens.next.type||checkPunctuators(state.tokens.next,["[","("])||error("E030",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix("!",function(){return this.arity="unary",this.right=expression(150),this.right||quit("E041",this.line||0),bang[this.right.id]===!0&&warning("W018",this,"!"),this}),prefix("typeof",function(){var p=expression(150);return this.first=this.right=p,p||quit("E041",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix("new",function(){var mp=metaProperty("target",function(){state.inES6(!0)||warning("W119",state.tokens.prev,"new.target","6");for(var inFunction,c=state.funct;c&&(inFunction=!c["(global)"],c["(arrow)"]);)c=c["(context)"];inFunction||warning("W136",state.tokens.prev,"new.target")});if(mp)return mp;var i,c=expression(155);if(c&&"function"!==c.id)if(c.identifier)switch(c["new"]=!0,c.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":warning("W053",state.tokens.prev,c.value);break;case"Symbol":state.inES6()&&warning("W053",state.tokens.prev,c.value);break;case"Function":state.option.evil||warning("W054");break;case"Date":case"RegExp":case"this":break;default:"function"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&("A">i||i>"Z")&&!state.funct["(scope)"].isPredefined(c.value)&&warning("W055",state.tokens.curr))}else"."!==c.id&&"["!==c.id&&"("!==c.id&&warning("W056",state.tokens.curr);else state.option.supernew||warning("W057",this);return"("===state.tokens.next.id||state.option.supernew||warning("W058",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax["new"].exps=!0,prefix("void").exps=!0,infix(".",function(left,that){var m=identifier(!1,!0);return"string"==typeof m&&countMember(m),that.left=left,that.right=m,m&&"hasOwnProperty"===m&&"="===state.tokens.next.value&&warning("W001"),!left||"arguments"!==left.value||"callee"!==m&&"caller"!==m?state.option.evil||!left||"document"!==left.value||"write"!==m&&"writeln"!==m||warning("W060",left):state.option.noarg?warning("W059",left,m):state.isStrict()&&error("E008"),state.option.evil||"eval"!==m&&"execScript"!==m||isGlobalEval(left,state)&&warning("W061"),that},160,!0),infix("(",function(left,that){state.option.immed&&left&&!left.immed&&"function"===left.id&&warning("W062");var n=0,p=[];if(left&&"(identifier)"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1==="Array Number String Boolean Date Object Error Symbol".indexOf(left.value)&&("Math"===left.value?warning("W063",left):state.option.newcap&&warning("W064",left)),")"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,","===state.tokens.next.id;)comma();return advance(")"),"object"==typeof left&&(state.inES5()||"parseInt"!==left.value||1!==n||warning("W065",state.tokens.curr),state.option.evil||("eval"===left.value||"Function"===left.value||"execScript"===left.value?(warning("W061",left),p[0]&&"(string)"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||"(string)"!==p[0].id||"setTimeout"!==left.value&&"setInterval"!==left.value?!p[0]||"(string)"!==p[0].id||"."!==left.value||"window"!==left.left.value||"setTimeout"!==left.right&&"setInterval"!==left.right||(warning("W066",left),addInternalSrc(left,p[0].value)):(warning("W066",left),addInternalSrc(left,p[0].value))),left.identifier||"."===left.id||"["===left.id||"=>"===left.id||"("===left.id||"&&"===left.id||"||"===left.id||"?"===left.id||state.inES6()&&left["(name)"]||warning("W067",that)),that.left=left,that},155,!0).exps=!0,prefix("(",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do"("===pn.value?parens+=1:")"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||")"!==pn1.value)&&";"!==pn.value&&"(end)"!==pn.type);if("function"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),"=>"===pn.value)return doFunction({type:"arrow",parsedOpening:!0});var exprs=[];if(")"!==state.tokens.next.id)for(;exprs.push(expression(10)),","===state.tokens.next.id;)state.option.nocomma&&warning("W127"),comma();return advance(")",this),state.option.immed&&exprs[0]&&"function"===exprs[0].id&&"("!==state.tokens.next.id&&"."!==state.tokens.next.id&&"["!==state.tokens.next.id&&warning("W068",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[","]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&("{"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||"}"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||"{"===ret.id&&"=>"===preceeding.id||"(number)"===ret.type&&checkPunctuator(pn,".")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning("W126",opening),ret.paren=!0),ret):void 0}),application("=>"),infix("[",function(left,that){var s,e=expression(10);return e&&"(string)"===e.type&&(state.option.evil||"eval"!==e.value&&"execScript"!==e.value||isGlobalEval(left,state)&&warning("W061"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning("W069",state.tokens.prev,e.value))),advance("]",that),e&&"hasOwnProperty"===e.value&&"="===state.tokens.next.value&&warning("W001"),that.left=left,that.right=e,that},160,!0),prefix("[",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning("W118",state.tokens.curr,"array comprehension"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));"(end)"!==state.tokens.next.id;){for(;","===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning("W128");do advance(",");while(","===state.tokens.next.id);continue}warning("W070")}advance(",")}if("]"===state.tokens.next.id)break;if(this.first.push(expression(10)),","!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),"]"===state.tokens.next.id&&!state.inES5()){warning("W070",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance("]",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;"}"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||","!==peekIgnoreEOL().id&&"}"!==peekIgnoreEOL().id)if(":"===peek().id||"get"!==nextVal&&"set"!==nextVal){if("*"===state.tokens.next.value&&"(punctuator)"===state.tokens.next.type?(state.inES6()||warning("W104",state.tokens.next,"generator functions","6"),advance("*"),isGeneratorMethod=!0):isGeneratorMethod=!1,"["===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),"string"!=typeof i)break;"("===state.tokens.next.value?(state.inES6()||warning("W104",state.tokens.curr,"concise methods","6"),doFunction({type:isGeneratorMethod?"generator":null})):(advance(":"),expression(10))}else advance(nextVal),state.inES5()||error("E034"),i=propertyName(),i||state.inES6()||error("E035"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f["(params)"],"get"===nextVal&&i&&p?warning("W076",t,p[0],i):"set"!==nextVal||!i||p&&1===p.length||warning("W077",t,i);else state.inES6()||warning("W104",state.tokens.next,"object short notation","6"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),","!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),","===state.tokens.next.id?warning("W070",state.tokens.curr):"}"!==state.tokens.next.id||state.inES5()||warning("W070",state.tokens.curr)}return b&&(indent-=state.option.indent),advance("}",this),checkProperties(props),this},x.fud=function(){error("E036",state.tokens.curr)}}(delim("{"));var conststatement=stmt("const",function(context){return blockVariableStatement("const",this,context)});conststatement.exps=!0;var letstatement=stmt("let",function(context){return blockVariableStatement("let",this,context)});letstatement.exps=!0;var varstatement=stmt("var",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning("W132",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct["(global)"]&&(predefined[t.id]===!1?warning("W079",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning("W129",t.token,t.id)),t.id&&("for"===implied?(state.funct["(scope)"].has(t.id)||report&&warning("W088",t.token,t.id),state.funct["(scope)"].block.use(t.id,t.token)):(state.funct["(scope)"].addlabel(t.id,{type:"var",token:t.token}),lone&&inexport&&state.funct["(scope)"].setExported(t.id,t.token)),names.push(t.token)));if("="===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance("="),prefix||!report||state.funct["(loopage)"]||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct["(params)"]||-1===state.funct["(params)"].indexOf(state.tokens.next.value))&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),","!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt("class",function(){return classdef.call(this,!0)}),blockstmt("function",function(context){var inexport=context&&context.inexport,generator=!1;"*"===state.tokens.next.value&&(advance("*"),state.inES6({strict:!0})?generator=!0:warning("W119",state.tokens.curr,"function*","6")),inblock&&warning("W082",state.tokens.curr);var i=optionalidentifier();return state.funct["(scope)"].addlabel(i,{type:"function",token:state.tokens.curr}),void 0===i?warning("W025"):inexport&&state.funct["(scope)"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?"generator":null,ignoreLoopFunc:inblock}),"("===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error("E039"),this}),prefix("function",function(){var generator=!1;"*"===state.tokens.next.value&&(state.inES6()||warning("W119",state.tokens.curr,"function*","6"),advance("*"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?"generator":null}),this}),blockstmt("if",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance("(");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type="(punctuator)"===expr.type&&"!"===expr.value?"(negative)":"(positive)"),advance(")",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&"(negative)"===forinifcheck.type&&s&&s[0]&&"(identifier)"===s[0].type&&"continue"===s[0].value&&(forinifcheck.type="(negative-with-continue)"),"else"===state.tokens.next.id&&(advance("else"),"if"===state.tokens.next.id||"switch"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt("try",function(){function doCatch(){if(advance("catch"),advance("("),state.funct["(scope)"].stack("catchparams"),checkPunctuators(state.tokens.next,["[","{"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct["(scope)"].addParam(token.id,token,"exception")})}else"(identifier)"!==state.tokens.next.type?warning("E030",state.tokens.next,state.tokens.next.value):state.funct["(scope)"].addParam(identifier(),state.tokens.curr,"exception");"if"===state.tokens.next.value&&(state.inMoz()||warning("W118",state.tokens.curr,"catch filter"),advance("if"),expression(0)),advance(")"),block(!1),state.funct["(scope)"].unstack()}var b;for(block(!0);"catch"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning("W118",state.tokens.next,"multiple catch blocks"),doCatch(),b=!0;return"finally"===state.tokens.next.id?(advance("finally"),block(!0),void 0):(b||error("E021",state.tokens.next,"catch",state.tokens.next.value),this)}),blockstmt("while",function(){var t=state.tokens.next;return state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),advance("("),checkCondAssignment(expression(0)),advance(")",t),block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this}).labelled=!0,blockstmt("with",function(){var t=state.tokens.next;return state.isStrict()?error("E010",state.tokens.curr):state.option.withstmt||warning("W085",state.tokens.curr),advance("("),expression(0),advance(")",t),block(!0,!0),this}),blockstmt("switch",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct["(breakage)"]+=1,advance("("),checkCondAssignment(expression(0)),advance(")",t),t=state.tokens.next,advance("{"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case"case":switch(state.funct["(verb)"]){case"yield":case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"case")}advance("case"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(":"),state.funct["(verb)"]="case";break;case"default":switch(state.funct["(verb)"]){case"yield":case"break":case"continue":case"return":case"throw":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"default"))}advance("default"),g=!0,advance(":");break;case"}":return noindent||(indent-=state.option.indent),advance("}",t),state.funct["(breakage)"]-=1,state.funct["(verb)"]=void 0,void 0;case"(end)":return error("E023",state.tokens.next,"}"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case",":return error("E040"),void 0;case":":g=!1,statements();break;default:return error("E025",state.tokens.curr),void 0}else{if(":"!==state.tokens.curr.id)return error("E021",state.tokens.next,"case",state.tokens.next.value),void 0;advance(":"),error("E024",state.tokens.curr,":"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt("debugger",function(){return state.option.debug||warning("W087",this),this}).exps=!0,function(){var x=stmt("do",function(){state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance("while");var t=state.tokens.next;return advance("("),checkCondAssignment(expression(0)),advance(")",t),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt("for",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;"each"===t.value&&(foreachtok=t,advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),increaseComplexityCount(),advance("(");var nextop,comma,initializer,i=0,inof=["in","of"],level=0;checkPunctuators(state.tokens.next,["{","["])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,["{","["])?++level:checkPunctuators(nextop,["}","]"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,",")?comma=nextop:!initializer&&checkPunctuator(nextop,"=")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&";"!==nextop.value&&"(end)"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||"of"!==nextop.value||warning("W104",nextop,"for of","6");var ok=!(initializer||comma);if(initializer&&error("W133",comma,nextop.value,"initializer is forbidden"),comma&&error("W133",comma,nextop.value,"more than one ForBinding"),"var"===state.tokens.next.id?(advance("var"),state.tokens.curr.fud({prefix:!0})):"let"===state.tokens.next.id||"const"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:"for",ignore:!ok}),advance(nextop.value),expression(20),advance(")",t),"in"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:"(none)"})),state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,s=block(!0,!0),"in"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&("object"!=typeof s[0]||"if"!==s[0].value)||"(positive)"===check.type&&s.length>1||"(negative)"===check.type)&&warning("W089",this)}state.forinifcheckneeded=!1}state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}else{if(foreachtok&&error("E045",foreachtok),";"!==state.tokens.next.id)if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud();else if("let"===state.tokens.next.id)advance("let"),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud();else for(;expression(0,"for"),","===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(";"),state.funct["(loopage)"]+=1,";"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(";"),";"===state.tokens.next.id&&error("E021",state.tokens.next,")",";"),")"!==state.tokens.next.id)for(;expression(0,"for"),","===state.tokens.next.id;)comma();advance(")",t),state.funct["(breakage)"]+=1,block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}return letscope&&state.funct["(scope)"].unstack(),this}).labelled=!0,stmt("break",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value):(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("continue",function(){var v=state.tokens.next.value;return 0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value),state.funct["(loopage)"]||warning("W052",state.tokens.next,this.value),state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("return",function(){return this.line===startLine(state.tokens.next)?";"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)):"(punctuator)"===state.tokens.next.type&&["[","{","+","-"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix("yield",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct["(generator)"]?"(catch)"===state.funct["(name)"]&&state.funct["(context)"]["(generator)"]||error("E046",state.tokens.curr,"yield"):state.inES6()||warning("W104",state.tokens.curr,"yield","6"),state.funct["(generator)"]="yielded";var delegatingYield=!1;return"*"===state.tokens.next.value&&(delegatingYield=!0,advance("*")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||";"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)),state.inMoz()&&")"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||"yield"===prev.id)&&error("E050",this)),this})),stmt("throw",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt("import",function(){if(state.inES6()||warning("W119",state.tokens.curr,"import","6"),"(string)"===state.tokens.next.type)return advance("(string)"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value)return advance("from"),advance("(string)"),this;advance(",")}if("*"===state.tokens.next.id)advance("*"),advance("as"),state.tokens.next.identifier&&(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}));else for(advance("{");;){if("}"===state.tokens.next.value){advance("}");break}var importName;if("default"===state.tokens.next.type?(importName="default",advance("default")):importName=identifier(),"as"===state.tokens.next.value&&(advance("as"),importName=identifier()),state.funct["(scope)"].addlabel(importName,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return advance("from"),advance("(string)"),this}).exps=!0,stmt("export",function(){var token,identifier,ok=!0;if(state.inES6()||(warning("W119",state.tokens.curr,"export","6"),ok=!1),state.funct["(scope)"].block.isGlobal()||(error("E053",state.tokens.curr),ok=!1),"*"===state.tokens.next.value)return advance("*"),advance("from"),advance("(string)"),this;if("default"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance("default");var exportType=state.tokens.next.id;return("function"===exportType||"class"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct["(scope)"].addlabel(identifier,{type:exportType,token:token}),state.funct["(scope)"].setExported(identifier,token)),this}if("{"===state.tokens.next.value){advance("{");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),"as"===state.tokens.next.value&&(advance("as"),state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance()),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return"from"===state.tokens.next.value?(advance("from"),advance("(string)")):ok&&exportedTokens.forEach(function(token){state.funct["(scope)"].setExported(token.value,token)}),this}if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud({inexport:!0});else if("let"===state.tokens.next.id)advance("let"),state.tokens.curr.fud({inexport:!0});else if("const"===state.tokens.next.id)advance("const"),state.tokens.curr.fud({inexport:!0});else if("function"===state.tokens.next.id)this.block=!0,advance("function"),state.syntax["function"].fud({inexport:!0});else if("class"===state.tokens.next.id){this.block=!0,advance("class");var classNameToken=state.tokens.next;state.syntax["class"].fud(),state.funct["(scope)"].setExported(classNameToken.value,classNameToken)}else error("E024",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord("abstract"),FutureReservedWord("boolean"),FutureReservedWord("byte"),FutureReservedWord("char"),FutureReservedWord("class",{es5:!0,nud:classdef}),FutureReservedWord("double"),FutureReservedWord("enum",{es5:!0}),FutureReservedWord("export",{es5:!0}),FutureReservedWord("extends",{es5:!0}),FutureReservedWord("final"),FutureReservedWord("float"),FutureReservedWord("goto"),FutureReservedWord("implements",{es5:!0,strictOnly:!0}),FutureReservedWord("import",{es5:!0}),FutureReservedWord("int"),FutureReservedWord("interface",{es5:!0,strictOnly:!0}),FutureReservedWord("long"),FutureReservedWord("native"),FutureReservedWord("package",{es5:!0,strictOnly:!0}),FutureReservedWord("private",{es5:!0,strictOnly:!0}),FutureReservedWord("protected",{es5:!0,strictOnly:!0}),FutureReservedWord("public",{es5:!0,strictOnly:!0}),FutureReservedWord("short"),FutureReservedWord("static",{es5:!0,strictOnly:!0}),FutureReservedWord("super",{es5:!0}),FutureReservedWord("synchronized"),FutureReservedWord("transient"),FutureReservedWord("volatile");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,["[","{"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,["[","{"])?bracketStack+=1:checkPunctuators(pn,["]","}"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&"for"===pn.value&&!checkPunctuator(prev,".")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,["}","]"])){if("="===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if("."===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,";")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&"(end)"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode="use",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning("W098",v.token,v.raw_text||v.value),v.undef&&state.funct["(scope)"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains(["use","define","generate","filter"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&"use"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&"define"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&"generate"===_current.mode?(state.funct["(scope)"].block.use(v,state.tokens.curr),!0):_current&&"filter"===_current.mode?(use(v)&&state.funct["(scope)"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||"object"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;"-"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],("esversion"===optionKey&&5===o[optionKey]||"es5"===optionKey&&o[optionKey])&&warning("I003"),"newcap"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj["(explicitNewcap)"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on("warning",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on("error",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor("(global)",null,{"(global)":!0,"(scope)":scopeManagerInst,"(comparray)":arrayComprehension(),"(metrics)":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt("E004",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax["(begin)"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+"[\\\\s\\\\S]*?"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,"ig"),s=s.replace(reIgnore,function(match){return match.replace(/./g," ")}))})),lex=new Lexer(s),lex.on("warning",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("error",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("fatal",function(ev){quit("E041",ev.line,ev.from)}),lex.on("Identifier",function(ev){emitter.emit("Identifier",ev)}),lex.on("String",function(ev){emitter.emit("String",ev)}),lex.on("Number",function(ev){emitter.emit("Number",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case"{":case"[":destructuringAssignOrJsonValue();break;default:directives(),state.directive["use strict"]&&"global"!==state.option.strict&&warning("W097",state.tokens.prev),statements()}"(end)"!==state.tokens.next.id&&quit("E041",state.tokens.curr.line),state.funct["(scope)"].unstack()}catch(err){if(!err||"JSHintError"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:"(main)",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if("(main)"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct["(scope)"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct["(scope)"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f["(name)"],fu.param=f["(params)"],fu.line=f["(line)"],fu.character=f["(character)"],fu.last=f["(last)"],fu.lastcharacter=f["(lastcharacter)"],fu.metrics={complexity:f["(metrics)"].ComplexityCount,parameters:f["(metrics)"].arity,statements:f["(metrics)"].statementCount},data.functions.push(fu)}var unuseds=state.funct["(scope)"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if("number"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{"../lodash":"/node_modules/jshint/lodash.js","./lex.js":"/node_modules/jshint/src/lex.js","./messages.js":"/node_modules/jshint/src/messages.js","./options.js":"/node_modules/jshint/src/options.js","./reg.js":"/node_modules/jshint/src/reg.js","./scope-manager.js":"/node_modules/jshint/src/scope-manager.js","./state.js":"/node_modules/jshint/src/state.js","./style.js":"/node_modules/jshint/src/style.js","./vars.js":"/node_modules/jshint/src/vars.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/lex.js":[function(_dereq_,module,exports){"use strict";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;"string"==typeof lines&&(lines=lines.replace(/\\r\\n/g,"\\n").replace(/\\r/g,"\\n").split("\\n")),lines[0]&&"#!"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf("node")&&(state.option.node=!0),lines[0]=""),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input="",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=" ";this.ignoreLinterErrors=!1}var _=_dereq_("../lodash"),events=_dereq_("events"),reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,unicodeData=_dereq_("../data/ascii-identifier-data.js"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(" ").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case".":if(/^[0-9]$/.test(this.peek(1)))return null;if("."===this.peek(1)&&"."===this.peek(2))return{type:Token.Punctuator,value:"..."};case"(":case")":case";":case",":case"[":case"]":case":":case"~":case"?":return{type:Token.Punctuator,value:ch1};case"{":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case"}":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case"#":return{type:Token.Punctuator,value:ch1};case"":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),">"===ch1&&">"===ch2&&">"===ch3&&"="===ch4?{type:Token.Punctuator,value:">>>="}:"="===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"==="}:"!"===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"!=="}:">"===ch1&&">"===ch2&&">"===ch3?{type:Token.Punctuator,value:">>>"}:"<"===ch1&&"<"===ch2&&"="===ch3?{type:Token.Punctuator,value:"<<="}:">"===ch1&&">"===ch2&&"="===ch3?{type:Token.Punctuator,value:">>="}:"="===ch1&&">"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&"+-<>&|".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:"<>=!+-*%&|^".indexOf(ch1)>=0?"="===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:"/"===ch1?"="===ch2?{type:Token.Punctuator,value:"/="}:{type:Token.Punctuator,value:"/"}:null},scanComments:function(){function commentToken(label,body,opt){var special=["jshint","jslint","members","member","globals","global","exported"],isSpecial=!1,value=label+body,commentType="plain";return opt=opt||{},opt.isMultiline&&(value+="*/"),body=body.replace(/\\n/g," "),"/*"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType="falls through"),special.forEach(function(str){if(!isSpecial&&("//"!==label||"jshint"===str)&&(" "===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||" "!==body.charAt(0)||" "!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+" "+str,body=body.substr(str.length+1)),isSpecial))switch(str){case"member":commentType="members";break;case"global":commentType="globals";break;default:var options=body.split(":").map(function(v){return v.replace(/^\\s+/,"").replace(/\\s+$/,"")});if(2===options.length)switch(options[0]){case"ignore":switch(options[1]){case"start":self.ignoringLinterErrors=!0,isSpecial=!1;break;case"end":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if("*"===ch1&&"/"===ch2)return this.trigger("error",{code:"E018",line:startLine,character:startChar}),this.skip(2),null;if("/"!==ch1||"*"!==ch2&&"/"!==ch2)return null;if("/"===ch2)return this.skip(this.input.length),commentToken("//",rest);var body="";if("*"===ch2){for(this.inComment=!0,this.skip(2);"*"!==this.peek()||"/"!==this.peek(1);)if(""===this.peek()){if(body+="\\n",!this.nextLine())return this.trigger("error",{code:"E017",line:startLine,character:startChar}),this.inComment=!1,commentToken("/*",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken("/*",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=["if","in","do","var","for","new","try","let","this","else","case","void","with","enum","while","break","catch","throw","const","yield","class","super","return","typeof","delete","switch","export","import","default","finally","extends","function","continue","debugger","instanceof"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id="",index=0,readUnicodeEscapeSequence=function(){if(index+=1,"u"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,"\\\\u"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case"true":case"false":type=Token.BooleanLiteral;break;case"null":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return"$"===ch||"_"===ch||"\\\\"===ch||ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch}var bad,index=0,value="",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if("."!==char&&!isDecimalDigit(char))return null;if("."!==char){for(value=this.peek(index),index+=1,char=this.peek(index),"0"===value&&(("x"===char||"X"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),("o"===char||"O"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Octal integer literal","6"]}),index+=1,value+=char),("b"===char||"B"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Binary integer literal","6"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if("."===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if("e"===char||"E"===char){if(value+=char,index+=1,char=this.peek(index),("+"===char||"-"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case"\'":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\\'"]},checks,function(){return state.jsonMode});break;case"b":char="\\\\b";break;case"f":char="\\\\f";break;case"n":char="\\\\n";break;case"r":char="\\\\r";break;case"t":char="\\\\t";break;case"0":char="\\\\0";var n=parseInt(this.peek(1),10);this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case"u":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger("warning",{code:"W052",line:this.line,character:this.char,data:["u"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case"v":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\v"]},checks,function(){return state.jsonMode}),char="\v";break;case"x":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\x-"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case"\\\\":char="\\\\\\\\";break;case\'"\':char=\'\\\\"\';break;case"/":break;case"":allowNewLine=!0,char=""}return{"char":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value="",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if("`"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,"char":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||"}"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;"`"!==this.peek();){for(;""===(ch=this.peek());)if(value+="\\n",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger("error",{code:"E052",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if("$"===ch&&"{"===this.peek(1))return value+="${",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif("\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else"`"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if(\'"\'!==quote&&"\'"!==quote)return null;this.triggerAsync("warning",{code:"W108",line:this.line,character:this.char},checks,function(){return state.jsonMode&&\'"\'!==quote});var value="",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(""===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync("warning",{code:"W043",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync("warning",{code:"W042",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger("warning",{code:"W112",line:this.line,character:this.char}),!this.nextLine())return this.trigger("error",{code:"E029",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(" ">char&&this.trigger("warning",{code:"W113",line:this.line,character:this.char,data:["<non-printable>"]}),"\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body="",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){" ">char&&(malformed=!0,this.trigger("warning",{code:"W048",line:this.line,character:this.char})),"<"===char&&(malformed=!0,this.trigger("warning",{code:"W049",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||"/"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)"]"===char&&("\\\\"!==this.peek(index-1)||"\\\\"===this.peek(index-2))&&(isCharSet=!1),"\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if("\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),"/"===char){index+=1;continue}if("["===char){index+=1;continue}}if("["!==char){if("/"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger("error",{code:"E015",line:this.line,character:this.from}),void this.trigger("fatal",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(""))}catch(err){malformed=!0,this.trigger("error",{code:"E016",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith("/*","//")||this.inComment&&endsWith("*/")||(this.input="")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger("warning",{code:"W125",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger("warning",{code:"W100",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,"//")||startsWith.call(inputTrimmed,"/*"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger("warning",{code:"W101",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if("(endline)"!==type&&"(end)"!==type&&(this.prereg=!1),"(punctuator)"===type){switch(value){case".":case")":case"~":case"#":case"]":case"++":case"--":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax["(error)"])}return"(identifier)"===type&&(("return"===value||"case"===value||"typeof"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax["(error)"]),isReserved(obj,isProperty&&"(identifier)"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier="(identifier)"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create("(endline)",""):this.exhausted?null:(this.exhausted=!0,create("(end)",""));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync("String",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create("(string)",token.value,null,token);case Token.TemplateHead:return this.trigger("TemplateHead",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template)",token.value,null,token);case Token.TemplateMiddle:return this.trigger("TemplateMiddle",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template middle)",token.value,null,token);case Token.TemplateTail:return this.trigger("TemplateTail",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template tail)",token.value,null,token);case Token.NoSubstTemplate:return this.trigger("NoSubstTemplate",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(no subst template)",token.value,null,token);case Token.Identifier:this.triggerAsync("Identifier",{line:this.line,"char":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:"."===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create("(identifier)",token.value,"."===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger("warning",{code:"W045",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["0x-"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger("Number",{line:this.line,"char":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create("(number)",token.value);case Token.RegExp:return create("(regexp)",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:"(comment)",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case"":break;default:return create("(punctuator)",token.value)}else this.input.length&&(this.trigger("error",{code:"E024",line:this.line,character:this.char,data:[this.peek()]}),this.input="")}}},exports.Lexer=Lexer,exports.Context=Context},{"../data/ascii-identifier-data.js":"/node_modules/jshint/data/ascii-identifier-data.js","../lodash":"/node_modules/jshint/lodash.js","./reg.js":"/node_modules/jshint/src/reg.js","./state.js":"/node_modules/jshint/src/state.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/messages.js":[function(_dereq_,module,exports){"use strict";var _=_dereq_("../lodash"),errors={E001:"Bad option: \'{a}\'.",E002:"Bad option value.",E003:"Expected a JSON value.",E004:"Input is neither a string nor an array of strings.",E005:"Input is empty.",E006:"Unexpected early end of program.",E007:\'Missing "use strict" statement.\',E008:"Strict violation.",E009:"Option \'validthis\' can\'t be used in a global scope.",E010:"\'with\' is not allowed in strict mode.",E011:"\'{a}\' has already been declared.",E012:"const \'{a}\' is initialized to \'undefined\'.",E013:"Attempting to override \'{a}\' which is a constant.",E014:"A regular expression literal can be confused with \'/=\'.",E015:"Unclosed regular expression.",E016:"Invalid regular expression.",E017:"Unclosed comment.",E018:"Unbegun comment.",E019:"Unmatched \'{a}\'.",E020:"Expected \'{a}\' to match \'{b}\' from line {c} and instead saw \'{d}\'.",E021:"Expected \'{a}\' and instead saw \'{b}\'.",E022:"Line breaking error \'{a}\'.",E023:"Missing \'{a}\'.",E024:"Unexpected \'{a}\'.",E025:"Missing \':\' on a case clause.",E026:"Missing \'}\' to match \'{\' from line {a}.",E027:"Missing \']\' to match \'[\' from line {a}.",E028:"Illegal comma.",E029:"Unclosed string.",E030:"Expected an identifier and instead saw \'{a}\'.",E031:"Bad assignment.",E032:"Expected a small integer or \'false\' and instead saw \'{a}\'.",E033:"Expected an operator and instead saw \'{a}\'.",E034:"get/set are ES5 features.",E035:"Missing property name.",E036:"Expected to see a statement and instead saw a block.",E037:null,E038:null,E039:"Function declarations are not invocable. Wrap the whole function invocation in parens.",E040:"Each value should have its own case label.",E041:"Unrecoverable syntax error.",E042:"Stopping.",E043:"Too many errors.",E044:null,E045:"Invalid for each loop.",E046:"A yield statement shall be within a generator function (with syntax: `function*`)",E047:null,E048:"{a} declaration not directly within block.",E049:"A {a} cannot be named \'{b}\'.",E050:"Mozilla acequires the yield expression to be parenthesized here.",E051:null,E052:"Unclosed template literal.",E053:"Export declaration must be in global scope.",E054:"Class properties must be methods. Expected \'(\' but instead saw \'{a}\'.",E055:"The \'{a}\' option cannot be set after any executable code.",E056:"\'{a}\' was used before it was declared, which is illegal for \'{b}\' variables.",E057:"Invalid meta property: \'{a}.{b}\'.",E058:"Missing semicolon."},warnings={W001:"\'hasOwnProperty\' is a really bad name.",W002:"Value of \'{a}\' may be overwritten in IE 8 and earlier.",W003:"\'{a}\' was used before it was defined.",W004:"\'{a}\' is already defined.",W005:"A dot following a number can be confused with a decimal point.",W006:"Confusing minuses.",W007:"Confusing plusses.",W008:"A leading decimal point can be confused with a dot: \'{a}\'.",W009:"The array literal notation [] is preferable.",W010:"The object literal notation {} is preferable.",W011:null,W012:null,W013:null,W014:"Bad line breaking before \'{a}\'.",W015:null,W016:"Unexpected use of \'{a}\'.",W017:"Bad operand.",W018:"Confusing use of \'{a}\'.",W019:"Use the isNaN function to compare with NaN.",W020:"Read only.",W021:"Reassignment of \'{a}\', which is is a {b}. Use \'var\' or \'let\' to declare bindings that may change.",W022:"Do not assign to the exception parameter.",W023:"Expected an identifier in an assignment and instead saw a function invocation.",W024:"Expected an identifier and instead saw \'{a}\' (a reserved word).",W025:"Missing name in function declaration.",W026:"Inner functions should be listed at the top of the outer function.",W027:"Unreachable \'{a}\' after \'{b}\'.",W028:"Label \'{a}\' on {b} statement.",W030:"Expected an assignment or function call and instead saw an expression.",W031:"Do not use \'new\' for side effects.",W032:"Unnecessary semicolon.",W033:"Missing semicolon.",W034:\'Unnecessary directive "{a}".\',W035:"Empty block.",W036:"Unexpected /*member \'{a}\'.",W037:"\'{a}\' is a statement label.",W038:"\'{a}\' used out of scope.",W039:"\'{a}\' is not allowed.",W040:"Possible strict violation.",W041:"Use \'{a}\' to compare with \'{b}\'.",W042:"Avoid EOL escaping.",W043:"Bad escaping of EOL. Use option multistr if needed.",W044:"Bad or unnecessary escaping.",W045:"Bad number \'{a}\'.",W046:"Don\'t use extra leading zeros \'{a}\'.",W047:"A trailing decimal point can be confused with a dot: \'{a}\'.",W048:"Unexpected control character in regular expression.",W049:"Unexpected escaped character \'{a}\' in regular expression.",W050:"JavaScript URL.",W051:"Variables should not be deleted.",W052:"Unexpected \'{a}\'.",W053:"Do not use {a} as a constructor.",W054:"The Function constructor is a form of eval.",W055:"A constructor name should start with an uppercase letter.",W056:"Bad constructor.",W057:"Weird construction. Is \'new\' necessary?",W058:"Missing \'()\' invoking a constructor.",W059:"Avoid arguments.{a}.",W060:"document.write can be a form of eval.",W061:"eval can be harmful.",W062:"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.",W063:"Math is not a function.",W064:"Missing \'new\' prefix when invoking a constructor.",W065:"Missing radix parameter.",W066:"Implied eval. Consider passing a function instead of a string.",W067:"Bad invocation.",W068:"Wrapping non-IIFE function literals in parens is unnecessary.",W069:"[\'{a}\'] is better written in dot notation.",W070:"Extra comma. (it breaks older versions of IE)",W071:"This function has too many statements. ({a})",W072:"This function has too many parameters. ({a})",W073:"Blocks are nested too deeply. ({a})",W074:"This function\'s cyclomatic complexity is too high. ({a})",W075:"Duplicate {a} \'{b}\'.",W076:"Unexpected parameter \'{a}\' in get {b} function.",W077:"Expected a single parameter in set {a} function.",W078:"Setter is defined without getter.",W079:"Redefinition of \'{a}\'.",W080:"It\'s not necessary to initialize \'{a}\' to \'undefined\'.",W081:null,W082:"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",W083:"Don\'t make functions within a loop.",W084:"Assignment in conditional expression",W085:"Don\'t use \'with\'.",W086:"Expected a \'break\' statement before \'{a}\'.",W087:"Forgotten \'debugger\' statement?",W088:"Creating global \'for\' variable. Should be \'for (var {a} ...\'.",W089:"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",W090:"\'{a}\' is not a statement label.",W091:null,W093:"Did you mean to return a conditional instead of an assignment?",W094:"Unexpected comma.",W095:"Expected a string and instead saw {a}.",W096:"The \'{a}\' key may produce unexpected results.",W097:\'Use the function form of "use strict".\',W098:"\'{a}\' is defined but never used.",W099:null,W100:"This character may get silently deleted by one or more browsers.",W101:"Line is too long.",W102:null,W103:"The \'{a}\' property is deprecated.",W104:"\'{a}\' is available in ES{b} (use \'esversion: {b}\') or Mozilla JS extensions (use moz).",W105:"Unexpected {a} in \'{b}\'.",W106:"Identifier \'{a}\' is not in camel case.",W107:"Script URL.",W108:"Strings must use doublequote.",W109:"Strings must use singlequote.",W110:"Mixed double and single quotes.",W112:"Unclosed string.",W113:"Control character in string: {a}.",W114:"Avoid {a}.",W115:"Octal literals are not allowed in strict mode.",W116:"Expected \'{a}\' and instead saw \'{b}\'.",W117:"\'{a}\' is not defined.",W118:"\'{a}\' is only available in Mozilla JavaScript extensions (use moz option).",W119:"\'{a}\' is only available in ES{b} (use \'esversion: {b}\').",W120:"You might be leaking a variable ({a}) here.",W121:"Extending prototype of native object: \'{a}\'.",W122:"Invalid typeof value \'{a}\'",W123:"\'{a}\' is already defined in outer scope.",W124:"A generator function shall contain a yield statement.",W125:"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp",W126:"Unnecessary grouping operator.",W127:"Unexpected use of a comma operator.",W128:"Empty array elements acequire elision=true.",W129:"\'{a}\' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.",W130:"Invalid element after rest element.",W131:"Invalid parameter after rest parameter.",W132:"`var` declarations are forbidden. Use `let` or `const` instead.",W133:"Invalid for-{a} loop left-hand-side: {b}.",W134:"The \'{a}\' option is only available when linting ECMAScript {b} code.",W135:"{a} may not be supported by non-browser environments.",W136:"\'{a}\' must be in function scope.",W137:"Empty destructuring.",W138:"Regular parameters should not come after default parameters."},info={I001:"Comma warnings can be turned off with \'laxcomma\'.",I002:null,I003:"ES5 option is now set per default"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{"../lodash":"/node_modules/jshint/lodash.js"}],"/node_modules/jshint/src/name-stack.js":[function(_dereq_,module){"use strict";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,"length",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix="";return nameToken&&"class"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,"(string)"!==type&&"(number)"!==type&&"(identifier)"!==type&&"default"!==type?"(expression)":(nameToken.accessorType&&(prefix=nameToken.accessorType+" "),prefix+nameToken.value)):"(empty)"},module.exports=NameStack},{}],"/node_modules/jshint/src/options.js":[function(_dereq_,module,exports){"use strict";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:"eqeqeq",windows:"wsh",sloppy:"strict"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],"/node_modules/jshint/src/reg.js":[function(_dereq_,module,exports){"use strict";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],"/node_modules/jshint/src/scope-manager.js":[function(_dereq_,module){"use strict";var _=_dereq_("../lodash"),events=_dereq_("events"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={"(labels)":Object.create(null),"(usages)":Object.create(null),"(breakLabels)":Object.create(null),"(parent)":_current,"(type)":type,"(params)":"functionparams"===type||"catchparams"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current["(usages)"][labelName]||(_current["(usages)"][labelName]={"(modified)":[],"(reassigned)":[],"(tokens)":[]})}function _checkForUnused(){if("functionparams"===_current["(type)"])return _checkParams(),void 0;var curentLabels=_current["(labels)"];for(var labelName in curentLabels)curentLabels[labelName]&&"exception"!==curentLabels[labelName]["(type)"]&&curentLabels[labelName]["(unused)"]&&_warnUnused(labelName,curentLabels[labelName]["(token)"],"var")}function _checkParams(){var params=_current["(params)"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current["(labels)"][param];if(unused_opt=_getUnusedOption(state.funct["(unusedOption)"]),"undefined"===param)return;if(label["(unused)"])_warnUnused(param,label["(token)"],"param",state.funct["(unusedOption)"]);else if("last-param"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i]["(labels)"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(usages)"][labelName])return current["(usages)"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if("outer"===state.option.shadow)for(var isGlobal="global"===_currentFunctBody["(type)"],isNewFunction="functionparams"===_current["(type)"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem["(labels)"][labelName]&&warning("W123",token,labelName),stackItem["(breakLabels)"][labelName]&&warning("W123",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&"function"===type||"function"!==type)&&warning("W003",token,labelName)}var _current,_scopeStack=[];_newScope("global"),_current["(predefined)"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt="last-param"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:["var"],"last-param":["var","param"],strict:["var","param","last-param"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning("W098",{line:line,from:chr},raw_name),(unused_opt||"var"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0]["(predefined)"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||"functionparams"!==previousScope["(type)"]||(_current["(isFuncBody)"]=!0,_current["(context)"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams="functionparams"===_current["(type)"],isUnstackingFunctionOuter="functionouter"===_current["(type)"],currentUsages=_current["(usages)"],currentLabels=_current["(labels)"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf("__proto__")&&usedLabelNameList.push("__proto__"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel["(type)"];if(usedLabel["(useOutsideOfScope)"]&&!state.option.funcscope){var usedTokens=usage["(tokens)"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel["(function)"]===usedTokens[j]["(function)"]&&error("W038",usedTokens[j],usedLabelName)}if(_current["(labels)"][usedLabelName]["(unused)"]=!1,"const"===usedLabelType&&usage["(modified)"])for(j=0;usage["(modified)"].length>j;j++)error("E013",usage["(modified)"][j],usedLabelName);if(("function"===usedLabelType||"class"===usedLabelType)&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)error("W021",usage["(reassigned)"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct["(isCapturing)"]=!0),subScope)if(subScope["(usages)"][usedLabelName]){var subScopeUsage=subScope["(usages)"][usedLabelName];subScopeUsage["(modified)"]=subScopeUsage["(modified)"].concat(usage["(modified)"]),subScopeUsage["(tokens)"]=subScopeUsage["(tokens)"].concat(usage["(tokens)"]),subScopeUsage["(reassigned)"]=subScopeUsage["(reassigned)"].concat(usage["(reassigned)"]),subScopeUsage["(onlyUsedSubFunction)"]=!1}else subScope["(usages)"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope["(usages)"][usedLabelName]["(onlyUsedSubFunction)"]=!0);else if("boolean"==typeof _current["(predefined)"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current["(predefined)"][usedLabelName]===!1&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)warning("W020",usage["(reassigned)"][j])}else if(usage["(tokens)"])for(j=0;usage["(tokens)"].length>j;j++){var undefinedToken=usage["(tokens)"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning("W117",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],"var")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName]["(blockscoped)"]||"exception"===currentLabels[defLabelName]["(type)"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope["(labels)"][defLabelName]=currentLabels[defLabelName],"global"!==_currentFunctBody["(type)"]&&(subScope["(labels)"][defLabelName]["(useOutsideOfScope)"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope["(isFuncBody)"]||"global"===scope["(type)"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||"param","exception"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&"exception"!==previouslyDefinedLabelType&&(state.option.node||warning("W002",state.tokens.next,labelName))}if(_.has(_current["(labels)"],labelName)?_current["(labels)"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current["(labels)"][labelName]={"(type)":type,"(token)":token,"(unused)":!0},_current["(params)"].push(labelName)),_.has(_current["(usages)"],labelName)){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}},validateParams:function(){if("global"!==_currentFunctBody["(type)"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody["(parent)"];currentFunctParamScope["(params)"]&&currentFunctParamScope["(params)"].forEach(function(labelName){var label=currentFunctParamScope["(labels)"][labelName];label&&label.duplicated&&(isStrict?warning("E011",label["(token)"],labelName):state.option.shadow!==!0&&warning("W004",label["(token)"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf("__proto__")&&list.push("__proto__"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return"__proto__"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName]["(type)"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0]["(labels)"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName]["(unused)"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope["(type)"])break;if(_.has(scope["(labels)"],labelName)&&!scope["(labels)"][labelName]["(blockscoped)"])return scope["(labels)"][labelName]["(unused)"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped="let"===type||"const"===type||"class"===type,isexported="global"===(isblockscoped?_current:_currentFunctBody)["(type)"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current["(labels)"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||"global"===_current["(type)"]||(declaredInCurrentScope=!!_currentFunctBody["(parent)"]["(labels)"][labelName]),!declaredInCurrentScope&&_current["(usages)"][labelName]){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}declaredInCurrentScope?warning("E011",token,labelName):"outer"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning("W004",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning("E011",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&"__proto__"!==labelName&&"global"!==_currentFunctBody["(type)"]&&warning("W004",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),"global"===_currentFunctBody["(type)"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current["(labels)"][labelName]&&(!onlyBlockscoped||current["(labels)"][labelName]["(blockscoped)"]))return current["(labels)"][labelName]["(type)"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&"functionparams"===scopeCheck["(type)"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(breakLabels)"][labelName])return!0;if("functionparams"===current["(type)"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!1,"(function)":_currentFunctBody,"(unused)":unused}}},block:{isGlobal:function(){return"global"===_current["(type)"]},use:function(labelName,token){var paramScope=_currentFunctBody["(parent)"];paramScope&&paramScope["(labels)"][labelName]&&"param"===paramScope["(labels)"][labelName]["(type)"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope["(labels)"][labelName]["(unused)"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token["(function)"]=_currentFunctBody,_current["(usages)"][labelName]["(tokens)"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current["(usages)"][labelName]["(reassigned)"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current["(usages)"][labelName]["(modified)"].push(token)},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!0,"(unused)":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning("E011",token,labelName):"outer"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning("W004",token,labelName):_checkOuterShadow(labelName,token)),_current["(breakLabels)"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{"../lodash":"/node_modules/jshint/lodash.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/state.js":[function(_dereq_,module,exports){"use strict";var NameStack=_dereq_("./name-stack.js"),state={syntax:{},isStrict:function(){return this.directive["use strict"]||this.inClassBody||this.option.module||"implied"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab="",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{"./name-stack.js":"/node_modules/jshint/src/name-stack.js"}],"/node_modules/jshint/src/style.js":[function(_dereq_,module,exports){"use strict";exports.register=function(linter){linter.on("Identifier",function(data){linter.getOption("proto")||"__proto__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name,"6"]})}),linter.on("Identifier",function(data){linter.getOption("iterator")||"__iterator__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name]})}),linter.on("Identifier",function(data){linter.getOption("camelcase")&&data.name.replace(/^_+|_+$/g,"").indexOf("_")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn("W106",{line:data.line,"char":data.from,data:[data.name]})}),linter.on("String",function(data){var code,quotmark=linter.getOption("quotmark");quotmark&&("single"===quotmark&&"\'"!==data.quote&&(code="W109"),"double"===quotmark&&\'"\'!==data.quote&&(code="W108"),quotmark===!0&&(linter.getCache("quotmark")||linter.setCache("quotmark",data.quote),linter.getCache("quotmark")!==data.quote&&(code="W110")),code&&linter.warn(code,{line:data.line,"char":data.char}))}),linter.on("Number",function(data){"."===data.value.charAt(0)&&linter.warn("W008",{line:data.line,"char":data.char,data:[data.value]}),"."===data.value.substr(data.value.length-1)&&linter.warn("W047",{line:data.line,"char":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn("W046",{line:data.line,"char":data.char,data:[data.value]})}),linter.on("String",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption("scripturl")||re.test(data.value)&&linter.warn("W107",{line:data.line,"char":data.char})})}},{}],"/node_modules/jshint/src/vars.js":[function(_dereq_,module,exports){"use strict";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,"throws":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},["/node_modules/jshint/src/jshint.js"])}),ace.define("ace/mode/javascript_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/javascript/jshint"],function(acequire,exports,module){"use strict";function startRegex(arr){return RegExp("^("+arr.join("|")+")")}var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,lint=acequire("./javascript/jshint").JSHINT,disabledWarningsRe=startRegex(["Bad for in variable \'(.+)\'.",\'Missing "use strict"\']),errorsRe=startRegex(["Unexpected","Expected ","Confusing (plus|minus)","\\\\{a\\\\} unterminated regular expression","Unclosed ","Unmatched ","Unbegun comment","Bad invocation","Missing space after","Missing operator at"]),infoRe=startRegex(["Expected an assignment","Bad escapement of EOL","Unexpected comma","Unexpected space","Missing radix parameter.","A leading decimal point can","\\\\[\'{a}\'\\\\] is better written in dot notation.","\'{a}\' used out of scope"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval("throw 0;"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,"\\n"),!value)return this.sender.emit("annotate",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?"warning":"error";lint(value,this.options,this.options.globals);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type="warning";if("Missing semicolon."==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),"error"==maxErrorLevel&&str&&/[\\w\\d{([\'"]/.test(str)?(error.reason=\'Missing ";" before statement\',type="error"):type="info"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type="info":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):"\'{a}\' is not defined."==raw?type="warning":"\'{a}\' is defined but never used."==raw&&(type="info")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit("annotate",errors)}}.call(JavaScriptWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t){e.exports.id="ace/mode/css_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/css/csslint",["require","exports","module"],function(acequire,exports,module){function objectToString(o){return Object.prototype.toString.call(o)}function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child;if("object"!=typeof parent)return parent;if(util.isArray(parent))child=[];else if(util.isRegExp(parent))child=RegExp(parent.source,util.getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(util.isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;child=prototype===void 0?Object.create(Object.getPrototypeOf(parent)):Object.create(prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent)child[i]=_clone(parent[i],depth-1);return child}var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return circular===void 0&&(circular=!0),depth===void 0&&(depth=1/0),_clone(parent,depth)}function Reporter(lines,ruleset){this.messages=[],this.stats=[],this.lines=lines,this.ruleset=ruleset}var parserlib={};(function(){function EventTarget(){this._listeners={}}function StringReader(text){this._input=text.replace(/\\n\\r?/g,"\\n"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(""+input):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if("string"==typeof event&&(event={type:event}),event.target!==void 0&&(event.target=this),event.type===void 0)throw Error("Event object missing \'type\' property.");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;len>i;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;len>i;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(count){var c=null;return count=count===void 0?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&("\\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer="";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length;){if(c=this.read(),!c)throw Error(\'Expected "\'+pattern+\'" at line \'+this._line+", col "+this._col+".");buffer+=c}return buffer},readWhile:function(filter){for(var buffer="",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return"string"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer="";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Error(),SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.text},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:"EOF"});len>i;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);\nfor(var tt=this.get(channel),i=0,len=tokenTypes.length;len>i;)if(tt==tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=(this._reader,0);if(tokenInfo.length,this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return token=this._getToken(),token.type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),info=tokenInfo[token.type],info&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw Error("Too much lookahead.");for(;total;)tt=this.get(),total--;for(;index>total;)this.unget(),total++}else if(0>index){if(!this._lt[this._ltIndex+index])throw Error("Too much lookbehind.");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return 0>tokenType||tokenType>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})(),function(){function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type="unknown",/^\\s+$/.test(text)?this.type="descendant":">"==text?this.type="child":"+"==text?this.type="adjacent-sibling":"~"==text&&(this.type="sibling")}function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(null!==value?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType?mediaType:"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown";var temp;if(/^([+\\-]?[\\d\\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\\-]?[\\d\\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\\-]?\\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\\-]?[\\d\\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\\(["\']?([^\\)"\']+)["\']?\\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\\(]+)\\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^["\'][^"\']*["\']/.test(text)?(this.type="string",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\\,\\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\\-_\\u0080-\\uFFFF][a-z0-9\\-_\\u0080-\\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\\d/.test(c)}function isWhitespace(c){return null!==c&&/\\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\\u0080-\\uFFFF\\\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\\-\\\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\\-\\\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();tokenStream.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!=Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire("endstylesheet")},_charset:function(emit){var charset,token,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),token=tokenStream.token(),charset=token.value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),emit!==!1&&this.fire({type:"charset",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,tokenStream=this._tokenStream,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/^(?:url\\()?["\']?([^"\']+?)["\']?\\)?$/,"$1"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?["\']([^"\']+)["\']\\)?/,"$1"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:mediaList,line:line,col:col});;)if(tokenStream.peek()==Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()==Tokens.VIEWPORT_SYM)this._viewport();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN)&&mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&(ident=tokenStream.token().value.toLowerCase(),"only"!=ident&&"not"!=ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()==Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()==Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)"and"!=tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var token,tokenStream=this._tokenStream,feature=null,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(identifier=tokenStream.token().value,"auto"===identifier.toLowerCase()&&this._unexpectedToken(tokenStream.token())),tokenStream.peek()==Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return marginSym?(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col}),!0):!1},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endviewport",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(token=tokenStream.token(),value=new Combinator(token.value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()==Tokens.STAR&&this.options.starHack&&(tokenStream.get(),token=tokenStream.token(),hack=token.value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&(token=tokenStream.token(),tokenValue=token.value,"_"==tokenValue.charAt(0)&&this.options.underscoreHack&&(hack="_",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var tt,selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.RBRACE]),tt!=Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(selector=this._selector(),null!==selector)for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),selector=this._selector(),null!==selector?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(nextSelector=this._simple_selector_sequence(),null===nextSelector)return null;for(selector.push(nextSelector);;)if(combinator=this._combinator(),null!==combinator)selector.push(combinator),nextSelector=this._simple_selector_sequence(),null===nextSelector?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),nextSelector=this._simple_selector_sequence(),null===nextSelector?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,elementName=this._type_selector(),elementName||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);;){if(tokenStream.peek()===Tokens.S)break;for(;len>i&&null===component;)component=components[i++].call(this);if(null===component){if(""===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=""+component,component=null}return""!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),token=tokenStream.token(),new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?(token=tokenStream.token(),new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";return(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE)&&(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+="|"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value="";return ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+="*"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(token=tokenStream.token(),value=token.value,value+=this._readWhitespace(),ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=":";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=":"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()==Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=")"),value},_expression:function(){for(var tokenStream=this._tokenStream,value="";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value="",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),arg=this._negation_arg(),value+=arg,value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),value+=tokenStream.token().value,subpart=new SelectorSubPart(value,"not",line,col),subpart.args.push(arg)),subpart},_negation_arg:function(){var line,col,part,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;len>i&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),part="elementName"==arg.type?new SelectorPart(arg,[],""+arg,line,col):new SelectorPart(null,[arg],""+arg,line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName="";if(property=this._property(),null!==property){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),expr=this._expr(),expr&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=""+property,(this.options.starHack&&"*"==property.hack||this.options.underscoreHack&&"_"==property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=(this._tokenStream,[]),value=null,operator=null;if(value=this._term(inFunction),null!==value)for(values.push(value);;){if(operator=this._operator(inFunction),operator&&values.push(operator),value=this._term(inFunction),null===value)break;\nvalues.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(inFunction){var token,line,col,tokenStream=this._tokenStream,unary=null,value=null,endChar=null;return unary=this._unary_operator(),null!==unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):inFunction&&tokenStream.match([Tokens.LPAREN,Tokens.LBRACE,Tokens.LBRACKET])?(token=tokenStream.token(),endChar=token.endChar,value=token.value+this._expr(inFunction).text,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.mustMatch(Tokens.type(endChar)),value+=endChar,this._readWhitespace()):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):(token=this._hexcolor(),null===token?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol))),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null,expr=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),expr=this._expr(!0),functionText+=expr,this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(token=tokenStream.token(),color=token.value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError("Expected a hex color but found \'"+color+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);this._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix="";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\\-([^\\-]+)\\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt==Tokens.IDENT||tt==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=(this._tokenStream,this._key_list());this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]),tt==Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!=Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws="";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token \'"+token.value+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+="}",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)additions.hasOwnProperty(prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var part,simple="<angle> | leftwards | rightwards | inherit",direction="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",behind=!1,valid=!1;if(ValidationTypes.isAny(expression,simple)||(ValidationTypes.isAny(expression,"behind")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,direction)&&(valid=!0,behind||ValidationTypes.isAny(expression,"behind"))),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'azimuth\'>) but found \'"+part+"\'.",part.line,part.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var part,valid=!1,numeric="<number> | <percentage>",fill=!1,count=0,max=4;for(ValidationTypes.isAny(expression,"fill")&&(fill=!0,valid=!0);expression.hasNext()&&max>count&&(valid=ValidationTypes.isAny(expression,numeric));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,"fill"),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found \'"+part+"\'.",part.line,part.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){for(var part,valid=!1,simple="<length> | <percentage> | inherit",slash=!1,count=0,max=8;expression.hasNext()&&max>count;){if(valid=ValidationTypes.isAny(expression,simple),!valid){if(!("/"==expression.peek()&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'border-radius\'>) but found \'"+part+"\'.",part.line,part.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice |clone","-moz-box-direction":"normal | reverse | inherit","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-moz-box-pack":"start | end | center | justify","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice |clone","-webkit-box-direction":"normal | reverse | inherit","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-webkit-box-pack":"start | end | center | justify","box-shadow":function(expression){var part;if(ValidationTypes.isAny(expression,"none")){if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}else Validation.multiProperty("<shadow>",expression,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | row-reverse | column | column-reverse | inherit","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse","float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | <content-sizing> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | <content-sizing> | none | inherit","max-width":"<length> | <percentage> | <content-sizing> | none | inherit","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit","-ms-touch-action":"auto | none | pan-x | pan-y","touch-action":"auto | none | pan-x | pan-y",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | <content-sizing> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit","z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf("::")||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=["a","b","c","d"];for(i=0,len=comps.length;len>i;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(selector){function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:"";for(elementName&&"*"!=elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;len>i;i++)switch(modifier=part.modifiers[i],modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":Pseudos.isElement(modifier.text)?d++:c++;break;case"not":for(j=0,num=modifier.args.length;num>j;j++)updateValues(modifier.args[j])}}var i,len,part,b=0,c=0,d=0;for(i=0,len=selector.parts.length;len>i;i++)part=selector.parts[i],part instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\\u0080-\\uFFFF]$/,nl=/\\n|\\r\\n|\\r|\\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case"/":token="*"==reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"|":case"~":case"^":case"$":case"*":token="="==reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\'"\':case"\'":token=this.stringToken(c,startLine,startCol);break;case"#":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case".":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"-":token="-"==reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if("+"==reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return options=options||{},{value:value,type:tt,channel:options.channel,endChar:options.endChar,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var ident,rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),ident=this.readName(),rule=first+ident,tt=Tokens.type(rule.toLowerCase()),(tt==Tokens.CHAR||tt==Tokens.UNKNOWN)&&(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c),opts={};return-1==tt?tt=Tokens.CHAR:opts.endChar=Tokens[tt].endChar,this.createToken(tt,c,startLine,startCol,opts)},commentToken:function(first,startLine,startCol){var comment=(this._reader,this.readComment(first));return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)\n},hashToken:function(first,startLine,startCol){var name=(this._reader,this.readName(first));return this.createToken(Tokens.HASH,name,startLine,startCol)},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(3),"<!--"==text?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(2),"-->"==text?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;return"("==reader.peek()?(ident+=reader.read(),"url("==ident.toLowerCase()?(tt=Tokens.URI,ident=this.readURI(ident),"url("==ident.toLowerCase()&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):":"==reader.peek()&&"progid"==ident.toLowerCase()&&(ident+=reader.readTo("("),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if("/"==c){if("*"!=reader.peek())break;if(temp=this.readComment(c),""===temp)break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt==Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(4),":not("==text.toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(ident=this.readName(reader.read()),value+=ident,tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"==c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return"+"==reader.peek()&&(reader.mark(),value+=reader.read(),value+=this.readUnicodeRangePart(!0),2==value.length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1==value.indexOf("?")&&"-"==reader.peek()&&(reader.mark(),temp=reader.read(),temp+=this.readUnicodeRangePart(!1),1==temp.length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=(this._reader,first+this.readWhitespace());return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part="",c=reader.peek();isHexDigit(c)&&6>part.length;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;"?"==c&&6>part.length;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace="",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot="."==first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();else{if("."!=c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(c=reader.read(),string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){string="";break}prev=c,c=reader.peek()}return null===c&&(string=""),string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner="\'"==c||\'"\'==c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return""===inner||")"!=c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url="",c=reader.peek();/^[!#$%&\\\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||"",c=reader.peek();;)if("\\\\"==c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c))do cssEscape+=reader.read(),c=reader.peek();while(c&&isHexDigit(c)&&6>++i);return 3==cssEscape.length&&/\\s/.test(c)||7==cssEscape.length||1==cssEscape.length?reader.read():c="",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if("*"==c){for(;c;){if(comment+=c,comment.length>2&&"*"==c&&"/"==reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;len>i;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;Tokens[i].text.length>j;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=(""+property).toLowerCase(),expression=(value.parts,new PropertyValueIterator(value)),spec=Properties[name];if(spec)"number"!=typeof spec&&("string"==typeof spec?spec.indexOf("||")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):"function"==typeof spec&&spec(expression));else if(0!==name.indexOf("-"))throw new ValidationError("Unknown property \'"+property+"\'.",property.line,property.col)},singleProperty:function(types,expression,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&max>count&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&max>count&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(","!=expression.peek())break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):(part=expression.previous(),comma&&","==part?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col));if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},groupProperty:function(types,expression){for(var name,part,result=!1,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!=typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}};ValidationError.prototype=Error();var ValidationTypes={isLiteral:function(part,literals){var i,len,text=(""+part.text).toLowerCase(),args=literals.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)text==args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(" || "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)found=this.isType(expression,args[i]);return found?args[i-1]:!1},isType:function(expression,type){var part=expression.peek(),result=!1;return"<"!=type.charAt(0)?(result=this.isLiteral(part,type),result&&expression.next()):this.simple[type]?(result=this.simple[type](part),result&&expression.next()):result=this.complex[type](expression),result},simple:{"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return"function"==part.type&&"attr"==part.name},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||"none"==part},"<gradient>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?(?:repeating\\-)?(?:radial\\-|linear\\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return"function"==part.type&&"content"==part.name},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return"identifier"==part.type},"<length>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?calc/i.test(part)?!0:"length"==part.type||"number"==part.type||"integer"==part.type||"0"==part},"<color>":function(part){return"color"==part.type||"transparent"==part},"<number>":function(part){return"number"==part.type||this["<integer>"](part)},"<integer>":function(part){return"integer"==part.type},"<line>":function(part){return"integer"==part.type},"<angle>":function(part){return"angle"==part.type},"<uri>":function(part){return"uri"==part.type},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return"percentage"==part.type||"0"==part},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<content-sizing>":function(part){return ValidationTypes.isLiteral(part,"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return"function"==part.type&&("rect"==part.name||"inset-rect"==part.name)},"<time>":function(part){return"time"==part.type},"<flex-grow>":function(part){return this["<number>"](part)},"<flex-shrink>":function(part){return this["<number>"](part)},"<width>":function(part){return this["<margin-width>"](part)},"<flex-basis>":function(part){return this["<width>"](part)},"<flex-direction>":function(part){return ValidationTypes.isLiteral(part,"row | row-reverse | column | column-reverse")},"<flex-wrap>":function(part){return ValidationTypes.isLiteral(part,"nowrap | wrap | wrap-reverse")}},complex:{"<bg-position>":function(expression){for(var result=!1,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0;expression.peek(count)&&","!=expression.peek(count);)count++;return 3>count?ValidationTypes.isAny(expression,xDir+" | center | "+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+" | center | "+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+" | center")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,"center")&&ValidationTypes.isAny(expression,xDir+" | "+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<bg-size>":function(expression){var result=!1,numeric="<percentage> | <length> | auto";return ValidationTypes.isAny(expression,"cover | contain")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<repeat-style>":function(expression){var part,result=!1,values="repeat | space | round | no-repeat";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,"repeat-x | repeat-y")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},"<shadow>":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,"inset")&&(inset=!0),ValidationTypes.isAny(expression,"<color>")&&(color=!0);ValidationTypes.isAny(expression,"<length>")&&4>count;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,"<color>"),inset||ValidationTypes.isAny(expression,"inset")),result=count>=2&&4>=count}return result},"<x-one-radius>":function(expression){var result=!1,simple="<length> | <percentage> | inherit";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result},"<flex>":function(expression){var part,result=!1;if(ValidationTypes.isAny(expression,"none | inherit")?result=!0:ValidationTypes.isType(expression,"<flex-grow>")?expression.peek()?ValidationTypes.isType(expression,"<flex-shrink>")?result=expression.peek()?ValidationTypes.isType(expression,"<flex-basis>"):!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=null===expression.peek()):result=!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=!0),!result)throw part=expression.peek(),new ValidationError("Expected (none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]) but found \'"+expression.value.text+"\'.",part.line,part.col);return result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}();var util={isArray:function(ar){return Array.isArray(ar)||"object"==typeof ar&&"[object Array]"===objectToString(ar)},isDate:function(d){return"object"==typeof d&&"[object Date]"===objectToString(d)},isRegExp:function(re){return"object"==typeof re&&"[object RegExp]"===objectToString(re)},getRegExpFlags:function(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}};"object"==typeof module&&(module.exports=clone),clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c};var CSSLint=function(){function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];return rules&&(valueMap={"true":2,"":1,"false":0,2:2,1:1,0:0},rules.toLowerCase().split(",").forEach(function(rule){var pair=rule.split(":"),property=pair[0]||"",value=pair[1]||"";ruleset[property.trim()]=valueMap[value.trim()]})),ruleset}var rules=[],formatters=[],embeddedRuleset=/\\/\\*csslint([^\\*]*)\\*\\//,api=new parserlib.util.EventTarget;return api.version="@VERSION@",api.addRule=function(rule){rules.push(rule),rules[rule.id]=rule},api.clearRules=function(){rules=[]},api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})},api.getRuleset=function(){for(var ruleset={},i=0,len=rules.length;len>i;)ruleset[rules[i++].id]=1;return ruleset},api.addFormatter=function(formatter){formatters[formatter.id]=formatter},api.getFormatter=function(formatId){return formatters[formatId]},api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;return formatter&&(result=formatter.startFormat(),result+=formatter.formatResults(results,filename,options||{}),result+=formatter.endFormat()),result},api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)},api.verify=function(text,ruleset){var reporter,lines,report,i=0,parser=new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});lines=text.replace(/\\n\\r?/g,"$split$").split("$split$"),ruleset||(ruleset=this.getRuleset()),embeddedRuleset.test(text)&&(ruleset=clone(ruleset),ruleset=applyEmbeddedRuleset(text,ruleset)),reporter=new Reporter(lines,ruleset),ruleset.errors=2;for(i in ruleset)ruleset.hasOwnProperty(i)&&ruleset[i]&&rules[i]&&rules[i].init(parser,reporter);try{parser.parse(text)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}return report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset},report.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line}),report},api}();Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:"error",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:2===this.ruleset[rule.id]?"error":"warning",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:"info",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:"error",rollup:!0,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:"warning",rollup:!0,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}},CSSLint._Reporter=Reporter,CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return prop},indexOf:function(values,value){if(values.indexOf)return values.indexOf(value);for(var i=0,len=values.length;len>i;i++)if(values[i]===value)return i;return-1},forEach:function(values,func){if(values.forEach)return values.forEach(func);for(var i=0,len=values.length;len>i;i++)func(values[i],i,values)}},CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don\'t use adjoining classes.",browsers:"IE6",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,classCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(classCount=0,k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"class"===modifier.type&&classCount++,classCount>1&&reporter.report("Don\'t use adjoining classes.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don\'t use width or height when using padding or border.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},boxSizing=!1}function endRule(){var prop,value;if(!boxSizing){if(properties.height)for(prop in heightProperties)heightProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[0].value)&&reporter.report("Using height with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule));if(properties.width)for(prop in widthProperties)widthProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[1].value)&&reporter.report("Using width with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule))}}var properties,rule=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},boxSizing=!1;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();heightProperties[name]||widthProperties[name]?/^0\\S*$/.test(event.value)||"border"===name&&"none"==""+event.value||(properties[name]={line:event.property.line,col:event.property.col,value:event.value}):/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)?properties[name]=1:"box-sizing"===name&&(boxSizing=!0)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn\'t supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();"box-sizing"===name&&reporter.report("The box-sizing property isn\'t supported in IE6 and IE7.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404\'s in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(parser,reporter){var line,col,rule=this,fontFaceRule=!1,firstSrc=!0,ruleFailed=!1;parser.addListener("startfontface",function(){fontFaceRule=!0}),parser.addListener("property",function(event){if(fontFaceRule){var propertyName=(""+event.property).toLowerCase(),value=""+event.value;if(line=event.line,col=event.col,"src"===propertyName){var regex=/^\\s?url\\([\'"].+\\.eot\\?.*[\'"]\\)\\s*format\\([\'"]embedded-opentype[\'"]\\).*$/i;!value.match(regex)&&firstSrc?(ruleFailed=!0,firstSrc=!1):value.match(regex)&&!firstSrc&&(ruleFailed=!1)}}}),parser.addListener("endfontface",function(){fontFaceRule=!1,ruleFailed&&reporter.report("@font-face declaration doesn\'t follow the fontspring bulletproof syntax.",line,col,rule)})}}),CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(parser,reporter){var compatiblePrefixes,properties,prop,variations,prefixed,i,len,rule=this,inKeyFrame=!1,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes)if(compatiblePrefixes.hasOwnProperty(prop)){for(variations=[],prefixed=compatiblePrefixes[prop].split(" "),i=0,len=prefixed.length;len>i;i++)variations.push("-"+prefixed[i]+"-"+prop);compatiblePrefixes[prop]=variations,arrayPush.apply(applyTo,variations)}parser.addListener("startrule",function(){properties=[]}),parser.addListener("startkeyframes",function(event){inKeyFrame=event.prefix||!0}),parser.addListener("endkeyframes",function(){inKeyFrame=!1}),parser.addListener("property",function(event){var name=event.property;CSSLint.Util.indexOf(applyTo,name.text)>-1&&(inKeyFrame&&"string"==typeof inKeyFrame&&0===name.text.indexOf("-"+inKeyFrame+"-")||properties.push(name))}),parser.addListener("endrule",function(){if(properties.length){var i,len,name,prop,variations,value,full,actual,item,propertiesSpecified,propertyGroups={};for(i=0,len=properties.length;len>i;i++){name=properties[i];for(prop in compatiblePrefixes)compatiblePrefixes.hasOwnProperty(prop)&&(variations=compatiblePrefixes[prop],CSSLint.Util.indexOf(variations,name.text)>-1&&(propertyGroups[prop]||(propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)&&(propertyGroups[prop].actual.push(name.text),propertyGroups[prop].actualNodes.push(name))))}for(prop in propertyGroups)if(propertyGroups.hasOwnProperty(prop)&&(value=propertyGroups[prop],full=value.full,actual=value.actual,full.length>actual.length))for(i=0,len=full.length;len>i;i++)item=full[i],-1===CSSLint.Util.indexOf(actual,item)&&(propertiesSpecified=1===actual.length?actual[0]:2===actual.length?actual.join(" and "):actual.join(", "),reporter.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",value.actualNodes[0].line,value.actualNodes[0].col,rule))}})}}),CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn\'t be used with certain display property values.",browsers:"All",init:function(parser,reporter){function reportProperty(name,display,msg){properties[name]&&("string"!=typeof propertiesToCheck[name]||properties[name].value.toLowerCase()!==propertiesToCheck[name])&&reporter.report(msg||name+" can\'t be used with display: "+display+".",properties[name].line,properties[name].col,rule)}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display)switch(display){case"inline":reportProperty("height",display),reportProperty("width",display),reportProperty("margin",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",display);\nbreak;case"inline-block":reportProperty("float",display);break;default:0===display.indexOf("table-")&&(reportProperty("margin",display),reportProperty("margin-left",display),reportProperty("margin-right",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display))}}var properties,rule=this,propertiesToCheck={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startpage",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();propertiesToCheck[name]&&(properties[name]={value:event.value.text,line:event.property.line,col:event.property.col})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endkeyframerule",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endpage",endRule)}}),CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(parser,reporter){var rule=this,stack={};parser.addListener("property",function(event){var i,len,name=event.property.text,value=event.value;if(name.match(/background/i))for(i=0,len=value.parts.length;len>i;i++)"uri"===value.parts[i].type&&(stack[value.parts[i].uri]===void 0?stack[value.parts[i].uri]=event:reporter.report("Background image \'"+value.parts[i].uri+"\' was used multiple times, first declared at line "+stack[value.parts[i].uri].line+", col "+stack[value.parts[i].uri].col+".",event.line,event.col,rule))})}}),CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}var properties,lastProperty,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase();!properties[name]||lastProperty===name&&properties[name]!==event.value.text||reporter.report("Duplicate property \'"+event.property+"\' found.",event.line,event.col,rule),properties[name]=event.value.text,lastProperty=name})}}),CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count=0}),parser.addListener("property",function(){count++}),parser.addListener("endrule",function(event){var selectors=event.selectors;0===count&&reporter.report("Rule is empty.",selectors[0].line,selectors[0].col,rule)})}}),CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("error",function(event){reporter.error(event.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don\'t support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(parser,reporter){function startRule(){properties={},lastProperty=null}var lastProperty,properties,rule=this,propertiesToCheck={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType="",len=parts.length;if(propertiesToCheck[name])for(;len>i;)"color"===parts[i].type&&("alpha"in parts[i]||"hue"in parts[i]?(/([^\\)]+)\\(/.test(parts[i])&&(colorType=RegExp.$1.toUpperCase()),lastProperty&&lastProperty.property.text.toLowerCase()===name&&"compat"===lastProperty.colorType||reporter.report("Fallback "+name+" (hex or RGB) should precede "+colorType+" "+name+".",event.line,event.col,rule)):event.colorType="compat"),i++;lastProperty=event})}}),CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"float"===event.property.text.toLowerCase()&&"none"!==event.value.text.toLowerCase()&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("floats",count),count>=10&&reporter.rollupWarn("Too many floats ("+count+"), you\'re probably using them for layout. Consider using a grid system instead.",rule)})}}),CSSLint.addRule({id:"font-faces",name:"Don\'t use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startfontface",function(){count++}),parser.addListener("endstylesheet",function(){count>5&&reporter.rollupWarn("Too many @font-face declarations ("+count+").",rule)})}}),CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"font-size"==""+event.property&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("font-sizes",count),count>=10&&reporter.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",rule)})}}),CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(parser,reporter){var gradients,rule=this;parser.addListener("startrule",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}}),parser.addListener("property",function(event){/\\-(moz|o|webkit)(?:\\-(?:linear|radial))\\-gradient/i.test(event.value)?gradients[RegExp.$1]=1:/\\-webkit\\-gradient/i.test(event.value)&&(gradients.oldWebkit=1)}),parser.addListener("endrule",function(event){var missing=[];gradients.moz||missing.push("Firefox 3.6+"),gradients.webkit||missing.push("Webkit (Safari 5+, Chrome)"),gradients.oldWebkit||missing.push("Old Webkit (Safari 4+, Chrome)"),gradients.o||missing.push("Opera 11.1+"),missing.length&&4>missing.length&&reporter.report("Missing vendor-prefixed CSS gradients for "+missing.join(", ")+".",event.selectors[0].line,event.selectors[0].col,rule)})}}),CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,idCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++){for(selector=selectors[i],idCount=0,j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"id"===modifier.type&&idCount++;1===idCount?reporter.report("Don\'t use IDs in selectors.",selector.line,selector.col,rule):idCount>1&&reporter.report(idCount+" IDs in the selector, really?",selector.line,selector.col,rule)}})}}),CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don\'t use @import, use <link> instead.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("import",function(event){reporter.report("@import prevents parallel downloads, use <link> instead.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){event.important===!0&&(count++,reporter.report("Use of !important",event.line,event.col,rule))}),parser.addListener("endstylesheet",function(){reporter.stat("important",count),count>=10&&reporter.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specificity issues.",rule)})}}),CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){event.invalid&&reporter.report(event.invalid.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"order-alphabetical",name:"Alphabetical order",desc:"Assure properties are in alphabetical order",browsers:"All",init:function(parser,reporter){var properties,rule=this,startRule=function(){properties=[]};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text,lowerCasePrefixLessName=name.toLowerCase().replace(/^-.*?-/,"");properties.push(lowerCasePrefixLessName)}),parser.addListener("endrule",function(event){var currentProperties=properties.join(","),expectedProperties=properties.sort().join(",");currentProperties!==expectedProperties&&reporter.report("Rule doesn\'t have all its properties in alphabetical ordered.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(parser,reporter){function startRule(event){lastRule=event.selectors?{line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:!1}:null}function endRule(){lastRule&&lastRule.outline&&(-1===(""+lastRule.selectors).toLowerCase().indexOf(":focus")?reporter.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,rule):1===lastRule.propCount&&reporter.report("Outlines shouldn\'t be hidden unless other visual changes are made.",lastRule.line,lastRule.col,rule))}var lastRule,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase(),value=event.value;lastRule&&(lastRule.propCount++,"outline"!==name||"none"!=""+value&&"0"!=""+value||(lastRule.outline=!0))}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don\'t use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(parser,reporter){var rule=this,classes={};parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],part.elementName&&"id"===modifier.type?reporter.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,rule):"class"===modifier.type&&(classes[modifier]||(classes[modifier]=[]),classes[modifier].push({modifier:modifier,part:part}))}),parser.addListener("endstylesheet",function(){var prop;for(prop in classes)classes.hasOwnProperty(prop)&&1===classes[prop].length&&classes[prop][0].part.elementName&&reporter.report("Element ("+classes[prop][0].part+") is overqualified, just use "+classes[prop][0].modifier+" without element name.",classes[prop][0].part.line,classes[prop][0].part.col,rule)})}}),CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE&&part.elementName&&/h[1-6]/.test(""+part.elementName)&&j>0&&reporter.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"===modifier.type&&/([\\~\\|\\^\\$\\*]=)/.test(modifier)&&reporter.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,rule)})}}),CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(parser,reporter){var count=0;parser.addListener("startrule",function(){count++}),parser.addListener("endstylesheet",function(){reporter.stat("rule-count",count)})}}),CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>=3800&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>4095&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-newline",name:"Disallow new-line characters in selectors",desc:"New-line characters in selectors are usually a forgotten comma and not a descendant combinator.",browsers:"All",init:function(parser,reporter){function startRule(event){var i,len,selector,p,n,pLen,part,part2,type,currentLine,nextLine,selectors=event.selectors;for(i=0,len=selectors.length;len>i;i++)for(selector=selectors[i],p=0,pLen=selector.parts.length;pLen>p;p++)for(n=p+1;pLen>n;n++)part=selector.parts[p],part2=selector.parts[n],type=part.type,currentLine=part.line,nextLine=part2.line,"descendant"===type&&nextLine>currentLine&&reporter.report("newline character found in selector (forgot a comma?)",currentLine,selectors[i].parts[0].col,rule)}var rule=this;parser.addListener("startrule",startRule)}}),CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping)if(mapping.hasOwnProperty(prop)){for(total=0,i=0,len=mapping[prop].length;len>i;i++)total+=properties[mapping[prop][i]]?1:0;total===mapping[prop].length&&reporter.report("The properties "+mapping[prop].join(", ")+" can be replaced by "+prop+".",event.line,event.col,rule)}}var prop,i,len,properties,rule=this,propertiesToCheck={},mapping={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping)if(mapping.hasOwnProperty(prop))for(i=0,len=mapping[prop].length;len>i;i++)propertiesToCheck[mapping[prop][i]]=prop;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase();propertiesToCheck[name]&&(properties[name]=1)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"*"===property.hack&&reporter.report("Property with star prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(parser,reporter){function startRule(){textIndent=!1,direction="inherit"}function endRule(){textIndent&&"ltr"!==direction&&reporter.report("Negative text-indent doesn\'t work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",textIndent.line,textIndent.col,rule)}var textIndent,direction,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase(),value=event.value;"text-indent"===name&&-99>value.parts[0].value?textIndent=event.property:"direction"===name&&"ltr"==""+value&&(direction="ltr")}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"_"===property.hack&&reporter.report("Property with underscore prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(parser,reporter){var rule=this,headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener("startrule",function(event){var selector,part,pseudo,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.elementName&&/(h[1-6])/i.test(""+part.elementName)){for(j=0;part.modifiers.length>j;j++)if("pseudo"===part.modifiers[j].type){pseudo=!0;break}pseudo||(headings[RegExp.$1]++,headings[RegExp.$1]>1&&reporter.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,rule))}}),parser.addListener("endstylesheet",function(){var prop,messages=[];for(prop in headings)headings.hasOwnProperty(prop)&&headings[prop]>1&&messages.push(headings[prop]+" "+prop+"s");messages.length&&reporter.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",rule)})}}),CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,selectors=event.selectors;for(i=0;selectors.length>i;i++)selector=selectors[i],part=selector.parts[selector.parts.length-1],"*"===part.elementName&&reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"!==modifier.type||part.elementName&&"*"!==part.elementName||reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},num=1}function endRule(){var prop,i,len,needed,actual,needsStandard=[];for(prop in properties)propertiesToCheck[prop]&&needsStandard.push({actual:prop,needed:propertiesToCheck[prop]});for(i=0,len=needsStandard.length;len>i;i++)needed=needsStandard[i].needed,actual=needsStandard[i].actual,properties[needed]?properties[needed][0].pos<properties[actual][0].pos&&reporter.report("Standard property \'"+needed+"\' should come after vendor-prefixed property \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule):reporter.report("Missing standard property \'"+needed+"\' to go along with \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}var properties,num,rule=this,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing"};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();properties[name]||(properties[name]=[]),properties[name].push({name:event.property,value:event.value,pos:num++})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don\'t need to specify units when a value is 0.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){for(var parts=event.value.parts,i=0,len=parts.length;len>i;)!parts[i].units&&"percentage"!==parts[i].type||0!==parts[i].value||"time"===parts[i].type||reporter.report("Values of 0 shouldn\'t have units specified.",parts[i].line,parts[i].col,rule),i++})}}),function(){var xmlEscape=function(str){return str&&str.constructor===String?str.replace(/[\\"&><]/g,function(match){switch(match){case\'"\':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}}):""};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><checkstyle>\'},endFormat:function(){return"</checkstyle>"},readError:function(filename,message){return\'<file name="\'+xmlEscape(filename)+\'"><error line="0" column="0" severty="error" message="\'+xmlEscape(message)+\'"></error></file>\'},formatResults:function(results,filename){var messages=results.messages,output=[],generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup||output.push(\'<error line="\'+message.line+\'" column="\'+message.col+\'" severity="\'+message.type+\'"\'+\' message="\'+xmlEscape(message.message)+\'" source="\'+generateSource(message.rule)+\'"/>\')}),output.push("</file>")),output.join("")}})}(),CSSLint.addFormatter({id:"compact",name:"Compact, \'porcelain\' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};return 0===messages.length?options.quiet?"":filename+": Lint Free!":(CSSLint.Util.forEach(messages,function(message){output+=message.rollup?filename+": "+capitalize(message.type)+" - "+message.message+"\\n":filename+": "+"line "+message.line+", col "+message.col+", "+capitalize(message.type)+" - "+message.message+" ("+message.rule.id+")\\n"}),output)}}),CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><csslint>\'},endFormat:function(){return"</csslint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><testsuites>\'},endFormat:function(){return"</testsuites>"},formatResults:function(results,filename){var messages=results.messages,output=[],tests={error:0,failure:0},generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""},escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(messages.forEach(function(message){var type="warning"===message.type?"error":message.type;message.rollup||(output.push(\'<testcase time="0" name="\'+generateSource(message.rule)+\'">\'),output.push("<"+type+\' message="\'+escapeSpecialCharacters(message.message)+\'"><![CDATA[\'+message.line+":"+message.col+":"+escapeSpecialCharacters(message.evidence)+"]]></"+type+">"),output.push("</testcase>"),tests[type]+=1)}),output.unshift(\'<testsuite time="0" tests="\'+messages.length+\'" skipped="0" errors="\'+tests.error+\'" failures="\'+tests.failure+\'" package="net.csslint" name="\'+filename+\'">\'),output.push("</testsuite>")),output.join("")}}),CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><lint>\'},endFormat:function(){return"</lint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";if(options=options||{},0===messages.length)return options.quiet?"":"\\n\\ncsslint: No errors in "+filename+".";output="\\n\\ncsslint: There ",output+=1===messages.length?"is 1 problem":"are "+messages.length+" problems",output+=" in "+filename+".";var pos=filename.lastIndexOf("/"),shortFilename=filename;return-1===pos&&(pos=filename.lastIndexOf("\\\\")),pos>-1&&(shortFilename=filename.substring(pos+1)),CSSLint.Util.forEach(messages,function(message,i){output=output+"\\n\\n"+shortFilename,message.rollup?(output+="\\n"+(i+1)+": "+message.type,output+="\\n"+message.message):(output+="\\n"+(i+1)+": "+message.type+" at line "+message.line+", col "+message.col,output+="\\n"+message.message,output+="\\n"+message.evidence)}),output}}),module.exports.CSSLint=CSSLint}),ace.define("ace/mode/css_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/css/csslint"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),Mirror=acequire("../worker/mirror").Mirror,CSSLint=acequire("./css/csslint").CSSLint,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.ruleset=null,this.setDisabledRules("ids|order-alphabetical"),this.setInfoRules("adjoining-classes|qualified-headings|zero-units|gradients|import|outline-none|vendor-prefix")};oop.inherits(Worker,Mirror),function(){this.setInfoRules=function(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|")),this.infoRules=lang.arrayToMap(ruleNames),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.setDisabledRules=function(ruleNames){if(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|"));\nvar all={};CSSLint.getRules().forEach(function(x){all[x.id]=!0}),ruleNames.forEach(function(x){delete all[x]}),this.ruleset=all}else this.ruleset=null;this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.onUpdate=function(){var value=this.doc.getValue();if(!value)return this.sender.emit("annotate",[]);var infoRules=this.infoRules,result=CSSLint.verify(value,this.ruleset);this.sender.emit("annotate",result.messages.map(function(msg){return{row:msg.line-1,column:msg.col-1,text:msg.message,type:infoRules[msg.rule.id]?"info":msg.type,rule:msg.rule.name}}))}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t){e.exports.id="ace/mode/html_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/html/saxparser",["require","exports","module"],function(acequire,exports,module){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof acequire&&acequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw Error("Cannot find module \'"+o+"\'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof acequire&&acequire,o=0;r.length>o;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function isScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI?"applet"===node.localName||"caption"===node.localName||"marquee"===node.localName||"object"===node.localName||"table"===node.localName||"td"===node.localName||"th"===node.localName:"http://www.w3.org/1998/Math/MathML"===node.namespaceURI?"mi"===node.localName||"mo"===node.localName||"mn"===node.localName||"ms"===node.localName||"mtext"===node.localName||"annotation-xml"===node.localName:"http://www.w3.org/2000/svg"===node.namespaceURI?"foreignObject"===node.localName||"desc"===node.localName||"title"===node.localName:void 0}function isListItemScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ol"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ul"===node.localName}function isTableScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"table"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableBodyScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tbody"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tfoot"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"thead"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableRowScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tr"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isButtonScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"button"===node.localName}function isSelectScopeMarker(node){return!("http://www.w3.org/1999/xhtml"===node.namespaceURI&&"optgroup"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"option"===node.localName)}function ElementStack(){this.elements=[],this.rootNode=null,this.headElement=null,this.bodyElement=null}ElementStack.prototype._inScope=function(localName,isMarker){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.localName===localName)return!0;if(isMarker(node))return!1}},ElementStack.prototype.push=function(item){this.elements.push(item)},ElementStack.prototype.pushHtmlElement=function(item){this.rootNode=item.node,this.push(item)},ElementStack.prototype.pushHeadElement=function(item){this.headElement=item.node,this.push(item)},ElementStack.prototype.pushBodyElement=function(item){this.bodyElement=item.node,this.push(item)},ElementStack.prototype.pop=function(){return this.elements.pop()},ElementStack.prototype.remove=function(item){this.elements.splice(this.elements.indexOf(item),1)},ElementStack.prototype.popUntilPopped=function(localName){var element;do element=this.pop();while(element.localName!=localName)},ElementStack.prototype.popUntilTableScopeMarker=function(){for(;!isTableScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableBodyScopeMarker=function(){for(;!isTableBodyScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableRowScopeMarker=function(){for(;!isTableRowScopeMarker(this.top);)this.pop()},ElementStack.prototype.item=function(index){return this.elements[index]},ElementStack.prototype.contains=function(element){return-1!==this.elements.indexOf(element)},ElementStack.prototype.inScope=function(localName){return this._inScope(localName,isScopeMarker)},ElementStack.prototype.inListItemScope=function(localName){return this._inScope(localName,isListItemScopeMarker)},ElementStack.prototype.inTableScope=function(localName){return this._inScope(localName,isTableScopeMarker)},ElementStack.prototype.inButtonScope=function(localName){return this._inScope(localName,isButtonScopeMarker)},ElementStack.prototype.inSelectScope=function(localName){return this._inScope(localName,isSelectScopeMarker)},ElementStack.prototype.hasNumberedHeaderElementInScope=function(){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.isNumberedHeader())return!0;if(isScopeMarker(node))return!1}},ElementStack.prototype.furthestBlockForFormattingElement=function(element){for(var furthestBlock=null,i=this.elements.length-1;i>=0;i--){var node=this.elements[i];\nif(node.node===element)break;node.isSpecial()&&(furthestBlock=node)}return furthestBlock},ElementStack.prototype.findIndex=function(localName){for(var i=this.elements.length-1;i>=0;i--)if(this.elements[i].localName==localName)return i;return-1},ElementStack.prototype.remove_openElements_until=function(callback){for(var element,finished=!1;!finished;)element=this.elements.pop(),finished=callback(element);return element},Object.defineProperty(ElementStack.prototype,"top",{get:function(){return this.elements[this.elements.length-1]}}),Object.defineProperty(ElementStack.prototype,"length",{get:function(){return this.elements.length}}),exports.ElementStack=ElementStack},{}],2:[function(_dereq_,module,exports){function isAlphaNumeric(c){return c>="0"&&"9">=c||c>="a"&&"z">=c||c>="A"&&"Z">=c}function isHexDigit(c){return c>="0"&&"9">=c||c>="a"&&"f">=c||c>="A"&&"F">=c}function isDecimalDigit(c){return c>="0"&&"9">=c}var entities=_dereq_("html5-entities"),InputStream=_dereq_("./InputStream").InputStream,namedEntityPrefixes={};Object.keys(entities).forEach(function(entityKey){for(var i=0;entityKey.length>i;i++)namedEntityPrefixes[entityKey.substring(0,i+1)]=!0});var EntityParser={};EntityParser.consumeEntity=function(buffer,tokenizer,additionalAllowedCharacter){var decodedCharacter="",consumedCharacters="",ch=buffer.char();if(ch===InputStream.EOF)return!1;if(consumedCharacters+=ch,"\t"==ch||"\\n"==ch||"\v"==ch||" "==ch||"<"==ch||"&"==ch)return buffer.unget(consumedCharacters),!1;if(additionalAllowedCharacter===ch)return buffer.unget(consumedCharacters),!1;if("#"==ch){if(ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch;var radix=10,isDigit=isDecimalDigit;if("x"==ch||"X"==ch){if(radix=16,isDigit=isHexDigit,ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch}if(isDigit(ch)){for(var code="";ch!==InputStream.EOF&&isDigit(ch);)code+=ch,ch=buffer.char();code=parseInt(code,radix);var replacement=this.replaceEntityNumbers(code);if(replacement&&(tokenizer._parseError("invalid-numeric-entity-replaced"),code=replacement),code>65535&&1114111>=code){code-=65536;var first=((1047552&code)>>10)+55296,second=(1023&code)+56320;decodedCharacter=String.fromCharCode(first,second)}else decodedCharacter=String.fromCharCode(code);return";"!==ch&&(tokenizer._parseError("numeric-entity-without-semicolon"),buffer.unget(ch)),decodedCharacter}return buffer.unget(consumedCharacters),tokenizer._parseError("expected-numeric-entity"),!1}if(ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch){for(var mostRecentMatch="";namedEntityPrefixes[consumedCharacters]&&(entities[consumedCharacters]&&(mostRecentMatch=consumedCharacters),";"!=ch)&&(ch=buffer.char(),ch!==InputStream.EOF);)consumedCharacters+=ch;return mostRecentMatch?(decodedCharacter=entities[mostRecentMatch],";"===ch||!additionalAllowedCharacter||!isAlphaNumeric(ch)&&"="!==ch?(consumedCharacters.length>mostRecentMatch.length&&buffer.unget(consumedCharacters.substring(mostRecentMatch.length)),";"!==ch&&tokenizer._parseError("named-entity-without-semicolon"),decodedCharacter):(buffer.unget(consumedCharacters),!1)):(tokenizer._parseError("expected-named-entity"),buffer.unget(consumedCharacters),!1)}},EntityParser.replaceEntityNumbers=function(c){switch(c){case 0:return 65533;case 19:return 16;case 128:return 8364;case 129:return 129;case 130:return 8218;case 131:return 402;case 132:return 8222;case 133:return 8230;case 134:return 8224;case 135:return 8225;case 136:return 710;case 137:return 8240;case 138:return 352;case 139:return 8249;case 140:return 338;case 141:return 141;case 142:return 381;case 143:return 143;case 144:return 144;case 145:return 8216;case 146:return 8217;case 147:return 8220;case 148:return 8221;case 149:return 8226;case 150:return 8211;case 151:return 8212;case 152:return 732;case 153:return 8482;case 154:return 353;case 155:return 8250;case 156:return 339;case 157:return 157;case 158:return 382;case 159:return 376;default:if(c>=55296&&57343>=c||c>1114111)return 65533;if(c>=1&&8>=c||c>=14&&31>=c||c>=127&&159>=c||c>=64976&&65007>=c||11==c||65534==c||131070==c||3145726==c||196607==c||262142==c||262143==c||327678==c||327679==c||393214==c||393215==c||458750==c||458751==c||524286==c||524287==c||589822==c||589823==c||655358==c||655359==c||720894==c||720895==c||786430==c||786431==c||851966==c||851967==c||917502==c||917503==c||983038==c||983039==c||1048574==c||1048575==c||1114110==c||1114111==c)return c}},exports.EntityParser=EntityParser},{"./InputStream":3,"html5-entities":12}],3:[function(_dereq_,module,exports){function InputStream(){this.data="",this.start=0,this.committed=0,this.eof=!1,this.lastLocation={line:0,column:0}}InputStream.EOF=-1,InputStream.DRAIN=-2,InputStream.prototype={slice:function(){if(this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}return this.data.slice(this.start,this.data.length)},"char":function(){if(!this.eof&&this.start>=this.data.length-1)throw InputStream.DRAIN;if(this.start>=this.data.length)return InputStream.EOF;var ch=this.data[this.start++];return"\\r"===ch&&(ch="\\n"),ch},advance:function(amount){if(this.start+=amount,this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}this.committed>this.data.length/2&&(this.lastLocation=this.location(),this.data=this.data.slice(this.committed),this.start=this.start-this.committed,this.committed=0)},matchWhile:function(re){if(this.eof&&this.start>=this.data.length)return"";var r=RegExp("^"+re+"+"),m=r.exec(this.slice());if(m){if(!this.eof&&m[0].length==this.data.length-this.start)throw InputStream.DRAIN;return this.advance(m[0].length),m[0]}return""},matchUntil:function(re){var m,s;if(s=this.slice(),s===InputStream.EOF)return"";if(m=RegExp(re+(this.eof?"|$":"")).exec(s)){var t=this.data.slice(this.start,this.start+m.index);return this.advance(m.index),t.replace(/\\r/g,"\\n").replace(/\\n{2,}/g,"\\n")}throw InputStream.DRAIN},append:function(data){this.data+=data},shift:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;if(this.eof&&this.start>=this.data.length)return InputStream.EOF;var d=""+this.data.slice(this.start,this.start+n);return this.advance(Math.min(n,this.data.length-this.start)),d},peek:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;return this.eof&&this.start>=this.data.length?InputStream.EOF:""+this.data.slice(this.start,Math.min(this.start+n,this.data.length))},length:function(){return this.data.length-this.start-1},unget:function(d){d!==InputStream.EOF&&(this.start-=d.length)},undo:function(){this.start=this.committed},commit:function(){this.committed=this.start},location:function(){var lastLine=this.lastLocation.line,lastColumn=this.lastLocation.column,read=this.data.slice(0,this.committed),newlines=read.match(/\\n/g),line=newlines?lastLine+newlines.length:lastLine,column=newlines?read.length-read.lastIndexOf("\\n")-1:lastColumn+read.length;return{line:line,column:column}}},exports.InputStream=InputStream},{}],4:[function(_dereq_,module,exports){function StackItem(namespaceURI,localName,attributes,node){this.localName=localName,this.namespaceURI=namespaceURI,this.attributes=attributes,this.node=node}function getAttribute(item,name){for(var i=0;item.attributes.length>i;i++)if(item.attributes[i].nodeName==name)return item.attributes[i].nodeValue;return null}var SpecialElements={"http://www.w3.org/1999/xhtml":["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],"http://www.w3.org/1998/Math/MathML":["mi","mo","mn","ms","mtext","annotation-xml"],"http://www.w3.org/2000/svg":["foreignObject","desc","title"]};StackItem.prototype.isSpecial=function(){return this.namespaceURI in SpecialElements&&SpecialElements[this.namespaceURI].indexOf(this.localName)>-1},StackItem.prototype.isFosterParenting=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"table"===this.localName||"tbody"===this.localName||"tfoot"===this.localName||"thead"===this.localName||"tr"===this.localName:!1},StackItem.prototype.isNumberedHeader=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"h1"===this.localName||"h2"===this.localName||"h3"===this.localName||"h4"===this.localName||"h5"===this.localName||"h6"===this.localName:!1},StackItem.prototype.isForeign=function(){return"http://www.w3.org/1999/xhtml"!=this.namespaceURI},StackItem.prototype.isHtmlIntegrationPoint=function(){if("http://www.w3.org/1998/Math/MathML"===this.namespaceURI){if("annotation-xml"!==this.localName)return!1;var encoding=getAttribute(this,"encoding");return encoding?(encoding=encoding.toLowerCase(),"text/html"===encoding||"application/xhtml+xml"===encoding):!1}return"http://www.w3.org/2000/svg"===this.namespaceURI?"foreignObject"===this.localName||"desc"===this.localName||"title"===this.localName:!1},StackItem.prototype.isMathMLTextIntegrationPoint=function(){return"http://www.w3.org/1998/Math/MathML"===this.namespaceURI?"mi"===this.localName||"mo"===this.localName||"mn"===this.localName||"ms"===this.localName||"mtext"===this.localName:!1},exports.StackItem=StackItem},{}],5:[function(_dereq_,module,exports){function isWhitespace(c){return" "===c||"\\n"===c||"\t"===c||"\\r"===c||"\\f"===c}function isAlpha(c){return c>="A"&&"Z">=c||c>="a"&&"z">=c}function Tokenizer(tokenHandler){this._tokenHandler=tokenHandler,this._state=Tokenizer.DATA,this._inputStream=new InputStream,this._currentToken=null,this._temporaryBuffer="",this._additionalAllowedCharacter=""}var InputStream=_dereq_("./InputStream").InputStream,EntityParser=_dereq_("./EntityParser").EntityParser;Tokenizer.prototype._parseError=function(code,args){this._tokenHandler.parseError(code,args)},Tokenizer.prototype._emitToken=function(token){if("StartTag"===token.type)for(var i=1;token.data.length>i;i++)token.data[i].nodeName||token.data.splice(i--,1);else"EndTag"===token.type&&(token.selfClosing&&this._parseError("self-closing-flag-on-end-tag"),0!==token.data.length&&this._parseError("attributes-in-end-tag"));this._tokenHandler.processToken(token),"StartTag"===token.type&&token.selfClosing&&!this._tokenHandler.isSelfClosingFlagAcknowledged()&&this._parseError("non-void-element-with-trailing-solidus",{name:token.name})},Tokenizer.prototype._emitCurrentToken=function(){this._state=Tokenizer.DATA,this._emitToken(this._currentToken)},Tokenizer.prototype._currentAttribute=function(){return this._currentToken.data[this._currentToken.data.length-1]},Tokenizer.prototype.setState=function(state){this._state=state},Tokenizer.prototype.tokenize=function(source){function data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_data_state);else if("<"===data)tokenizer.setState(tag_open_state);else if("\\0"===data)tokenizer._emitToken({type:"Characters",data:data}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_data_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(data_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rcdata_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_rcdata_state);else if("<"===data)tokenizer.setState(rcdata_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_rcdata_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(rcdata_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rawtext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(rawtext_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function plaintext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(script_data_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function rcdata_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rcdata_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rcdata_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rawtext_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rawtext_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rawtext_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function script_data_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_end_tag_open_state)):"!"===data?(tokenizer._emitToken({type:"Characters",data:"<!"}),tokenizer.setState(script_data_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(script_data_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escape_start_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_dash_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escaped_state(buffer){var data=buffer.char();if(data===InputStream.EOF)buffer.unget(data),tokenizer.setState(data_state);else if("-"===data)tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_state);else if("<"===data)tokenizer.setState(script_data_escaped_less_then_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("<|-|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_less_then_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_escaped_end_tag_open_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:"<"+data}),this._temporaryBuffer=data,tokenizer.setState(script_data_double_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer=data,tokenizer.setState(script_data_escaped_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escape_start_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_double_escaped_state):tokenizer.setState(script_data_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escaped_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit()):(tokenizer._emitToken({type:"Characters",data:data}),buffer.commit()),!0}function script_data_double_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),buffer.commit()):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(tokenizer._emitToken({type:"Characters",data:"/"}),this._temporaryBuffer="",tokenizer.setState(script_data_double_escape_end_state)):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escape_end_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_escaped_state):tokenizer.setState(script_data_double_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("bare-less-than-sign-at-eof"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"StartTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):"!"===data?tokenizer.setState(markup_declaration_open_state):"/"===data?tokenizer.setState(close_tag_open_state):">"===data?(tokenizer._parseError("expected-tag-name-but-got-right-bracket"),tokenizer._emitToken({type:"Characters",data:"<>"}),tokenizer.setState(data_state)):"?"===data?(tokenizer._parseError("expected-tag-name-but-got-question-mark"),buffer.unget(data),tokenizer.setState(bogus_comment_state)):(tokenizer._parseError("expected-tag-name"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)),!0}function close_tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-closing-tag-but-got-eof"),tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"EndTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):">"===data?(tokenizer._parseError("expected-closing-tag-but-got-right-bracket"),tokenizer.setState(data_state)):(tokenizer._parseError("expected-closing-tag-but-got-char",{data:data}),buffer.unget(data),tokenizer.setState(bogus_comment_state)),!0}function tag_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-tag-name"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):isAlpha(data)?tokenizer._currentToken.name+=data.toLowerCase():">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.name+="�"):tokenizer._currentToken.name+=data,buffer.commit(),!0}function before_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-name-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data.toLowerCase(),nodeValue:""}),tokenizer.setState(attribute_name_state)):">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"="===data||"<"===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"�",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function attribute_name_state(buffer){var data=buffer.char(),leavingThisState=!0,shouldEmit=!1;if(data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-name"),buffer.unget(data),tokenizer.setState(data_state),shouldEmit=!0):"="===data?tokenizer.setState(before_attribute_value_state):isAlpha(data)?(tokenizer._currentAttribute().nodeName+=data.toLowerCase(),leavingThisState=!1):">"===data?shouldEmit=!0:isWhitespace(data)?tokenizer.setState(after_attribute_name_state):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeName+="�"):(tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1),leavingThisState){for(var attributes=tokenizer._currentToken.data,currentAttribute=attributes[attributes.length-1],i=attributes.length-2;i>=0;i--)if(currentAttribute.nodeName===attributes[i].nodeName){tokenizer._parseError("duplicate-attribute",{name:currentAttribute.nodeName}),currentAttribute.nodeName=null;break}shouldEmit&&tokenizer._emitCurrentToken()}else buffer.commit();return!0}function after_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-end-of-tag-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;"="===data?tokenizer.setState(before_attribute_value_state):">"===data?tokenizer._emitCurrentToken():isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"<"===data?(tokenizer._parseError("invalid-character-after-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"�",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function before_attribute_value_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-value-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;\'"\'===data?tokenizer.setState(attribute_value_double_quoted_state):"&"===data?(tokenizer.setState(attribute_value_unquoted_state),buffer.unget(data)):"\'"===data?tokenizer.setState(attribute_value_single_quoted_state):">"===data?(tokenizer._parseError("expected-attribute-value-but-got-right-bracket"),tokenizer._emitCurrentToken()):"="===data||"<"===data||"`"===data?(tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�"):(tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state))}return!0\n}function attribute_value_double_quoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-in-attribute-value-double-quote"),buffer.unget(data),tokenizer.setState(data_state);else if(\'"\'===data)tokenizer.setState(after_attribute_value_state);else if("&"===data)this._additionalAllowedCharacter=\'"\',tokenizer.setState(character_reference_in_attribute_value_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�";else{var s=buffer.matchUntil(\'[\\0"&]\');data+=s,tokenizer._currentAttribute().nodeValue+=data}return!0}function attribute_value_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-value-single-quote"),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_attribute_value_state):"&"===data?(this._additionalAllowedCharacter="\'",tokenizer.setState(character_reference_in_attribute_value_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�"):tokenizer._currentAttribute().nodeValue+=data+buffer.matchUntil("\\0|[\'&]"),!0}function attribute_value_unquoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state);else if(isWhitespace(data))tokenizer.setState(before_attribute_name_state);else if("&"===data)this._additionalAllowedCharacter=">",tokenizer.setState(character_reference_in_attribute_value_state);else if(">"===data)tokenizer._emitCurrentToken();else if(\'"\'===data||"\'"===data||"="===data||"`"===data||"<"===data)tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,buffer.commit();else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�";else{var o=buffer.matchUntil("\\0|[\t\\n\v\\f \\r&<>\\"\'=`]");o===InputStream.EOF&&(tokenizer._parseError("eof-in-attribute-value-no-quotes"),tokenizer._emitCurrentToken()),buffer.commit(),tokenizer._currentAttribute().nodeValue+=data+o}return!0}function character_reference_in_attribute_value_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer,this._additionalAllowedCharacter);return this._currentAttribute().nodeValue+=character||"&",\'"\'===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_double_quoted_state):"\'"===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_single_quoted_state):">"===this._additionalAllowedCharacter&&tokenizer.setState(attribute_value_unquoted_state),!0}function after_attribute_value_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"/"===data?tokenizer.setState(self_closing_tag_state):(tokenizer._parseError("unexpected-character-after-attribute-value"),buffer.unget(data),tokenizer.setState(before_attribute_name_state)),!0}function self_closing_tag_state(buffer){var c=buffer.char();return c===InputStream.EOF?(tokenizer._parseError("unexpected-eof-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(data_state)):">"===c?(tokenizer._currentToken.selfClosing=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-character-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(before_attribute_name_state)),!0}function bogus_comment_state(buffer){var data=buffer.matchUntil(">");return data=data.replace(/\\u0000/g,"�"),buffer.char(),tokenizer._emitToken({type:"Comment",data:data}),tokenizer.setState(data_state),!0}function markup_declaration_open_state(buffer){var chars=buffer.shift(2);if("--"===chars)tokenizer._currentToken={type:"Comment",data:""},tokenizer.setState(comment_start_state);else{var newchars=buffer.shift(5);if(newchars===InputStream.EOF||chars===InputStream.EOF)return tokenizer._parseError("expected-dashes-or-doctype"),tokenizer.setState(bogus_comment_state),buffer.unget(chars),!0;chars+=newchars,"DOCTYPE"===chars.toUpperCase()?(tokenizer._currentToken={type:"Doctype",name:"",publicId:null,systemId:null,forceQuirks:!1},tokenizer.setState(doctype_state)):tokenizer._tokenHandler.isCdataSectionAllowed()&&"[CDATA["===chars?tokenizer.setState(cdata_section_state):(tokenizer._parseError("expected-dashes-or-doctype"),buffer.unget(chars),tokenizer.setState(bogus_comment_state))}return!0}function cdata_section_state(buffer){var data=buffer.matchUntil("]]>");return buffer.shift(3),data&&tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(data_state),!0}function comment_start_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_start_dash_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="�"):(tokenizer._currentToken.data+=data,tokenizer.setState(comment_state)),!0}function comment_start_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="�"):(tokenizer._currentToken.data+="-"+data,tokenizer.setState(comment_state)),!0}function comment_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_dash_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="�"):(tokenizer._currentToken.data+=data,buffer.commit()),!0}function comment_end_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="-�",tokenizer.setState(comment_state)):(tokenizer._currentToken.data+="-"+data+buffer.matchUntil("\\0|-"),buffer.char()),!0}function comment_end_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-double-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"!"===data?(tokenizer._parseError("unexpected-bang-after-double-dash-in-comment"),tokenizer.setState(comment_end_bang_state)):"-"===data?(tokenizer._parseError("unexpected-dash-after-double-dash-in-comment"),tokenizer._currentToken.data+=data):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="--�",tokenizer.setState(comment_state)):(tokenizer._parseError("unexpected-char-in-comment"),tokenizer._currentToken.data+="--"+data,tokenizer.setState(comment_state)),!0}function comment_end_bang_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-bang-state"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"-"===data?(tokenizer._currentToken.data+="--!",tokenizer.setState(comment_end_dash_state)):(tokenizer._currentToken.data+="--!"+data,tokenizer.setState(comment_state)),!0}function doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_name_state):(tokenizer._parseError("need-space-after-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_name_state)),!0}function before_doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(">"===data?(tokenizer._parseError("expected-doctype-name-but-got-right-bracket"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name=data,tokenizer.setState(doctype_name_state))),!0}function doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype-name"),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(after_doctype_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name+=data,buffer.commit()),!0}function after_doctype_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype"),tokenizer.setState(data_state),tokenizer._emitCurrentToken();else if(isWhitespace(data));else if(">"===data)tokenizer.setState(data_state),tokenizer._emitCurrentToken();else{if(["p","P"].indexOf(data)>-1){var expected=[["u","U"],["b","B"],["l","L"],["i","I"],["c","C"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_public_keyword_state),!0}else if(["s","S"].indexOf(data)>-1){var expected=[["y","Y"],["s","S"],["t","T"],["e","E"],["m","M"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_system_keyword_state),!0}buffer.unget(data),tokenizer._currentToken.forceQuirks=!0,data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("expected-space-or-right-bracket-in-doctype",{data:data}),tokenizer.setState(bogus_doctype_state))}return!0}function after_doctype_public_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_public_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)),!0}function before_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_public_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function doctype_public_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"\'"===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function after_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(between_doctype_public_and_system_identifiers_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state)),!0}function between_doctype_public_and_system_identifiers_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function after_doctype_system_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_doctype_system_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)),!0}function before_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_system_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):\'"\'===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function doctype_system_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function after_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer.setState(bogus_doctype_state))),!0}function bogus_doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):">"===data&&(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)),!0}Tokenizer.DATA=data_state,Tokenizer.RCDATA=rcdata_state,Tokenizer.RAWTEXT=rawtext_state,Tokenizer.SCRIPT_DATA=script_data_state,Tokenizer.PLAINTEXT=plaintext_state,this._state=Tokenizer.DATA,this._inputStream.append(source),this._tokenHandler.startTokenization(this),this._inputStream.eof=!0;for(var tokenizer=this;this._state.call(this,this._inputStream););},Object.defineProperty(Tokenizer.prototype,"lineNumber",{get:function(){return this._inputStream.location().line}}),Object.defineProperty(Tokenizer.prototype,"columnNumber",{get:function(){return this._inputStream.location().column}}),exports.Tokenizer=Tokenizer},{"./EntityParser":2,"./InputStream":3}],6:[function(_dereq_,module,exports){function isWhitespace(ch){return" "===ch||"\\n"===ch||"\t"===ch||"\\r"===ch||"\\f"===ch}function isWhitespaceOrReplacementCharacter(ch){return isWhitespace(ch)||"�"===ch}function isAllWhitespace(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespace(ch))return!1}return!0}function isAllWhitespaceOrReplacementCharacters(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespaceOrReplacementCharacter(ch))return!1}return!0}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute}return null}function CharacterBuffer(characters){this.characters=characters,this.current=0,this.end=this.characters.length}function TreeBuilder(){this.tokenizer=null,this.errorHandler=null,this.scriptingEnabled=!1,this.document=null,this.head=null,this.form=null,this.openElements=new ElementStack,this.activeFormattingElements=[],this.insertionMode=null,this.insertionModeName="",this.originalInsertionMode="",this.inQuirksMode=!1,this.compatMode="no quirks",this.framesetOk=!0,this.redirectAttachToFosterParent=!1,this.selfClosingFlagAcknowledged=!1,this.context="",this.pendingTableCharacters=[],this.shouldSkipLeadingNewline=!1;var tree=this,modes=this.insertionModes={};modes.base={end_tag_handlers:{"-default":"endTagOther"},start_tag_handlers:{"-default":"startTagOther"},processEOF:function(){tree.generateImpliedEndTags(),tree.openElements.length>2?tree.parseError("expected-closing-tag-but-got-eof"):2==tree.openElements.length&&"body"!=tree.openElements.item(1).localName?tree.parseError("expected-closing-tag-but-got-eof"):tree.context&&tree.openElements.length>1},processComment:function(data){tree.insertComment(data,tree.currentStackItem().node)},processDoctype:function(){tree.parseError("unexpected-doctype")},processStartTag:function(name,attributes,selfClosing){if(this[this.start_tag_handlers[name]])this[this.start_tag_handlers[name]](name,attributes,selfClosing);else{if(!this[this.start_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.start_tag_handlers["-default"]](name,attributes,selfClosing)}},processEndTag:function(name){if(this[this.end_tag_handlers[name]])this[this.end_tag_handlers[name]](name);else{if(!this[this.end_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.end_tag_handlers["-default"]](name)}},startTagHtml:function(name,attributes){modes.inBody.startTagHtml(name,attributes)}},modes.initial=Object.create(modes.base),modes.initial.processEOF=function(){tree.parseError("expected-doctype-but-got-eof"),this.anythingElse(),tree.insertionMode.processEOF()},modes.initial.processComment=function(data){tree.insertComment(data,tree.document)},modes.initial.processDoctype=function(name,publicId,systemId,forceQuirks){function publicIdStartsWith(string){return 0===publicId.toLowerCase().indexOf(string)}tree.insertDoctype(name||"",publicId||"",systemId||""),forceQuirks||"html"!=name||null!=publicId&&(["+//silmaril//dtd html pro v0r11 19970101//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//as//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//ietf//dtd html//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o\'reilly and associates//dtd html 2.0//","-//o\'reilly and associates//dtd html extended 1.0//","-//spyglass//dtd html 2.0 extended//","-//sq//dtd html 2.0 hotmetal + extensions//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//","html"].some(publicIdStartsWith)||["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"].indexOf(publicId.toLowerCase())>-1||null==systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].some(publicIdStartsWith))||null!=systemId&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"==systemId.toLowerCase()?(tree.compatMode="quirks",tree.parseError("quirky-doctype")):null!=publicId&&(["-//w3c//dtd xhtml 1.0 transitional//","-//w3c//dtd xhtml 1.0 frameset//"].some(publicIdStartsWith)||null!=systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].indexOf(publicId.toLowerCase())>-1)?(tree.compatMode="limited quirks",tree.parseError("almost-standards-doctype")):"-//W3C//DTD HTML 4.0//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/REC-html40/strict.dtd"==systemId)||"-//W3C//DTD HTML 4.01//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/html4/strict.dtd"==systemId)||"-//W3C//DTD XHTML 1.0 Strict//EN"==publicId&&"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"==systemId||"-//W3C//DTD XHTML 1.1//EN"==publicId&&"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"==systemId||(null!=systemId&&"about:legacy-compat"!=systemId||null!=publicId)&&tree.parseError("unknown-doctype"),tree.setInsertionMode("beforeHTML")},modes.initial.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(tree.parseError("expected-doctype-but-got-chars"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.initial.processStartTag=function(name,attributes,selfClosing){tree.parseError("expected-doctype-but-got-start-tag",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.initial.processEndTag=function(name){tree.parseError("expected-doctype-but-got-end-tag",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.initial.anythingElse=function(){tree.compatMode="quirks",tree.setInsertionMode("beforeHTML")},modes.beforeHTML=Object.create(modes.base),modes.beforeHTML.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.beforeHTML.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.beforeHTML.processComment=function(data){tree.insertComment(data,tree.document)},modes.beforeHTML.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.beforeHTML.startTagHtml=function(name,attributes){tree.insertHtmlElement(attributes),tree.setInsertionMode("beforeHead")},modes.beforeHTML.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHTML.processEndTag=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.beforeHTML.anythingElse=function(){tree.insertHtmlElement(),tree.setInsertionMode("beforeHead")},modes.afterAfterBody=Object.create(modes.base),modes.afterAfterBody.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.afterAfterBody.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterBody.processDoctype=function(data){modes.inBody.processDoctype(data)},modes.afterAfterBody.startTagHtml=function(data,attributes){modes.inBody.startTagHtml(data,attributes)},modes.afterAfterBody.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterAfterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterAfterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody=Object.create(modes.base),modes.afterBody.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterBody.processComment=function(data){tree.insertComment(data,tree.openElements.rootNode)},modes.afterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody.processStartTag=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterBody.endTagHtml=function(){tree.context?tree.parseError("end-html-in-innerhtml"):tree.setInsertionMode("afterAfterBody")},modes.afterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterFrameset=Object.create(modes.base),modes.afterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoframes","-default":"startTagOther"},modes.afterFrameset.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&tree.insertText(whitespace),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterFrameset.startTagNoframes=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-after-frameset",{name:name})},modes.afterFrameset.endTagHtml=function(){tree.setInsertionMode("afterAfterFrameset")},modes.afterFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-frameset",{name:name})},modes.beforeHead=Object.create(modes.base),modes.beforeHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead","-default":"startTagOther"},modes.beforeHead.end_tag_handlers={html:"endTagImplyHead",head:"endTagImplyHead",body:"endTagImplyHead",br:"endTagImplyHead","-default":"endTagOther"},modes.beforeHead.processEOF=function(){this.startTagHead("head",[]),tree.insertionMode.processEOF()},modes.beforeHead.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.startTagHead("head",[]),tree.insertionMode.processCharacters(buffer))},modes.beforeHead.startTagHead=function(name,attributes){tree.insertHeadElement(attributes),tree.setInsertionMode("inHead")},modes.beforeHead.startTagOther=function(name,attributes,selfClosing){this.startTagHead("head",[]),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHead.endTagImplyHead=function(name){this.startTagHead("head",[]),tree.insertionMode.processEndTag(name)},modes.beforeHead.endTagOther=function(name){tree.parseError("end-tag-after-implied-root",{name:name})},modes.inHead=Object.create(modes.base),modes.inHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",title:"startTagTitle",script:"startTagScript",style:"startTagNoFramesStyle",noscript:"startTagNoScript",noframes:"startTagNoFramesStyle",base:"startTagBaseBasefontBgsoundLink",basefont:"startTagBaseBasefontBgsoundLink",bgsound:"startTagBaseBasefontBgsoundLink",link:"startTagBaseBasefontBgsoundLink",meta:"startTagMeta","-default":"startTagOther"},modes.inHead.end_tag_handlers={head:"endTagHead",html:"endTagHtmlBodyBr",body:"endTagHtmlBodyBr",br:"endTagHtmlBodyBr","-default":"endTagOther"},modes.inHead.processEOF=function(){var name=tree.currentStackItem().localName;\n-1!=["title","style","script"].indexOf(name)&&(tree.parseError("expected-named-closing-tag-but-got-eof",{name:name}),tree.popElement()),this.anythingElse(),tree.insertionMode.processEOF()},modes.inHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inHead.startTagHead=function(){tree.parseError("two-heads-are-not-better-than-one")},modes.inHead.startTagTitle=function(name,attributes){tree.processGenericRCDATAStartTag(name,attributes)},modes.inHead.startTagNoScript=function(name,attributes){return tree.scriptingEnabled?tree.processGenericRawTextStartTag(name,attributes):(tree.insertElement(name,attributes),tree.setInsertionMode("inHeadNoscript"),void 0)},modes.inHead.startTagNoFramesStyle=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inHead.startTagScript=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.SCRIPT_DATA),tree.originalInsertionMode=tree.insertionModeName,tree.setInsertionMode("text")},modes.inHead.startTagBaseBasefontBgsoundLink=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagMeta=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inHead.endTagHead=function(){"head"==tree.openElements.item(tree.openElements.length-1).localName?tree.openElements.pop():tree.parseError("unexpected-end-tag",{name:"head"}),tree.setInsertionMode("afterHead")},modes.inHead.endTagHtmlBodyBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.inHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inHead.anythingElse=function(){this.endTagHead("head")},modes.afterHead=Object.create(modes.base),modes.afterHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",body:"startTagBody",frameset:"startTagFrameset",base:"startTagFromHead",link:"startTagFromHead",meta:"startTagFromHead",script:"startTagFromHead",style:"startTagFromHead",title:"startTagFromHead","-default":"startTagOther"},modes.afterHead.end_tag_handlers={body:"endTagBodyHtmlBr",html:"endTagBodyHtmlBr",br:"endTagBodyHtmlBr","-default":"endTagOther"},modes.afterHead.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.afterHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.afterHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.afterHead.startTagBody=function(name,attributes){tree.framesetOk=!1,tree.insertBodyElement(attributes),tree.setInsertionMode("inBody")},modes.afterHead.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")},modes.afterHead.startTagFromHead=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-out-of-my-head",{name:name}),tree.openElements.push(tree.head),modes.inHead.processStartTag(name,attributes,selfClosing),tree.openElements.remove(tree.head)},modes.afterHead.startTagHead=function(name){tree.parseError("unexpected-start-tag",{name:name})},modes.afterHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterHead.endTagBodyHtmlBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.afterHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.afterHead.anythingElse=function(){tree.insertBodyElement([]),tree.setInsertionMode("inBody"),tree.framesetOk=!0},modes.inBody=Object.create(modes.base),modes.inBody.start_tag_handlers={html:"startTagHtml",head:"startTagMisplaced",base:"startTagProcessInHead",basefont:"startTagProcessInHead",bgsound:"startTagProcessInHead",link:"startTagProcessInHead",meta:"startTagProcessInHead",noframes:"startTagProcessInHead",script:"startTagProcessInHead",style:"startTagProcessInHead",title:"startTagProcessInHead",body:"startTagBody",form:"startTagForm",plaintext:"startTagPlaintext",a:"startTagA",button:"startTagButton",xmp:"startTagXmp",table:"startTagTable",hr:"startTagHr",image:"startTagImage",input:"startTagInput",textarea:"startTagTextarea",select:"startTagSelect",isindex:"startTagIsindex",applet:"startTagAppletMarqueeObject",marquee:"startTagAppletMarqueeObject",object:"startTagAppletMarqueeObject",li:"startTagListItem",dd:"startTagListItem",dt:"startTagListItem",address:"startTagCloseP",article:"startTagCloseP",aside:"startTagCloseP",blockquote:"startTagCloseP",center:"startTagCloseP",details:"startTagCloseP",dir:"startTagCloseP",div:"startTagCloseP",dl:"startTagCloseP",fieldset:"startTagCloseP",figcaption:"startTagCloseP",figure:"startTagCloseP",footer:"startTagCloseP",header:"startTagCloseP",hgroup:"startTagCloseP",main:"startTagCloseP",menu:"startTagCloseP",nav:"startTagCloseP",ol:"startTagCloseP",p:"startTagCloseP",section:"startTagCloseP",summary:"startTagCloseP",ul:"startTagCloseP",listing:"startTagPreListing",pre:"startTagPreListing",b:"startTagFormatting",big:"startTagFormatting",code:"startTagFormatting",em:"startTagFormatting",font:"startTagFormatting",i:"startTagFormatting",s:"startTagFormatting",small:"startTagFormatting",strike:"startTagFormatting",strong:"startTagFormatting",tt:"startTagFormatting",u:"startTagFormatting",nobr:"startTagNobr",area:"startTagVoidFormatting",br:"startTagVoidFormatting",embed:"startTagVoidFormatting",img:"startTagVoidFormatting",keygen:"startTagVoidFormatting",wbr:"startTagVoidFormatting",param:"startTagParamSourceTrack",source:"startTagParamSourceTrack",track:"startTagParamSourceTrack",iframe:"startTagIFrame",noembed:"startTagRawText",noscript:"startTagRawText",h1:"startTagHeading",h2:"startTagHeading",h3:"startTagHeading",h4:"startTagHeading",h5:"startTagHeading",h6:"startTagHeading",caption:"startTagMisplaced",col:"startTagMisplaced",colgroup:"startTagMisplaced",frame:"startTagMisplaced",frameset:"startTagFrameset",tbody:"startTagMisplaced",td:"startTagMisplaced",tfoot:"startTagMisplaced",th:"startTagMisplaced",thead:"startTagMisplaced",tr:"startTagMisplaced",option:"startTagOptionOptgroup",optgroup:"startTagOptionOptgroup",math:"startTagMath",svg:"startTagSVG",rt:"startTagRpRt",rp:"startTagRpRt","-default":"startTagOther"},modes.inBody.end_tag_handlers={p:"endTagP",body:"endTagBody",html:"endTagHtml",address:"endTagBlock",article:"endTagBlock",aside:"endTagBlock",blockquote:"endTagBlock",button:"endTagBlock",center:"endTagBlock",details:"endTagBlock",dir:"endTagBlock",div:"endTagBlock",dl:"endTagBlock",fieldset:"endTagBlock",figcaption:"endTagBlock",figure:"endTagBlock",footer:"endTagBlock",header:"endTagBlock",hgroup:"endTagBlock",listing:"endTagBlock",main:"endTagBlock",menu:"endTagBlock",nav:"endTagBlock",ol:"endTagBlock",pre:"endTagBlock",section:"endTagBlock",summary:"endTagBlock",ul:"endTagBlock",form:"endTagForm",applet:"endTagAppletMarqueeObject",marquee:"endTagAppletMarqueeObject",object:"endTagAppletMarqueeObject",dd:"endTagListItem",dt:"endTagListItem",li:"endTagListItem",h1:"endTagHeading",h2:"endTagHeading",h3:"endTagHeading",h4:"endTagHeading",h5:"endTagHeading",h6:"endTagHeading",a:"endTagFormatting",b:"endTagFormatting",big:"endTagFormatting",code:"endTagFormatting",em:"endTagFormatting",font:"endTagFormatting",i:"endTagFormatting",nobr:"endTagFormatting",s:"endTagFormatting",small:"endTagFormatting",strike:"endTagFormatting",strong:"endTagFormatting",tt:"endTagFormatting",u:"endTagFormatting",br:"endTagBr","-default":"endTagOther"},modes.inBody.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline()),tree.reconstructActiveFormattingElements();var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&(tree.insertText(characters),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1))},modes.inBody.startTagHtml=function(name,attributes){tree.parseError("non-html-root"),tree.addAttributesToElement(tree.openElements.rootNode,attributes)},modes.inBody.startTagProcessInHead=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inBody.startTagBody=function(name,attributes){tree.parseError("unexpected-start-tag",{name:"body"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName?assert.ok(tree.context):(tree.framesetOk=!1,tree.addAttributesToElement(tree.openElements.bodyElement,attributes))},modes.inBody.startTagFrameset=function(name,attributes){if(tree.parseError("unexpected-start-tag",{name:"frameset"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName)assert.ok(tree.context);else if(tree.framesetOk){for(tree.detachFromParent(tree.openElements.bodyElement);tree.openElements.length>1;)tree.openElements.pop();tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")}},modes.inBody.startTagCloseP=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes)},modes.inBody.startTagPreListing=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1,tree.shouldSkipLeadingNewline=!0},modes.inBody.startTagForm=function(name,attributes){tree.form?tree.parseError("unexpected-start-tag",{name:name}):(tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.form=tree.currentStackItem())},modes.inBody.startTagRpRt=function(name,attributes){tree.openElements.inScope("ruby")&&(tree.generateImpliedEndTags(),"ruby"!=tree.currentStackItem().localName&&tree.parseError("unexpected-start-tag",{name:name})),tree.insertElement(name,attributes)},modes.inBody.startTagListItem=function(name,attributes){for(var stopNames={li:["li"],dd:["dd","dt"],dt:["dd","dt"]},stopName=stopNames[name],els=tree.openElements,i=els.length-1;i>=0;i--){var node=els.item(i);if(-1!=stopName.indexOf(node.localName)){tree.insertionMode.processEndTag(node.localName);break}if(node.isSpecial()&&"p"!==node.localName&&"address"!==node.localName&&"div"!==node.localName)break}tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagPlaintext=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.PLAINTEXT)},modes.inBody.startTagHeading=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.currentStackItem().isNumberedHeader()&&(tree.parseError("unexpected-start-tag",{name:name}),tree.popElement()),tree.insertElement(name,attributes)},modes.inBody.startTagA=function(name,attributes){var activeA=tree.elementInActiveFormattingElements("a");activeA&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"a",endName:"a"}),tree.adoptionAgencyEndTag("a"),tree.openElements.contains(activeA)&&tree.openElements.remove(activeA),tree.removeElementFromActiveFormattingElements(activeA)),tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagNobr=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.openElements.inScope("nobr")&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"nobr",endName:"nobr"}),this.processEndTag("nobr"),tree.reconstructActiveFormattingElements()),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagButton=function(name,attributes){tree.openElements.inScope("button")?(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"button",endName:"button"}),this.processEndTag("button"),tree.insertionMode.processStartTag(name,attributes)):(tree.framesetOk=!1,tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes))},modes.inBody.startTagAppletMarqueeObject=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.activeFormattingElements.push(Marker),tree.framesetOk=!1},modes.inBody.endTagAppletMarqueeObject=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name),tree.clearActiveFormattingElements()):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.startTagXmp=function(name,attributes){tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.reconstructActiveFormattingElements(),tree.processGenericRawTextStartTag(name,attributes),tree.framesetOk=!1},modes.inBody.startTagTable=function(name,attributes){"quirks"!==tree.compatMode&&tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.insertElement(name,attributes),tree.setInsertionMode("inTable"),tree.framesetOk=!1},modes.inBody.startTagVoidFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagParamSourceTrack=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inBody.startTagHr=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagImage=function(name,attributes){tree.parseError("unexpected-start-tag-treated-as",{originalName:"image",newName:"img"}),this.processStartTag("img",attributes)},modes.inBody.startTagInput=function(name,attributes){var currentFramesetOk=tree.framesetOk;this.startTagVoidFormatting(name,attributes);for(var key in attributes)if("type"==attributes[key].nodeName){"hidden"==attributes[key].nodeValue.toLowerCase()&&(tree.framesetOk=currentFramesetOk);break}},modes.inBody.startTagIsindex=function(name,attributes){if(tree.parseError("deprecated-tag",{name:"isindex"}),tree.selfClosingFlagAcknowledged=!0,!tree.form){var formAttributes=[],inputAttributes=[],prompt="This is a searchable index. Enter search keywords: ";for(var key in attributes)switch(attributes[key].nodeName){case"action":formAttributes.push({nodeName:"action",nodeValue:attributes[key].nodeValue});break;case"prompt":prompt=attributes[key].nodeValue;break;case"name":break;default:inputAttributes.push({nodeName:attributes[key].nodeName,nodeValue:attributes[key].nodeValue})}inputAttributes.push({nodeName:"name",nodeValue:"isindex"}),this.processStartTag("form",formAttributes),this.processStartTag("hr"),this.processStartTag("label"),this.processCharacters(new CharacterBuffer(prompt)),this.processStartTag("input",inputAttributes),this.processEndTag("label"),this.processStartTag("hr"),this.processEndTag("form")}},modes.inBody.startTagTextarea=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.RCDATA),tree.originalInsertionMode=tree.insertionModeName,tree.shouldSkipLeadingNewline=!0,tree.framesetOk=!1,tree.setInsertionMode("text")},modes.inBody.startTagIFrame=function(name,attributes){tree.framesetOk=!1,this.startTagRawText(name,attributes)},modes.inBody.startTagRawText=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inBody.startTagSelect=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.framesetOk=!1;var insertionModeName=tree.insertionModeName;"inTable"==insertionModeName||"inCaption"==insertionModeName||"inColumnGroup"==insertionModeName||"inTableBody"==insertionModeName||"inRow"==insertionModeName||"inCell"==insertionModeName?tree.setInsertionMode("inSelectInTable"):tree.setInsertionMode("inSelect")},modes.inBody.startTagMisplaced=function(name){tree.parseError("unexpected-start-tag-ignored",{name:name})},modes.inBody.endTagMisplaced=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagBr=function(name){tree.parseError("unexpected-end-tag-treated-as",{originalName:"br",newName:"br element"}),tree.reconstructActiveFormattingElements(),tree.insertElement(name,[]),tree.popElement()},modes.inBody.startTagOptionOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.startTagOther=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.endTagOther=function(name){for(var node,i=tree.openElements.length-1;i>0;i--){if(node=tree.openElements.item(i),node.localName==name){tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("unexpected-end-tag",{name:name}),tree.openElements.remove_openElements_until(function(x){return x===node});break}if(node.isSpecial()){tree.parseError("unexpected-end-tag",{name:name});break}}},modes.inBody.startTagMath=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustMathMLAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/1998/Math/MathML",selfClosing)},modes.inBody.startTagSVG=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustSVGAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/2000/svg",selfClosing)},modes.inBody.endTagP=function(name){tree.openElements.inButtonScope("p")?(tree.generateImpliedEndTags("p"),"p"!=tree.currentStackItem().localName&&tree.parseError("unexpected-implied-end-tag",{name:"p"}),tree.openElements.popUntilPopped(name)):(tree.parseError("unexpected-end-tag",{name:"p"}),this.startTagCloseP("p",[]),this.endTagP("p"))},modes.inBody.endTagBody=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagHtml=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),tree.insertionMode.processEndTag(name),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagBlock=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagForm=function(name){var node=tree.form;tree.form=null,node&&tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem()!=node&&tree.parseError("end-tag-too-early-ignored",{name:"form"}),tree.openElements.remove(node)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagListItem=function(name){tree.openElements.inListItemScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagHeading=function(name){return tree.openElements.hasNumberedHeaderElementInScope()?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.remove_openElements_until(function(e){return e.isNumberedHeader()}),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagFormatting=function(name,attributes){tree.adoptionAgencyEndTag(name)||this.endTagOther(name,attributes)},modes.inCaption=Object.create(modes.base),modes.inCaption.start_tag_handlers={html:"startTagHtml",caption:"startTagTableElement",col:"startTagTableElement",colgroup:"startTagTableElement",tbody:"startTagTableElement",td:"startTagTableElement",tfoot:"startTagTableElement",thead:"startTagTableElement",tr:"startTagTableElement","-default":"startTagOther"},modes.inCaption.end_tag_handlers={caption:"endTagCaption",table:"endTagTable",body:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfood:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inCaption.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCaption.startTagTableElement=function(name,attributes){tree.parseError("unexpected-end-tag",{name:name});var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inCaption.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCaption.endTagCaption=function(name){tree.openElements.inTableScope("caption")?(tree.generateImpliedEndTags(),"caption"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{gotName:"caption",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("caption"),tree.clearActiveFormattingElements(),tree.setInsertionMode("inTable")):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inCaption.endTagTable=function(name){tree.parseError("unexpected-end-table-in-caption");var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inCaption.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCaption.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell=Object.create(modes.base),modes.inCell.start_tag_handlers={html:"startTagHtml",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",td:"startTagTableOther",tfoot:"startTagTableOther",th:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inCell.end_tag_handlers={td:"endTagTableCell",th:"endTagTableCell",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",table:"endTagImply",tbody:"endTagImply",tfoot:"endTagImply",thead:"endTagImply",tr:"endTagImply","-default":"endTagOther"},modes.inCell.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCell.startTagTableOther=function(name,attributes,selfClosing){tree.openElements.inTableScope("td")||tree.openElements.inTableScope("th")?(this.closeCell(),tree.insertionMode.processStartTag(name,attributes,selfClosing)):tree.parseError("unexpected-start-tag",{name:name})},modes.inCell.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCell.endTagTableCell=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name.toLowerCase()?(tree.parseError("unexpected-cell-end-tag",{name:name}),tree.openElements.popUntilPopped(name)):tree.popElement(),tree.clearActiveFormattingElements(),tree.setInsertionMode("inRow")):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagImply=function(name){tree.openElements.inTableScope(name)?(this.closeCell(),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell.closeCell=function(){tree.openElements.inTableScope("td")?this.endTagTableCell("td"):tree.openElements.inTableScope("th")&&this.endTagTableCell("th")},modes.inColumnGroup=Object.create(modes.base),modes.inColumnGroup.start_tag_handlers={html:"startTagHtml",col:"startTagCol","-default":"startTagOther"},modes.inColumnGroup.end_tag_handlers={colgroup:"endTagColgroup",col:"endTagCol","-default":"endTagOther"},modes.inColumnGroup.ignoreEndTagColgroup=function(){return"html"==tree.currentStackItem().localName},modes.inColumnGroup.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();if(leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processCharacters(buffer)}},modes.inColumnGroup.startTagCol=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inColumnGroup.startTagOther=function(name,attributes,selfClosing){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inColumnGroup.endTagColgroup=function(name){this.ignoreEndTagColgroup()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.popElement(),tree.setInsertionMode("inTable"))},modes.inColumnGroup.endTagCol=function(){tree.parseError("no-end-tag",{name:"col"})},modes.inColumnGroup.endTagOther=function(name){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inForeignContent=Object.create(modes.base),modes.inForeignContent.processStartTag=function(name,attributes,selfClosing){if(-1!=["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","menu","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].indexOf(name)||"font"==name&&attributes.some(function(attr){return["color","face","size"].indexOf(attr.nodeName)>=0})){for(tree.parseError("unexpected-html-element-in-foreign-content",{name:name});tree.currentStackItem().isForeign()&&!tree.currentStackItem().isHtmlIntegrationPoint()&&!tree.currentStackItem().isMathMLTextIntegrationPoint();)tree.openElements.pop();return tree.insertionMode.processStartTag(name,attributes,selfClosing),void 0}"http://www.w3.org/1998/Math/MathML"==tree.currentStackItem().namespaceURI&&(attributes=tree.adjustMathMLAttributes(attributes)),"http://www.w3.org/2000/svg"==tree.currentStackItem().namespaceURI&&(name=tree.adjustSVGTagNameCase(name),attributes=tree.adjustSVGAttributes(attributes)),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,tree.currentStackItem().namespaceURI,selfClosing)},modes.inForeignContent.processEndTag=function(name){var node=tree.currentStackItem(),index=tree.openElements.length-1;for(node.localName.toLowerCase()!=name&&tree.parseError("unexpected-end-tag",{name:name});;){if(0===index)break;if(node.localName.toLowerCase()==name){for(;tree.openElements.pop()!=node;);break}if(index-=1,node=tree.openElements.item(index),!node.isForeign()){tree.insertionMode.processEndTag(name);break}}},modes.inForeignContent.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),"�"}),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1),tree.insertText(characters)},modes.inHeadNoscript=Object.create(modes.base),modes.inHeadNoscript.start_tag_handlers={html:"startTagHtml",basefont:"startTagBasefontBgsoundLinkMetaNoframesStyle",bgsound:"startTagBasefontBgsoundLinkMetaNoframesStyle",link:"startTagBasefontBgsoundLinkMetaNoframesStyle",meta:"startTagBasefontBgsoundLinkMetaNoframesStyle",noframes:"startTagBasefontBgsoundLinkMetaNoframesStyle",style:"startTagBasefontBgsoundLinkMetaNoframesStyle",head:"startTagHeadNoscript",noscript:"startTagHeadNoscript","-default":"startTagOther"},modes.inHeadNoscript.end_tag_handlers={noscript:"endTagNoscript",br:"endTagBr","-default":"endTagOther"},modes.inHeadNoscript.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(tree.parseError("unexpected-char-in-frameset"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHeadNoscript.processComment=function(data){modes.inHead.processComment(data)},modes.inHeadNoscript.startTagBasefontBgsoundLinkMetaNoframesStyle=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inHeadNoscript.startTagHeadNoscript=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inHeadNoscript.startTagOther=function(name,attributes){tree.parseError("unexpected-start-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes)},modes.inHeadNoscript.endTagBr=function(name,attributes){tree.parseError("unexpected-end-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name,attributes)},modes.inHeadNoscript.endTagNoscript=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inHeadNoscript.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inHeadNoscript.anythingElse=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inFrameset=Object.create(modes.base),modes.inFrameset.start_tag_handlers={html:"startTagHtml",frameset:"startTagFrameset",frame:"startTagFrame",noframes:"startTagNoframes","-default":"startTagOther"},modes.inFrameset.end_tag_handlers={frameset:"endTagFrameset",noframes:"endTagNoframes","-default":"endTagOther"},modes.inFrameset.processCharacters=function(){tree.parseError("unexpected-char-in-frameset")},modes.inFrameset.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes)},modes.inFrameset.startTagFrame=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inFrameset.startTagNoframes=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inFrameset.endTagFrameset=function(){"html"==tree.currentStackItem().localName?tree.parseError("unexpected-frameset-in-frameset-innerhtml"):tree.popElement(),tree.context||"frameset"==tree.currentStackItem().localName||tree.setInsertionMode("afterFrameset")},modes.inFrameset.endTagNoframes=function(name){modes.inBody.processEndTag(name)},modes.inFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inTable=Object.create(modes.base),modes.inTable.start_tag_handlers={html:"startTagHtml",caption:"startTagCaption",colgroup:"startTagColgroup",col:"startTagCol",table:"startTagTable",tbody:"startTagRowGroup",tfoot:"startTagRowGroup",thead:"startTagRowGroup",td:"startTagImplyTbody",th:"startTagImplyTbody",tr:"startTagImplyTbody",style:"startTagStyleScript",script:"startTagStyleScript",input:"startTagInput",form:"startTagForm","-default":"startTagOther"},modes.inTable.end_tag_handlers={table:"endTagTable",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfoot:"endTagIgnore",th:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTable.processCharacters=function(data){if(tree.currentStackItem().isFosterParenting()){var originalInsertionMode=tree.insertionModeName;\ntree.setInsertionMode("inTableText"),tree.originalInsertionMode=originalInsertionMode,tree.insertionMode.processCharacters(data)}else tree.redirectAttachToFosterParent=!0,modes.inBody.processCharacters(data),tree.redirectAttachToFosterParent=!1},modes.inTable.startTagCaption=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.activeFormattingElements.push(Marker),tree.insertElement(name,attributes),tree.setInsertionMode("inCaption")},modes.inTable.startTagColgroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inColumnGroup")},modes.inTable.startTagCol=function(name,attributes){this.startTagColgroup("colgroup",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagRowGroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inTableBody")},modes.inTable.startTagImplyTbody=function(name,attributes){this.startTagRowGroup("tbody",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagTable=function(name,attributes){tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"table",endName:"table"}),tree.insertionMode.processEndTag("table"),tree.context||tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagStyleScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inTable.startTagInput=function(name,attributes){for(var key in attributes)if("type"==attributes[key].nodeName.toLowerCase()){if("hidden"==attributes[key].nodeValue.toLowerCase())return tree.parseError("unexpected-hidden-input-in-table"),tree.insertElement(name,attributes),tree.openElements.pop(),void 0;break}this.startTagOther(name,attributes)},modes.inTable.startTagForm=function(name,attributes){tree.parseError("unexpected-form-in-table"),tree.form||(tree.insertElement(name,attributes),tree.form=tree.currentStackItem(),tree.openElements.pop())},modes.inTable.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processStartTag(name,attributes,selfClosing),tree.redirectAttachToFosterParent=!1},modes.inTable.endTagTable=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early-named",{gotName:"table",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("table"),tree.resetInsertionMode()):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inTable.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inTable.endTagOther=function(name){tree.parseError("unexpected-end-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processEndTag(name),tree.redirectAttachToFosterParent=!1},modes.inTableText=Object.create(modes.base),modes.inTableText.flushCharacters=function(){var characters=tree.pendingTableCharacters.join("");isAllWhitespace(characters)?tree.insertText(characters):(tree.redirectAttachToFosterParent=!0,tree.reconstructActiveFormattingElements(),tree.insertText(characters),tree.framesetOk=!1,tree.redirectAttachToFosterParent=!1),tree.pendingTableCharacters=[]},modes.inTableText.processComment=function(data){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processComment(data)},modes.inTableText.processEOF=function(){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.inTableText.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&tree.pendingTableCharacters.push(characters)},modes.inTableText.processStartTag=function(name,attributes,selfClosing){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inTableText.processEndTag=function(name,attributes){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEndTag(name,attributes)},modes.inTableBody=Object.create(modes.base),modes.inTableBody.start_tag_handlers={html:"startTagHtml",tr:"startTagTr",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther","-default":"startTagOther"},modes.inTableBody.end_tag_handlers={table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTableBody.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inTableBody.startTagTr=function(name,attributes){tree.openElements.popUntilTableBodyScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inRow")},modes.inTableBody.startTagTableCell=function(name,attributes){tree.parseError("unexpected-cell-in-table-body",{name:name}),this.startTagTr("tr",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTableBody.startTagTableOther=function(name,attributes){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processStartTag(name,attributes)):tree.parseError("unexpected-start-tag",{name:name})},modes.inTableBody.startTagOther=function(name,attributes){modes.inTable.processStartTag(name,attributes)},modes.inTableBody.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(tree.openElements.popUntilTableBodyScopeMarker(),tree.popElement(),tree.setInsertionMode("inTable")):tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagTable=function(name){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inTableBody.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inSelect=Object.create(modes.base),modes.inSelect.start_tag_handlers={html:"startTagHtml",option:"startTagOption",optgroup:"startTagOptgroup",select:"startTagSelect",input:"startTagInput",keygen:"startTagInput",textarea:"startTagInput",script:"startTagScript","-default":"startTagOther"},modes.inSelect.end_tag_handlers={option:"endTagOption",optgroup:"endTagOptgroup",select:"endTagSelect",caption:"endTagTableElements",table:"endTagTableElements",tbody:"endTagTableElements",tfoot:"endTagTableElements",thead:"endTagTableElements",tr:"endTagTableElements",td:"endTagTableElements",th:"endTagTableElements","-default":"endTagOther"},modes.inSelect.processCharacters=function(buffer){var data=buffer.takeRemaining();data=data.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),data&&tree.insertText(data)},modes.inSelect.startTagOption=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.startTagOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.endTagOption=function(name){return"option"!==tree.currentStackItem().localName?(tree.parseError("unexpected-end-tag-in-select",{name:name}),void 0):(tree.popElement(),void 0)},modes.inSelect.endTagOptgroup=function(){"option"==tree.currentStackItem().localName&&"optgroup"==tree.openElements.item(tree.openElements.length-2).localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName?tree.popElement():tree.parseError("unexpected-end-tag-in-select",{name:"optgroup"})},modes.inSelect.startTagSelect=function(){tree.parseError("unexpected-select-in-select"),this.endTagSelect("select")},modes.inSelect.endTagSelect=function(name){tree.openElements.inTableScope("select")?(tree.openElements.popUntilPopped("select"),tree.resetInsertionMode()):tree.parseError("unexpected-end-tag",{name:name})},modes.inSelect.startTagInput=function(name,attributes){tree.parseError("unexpected-input-in-select"),tree.openElements.inSelectScope("select")&&(this.endTagSelect("select"),tree.insertionMode.processStartTag(name,attributes))},modes.inSelect.startTagScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inSelect.endTagTableElements=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagSelect("select"),tree.insertionMode.processEndTag(name))},modes.inSelect.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-select",{name:name})},modes.inSelect.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name})},modes.inSelectInTable=Object.create(modes.base),modes.inSelectInTable.start_tag_handlers={caption:"startTagTable",table:"startTagTable",tbody:"startTagTable",tfoot:"startTagTable",thead:"startTagTable",tr:"startTagTable",td:"startTagTable",th:"startTagTable","-default":"startTagOther"},modes.inSelectInTable.end_tag_handlers={caption:"endTagTable",table:"endTagTable",tbody:"endTagTable",tfoot:"endTagTable",thead:"endTagTable",tr:"endTagTable",td:"endTagTable",th:"endTagTable","-default":"endTagOther"},modes.inSelectInTable.processCharacters=function(data){modes.inSelect.processCharacters(data)},modes.inSelectInTable.startTagTable=function(name,attributes){tree.parseError("unexpected-table-element-start-tag-in-select-in-table",{name:name}),this.endTagOther("select"),tree.insertionMode.processStartTag(name,attributes)},modes.inSelectInTable.startTagOther=function(name,attributes,selfClosing){modes.inSelect.processStartTag(name,attributes,selfClosing)},modes.inSelectInTable.endTagTable=function(name){tree.parseError("unexpected-table-element-end-tag-in-select-in-table",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagOther("select"),tree.insertionMode.processEndTag(name))},modes.inSelectInTable.endTagOther=function(name){modes.inSelect.processEndTag(name)},modes.inRow=Object.create(modes.base),modes.inRow.start_tag_handlers={html:"startTagHtml",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inRow.end_tag_handlers={tr:"endTagTr",table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore","-default":"endTagOther"},modes.inRow.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inRow.startTagTableCell=function(name,attributes){tree.openElements.popUntilTableRowScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inCell"),tree.activeFormattingElements.push(Marker)},modes.inRow.startTagTableOther=function(name,attributes){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inRow.startTagOther=function(name,attributes,selfClosing){modes.inTable.processStartTag(name,attributes,selfClosing)},modes.inRow.endTagTr=function(name){this.ignoreEndTagTr()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.openElements.popUntilTableRowScopeMarker(),tree.popElement(),tree.setInsertionMode("inTableBody"))},modes.inRow.endTagTable=function(name){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inRow.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(this.endTagTr("tr"),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inRow.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-row",{name:name})},modes.inRow.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inRow.ignoreEndTagTr=function(){return!tree.openElements.inTableScope("tr")},modes.afterAfterFrameset=Object.create(modes.base),modes.afterAfterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoFrames","-default":"startTagOther"},modes.afterAfterFrameset.processEOF=function(){},modes.afterAfterFrameset.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&(tree.reconstructActiveFormattingElements(),tree.insertText(whitespace)),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterAfterFrameset.startTagNoFrames=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterAfterFrameset.startTagOther=function(name){tree.parseError("expected-eof-but-got-start-tag",{name:name})},modes.afterAfterFrameset.processEndTag=function(name){tree.parseError("expected-eof-but-got-end-tag",{name:name})},modes.text=Object.create(modes.base),modes.text.start_tag_handlers={"-default":"startTagOther"},modes.text.end_tag_handlers={script:"endTagScript","-default":"endTagOther"},modes.text.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline());var data=buffer.takeRemaining();data&&tree.insertText(data)},modes.text.processEOF=function(){tree.parseError("expected-named-closing-tag-but-got-eof",{name:tree.currentStackItem().localName}),tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.text.startTagOther=function(name){throw"Tried to process start tag "+name+" in RCDATA/RAWTEXT mode"},modes.text.endTagScript=function(){var node=tree.openElements.pop();assert.ok("script"==node.localName),tree.setInsertionMode(tree.originalInsertionMode)},modes.text.endTagOther=function(){tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode)}}function formatMessage(format,args){return format.replace(RegExp("{[0-9a-z-]+}","gi"),function(match){return args[match.slice(1,-1)]||match})}var assert=_dereq_("assert"),messages=_dereq_("./messages.json"),constants=_dereq_("./constants");_dereq_("events").EventEmitter;var Tokenizer=_dereq_("./Tokenizer").Tokenizer,ElementStack=_dereq_("./ElementStack").ElementStack,StackItem=_dereq_("./StackItem").StackItem,Marker={};CharacterBuffer.prototype.skipAtMostOneLeadingNewline=function(){"\\n"===this.characters[this.current]&&this.current++},CharacterBuffer.prototype.skipLeadingWhitespace=function(){for(;isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.skipLeadingNonWhitespace=function(){for(;!isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.takeRemaining=function(){return this.characters.substring(this.current)},CharacterBuffer.prototype.takeLeadingWhitespace=function(){var start=this.current;return this.skipLeadingWhitespace(),start===this.current?"":this.characters.substring(start,this.current-start)},Object.defineProperty(CharacterBuffer.prototype,"length",{get:function(){return this.end-this.current}}),TreeBuilder.prototype.setInsertionMode=function(name){this.insertionMode=this.insertionModes[name],this.insertionModeName=name},TreeBuilder.prototype.adoptionAgencyEndTag=function(name){function isActiveFormattingElement(el){return el===formattingElement}for(var formattingElement,outerIterationLimit=8,innerIterationLimit=3,outerLoopCounter=0;outerIterationLimit>outerLoopCounter++;){if(formattingElement=this.elementInActiveFormattingElements(name),!formattingElement||this.openElements.contains(formattingElement)&&!this.openElements.inScope(formattingElement.localName))return this.parseError("adoption-agency-1.1",{name:name}),!1;if(!this.openElements.contains(formattingElement))return this.parseError("adoption-agency-1.2",{name:name}),this.removeElementFromActiveFormattingElements(formattingElement),!0;this.openElements.inScope(formattingElement.localName)||this.parseError("adoption-agency-4.4",{name:name}),formattingElement!=this.currentStackItem()&&this.parseError("adoption-agency-1.3",{name:name});var furthestBlock=this.openElements.furthestBlockForFormattingElement(formattingElement.node);if(!furthestBlock)return this.openElements.remove_openElements_until(isActiveFormattingElement),this.removeElementFromActiveFormattingElements(formattingElement),!0;for(var afeIndex=this.openElements.elements.indexOf(formattingElement),commonAncestor=this.openElements.item(afeIndex-1),bookmark=this.activeFormattingElements.indexOf(formattingElement),node=furthestBlock,lastNode=furthestBlock,index=this.openElements.elements.indexOf(node),innerLoopCounter=0;innerIterationLimit>innerLoopCounter++;)if(index-=1,node=this.openElements.item(index),0>this.activeFormattingElements.indexOf(node))this.openElements.elements.splice(index,1);else{if(node==formattingElement)break;lastNode==furthestBlock&&(bookmark=this.activeFormattingElements.indexOf(node)+1);var clone=this.createElement(node.namespaceURI,node.localName,node.attributes),newNode=new StackItem(node.namespaceURI,node.localName,node.attributes,clone);this.activeFormattingElements[this.activeFormattingElements.indexOf(node)]=newNode,this.openElements.elements[this.openElements.elements.indexOf(node)]=newNode,node=newNode,this.detachFromParent(lastNode.node),this.attachNode(lastNode.node,node.node),lastNode=node}this.detachFromParent(lastNode.node),commonAncestor.isFosterParenting()?this.insertIntoFosterParent(lastNode.node):this.attachNode(lastNode.node,commonAncestor.node);var clone=this.createElement("http://www.w3.org/1999/xhtml",formattingElement.localName,formattingElement.attributes),formattingClone=new StackItem(formattingElement.namespaceURI,formattingElement.localName,formattingElement.attributes,clone);this.reparentChildren(furthestBlock.node,clone),this.attachNode(clone,furthestBlock.node),this.removeElementFromActiveFormattingElements(formattingElement),this.activeFormattingElements.splice(Math.min(bookmark,this.activeFormattingElements.length),0,formattingClone),this.openElements.remove(formattingElement),this.openElements.elements.splice(this.openElements.elements.indexOf(furthestBlock)+1,0,formattingClone)}return!0},TreeBuilder.prototype.start=function(){throw"Not mplemented"},TreeBuilder.prototype.startTokenization=function(tokenizer){if(this.tokenizer=tokenizer,this.compatMode="no quirks",this.originalInsertionMode="initial",this.framesetOk=!0,this.openElements=new ElementStack,this.activeFormattingElements=[],this.start(),this.context){switch(this.context){case"title":case"textarea":this.tokenizer.setState(Tokenizer.RCDATA);break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"script":this.tokenizer.setState(Tokenizer.SCRIPT_DATA);break;case"noscript":this.scriptingEnabled&&this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"plaintext":this.tokenizer.setState(Tokenizer.PLAINTEXT)}this.insertHtmlElement(),this.resetInsertionMode()}else this.setInsertionMode("initial")},TreeBuilder.prototype.processToken=function(token){this.selfClosingFlagAcknowledged=!1;var insertionMode,currentNode=this.openElements.top||null;switch(insertionMode=!currentNode||!currentNode.isForeign()||currentNode.isMathMLTextIntegrationPoint()&&("StartTag"==token.type&&!(token.name in{mglyph:0,malignmark:0})||"Characters"===token.type)||"http://www.w3.org/1998/Math/MathML"==currentNode.namespaceURI&&"annotation-xml"==currentNode.localName&&"StartTag"==token.type&&"svg"==token.name||currentNode.isHtmlIntegrationPoint()&&token.type in{StartTag:0,Characters:0}||"EOF"==token.type?this.insertionMode:this.insertionModes.inForeignContent,token.type){case"Characters":var buffer=new CharacterBuffer(token.data);insertionMode.processCharacters(buffer);break;case"Comment":insertionMode.processComment(token.data);break;case"StartTag":insertionMode.processStartTag(token.name,token.data,token.selfClosing);break;case"EndTag":insertionMode.processEndTag(token.name);break;case"Doctype":insertionMode.processDoctype(token.name,token.publicId,token.systemId,token.forceQuirks);break;case"EOF":insertionMode.processEOF()}},TreeBuilder.prototype.isCdataSectionAllowed=function(){return this.openElements.length>0&&this.currentStackItem().isForeign()},TreeBuilder.prototype.isSelfClosingFlagAcknowledged=function(){return this.selfClosingFlagAcknowledged},TreeBuilder.prototype.createElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNode=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNodeToFosterParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.detachFromParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.addAttributesToElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertHtmlElement=function(attributes){var root=this.createElement("http://www.w3.org/1999/xhtml","html",attributes);return this.attachNode(root,this.document),this.openElements.pushHtmlElement(new StackItem("http://www.w3.org/1999/xhtml","html",attributes,root)),root},TreeBuilder.prototype.insertHeadElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","head",attributes);return this.head=new StackItem("http://www.w3.org/1999/xhtml","head",attributes,element),this.attachNode(element,this.openElements.top.node),this.openElements.pushHeadElement(this.head),element},TreeBuilder.prototype.insertBodyElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","body",attributes);return this.attachNode(element,this.openElements.top.node),this.openElements.pushBodyElement(new StackItem("http://www.w3.org/1999/xhtml","body",attributes,element)),element},TreeBuilder.prototype.insertIntoFosterParent=function(node){var tableIndex=this.openElements.findIndex("table"),tableElement=this.openElements.item(tableIndex).node;return 0===tableIndex?this.attachNode(node,tableElement):(this.attachNodeToFosterParent(node,tableElement,this.openElements.item(tableIndex-1).node),void 0)},TreeBuilder.prototype.insertElement=function(name,attributes,namespaceURI,selfClosing){namespaceURI||(namespaceURI="http://www.w3.org/1999/xhtml");var element=this.createElement(namespaceURI,name,attributes);this.shouldFosterParent()?this.insertIntoFosterParent(element):this.attachNode(element,this.openElements.top.node),selfClosing||this.openElements.push(new StackItem(namespaceURI,name,attributes,element))},TreeBuilder.prototype.insertFormattingElement=function(name,attributes){this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml"),this.appendElementToActiveFormattingElements(this.currentStackItem())},TreeBuilder.prototype.insertSelfClosingElement=function(name,attributes){this.selfClosingFlagAcknowledged=!0,this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml",!0)},TreeBuilder.prototype.insertForeignElement=function(name,attributes,namespaceURI,selfClosing){selfClosing&&(this.selfClosingFlagAcknowledged=!0),this.insertElement(name,attributes,namespaceURI,selfClosing)},TreeBuilder.prototype.insertComment=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertDoctype=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertText=function(){throw Error("Not implemented")},TreeBuilder.prototype.currentStackItem=function(){return this.openElements.top},TreeBuilder.prototype.popElement=function(){return this.openElements.pop()},TreeBuilder.prototype.shouldFosterParent=function(){return this.redirectAttachToFosterParent&&this.currentStackItem().isFosterParenting()},TreeBuilder.prototype.generateImpliedEndTags=function(exclude){var name=this.openElements.top.localName;-1!=["dd","dt","li","option","optgroup","p","rp","rt"].indexOf(name)&&name!=exclude&&(this.popElement(),this.generateImpliedEndTags(exclude))},TreeBuilder.prototype.reconstructActiveFormattingElements=function(){if(0!==this.activeFormattingElements.length){var i=this.activeFormattingElements.length-1,entry=this.activeFormattingElements[i];if(entry!=Marker&&!this.openElements.contains(entry)){for(;entry!=Marker&&!this.openElements.contains(entry)&&(i-=1,entry=this.activeFormattingElements[i]););for(;;){i+=1,entry=this.activeFormattingElements[i],this.insertElement(entry.localName,entry.attributes);var element=this.currentStackItem();if(this.activeFormattingElements[i]=element,element==this.activeFormattingElements[this.activeFormattingElements.length-1])break}}}},TreeBuilder.prototype.ensureNoahsArkCondition=function(item){var kNoahsArkCapacity=3;if(!(kNoahsArkCapacity>this.activeFormattingElements.length)){for(var candidates=[],newItemAttributeCount=item.attributes.length,i=this.activeFormattingElements.length-1;i>=0;i--){var candidate=this.activeFormattingElements[i];if(candidate===Marker)break;item.localName===candidate.localName&&item.namespaceURI===candidate.namespaceURI&&candidate.attributes.length==newItemAttributeCount&&candidates.push(candidate)}if(!(kNoahsArkCapacity>candidates.length)){for(var remainingCandidates=[],attributes=item.attributes,i=0;attributes.length>i;i++){for(var attribute=attributes[i],j=0;candidates.length>j;j++){var candidate=candidates[j],candidateAttribute=getAttribute(candidate,attribute.nodeName);candidateAttribute&&candidateAttribute.nodeValue===attribute.nodeValue&&remainingCandidates.push(candidate)}if(kNoahsArkCapacity>remainingCandidates.length)return;candidates=remainingCandidates,remainingCandidates=[]}for(var i=kNoahsArkCapacity-1;candidates.length>i;i++)this.removeElementFromActiveFormattingElements(candidates[i])}}},TreeBuilder.prototype.appendElementToActiveFormattingElements=function(item){this.ensureNoahsArkCondition(item),this.activeFormattingElements.push(item)},TreeBuilder.prototype.removeElementFromActiveFormattingElements=function(item){var index=this.activeFormattingElements.indexOf(item);index>=0&&this.activeFormattingElements.splice(index,1)},TreeBuilder.prototype.elementInActiveFormattingElements=function(name){for(var els=this.activeFormattingElements,i=els.length-1;i>=0&&els[i]!=Marker;i--)if(els[i].localName==name)return els[i];return!1},TreeBuilder.prototype.clearActiveFormattingElements=function(){for(;0!==this.activeFormattingElements.length&&this.activeFormattingElements.pop()!=Marker;);},TreeBuilder.prototype.reparentChildren=function(){throw Error("Not implemented")},TreeBuilder.prototype.setFragmentContext=function(context){this.context=context},TreeBuilder.prototype.parseError=function(code,args){if(this.errorHandler){var message=formatMessage(messages[code],args);this.errorHandler.error(message,this.tokenizer._inputStream.location(),code)}},TreeBuilder.prototype.resetInsertionMode=function(){for(var last=!1,node=null,i=this.openElements.length-1;i>=0;i--){if(node=this.openElements.item(i),0===i&&(assert.ok(this.context),last=!0,node=new StackItem("http://www.w3.org/1999/xhtml",this.context,[],null)),"http://www.w3.org/1999/xhtml"===node.namespaceURI){if("select"===node.localName)return this.setInsertionMode("inSelect");if("td"===node.localName||"th"===node.localName)return this.setInsertionMode("inCell");if("tr"===node.localName)return this.setInsertionMode("inRow");if("tbody"===node.localName||"thead"===node.localName||"tfoot"===node.localName)return this.setInsertionMode("inTableBody");if("caption"===node.localName)return this.setInsertionMode("inCaption");if("colgroup"===node.localName)return this.setInsertionMode("inColumnGroup");if("table"===node.localName)return this.setInsertionMode("inTable");if("head"===node.localName&&!last)return this.setInsertionMode("inHead");if("body"===node.localName)return this.setInsertionMode("inBody");if("frameset"===node.localName)return this.setInsertionMode("inFrameset");if("html"===node.localName)return this.openElements.headElement?this.setInsertionMode("afterHead"):this.setInsertionMode("beforeHead")}if(last)return this.setInsertionMode("inBody")}},TreeBuilder.prototype.processGenericRCDATAStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RCDATA),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.processGenericRawTextStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RAWTEXT),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.adjustMathMLAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/1998/Math/MathML",constants.MATHMLAttributeMap[a.nodeName]&&(a.nodeName=constants.MATHMLAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustSVGTagNameCase=function(name){return constants.SVGTagMap[name]||name},TreeBuilder.prototype.adjustSVGAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/2000/svg",constants.SVGAttributeMap[a.nodeName]&&(a.nodeName=constants.SVGAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustForeignAttributes=function(attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i],adjusted=constants.ForeignAttributeMap[attribute.nodeName];adjusted&&(attribute.nodeName=adjusted.localName,attribute.prefix=adjusted.prefix,attribute.namespaceURI=adjusted.namespaceURI)}return attributes},exports.TreeBuilder=TreeBuilder},{"./ElementStack":1,"./StackItem":4,"./Tokenizer":5,"./constants":7,"./messages.json":8,assert:13,events:16}],7:[function(_dereq_,module,exports){exports.SVGTagMap={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},exports.MATHMLAttributeMap={definitionurl:"definitionURL"},exports.SVGAttributeMap={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",externalresourcesacequired:"externalResourcesRequired",filterres:"filterRes",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",acequiredextensions:"acequiredExtensions",acequiredfeatures:"acequiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},exports.ForeignAttributeMap={"xlink:actuate":{prefix:"xlink",localName:"actuate",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:arcrole":{prefix:"xlink",localName:"arcrole",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:href":{prefix:"xlink",localName:"href",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:role":{prefix:"xlink",localName:"role",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:show":{prefix:"xlink",localName:"show",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:title":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:type":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xml:base":{prefix:"xml",localName:"base",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:lang":{prefix:"xml",localName:"lang",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:space":{prefix:"xml",localName:"space",namespaceURI:"http://www.w3.org/XML/1998/namespace"},xmlns:{prefix:null,localName:"xmlns",namespaceURI:"http://www.w3.org/2000/xmlns/"},"xmlns:xlink":{prefix:"xmlns",localName:"xlink",namespaceURI:"http://www.w3.org/2000/xmlns/"}}\n},{}],8:[function(_dereq_,module){module.exports={"null-character":"Null character in input stream, replaced with U+FFFD.","invalid-codepoint":"Invalid codepoint in stream","incorrectly-placed-solidus":"Solidus (/) incorrectly placed in tag.","incorrect-cr-newline-entity":"Incorrect CR newline entity, replaced with LF.","illegal-windows-1252-entity":"Entity used with illegal number (windows-1252 reference).","cant-convert-numeric-entity":"Numeric entity couldn\'t be converted to character (codepoint U+{charAsInt}).","invalid-numeric-entity-replaced":"Numeric entity represents an illegal codepoint. Expanded to the C1 controls range.","numeric-entity-without-semicolon":"Numeric entity didn\'t end with \';\'.","expected-numeric-entity-but-got-eof":"Numeric entity expected. Got end of file instead.","expected-numeric-entity":"Numeric entity expected but none found.","named-entity-without-semicolon":"Named entity didn\'t end with \';\'.","expected-named-entity":"Named entity expected. Got none.","attributes-in-end-tag":"End tag contains unexpected attributes.","self-closing-flag-on-end-tag":"End tag contains unexpected self-closing flag.","bare-less-than-sign-at-eof":"End of file after <.","expected-tag-name-but-got-right-bracket":"Expected tag name. Got \'>\' instead.","expected-tag-name-but-got-question-mark":"Expected tag name. Got \'?\' instead. (HTML doesn\'t support processing instructions.)","expected-tag-name":"Expected tag name. Got something else instead.","expected-closing-tag-but-got-right-bracket":"Expected closing tag. Got \'>\' instead. Ignoring \'</>\'.","expected-closing-tag-but-got-eof":"Expected closing tag. Unexpected end of file.","expected-closing-tag-but-got-char":"Expected closing tag. Unexpected character \'{data}\' found.","eof-in-tag-name":"Unexpected end of file in the tag name.","expected-attribute-name-but-got-eof":"Unexpected end of file. Expected attribute name instead.","eof-in-attribute-name":"Unexpected end of file in attribute name.","invalid-character-in-attribute-name":"Invalid character in attribute name.","duplicate-attribute":"Dropped duplicate attribute \'{name}\' on tag.","expected-end-of-tag-but-got-eof":"Unexpected end of file. Expected = or end of tag.","expected-attribute-value-but-got-eof":"Unexpected end of file. Expected attribute value.","expected-attribute-value-but-got-right-bracket":"Expected attribute value. Got \'>\' instead.","unexpected-character-in-unquoted-attribute-value":"Unexpected character in unquoted attribute","invalid-character-after-attribute-name":"Unexpected character after attribute name.","unexpected-character-after-attribute-value":"Unexpected character after attribute value.","eof-in-attribute-value-double-quote":\'Unexpected end of file in attribute value (").\',"eof-in-attribute-value-single-quote":"Unexpected end of file in attribute value (\').","eof-in-attribute-value-no-quotes":"Unexpected end of file in attribute value.","eof-after-attribute-value":"Unexpected end of file after attribute value.","unexpected-eof-after-solidus-in-tag":"Unexpected end of file in tag. Expected >.","unexpected-character-after-solidus-in-tag":"Unexpected character after / in tag. Expected >.","expected-dashes-or-doctype":"Expected \'--\' or \'DOCTYPE\'. Not found.","unexpected-bang-after-double-dash-in-comment":"Unexpected ! after -- in comment.","incorrect-comment":"Incorrect comment.","eof-in-comment":"Unexpected end of file in comment.","eof-in-comment-end-dash":"Unexpected end of file in comment (-).","unexpected-dash-after-double-dash-in-comment":"Unexpected \'-\' after \'--\' found in comment.","eof-in-comment-double-dash":"Unexpected end of file in comment (--).","eof-in-comment-end-bang-state":"Unexpected end of file in comment.","unexpected-char-in-comment":"Unexpected character in comment found.","need-space-after-doctype":"No space after literal string \'DOCTYPE\'.","expected-doctype-name-but-got-right-bracket":"Unexpected > character. Expected DOCTYPE name.","expected-doctype-name-but-got-eof":"Unexpected end of file. Expected DOCTYPE name.","eof-in-doctype-name":"Unexpected end of file in DOCTYPE name.","eof-in-doctype":"Unexpected end of file in DOCTYPE.","expected-space-or-right-bracket-in-doctype":"Expected space or \'>\'. Got \'{data}\'.","unexpected-end-of-doctype":"Unexpected end of DOCTYPE.","unexpected-char-in-doctype":"Unexpected character in DOCTYPE.","eof-in-bogus-doctype":"Unexpected end of file in bogus doctype.","eof-in-innerhtml":"Unexpected EOF in inner html mode.","unexpected-doctype":"Unexpected DOCTYPE. Ignored.","non-html-root":"html needs to be the first start tag.","expected-doctype-but-got-eof":"Unexpected End of file. Expected DOCTYPE.","unknown-doctype":"Erroneous DOCTYPE. Expected <!DOCTYPE html>.","quirky-doctype":"Quirky doctype. Expected <!DOCTYPE html>.","almost-standards-doctype":"Almost standards mode doctype. Expected <!DOCTYPE html>.","obsolete-doctype":"Obsolete doctype. Expected <!DOCTYPE html>.","expected-doctype-but-got-chars":"Non-space characters found without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-start-tag":"Start tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-end-tag":"End tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","end-tag-after-implied-root":"Unexpected end tag ({name}) after the (implied) root element.","expected-named-closing-tag-but-got-eof":"Unexpected end of file. Expected end tag ({name}).","two-heads-are-not-better-than-one":"Unexpected start tag head in existing head. Ignored.","unexpected-end-tag":"Unexpected end tag ({name}). Ignored.","unexpected-implied-end-tag":"End tag {name} implied, but there were open elements.","unexpected-start-tag-out-of-my-head":"Unexpected start tag ({name}) that can be in head. Moved.","unexpected-start-tag":"Unexpected start tag ({name}).","missing-end-tag":"Missing end tag ({name}).","missing-end-tags":"Missing end tags ({name}).","unexpected-start-tag-implies-end-tag":"Unexpected start tag ({startName}) implies end tag ({endName}).","unexpected-start-tag-treated-as":"Unexpected start tag ({originalName}). Treated as {newName}.","deprecated-tag":"Unexpected start tag {name}. Don\'t use it!","unexpected-start-tag-ignored":"Unexpected start tag {name}. Ignored.","expected-one-end-tag-but-got-another":"Unexpected end tag ({gotName}). Missing end tag ({expectedName}).","end-tag-too-early":"End tag ({name}) seen too early. Expected other end tag.","end-tag-too-early-named":"Unexpected end tag ({gotName}). Expected end tag ({expectedName}.","end-tag-too-early-ignored":"End tag ({name}) seen too early. Ignored.","adoption-agency-1.1":"End tag ({name}) violates step 1, paragraph 1 of the adoption agency algorithm.","adoption-agency-1.2":"End tag ({name}) violates step 1, paragraph 2 of the adoption agency algorithm.","adoption-agency-1.3":"End tag ({name}) violates step 1, paragraph 3 of the adoption agency algorithm.","adoption-agency-4.4":"End tag ({name}) violates step 4, paragraph 4 of the adoption agency algorithm.","unexpected-end-tag-treated-as":"Unexpected end tag ({originalName}). Treated as {newName}.","no-end-tag":"This element ({name}) has no end tag.","unexpected-implied-end-tag-in-table":"Unexpected implied end tag ({name}) in the table phase.","unexpected-implied-end-tag-in-table-body":"Unexpected implied end tag ({name}) in the table body phase.","unexpected-char-implies-table-voodoo":"Unexpected non-space characters in table context caused voodoo mode.","unexpected-hidden-input-in-table":"Unexpected input with type hidden in table context.","unexpected-form-in-table":"Unexpected form in table context.","unexpected-start-tag-implies-table-voodoo":"Unexpected start tag ({name}) in table context caused voodoo mode.","unexpected-end-tag-implies-table-voodoo":"Unexpected end tag ({name}) in table context caused voodoo mode.","unexpected-cell-in-table-body":"Unexpected table cell start tag ({name}) in the table body phase.","unexpected-cell-end-tag":"Got table cell end tag ({name}) while acequired end tags are missing.","unexpected-end-tag-in-table-body":"Unexpected end tag ({name}) in the table body phase. Ignored.","unexpected-implied-end-tag-in-table-row":"Unexpected implied end tag ({name}) in the table row phase.","unexpected-end-tag-in-table-row":"Unexpected end tag ({name}) in the table row phase. Ignored.","unexpected-select-in-select":"Unexpected select start tag in the select phase treated as select end tag.","unexpected-input-in-select":"Unexpected input start tag in the select phase.","unexpected-start-tag-in-select":"Unexpected start tag token ({name}) in the select phase. Ignored.","unexpected-end-tag-in-select":"Unexpected end tag ({name}) in the select phase. Ignored.","unexpected-table-element-start-tag-in-select-in-table":"Unexpected table element start tag ({name}) in the select in table phase.","unexpected-table-element-end-tag-in-select-in-table":"Unexpected table element end tag ({name}) in the select in table phase.","unexpected-char-after-body":"Unexpected non-space characters in the after body phase.","unexpected-start-tag-after-body":"Unexpected start tag token ({name}) in the after body phase.","unexpected-end-tag-after-body":"Unexpected end tag token ({name}) in the after body phase.","unexpected-char-in-frameset":"Unepxected characters in the frameset phase. Characters ignored.","unexpected-start-tag-in-frameset":"Unexpected start tag token ({name}) in the frameset phase. Ignored.","unexpected-frameset-in-frameset-innerhtml":"Unexpected end tag token (frameset in the frameset phase (innerHTML).","unexpected-end-tag-in-frameset":"Unexpected end tag token ({name}) in the frameset phase. Ignored.","unexpected-char-after-frameset":"Unexpected non-space characters in the after frameset phase. Ignored.","unexpected-start-tag-after-frameset":"Unexpected start tag ({name}) in the after frameset phase. Ignored.","unexpected-end-tag-after-frameset":"Unexpected end tag ({name}) in the after frameset phase. Ignored.","expected-eof-but-got-char":"Unexpected non-space characters. Expected end of file.","expected-eof-but-got-start-tag":"Unexpected start tag ({name}). Expected end of file.","expected-eof-but-got-end-tag":"Unexpected end tag ({name}). Expected end of file.","unexpected-end-table-in-caption":"Unexpected end table tag in caption. Generates implied end caption.","end-html-in-innerhtml":"Unexpected html end tag in inner html mode.","eof-in-table":"Unexpected end of file. Expected table content.","eof-in-script":"Unexpected end of file. Expected script content.","non-void-element-with-trailing-solidus":"Trailing solidus not allowed on element {name}.","unexpected-html-element-in-foreign-content":\'HTML start tag "{name}" in a foreign namespace context.\',"unexpected-start-tag-in-table":"Unexpected {name}. Expected table content."}},{}],9:[function(_dereq_,module,exports){function SAXParser(){this.contentHandler=null,this._errorHandler=null,this._treeBuilder=new SAXTreeBuilder,this._tokenizer=new Tokenizer(this._treeBuilder),this._scriptingEnabled=!1}var SAXTreeBuilder=_dereq_("./SAXTreeBuilder").SAXTreeBuilder,Tokenizer=_dereq_("../Tokenizer").Tokenizer,TreeParser=_dereq_("./TreeParser").TreeParser;SAXParser.prototype.parse=function(source){this._tokenizer.tokenize(source);var document=this._treeBuilder.document;document&&new TreeParser(this.contentHandler).parse(document)},SAXParser.prototype.parseFragment=function(source,context){this._treeBuilder.setFragmentContext(context),this._tokenizer.tokenize(source);var fragment=this._treeBuilder.getFragment();fragment&&new TreeParser(this.contentHandler).parse(fragment)},Object.defineProperty(SAXParser.prototype,"scriptingEnabled",{get:function(){return this._scriptingEnabled},set:function(value){this._scriptingEnabled=value,this._treeBuilder.scriptingEnabled=value}}),Object.defineProperty(SAXParser.prototype,"errorHandler",{get:function(){return this._errorHandler},set:function(value){this._errorHandler=value,this._treeBuilder.errorHandler=value}}),exports.SAXParser=SAXParser},{"../Tokenizer":5,"./SAXTreeBuilder":10,"./TreeParser":11}],10:[function(_dereq_,module,exports){function SAXTreeBuilder(){TreeBuilder.call(this)}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute.nodeValue}}function Node(locator){locator?(this.columnNumber=locator.columnNumber,this.lineNumber=locator.lineNumber):(this.columnNumber=-1,this.lineNumber=-1),this.parentNode=null,this.nextSibling=null,this.firstChild=null}function ParentNode(locator){Node.call(this,locator),this.lastChild=null,this._endLocator=null}function Document(locator){ParentNode.call(this,locator),this.nodeType=NodeType.DOCUMENT}function DocumentFragment(){ParentNode.call(this,new Locator),this.nodeType=NodeType.DOCUMENT_FRAGMENT}function Element(locator,uri,localName,qName,atts,prefixMappings){ParentNode.call(this,locator),this.uri=uri,this.localName=localName,this.qName=qName,this.attributes=atts,this.prefixMappings=prefixMappings,this.nodeType=NodeType.ELEMENT}function Characters(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.CHARACTERS}function IgnorableWhitespace(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.IGNORABLE_WHITESPACE}function Comment(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.COMMENT}function CDATA(locator){ParentNode.call(this,locator),this.nodeType=NodeType.CDATA}function Entity(name){ParentNode.call(this),this.name=name,this.nodeType=NodeType.ENTITY}function SkippedEntity(name){Node.call(this),this.name=name,this.nodeType=NodeType.SKIPPED_ENTITY}function ProcessingInstruction(target,data){Node.call(this),this.target=target,this.data=data}function DTD(name,publicIdentifier,systemIdentifier){ParentNode.call(this),this.name=name,this.publicIdentifier=publicIdentifier,this.systemIdentifier=systemIdentifier,this.nodeType=NodeType.DTD}var util=_dereq_("util"),TreeBuilder=_dereq_("../TreeBuilder").TreeBuilder;util.inherits(SAXTreeBuilder,TreeBuilder),SAXTreeBuilder.prototype.start=function(){this.document=new Document(this.tokenizer)},SAXTreeBuilder.prototype.end=function(){this.document.endLocator=this.tokenizer},SAXTreeBuilder.prototype.insertDoctype=function(name,publicId,systemId){var doctype=new DTD(this.tokenizer,name,publicId,systemId);doctype.endLocator=this.tokenizer,this.document.appendChild(doctype)},SAXTreeBuilder.prototype.createElement=function(namespaceURI,localName,attributes){var element=new Element(this.tokenizer,namespaceURI,localName,localName,attributes||[]);return element},SAXTreeBuilder.prototype.insertComment=function(data,parent){parent||(parent=this.currentStackItem());var comment=new Comment(this.tokenizer,data);parent.appendChild(comment)},SAXTreeBuilder.prototype.appendCharacters=function(parent,data){var text=new Characters(this.tokenizer,data);parent.appendChild(text)},SAXTreeBuilder.prototype.insertText=function(data){if(this.redirectAttachToFosterParent&&this.openElements.top.isFosterParenting()){var tableIndex=this.openElements.findIndex("table"),tableItem=this.openElements.item(tableIndex),table=tableItem.node;if(0===tableIndex)return this.appendCharacters(table,data);var text=new Characters(this.tokenizer,data),parent=table.parentNode;if(parent)return parent.insertBetween(text,table.previousSibling,table),void 0;var stackParent=this.openElements.item(tableIndex-1).node;return stackParent.appendChild(text),void 0}this.appendCharacters(this.currentStackItem().node,data)},SAXTreeBuilder.prototype.attachNode=function(node,parent){parent.appendChild(node)},SAXTreeBuilder.prototype.attachNodeToFosterParent=function(child,table,stackParent){var parent=table.parentNode;parent?parent.insertBetween(child,table.previousSibling,table):stackParent.appendChild(child)},SAXTreeBuilder.prototype.detachFromParent=function(element){element.detach()},SAXTreeBuilder.prototype.reparentChildren=function(oldParent,newParent){newParent.appendChildren(oldParent.firstChild)},SAXTreeBuilder.prototype.getFragment=function(){var fragment=new DocumentFragment;return this.reparentChildren(this.openElements.rootNode,fragment),fragment},SAXTreeBuilder.prototype.addAttributesToElement=function(element,attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i];getAttribute(element,attribute.nodeName)||element.attributes.push(attribute)}};var NodeType={CDATA:1,CHARACTERS:2,COMMENT:3,DOCUMENT:4,DOCUMENT_FRAGMENT:5,DTD:6,ELEMENT:7,ENTITY:8,IGNORABLE_WHITESPACE:9,PROCESSING_INSTRUCTION:10,SKIPPED_ENTITY:11};Node.prototype.visit=function(){throw Error("Not Implemented")},Node.prototype.revisit=function(){},Node.prototype.detach=function(){null!==this.parentNode&&(this.parentNode.removeChild(this),this.parentNode=null)},Object.defineProperty(Node.prototype,"previousSibling",{get:function(){for(var prev=null,next=this.parentNode.firstChild;;){if(this==next)return prev;prev=next,next=next.nextSibling}}}),ParentNode.prototype=Object.create(Node.prototype),ParentNode.prototype.insertBefore=function(child,sibling){if(!sibling)return this.appendChild(child);if(child.detach(),child.parentNode=this,this.firstChild==sibling)child.nextSibling=sibling,this.firstChild=child;else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=sibling;)prev=next,next=next.nextSibling;prev.nextSibling=child,child.nextSibling=next}return child},ParentNode.prototype.insertBetween=function(child,prev,next){return next?(child.detach(),child.parentNode=this,child.nextSibling=next,prev?prev.nextSibling=child:firstChild=child,child):this.appendChild(child)},ParentNode.prototype.appendChild=function(child){return child.detach(),child.parentNode=this,this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=child,child},ParentNode.prototype.appendChildren=function(parent){var child=parent.firstChild;if(child){var another=parent;this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=another.lastChild;do child.parentNode=this;while(child=child.nextSibling);another.firstChild=null,another.lastChild=null}},ParentNode.prototype.removeChild=function(node){if(this.firstChild==node)this.firstChild=node.nextSibling,this.lastChild==node&&(this.lastChild=null);else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=node;)prev=next,next=next.nextSibling;prev.nextSibling=node.nextSibling,this.lastChild==node&&(this.lastChild=prev)}return node.parentNode=null,node},Object.defineProperty(ParentNode.prototype,"endLocator",{get:function(){return this._endLocator},set:function(endLocator){this._endLocator={lineNumber:endLocator.lineNumber,columnNumber:endLocator.columnNumber}}}),Document.prototype=Object.create(ParentNode.prototype),Document.prototype.visit=function(treeParser){treeParser.startDocument(this)},Document.prototype.revisit=function(treeParser){treeParser.endDocument(this.endLocator)},DocumentFragment.prototype=Object.create(ParentNode.prototype),DocumentFragment.prototype.visit=function(){},Element.prototype=Object.create(ParentNode.prototype),Element.prototype.visit=function(treeParser){if(this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.startPrefixMapping(mapping.getPrefix(),mapping.getUri(),this)}treeParser.startElement(this.uri,this.localName,this.qName,this.attributes,this)},Element.prototype.revisit=function(treeParser){if(treeParser.endElement(this.uri,this.localName,this.qName,this.endLocator),this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.endPrefixMapping(mapping.getPrefix(),this.endLocator)}},Characters.prototype=Object.create(Node.prototype),Characters.prototype.visit=function(treeParser){treeParser.characters(this.data,0,this.data.length,this)},IgnorableWhitespace.prototype=Object.create(Node.prototype),IgnorableWhitespace.prototype.visit=function(treeParser){treeParser.ignorableWhitespace(this.data,0,this.data.length,this)},Comment.prototype=Object.create(Node.prototype),Comment.prototype.visit=function(treeParser){treeParser.comment(this.data,0,this.data.length,this)},CDATA.prototype=Object.create(ParentNode.prototype),CDATA.prototype.visit=function(treeParser){treeParser.startCDATA(this)},CDATA.prototype.revisit=function(treeParser){treeParser.endCDATA(this.endLocator)},Entity.prototype=Object.create(ParentNode.prototype),Entity.prototype.visit=function(treeParser){treeParser.startEntity(this.name,this)},Entity.prototype.revisit=function(treeParser){treeParser.endEntity(this.name)},SkippedEntity.prototype=Object.create(Node.prototype),SkippedEntity.prototype.visit=function(treeParser){treeParser.skippedEntity(this.name,this)},ProcessingInstruction.prototype=Object.create(Node.prototype),ProcessingInstruction.prototype.visit=function(treeParser){treeParser.processingInstruction(this.target,this.data,this)},ProcessingInstruction.prototype.getNodeType=function(){return NodeType.PROCESSING_INSTRUCTION},DTD.prototype=Object.create(ParentNode.prototype),DTD.prototype.visit=function(treeParser){treeParser.startDTD(this.name,this.publicIdentifier,this.systemIdentifier,this)},DTD.prototype.revisit=function(treeParser){treeParser.endDTD()},exports.SAXTreeBuilder=SAXTreeBuilder},{"../TreeBuilder":6,util:20}],11:[function(_dereq_,module,exports){function TreeParser(contentHandler,lexicalHandler){if(this.contentHandler,this.lexicalHandler,this.locatorDelegate,!contentHandler)throw new IllegalArgumentException("contentHandler was null.");this.contentHandler=contentHandler,this.lexicalHandler=lexicalHandler?lexicalHandler:new NullLexicalHandler}function NullLexicalHandler(){}TreeParser.prototype.parse=function(node){this.contentHandler.documentLocator=this;for(var next,current=node;;)if(current.visit(this),next=current.firstChild)current=next;else for(;;){if(current.revisit(this),current==node)return;if(next=current.nextSibling){current=next;break}current=current.parentNode}},TreeParser.prototype.characters=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.characters(ch,start,length)},TreeParser.prototype.endDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.endDocument()},TreeParser.prototype.endElement=function(uri,localName,qName,locator){this.locatorDelegate=locator,this.contentHandler.endElement(uri,localName,qName)},TreeParser.prototype.endPrefixMapping=function(prefix,locator){this.locatorDelegate=locator,this.contentHandler.endPrefixMapping(prefix)},TreeParser.prototype.ignorableWhitespace=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.ignorableWhitespace(ch,start,length)},TreeParser.prototype.processingInstruction=function(target,data,locator){this.locatorDelegate=locator,this.contentHandler.processingInstruction(target,data)},TreeParser.prototype.skippedEntity=function(name,locator){this.locatorDelegate=locator,this.contentHandler.skippedEntity(name)},TreeParser.prototype.startDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.startDocument()},TreeParser.prototype.startElement=function(uri,localName,qName,atts,locator){this.locatorDelegate=locator,this.contentHandler.startElement(uri,localName,qName,atts)},TreeParser.prototype.startPrefixMapping=function(prefix,uri,locator){this.locatorDelegate=locator,this.contentHandler.startPrefixMapping(prefix,uri)},TreeParser.prototype.comment=function(ch,start,length,locator){this.locatorDelegate=locator,this.lexicalHandler.comment(ch,start,length)},TreeParser.prototype.endCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endCDATA()},TreeParser.prototype.endDTD=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endDTD()},TreeParser.prototype.endEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.endEntity(name)},TreeParser.prototype.startCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.startCDATA()},TreeParser.prototype.startDTD=function(name,publicId,systemId,locator){this.locatorDelegate=locator,this.lexicalHandler.startDTD(name,publicId,systemId)},TreeParser.prototype.startEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.startEntity(name)},Object.defineProperty(TreeParser.prototype,"columnNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.columnNumber:-1}}),Object.defineProperty(TreeParser.prototype,"lineNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.lineNumber:-1}}),NullLexicalHandler.prototype.comment=function(){},NullLexicalHandler.prototype.endCDATA=function(){},NullLexicalHandler.prototype.endDTD=function(){},NullLexicalHandler.prototype.endEntity=function(){},NullLexicalHandler.prototype.startCDATA=function(){},NullLexicalHandler.prototype.startDTD=function(){},NullLexicalHandler.prototype.startEntity=function(){},exports.TreeParser=TreeParser},{}],12:[function(_dereq_,module){module.exports={"Aacute;":"Á",Aacute:"Á","aacute;":"á",aacute:"á","Abreve;":"Ă","abreve;":"ă","ac;":"∾","acd;":"∿","acE;":"∾̳","Acirc;":"Â",Acirc:"Â","acirc;":"â",acirc:"â","acute;":"´",acute:"´","Acy;":"А","acy;":"а","AElig;":"Æ",AElig:"Æ","aelig;":"æ",aelig:"æ","af;":"⁡","Afr;":"𝔄","afr;":"𝔞","Agrave;":"À",Agrave:"À","agrave;":"à",agrave:"à","alefsym;":"ℵ","aleph;":"ℵ","Alpha;":"Α","alpha;":"α","Amacr;":"Ā","amacr;":"ā","amalg;":"⨿","amp;":"&",amp:"&","AMP;":"&",AMP:"&","andand;":"⩕","And;":"⩓","and;":"∧","andd;":"⩜","andslope;":"⩘","andv;":"⩚","ang;":"∠","ange;":"⦤","angle;":"∠","angmsdaa;":"⦨","angmsdab;":"⦩","angmsdac;":"⦪","angmsdad;":"⦫","angmsdae;":"⦬","angmsdaf;":"⦭","angmsdag;":"⦮","angmsdah;":"⦯","angmsd;":"∡","angrt;":"∟","angrtvb;":"⊾","angrtvbd;":"⦝","angsph;":"∢","angst;":"Å","angzarr;":"⍼","Aogon;":"Ą","aogon;":"ą","Aopf;":"𝔸","aopf;":"𝕒","apacir;":"⩯","ap;":"≈","apE;":"⩰","ape;":"≊","apid;":"≋","apos;":"\'","ApplyFunction;":"⁡","approx;":"≈","approxeq;":"≊","Aring;":"Å",Aring:"Å","aring;":"å",aring:"å","Ascr;":"𝒜","ascr;":"𝒶","Assign;":"≔","ast;":"*","asymp;":"≈","asympeq;":"≍","Atilde;":"Ã",Atilde:"Ã","atilde;":"ã",atilde:"ã","Auml;":"Ä",Auml:"Ä","auml;":"ä",auml:"ä","awconint;":"∳","awint;":"⨑","backcong;":"≌","backepsilon;":"϶","backprime;":"‵","backsim;":"∽","backsimeq;":"⋍","Backslash;":"∖","Barv;":"⫧","barvee;":"⊽","barwed;":"⌅","Barwed;":"⌆","barwedge;":"⌅","bbrk;":"⎵","bbrktbrk;":"⎶","bcong;":"≌","Bcy;":"Б","bcy;":"б","bdquo;":"„","becaus;":"∵","because;":"∵","Because;":"∵","bemptyv;":"⦰","bepsi;":"϶","bernou;":"ℬ","Bernoullis;":"ℬ","Beta;":"Β","beta;":"β","beth;":"ℶ","between;":"≬","Bfr;":"𝔅","bfr;":"𝔟","bigcap;":"⋂","bigcirc;":"◯","bigcup;":"⋃","bigodot;":"⨀","bigoplus;":"⨁","bigotimes;":"⨂","bigsqcup;":"⨆","bigstar;":"★","bigtriangledown;":"▽","bigtriangleup;":"△","biguplus;":"⨄","bigvee;":"⋁","bigwedge;":"⋀","bkarow;":"⤍","blacklozenge;":"⧫","blacksquare;":"▪","blacktriangle;":"▴","blacktriangledown;":"▾","blacktriangleleft;":"◂","blacktriangleright;":"▸","blank;":"␣","blk12;":"▒","blk14;":"░","blk34;":"▓","block;":"█","bne;":"=⃥","bnequiv;":"≡⃥","bNot;":"⫭","bnot;":"⌐","Bopf;":"𝔹","bopf;":"𝕓","bot;":"⊥","bottom;":"⊥","bowtie;":"⋈","boxbox;":"⧉","boxdl;":"┐","boxdL;":"╕","boxDl;":"╖","boxDL;":"╗","boxdr;":"┌","boxdR;":"╒","boxDr;":"╓","boxDR;":"╔","boxh;":"─","boxH;":"═","boxhd;":"┬","boxHd;":"╤","boxhD;":"╥","boxHD;":"╦","boxhu;":"┴","boxHu;":"╧","boxhU;":"╨","boxHU;":"╩","boxminus;":"⊟","boxplus;":"⊞","boxtimes;":"⊠","boxul;":"┘","boxuL;":"╛","boxUl;":"╜","boxUL;":"╝","boxur;":"└","boxuR;":"╘","boxUr;":"╙","boxUR;":"╚","boxv;":"│","boxV;":"║","boxvh;":"┼","boxvH;":"╪","boxVh;":"╫","boxVH;":"╬","boxvl;":"┤","boxvL;":"╡","boxVl;":"╢","boxVL;":"╣","boxvr;":"├","boxvR;":"╞","boxVr;":"╟","boxVR;":"╠","bprime;":"‵","breve;":"˘","Breve;":"˘","brvbar;":"¦",brvbar:"¦","bscr;":"𝒷","Bscr;":"ℬ","bsemi;":"⁏","bsim;":"∽","bsime;":"⋍","bsolb;":"⧅","bsol;":"\\\\","bsolhsub;":"⟈","bull;":"•","bullet;":"•","bump;":"≎","bumpE;":"⪮","bumpe;":"≏","Bumpeq;":"≎","bumpeq;":"≏","Cacute;":"Ć","cacute;":"ć","capand;":"⩄","capbrcup;":"⩉","capcap;":"⩋","cap;":"∩","Cap;":"⋒","capcup;":"⩇","capdot;":"⩀","CapitalDifferentialD;":"ⅅ","caps;":"∩︀","caret;":"⁁","caron;":"ˇ","Cayleys;":"ℭ","ccaps;":"⩍","Ccaron;":"Č","ccaron;":"č","Ccedil;":"Ç",Ccedil:"Ç","ccedil;":"ç",ccedil:"ç","Ccirc;":"Ĉ","ccirc;":"ĉ","Cconint;":"∰","ccups;":"⩌","ccupssm;":"⩐","Cdot;":"Ċ","cdot;":"ċ","cedil;":"¸",cedil:"¸","Cedilla;":"¸","cemptyv;":"⦲","cent;":"¢",cent:"¢","centerdot;":"·","CenterDot;":"·","cfr;":"𝔠","Cfr;":"ℭ","CHcy;":"Ч","chcy;":"ч","check;":"✓","checkmark;":"✓","Chi;":"Χ","chi;":"χ","circ;":"ˆ","circeq;":"≗","circlearrowleft;":"↺","circlearrowright;":"↻","circledast;":"⊛","circledcirc;":"⊚","circleddash;":"⊝","CircleDot;":"⊙","circledR;":"®","circledS;":"Ⓢ","CircleMinus;":"⊖","CirclePlus;":"⊕","CircleTimes;":"⊗","cir;":"○","cirE;":"⧃","cire;":"≗","cirfnint;":"⨐","cirmid;":"⫯","cirscir;":"⧂","ClockwiseContourIntegral;":"∲","CloseCurlyDoubleQuote;":"”","CloseCurlyQuote;":"’","clubs;":"♣","clubsuit;":"♣","colon;":":","Colon;":"∷","Colone;":"⩴","colone;":"≔","coloneq;":"≔","comma;":",","commat;":"@","comp;":"∁","compfn;":"∘","complement;":"∁","complexes;":"ℂ","cong;":"≅","congdot;":"⩭","Congruent;":"≡","conint;":"∮","Conint;":"∯","ContourIntegral;":"∮","copf;":"𝕔","Copf;":"ℂ","coprod;":"∐","Coproduct;":"∐","copy;":"©",copy:"©","COPY;":"©",COPY:"©","copysr;":"℗","CounterClockwiseContourIntegral;":"∳","crarr;":"↵","cross;":"✗","Cross;":"⨯","Cscr;":"𝒞","cscr;":"𝒸","csub;":"⫏","csube;":"⫑","csup;":"⫐","csupe;":"⫒","ctdot;":"⋯","cudarrl;":"⤸","cudarrr;":"⤵","cuepr;":"⋞","cuesc;":"⋟","cularr;":"↶","cularrp;":"⤽","cupbrcap;":"⩈","cupcap;":"⩆","CupCap;":"≍","cup;":"∪","Cup;":"⋓","cupcup;":"⩊","cupdot;":"⊍","cupor;":"⩅","cups;":"∪︀","curarr;":"↷","curarrm;":"⤼","curlyeqprec;":"⋞","curlyeqsucc;":"⋟","curlyvee;":"⋎","curlywedge;":"⋏","curren;":"¤",curren:"¤","curvearrowleft;":"↶","curvearrowright;":"↷","cuvee;":"⋎","cuwed;":"⋏","cwconint;":"∲","cwint;":"∱","cylcty;":"⌭","dagger;":"†","Dagger;":"‡","daleth;":"ℸ","darr;":"↓","Darr;":"↡","dArr;":"⇓","dash;":"‐","Dashv;":"⫤","dashv;":"⊣","dbkarow;":"⤏","dblac;":"˝","Dcaron;":"Ď","dcaron;":"ď","Dcy;":"Д","dcy;":"д","ddagger;":"‡","ddarr;":"⇊","DD;":"ⅅ","dd;":"ⅆ","DDotrahd;":"⤑","ddotseq;":"⩷","deg;":"°",deg:"°","Del;":"∇","Delta;":"Δ","delta;":"δ","demptyv;":"⦱","dfisht;":"⥿","Dfr;":"𝔇","dfr;":"𝔡","dHar;":"⥥","dharl;":"⇃","dharr;":"⇂","DiacriticalAcute;":"´","DiacriticalDot;":"˙","DiacriticalDoubleAcute;":"˝","DiacriticalGrave;":"`","DiacriticalTilde;":"˜","diam;":"⋄","diamond;":"⋄","Diamond;":"⋄","diamondsuit;":"♦","diams;":"♦","die;":"¨","DifferentialD;":"ⅆ","digamma;":"ϝ","disin;":"⋲","div;":"÷","divide;":"÷",divide:"÷","divideontimes;":"⋇","divonx;":"⋇","DJcy;":"Ђ","djcy;":"ђ","dlcorn;":"⌞","dlcrop;":"⌍","dollar;":"$","Dopf;":"𝔻","dopf;":"𝕕","Dot;":"¨","dot;":"˙","DotDot;":"⃜","doteq;":"≐","doteqdot;":"≑","DotEqual;":"≐","dotminus;":"∸","dotplus;":"∔","dotsquare;":"⊡","doublebarwedge;":"⌆","DoubleContourIntegral;":"∯","DoubleDot;":"¨","DoubleDownArrow;":"⇓","DoubleLeftArrow;":"⇐","DoubleLeftRightArrow;":"⇔","DoubleLeftTee;":"⫤","DoubleLongLeftArrow;":"⟸","DoubleLongLeftRightArrow;":"⟺","DoubleLongRightArrow;":"⟹","DoubleRightArrow;":"⇒","DoubleRightTee;":"⊨","DoubleUpArrow;":"⇑","DoubleUpDownArrow;":"⇕","DoubleVerticalBar;":"∥","DownArrowBar;":"⤓","downarrow;":"↓","DownArrow;":"↓","Downarrow;":"⇓","DownArrowUpArrow;":"⇵","DownBreve;":"̑","downdownarrows;":"⇊","downharpoonleft;":"⇃","downharpoonright;":"⇂","DownLeftRightVector;":"⥐","DownLeftTeeVector;":"⥞","DownLeftVectorBar;":"⥖","DownLeftVector;":"↽","DownRightTeeVector;":"⥟","DownRightVectorBar;":"⥗","DownRightVector;":"⇁","DownTeeArrow;":"↧","DownTee;":"⊤","drbkarow;":"⤐","drcorn;":"⌟","drcrop;":"⌌","Dscr;":"𝒟","dscr;":"𝒹","DScy;":"Ѕ","dscy;":"ѕ","dsol;":"⧶","Dstrok;":"Đ","dstrok;":"đ","dtdot;":"⋱","dtri;":"▿","dtrif;":"▾","duarr;":"⇵","duhar;":"⥯","dwangle;":"⦦","DZcy;":"Џ","dzcy;":"џ","dzigrarr;":"⟿","Eacute;":"É",Eacute:"É","eacute;":"é",eacute:"é","easter;":"⩮","Ecaron;":"Ě","ecaron;":"ě","Ecirc;":"Ê",Ecirc:"Ê","ecirc;":"ê",ecirc:"ê","ecir;":"≖","ecolon;":"≕","Ecy;":"Э","ecy;":"э","eDDot;":"⩷","Edot;":"Ė","edot;":"ė","eDot;":"≑","ee;":"ⅇ","efDot;":"≒","Efr;":"𝔈","efr;":"𝔢","eg;":"⪚","Egrave;":"È",Egrave:"È","egrave;":"è",egrave:"è","egs;":"⪖","egsdot;":"⪘","el;":"⪙","Element;":"∈","elinters;":"⏧","ell;":"ℓ","els;":"⪕","elsdot;":"⪗","Emacr;":"Ē","emacr;":"ē","empty;":"∅","emptyset;":"∅","EmptySmallSquare;":"◻","emptyv;":"∅","EmptyVerySmallSquare;":"▫","emsp13;":" ","emsp14;":" ","emsp;":" ","ENG;":"Ŋ","eng;":"ŋ","ensp;":" ","Eogon;":"Ę","eogon;":"ę","Eopf;":"𝔼","eopf;":"𝕖","epar;":"⋕","eparsl;":"⧣","eplus;":"⩱","epsi;":"ε","Epsilon;":"Ε","epsilon;":"ε","epsiv;":"ϵ","eqcirc;":"≖","eqcolon;":"≕","eqsim;":"≂","eqslantgtr;":"⪖","eqslantless;":"⪕","Equal;":"⩵","equals;":"=","EqualTilde;":"≂","equest;":"≟","Equilibrium;":"⇌","equiv;":"≡","equivDD;":"⩸","eqvparsl;":"⧥","erarr;":"⥱","erDot;":"≓","escr;":"ℯ","Escr;":"ℰ","esdot;":"≐","Esim;":"⩳","esim;":"≂","Eta;":"Η","eta;":"η","ETH;":"Ð",ETH:"Ð","eth;":"ð",eth:"ð","Euml;":"Ë",Euml:"Ë","euml;":"ë",euml:"ë","euro;":"€","excl;":"!","exist;":"∃","Exists;":"∃","expectation;":"ℰ","exponentiale;":"ⅇ","ExponentialE;":"ⅇ","fallingdotseq;":"≒","Fcy;":"Ф","fcy;":"ф","female;":"♀","ffilig;":"ﬃ","fflig;":"ﬀ","ffllig;":"ﬄ","Ffr;":"𝔉","ffr;":"𝔣","filig;":"ﬁ","FilledSmallSquare;":"◼","FilledVerySmallSquare;":"▪","fjlig;":"fj","flat;":"♭","fllig;":"ﬂ","fltns;":"▱","fnof;":"ƒ","Fopf;":"𝔽","fopf;":"𝕗","forall;":"∀","ForAll;":"∀","fork;":"⋔","forkv;":"⫙","Fouriertrf;":"ℱ","fpartint;":"⨍","frac12;":"½",frac12:"½","frac13;":"⅓","frac14;":"¼",frac14:"¼","frac15;":"⅕","frac16;":"⅙","frac18;":"⅛","frac23;":"⅔","frac25;":"⅖","frac34;":"¾",frac34:"¾","frac35;":"⅗","frac38;":"⅜","frac45;":"⅘","frac56;":"⅚","frac58;":"⅝","frac78;":"⅞","frasl;":"⁄","frown;":"⌢","fscr;":"𝒻","Fscr;":"ℱ","gacute;":"ǵ","Gamma;":"Γ","gamma;":"γ","Gammad;":"Ϝ","gammad;":"ϝ","gap;":"⪆","Gbreve;":"Ğ","gbreve;":"ğ","Gcedil;":"Ģ","Gcirc;":"Ĝ","gcirc;":"ĝ","Gcy;":"Г","gcy;":"г","Gdot;":"Ġ","gdot;":"ġ","ge;":"≥","gE;":"≧","gEl;":"⪌","gel;":"⋛","geq;":"≥","geqq;":"≧","geqslant;":"⩾","gescc;":"⪩","ges;":"⩾","gesdot;":"⪀","gesdoto;":"⪂","gesdotol;":"⪄","gesl;":"⋛︀","gesles;":"⪔","Gfr;":"𝔊","gfr;":"𝔤","gg;":"≫","Gg;":"⋙","ggg;":"⋙","gimel;":"ℷ","GJcy;":"Ѓ","gjcy;":"ѓ","gla;":"⪥","gl;":"≷","glE;":"⪒","glj;":"⪤","gnap;":"⪊","gnapprox;":"⪊","gne;":"⪈","gnE;":"≩","gneq;":"⪈","gneqq;":"≩","gnsim;":"⋧","Gopf;":"𝔾","gopf;":"𝕘","grave;":"`","GreaterEqual;":"≥","GreaterEqualLess;":"⋛","GreaterFullEqual;":"≧","GreaterGreater;":"⪢","GreaterLess;":"≷","GreaterSlantEqual;":"⩾","GreaterTilde;":"≳","Gscr;":"𝒢","gscr;":"ℊ","gsim;":"≳","gsime;":"⪎","gsiml;":"⪐","gtcc;":"⪧","gtcir;":"⩺","gt;":">",gt:">","GT;":">",GT:">","Gt;":"≫","gtdot;":"⋗","gtlPar;":"⦕","gtquest;":"⩼","gtrapprox;":"⪆","gtrarr;":"⥸","gtrdot;":"⋗","gtreqless;":"⋛","gtreqqless;":"⪌","gtrless;":"≷","gtrsim;":"≳","gvertneqq;":"≩︀","gvnE;":"≩︀","Hacek;":"ˇ","hairsp;":" ","half;":"½","hamilt;":"ℋ","HARDcy;":"Ъ","hardcy;":"ъ","harrcir;":"⥈","harr;":"↔","hArr;":"⇔","harrw;":"↭","Hat;":"^","hbar;":"ℏ","Hcirc;":"Ĥ","hcirc;":"ĥ","hearts;":"♥","heartsuit;":"♥","hellip;":"…","hercon;":"⊹","hfr;":"𝔥","Hfr;":"ℌ","HilbertSpace;":"ℋ","hksearow;":"⤥","hkswarow;":"⤦","hoarr;":"⇿","homtht;":"∻","hookleftarrow;":"↩","hookrightarrow;":"↪","hopf;":"𝕙","Hopf;":"ℍ","horbar;":"―","HorizontalLine;":"─","hscr;":"𝒽","Hscr;":"ℋ","hslash;":"ℏ","Hstrok;":"Ħ","hstrok;":"ħ","HumpDownHump;":"≎","HumpEqual;":"≏","hybull;":"⁃","hyphen;":"‐","Iacute;":"Í",Iacute:"Í","iacute;":"í",iacute:"í","ic;":"⁣","Icirc;":"Î",Icirc:"Î","icirc;":"î",icirc:"î","Icy;":"И","icy;":"и","Idot;":"İ","IEcy;":"Е","iecy;":"е","iexcl;":"¡",iexcl:"¡","iff;":"⇔","ifr;":"𝔦","Ifr;":"ℑ","Igrave;":"Ì",Igrave:"Ì","igrave;":"ì",igrave:"ì","ii;":"ⅈ","iiiint;":"⨌","iiint;":"∭","iinfin;":"⧜","iiota;":"℩","IJlig;":"Ĳ","ijlig;":"ĳ","Imacr;":"Ī","imacr;":"ī","image;":"ℑ","ImaginaryI;":"ⅈ","imagline;":"ℐ","imagpart;":"ℑ","imath;":"ı","Im;":"ℑ","imof;":"⊷","imped;":"Ƶ","Implies;":"⇒","incare;":"℅","in;":"∈","infin;":"∞","infintie;":"⧝","inodot;":"ı","intcal;":"⊺","int;":"∫","Int;":"∬","integers;":"ℤ","Integral;":"∫","intercal;":"⊺","Intersection;":"⋂","intlarhk;":"⨗","intprod;":"⨼","InvisibleComma;":"⁣","InvisibleTimes;":"⁢","IOcy;":"Ё","iocy;":"ё","Iogon;":"Į","iogon;":"į","Iopf;":"𝕀","iopf;":"𝕚","Iota;":"Ι","iota;":"ι","iprod;":"⨼","iquest;":"¿",iquest:"¿","iscr;":"𝒾","Iscr;":"ℐ","isin;":"∈","isindot;":"⋵","isinE;":"⋹","isins;":"⋴","isinsv;":"⋳","isinv;":"∈","it;":"⁢","Itilde;":"Ĩ","itilde;":"ĩ","Iukcy;":"І","iukcy;":"і","Iuml;":"Ï",Iuml:"Ï","iuml;":"ï",iuml:"ï","Jcirc;":"Ĵ","jcirc;":"ĵ","Jcy;":"Й","jcy;":"й","Jfr;":"𝔍","jfr;":"𝔧","jmath;":"ȷ","Jopf;":"𝕁","jopf;":"𝕛","Jscr;":"𝒥","jscr;":"𝒿","Jsercy;":"Ј","jsercy;":"ј","Jukcy;":"Є","jukcy;":"є","Kappa;":"Κ","kappa;":"κ","kappav;":"ϰ","Kcedil;":"Ķ","kcedil;":"ķ","Kcy;":"К","kcy;":"к","Kfr;":"𝔎","kfr;":"𝔨","kgreen;":"ĸ","KHcy;":"Х","khcy;":"х","KJcy;":"Ќ","kjcy;":"ќ","Kopf;":"𝕂","kopf;":"𝕜","Kscr;":"𝒦","kscr;":"𝓀","lAarr;":"⇚","Lacute;":"Ĺ","lacute;":"ĺ","laemptyv;":"⦴","lagran;":"ℒ","Lambda;":"Λ","lambda;":"λ","lang;":"⟨","Lang;":"⟪","langd;":"⦑","langle;":"⟨","lap;":"⪅","Laplacetrf;":"ℒ","laquo;":"«",laquo:"«","larrb;":"⇤","larrbfs;":"⤟","larr;":"←","Larr;":"↞","lArr;":"⇐","larrfs;":"⤝","larrhk;":"↩","larrlp;":"↫","larrpl;":"⤹","larrsim;":"⥳","larrtl;":"↢","latail;":"⤙","lAtail;":"⤛","lat;":"⪫","late;":"⪭","lates;":"⪭︀","lbarr;":"⤌","lBarr;":"⤎","lbbrk;":"❲","lbrace;":"{","lbrack;":"[","lbrke;":"⦋","lbrksld;":"⦏","lbrkslu;":"⦍","Lcaron;":"Ľ","lcaron;":"ľ","Lcedil;":"Ļ","lcedil;":"ļ","lceil;":"⌈","lcub;":"{","Lcy;":"Л","lcy;":"л","ldca;":"⤶","ldquo;":"“","ldquor;":"„","ldrdhar;":"⥧","ldrushar;":"⥋","ldsh;":"↲","le;":"≤","lE;":"≦","LeftAngleBracket;":"⟨","LeftArrowBar;":"⇤","leftarrow;":"←","LeftArrow;":"←","Leftarrow;":"⇐","LeftArrowRightArrow;":"⇆","leftarrowtail;":"↢","LeftCeiling;":"⌈","LeftDoubleBracket;":"⟦","LeftDownTeeVector;":"⥡","LeftDownVectorBar;":"⥙","LeftDownVector;":"⇃","LeftFloor;":"⌊","leftharpoondown;":"↽","leftharpoonup;":"↼","leftleftarrows;":"⇇","leftrightarrow;":"↔","LeftRightArrow;":"↔","Leftrightarrow;":"⇔","leftrightarrows;":"⇆","leftrightharpoons;":"⇋","leftrightsquigarrow;":"↭","LeftRightVector;":"⥎","LeftTeeArrow;":"↤","LeftTee;":"⊣","LeftTeeVector;":"⥚","leftthreetimes;":"⋋","LeftTriangleBar;":"⧏","LeftTriangle;":"⊲","LeftTriangleEqual;":"⊴","LeftUpDownVector;":"⥑","LeftUpTeeVector;":"⥠","LeftUpVectorBar;":"⥘","LeftUpVector;":"↿","LeftVectorBar;":"⥒","LeftVector;":"↼","lEg;":"⪋","leg;":"⋚","leq;":"≤","leqq;":"≦","leqslant;":"⩽","lescc;":"⪨","les;":"⩽","lesdot;":"⩿","lesdoto;":"⪁","lesdotor;":"⪃","lesg;":"⋚︀","lesges;":"⪓","lessapprox;":"⪅","lessdot;":"⋖","lesseqgtr;":"⋚","lesseqqgtr;":"⪋","LessEqualGreater;":"⋚","LessFullEqual;":"≦","LessGreater;":"≶","lessgtr;":"≶","LessLess;":"⪡","lesssim;":"≲","LessSlantEqual;":"⩽","LessTilde;":"≲","lfisht;":"⥼","lfloor;":"⌊","Lfr;":"𝔏","lfr;":"𝔩","lg;":"≶","lgE;":"⪑","lHar;":"⥢","lhard;":"↽","lharu;":"↼","lharul;":"⥪","lhblk;":"▄","LJcy;":"Љ","ljcy;":"љ","llarr;":"⇇","ll;":"≪","Ll;":"⋘","llcorner;":"⌞","Lleftarrow;":"⇚","llhard;":"⥫","lltri;":"◺","Lmidot;":"Ŀ","lmidot;":"ŀ","lmoustache;":"⎰","lmoust;":"⎰","lnap;":"⪉","lnapprox;":"⪉","lne;":"⪇","lnE;":"≨","lneq;":"⪇","lneqq;":"≨","lnsim;":"⋦","loang;":"⟬","loarr;":"⇽","lobrk;":"⟦","longleftarrow;":"⟵","LongLeftArrow;":"⟵","Longleftarrow;":"⟸","longleftrightarrow;":"⟷","LongLeftRightArrow;":"⟷","Longleftrightarrow;":"⟺","longmapsto;":"⟼","longrightarrow;":"⟶","LongRightArrow;":"⟶","Longrightarrow;":"⟹","looparrowleft;":"↫","looparrowright;":"↬","lopar;":"⦅","Lopf;":"𝕃","lopf;":"𝕝","loplus;":"⨭","lotimes;":"⨴","lowast;":"∗","lowbar;":"_","LowerLeftArrow;":"↙","LowerRightArrow;":"↘","loz;":"◊","lozenge;":"◊","lozf;":"⧫","lpar;":"(","lparlt;":"⦓","lrarr;":"⇆","lrcorner;":"⌟","lrhar;":"⇋","lrhard;":"⥭","lrm;":"‎","lrtri;":"⊿","lsaquo;":"‹","lscr;":"𝓁","Lscr;":"ℒ","lsh;":"↰","Lsh;":"↰","lsim;":"≲","lsime;":"⪍","lsimg;":"⪏","lsqb;":"[","lsquo;":"‘","lsquor;":"‚","Lstrok;":"Ł","lstrok;":"ł","ltcc;":"⪦","ltcir;":"⩹","lt;":"<",lt:"<","LT;":"<",LT:"<","Lt;":"≪","ltdot;":"⋖","lthree;":"⋋","ltimes;":"⋉","ltlarr;":"⥶","ltquest;":"⩻","ltri;":"◃","ltrie;":"⊴","ltrif;":"◂","ltrPar;":"⦖","lurdshar;":"⥊","luruhar;":"⥦","lvertneqq;":"≨︀","lvnE;":"≨︀","macr;":"¯",macr:"¯","male;":"♂","malt;":"✠","maltese;":"✠","Map;":"⤅","map;":"↦","mapsto;":"↦","mapstodown;":"↧","mapstoleft;":"↤","mapstoup;":"↥","marker;":"▮","mcomma;":"⨩","Mcy;":"М","mcy;":"м","mdash;":"—","mDDot;":"∺","measuredangle;":"∡","MediumSpace;":" ","Mellintrf;":"ℳ","Mfr;":"𝔐","mfr;":"𝔪","mho;":"℧","micro;":"µ",micro:"µ","midast;":"*","midcir;":"⫰","mid;":"∣","middot;":"·",middot:"·","minusb;":"⊟","minus;":"−","minusd;":"∸","minusdu;":"⨪","MinusPlus;":"∓","mlcp;":"⫛","mldr;":"…","mnplus;":"∓","models;":"⊧","Mopf;":"𝕄","mopf;":"𝕞","mp;":"∓","mscr;":"𝓂","Mscr;":"ℳ","mstpos;":"∾","Mu;":"Μ","mu;":"μ","multimap;":"⊸","mumap;":"⊸","nabla;":"∇","Nacute;":"Ń","nacute;":"ń","nang;":"∠⃒","nap;":"≉","napE;":"⩰̸","napid;":"≋̸","napos;":"ŉ","napprox;":"≉","natural;":"♮","naturals;":"ℕ","natur;":"♮","nbsp;":" ",nbsp:" ","nbump;":"≎̸","nbumpe;":"≏̸","ncap;":"⩃","Ncaron;":"Ň","ncaron;":"ň","Ncedil;":"Ņ","ncedil;":"ņ","ncong;":"≇","ncongdot;":"⩭̸","ncup;":"⩂","Ncy;":"Н","ncy;":"н","ndash;":"–","nearhk;":"⤤","nearr;":"↗","neArr;":"⇗","nearrow;":"↗","ne;":"≠","nedot;":"≐̸","NegativeMediumSpace;":"​","NegativeThickSpace;":"​","NegativeThinSpace;":"​","NegativeVeryThinSpace;":"​","nequiv;":"≢","nesear;":"⤨","nesim;":"≂̸","NestedGreaterGreater;":"≫","NestedLessLess;":"≪","NewLine;":"\\n","nexist;":"∄","nexists;":"∄","Nfr;":"𝔑","nfr;":"𝔫","ngE;":"≧̸","nge;":"≱","ngeq;":"≱","ngeqq;":"≧̸","ngeqslant;":"⩾̸","nges;":"⩾̸","nGg;":"⋙̸","ngsim;":"≵","nGt;":"≫⃒","ngt;":"≯","ngtr;":"≯","nGtv;":"≫̸","nharr;":"↮","nhArr;":"⇎","nhpar;":"⫲","ni;":"∋","nis;":"⋼","nisd;":"⋺","niv;":"∋","NJcy;":"Њ","njcy;":"њ","nlarr;":"↚","nlArr;":"⇍","nldr;":"‥","nlE;":"≦̸","nle;":"≰","nleftarrow;":"↚","nLeftarrow;":"⇍","nleftrightarrow;":"↮","nLeftrightarrow;":"⇎","nleq;":"≰","nleqq;":"≦̸","nleqslant;":"⩽̸","nles;":"⩽̸","nless;":"≮","nLl;":"⋘̸","nlsim;":"≴","nLt;":"≪⃒","nlt;":"≮","nltri;":"⋪","nltrie;":"⋬","nLtv;":"≪̸","nmid;":"∤","NoBreak;":"⁠","NonBreakingSpace;":" ","nopf;":"𝕟","Nopf;":"ℕ","Not;":"⫬","not;":"¬",not:"¬","NotCongruent;":"≢","NotCupCap;":"≭","NotDoubleVerticalBar;":"∦","NotElement;":"∉","NotEqual;":"≠","NotEqualTilde;":"≂̸","NotExists;":"∄","NotGreater;":"≯","NotGreaterEqual;":"≱","NotGreaterFullEqual;":"≧̸","NotGreaterGreater;":"≫̸","NotGreaterLess;":"≹","NotGreaterSlantEqual;":"⩾̸","NotGreaterTilde;":"≵","NotHumpDownHump;":"≎̸","NotHumpEqual;":"≏̸","notin;":"∉","notindot;":"⋵̸","notinE;":"⋹̸","notinva;":"∉","notinvb;":"⋷","notinvc;":"⋶","NotLeftTriangleBar;":"⧏̸","NotLeftTriangle;":"⋪","NotLeftTriangleEqual;":"⋬","NotLess;":"≮","NotLessEqual;":"≰","NotLessGreater;":"≸","NotLessLess;":"≪̸","NotLessSlantEqual;":"⩽̸","NotLessTilde;":"≴","NotNestedGreaterGreater;":"⪢̸","NotNestedLessLess;":"⪡̸","notni;":"∌","notniva;":"∌","notnivb;":"⋾","notnivc;":"⋽","NotPrecedes;":"⊀","NotPrecedesEqual;":"⪯̸","NotPrecedesSlantEqual;":"⋠","NotReverseElement;":"∌","NotRightTriangleBar;":"⧐̸","NotRightTriangle;":"⋫","NotRightTriangleEqual;":"⋭","NotSquareSubset;":"⊏̸","NotSquareSubsetEqual;":"⋢","NotSquareSuperset;":"⊐̸","NotSquareSupersetEqual;":"⋣","NotSubset;":"⊂⃒","NotSubsetEqual;":"⊈","NotSucceeds;":"⊁","NotSucceedsEqual;":"⪰̸","NotSucceedsSlantEqual;":"⋡","NotSucceedsTilde;":"≿̸","NotSuperset;":"⊃⃒","NotSupersetEqual;":"⊉","NotTilde;":"≁","NotTildeEqual;":"≄","NotTildeFullEqual;":"≇","NotTildeTilde;":"≉","NotVerticalBar;":"∤","nparallel;":"∦","npar;":"∦","nparsl;":"⫽⃥","npart;":"∂̸","npolint;":"⨔","npr;":"⊀","nprcue;":"⋠","nprec;":"⊀","npreceq;":"⪯̸","npre;":"⪯̸","nrarrc;":"⤳̸","nrarr;":"↛","nrArr;":"⇏","nrarrw;":"↝̸","nrightarrow;":"↛","nRightarrow;":"⇏","nrtri;":"⋫","nrtrie;":"⋭","nsc;":"⊁","nsccue;":"⋡","nsce;":"⪰̸","Nscr;":"𝒩","nscr;":"𝓃","nshortmid;":"∤","nshortparallel;":"∦","nsim;":"≁","nsime;":"≄","nsimeq;":"≄","nsmid;":"∤","nspar;":"∦","nsqsube;":"⋢","nsqsupe;":"⋣","nsub;":"⊄","nsubE;":"⫅̸","nsube;":"⊈","nsubset;":"⊂⃒","nsubseteq;":"⊈","nsubseteqq;":"⫅̸","nsucc;":"⊁","nsucceq;":"⪰̸","nsup;":"⊅","nsupE;":"⫆̸","nsupe;":"⊉","nsupset;":"⊃⃒","nsupseteq;":"⊉","nsupseteqq;":"⫆̸","ntgl;":"≹","Ntilde;":"Ñ",Ntilde:"Ñ","ntilde;":"ñ",ntilde:"ñ","ntlg;":"≸","ntriangleleft;":"⋪","ntrianglelefteq;":"⋬","ntriangleright;":"⋫","ntrianglerighteq;":"⋭","Nu;":"Ν","nu;":"ν","num;":"#","numero;":"№","numsp;":" ","nvap;":"≍⃒","nvdash;":"⊬","nvDash;":"⊭","nVdash;":"⊮","nVDash;":"⊯","nvge;":"≥⃒","nvgt;":">⃒","nvHarr;":"⤄","nvinfin;":"⧞","nvlArr;":"⤂","nvle;":"≤⃒","nvlt;":"<⃒","nvltrie;":"⊴⃒","nvrArr;":"⤃","nvrtrie;":"⊵⃒","nvsim;":"∼⃒","nwarhk;":"⤣","nwarr;":"↖","nwArr;":"⇖","nwarrow;":"↖","nwnear;":"⤧","Oacute;":"Ó",Oacute:"Ó","oacute;":"ó",oacute:"ó","oast;":"⊛","Ocirc;":"Ô",Ocirc:"Ô","ocirc;":"ô",ocirc:"ô","ocir;":"⊚","Ocy;":"О","ocy;":"о","odash;":"⊝","Odblac;":"Ő","odblac;":"ő","odiv;":"⨸","odot;":"⊙","odsold;":"⦼","OElig;":"Œ","oelig;":"œ","ofcir;":"⦿","Ofr;":"𝔒","ofr;":"𝔬","ogon;":"˛","Ograve;":"Ò",Ograve:"Ò","ograve;":"ò",ograve:"ò","ogt;":"⧁","ohbar;":"⦵","ohm;":"Ω","oint;":"∮","olarr;":"↺","olcir;":"⦾","olcross;":"⦻","oline;":"‾","olt;":"⧀","Omacr;":"Ō","omacr;":"ō","Omega;":"Ω","omega;":"ω","Omicron;":"Ο","omicron;":"ο","omid;":"⦶","ominus;":"⊖","Oopf;":"𝕆","oopf;":"𝕠","opar;":"⦷","OpenCurlyDoubleQuote;":"“","OpenCurlyQuote;":"‘","operp;":"⦹","oplus;":"⊕","orarr;":"↻","Or;":"⩔","or;":"∨","ord;":"⩝","order;":"ℴ","orderof;":"ℴ","ordf;":"ª",ordf:"ª","ordm;":"º",ordm:"º","origof;":"⊶","oror;":"⩖","orslope;":"⩗","orv;":"⩛","oS;":"Ⓢ","Oscr;":"𝒪","oscr;":"ℴ","Oslash;":"Ø",Oslash:"Ø","oslash;":"ø",oslash:"ø","osol;":"⊘","Otilde;":"Õ",Otilde:"Õ","otilde;":"õ",otilde:"õ","otimesas;":"⨶","Otimes;":"⨷","otimes;":"⊗","Ouml;":"Ö",Ouml:"Ö","ouml;":"ö",ouml:"ö","ovbar;":"⌽","OverBar;":"‾","OverBrace;":"⏞","OverBracket;":"⎴","OverParenthesis;":"⏜","para;":"¶",para:"¶","parallel;":"∥","par;":"∥","parsim;":"⫳","parsl;":"⫽","part;":"∂","PartialD;":"∂","Pcy;":"П","pcy;":"п","percnt;":"%","period;":".","permil;":"‰","perp;":"⊥","pertenk;":"‱","Pfr;":"𝔓","pfr;":"𝔭","Phi;":"Φ","phi;":"φ","phiv;":"ϕ","phmmat;":"ℳ","phone;":"☎","Pi;":"Π","pi;":"π","pitchfork;":"⋔","piv;":"ϖ","planck;":"ℏ","planckh;":"ℎ","plankv;":"ℏ","plusacir;":"⨣","plusb;":"⊞","pluscir;":"⨢","plus;":"+","plusdo;":"∔","plusdu;":"⨥","pluse;":"⩲","PlusMinus;":"±","plusmn;":"±",plusmn:"±","plussim;":"⨦","plustwo;":"⨧","pm;":"±","Poincareplane;":"ℌ","pointint;":"⨕","popf;":"𝕡","Popf;":"ℙ","pound;":"£",pound:"£","prap;":"⪷","Pr;":"⪻","pr;":"≺","prcue;":"≼","precapprox;":"⪷","prec;":"≺","preccurlyeq;":"≼","Precedes;":"≺","PrecedesEqual;":"⪯","PrecedesSlantEqual;":"≼","PrecedesTilde;":"≾","preceq;":"⪯","precnapprox;":"⪹","precneqq;":"⪵","precnsim;":"⋨","pre;":"⪯","prE;":"⪳","precsim;":"≾","prime;":"′","Prime;":"″","primes;":"ℙ","prnap;":"⪹","prnE;":"⪵","prnsim;":"⋨","prod;":"∏","Product;":"∏","profalar;":"⌮","profline;":"⌒","profsurf;":"⌓","prop;":"∝","Proportional;":"∝","Proportion;":"∷","propto;":"∝","prsim;":"≾","prurel;":"⊰","Pscr;":"𝒫","pscr;":"𝓅","Psi;":"Ψ","psi;":"ψ","puncsp;":" ","Qfr;":"𝔔","qfr;":"𝔮","qint;":"⨌","qopf;":"𝕢","Qopf;":"ℚ","qprime;":"⁗","Qscr;":"𝒬","qscr;":"𝓆","quaternions;":"ℍ","quatint;":"⨖","quest;":"?","questeq;":"≟","quot;":\'"\',quot:\'"\',"QUOT;":\'"\',QUOT:\'"\',"rAarr;":"⇛","race;":"∽̱","Racute;":"Ŕ","racute;":"ŕ","radic;":"√","raemptyv;":"⦳","rang;":"⟩","Rang;":"⟫","rangd;":"⦒","range;":"⦥","rangle;":"⟩","raquo;":"»",raquo:"»","rarrap;":"⥵","rarrb;":"⇥","rarrbfs;":"⤠","rarrc;":"⤳","rarr;":"→","Rarr;":"↠","rArr;":"⇒","rarrfs;":"⤞","rarrhk;":"↪","rarrlp;":"↬","rarrpl;":"⥅","rarrsim;":"⥴","Rarrtl;":"⤖","rarrtl;":"↣","rarrw;":"↝","ratail;":"⤚","rAtail;":"⤜","ratio;":"∶","rationals;":"ℚ","rbarr;":"⤍","rBarr;":"⤏","RBarr;":"⤐","rbbrk;":"❳","rbrace;":"}","rbrack;":"]","rbrke;":"⦌","rbrksld;":"⦎","rbrkslu;":"⦐","Rcaron;":"Ř","rcaron;":"ř","Rcedil;":"Ŗ","rcedil;":"ŗ","rceil;":"⌉","rcub;":"}","Rcy;":"Р","rcy;":"р","rdca;":"⤷","rdldhar;":"⥩","rdquo;":"”","rdquor;":"”","rdsh;":"↳","real;":"ℜ","realine;":"ℛ","realpart;":"ℜ","reals;":"ℝ","Re;":"ℜ","rect;":"▭","reg;":"®",reg:"®","REG;":"®",REG:"®","ReverseElement;":"∋","ReverseEquilibrium;":"⇋","ReverseUpEquilibrium;":"⥯","rfisht;":"⥽","rfloor;":"⌋","rfr;":"𝔯","Rfr;":"ℜ","rHar;":"⥤","rhard;":"⇁","rharu;":"⇀","rharul;":"⥬","Rho;":"Ρ","rho;":"ρ","rhov;":"ϱ","RightAngleBracket;":"⟩","RightArrowBar;":"⇥","rightarrow;":"→","RightArrow;":"→","Rightarrow;":"⇒","RightArrowLeftArrow;":"⇄","rightarrowtail;":"↣","RightCeiling;":"⌉","RightDoubleBracket;":"⟧","RightDownTeeVector;":"⥝","RightDownVectorBar;":"⥕","RightDownVector;":"⇂","RightFloor;":"⌋","rightharpoondown;":"⇁","rightharpoonup;":"⇀","rightleftarrows;":"⇄","rightleftharpoons;":"⇌","rightrightarrows;":"⇉","rightsquigarrow;":"↝","RightTeeArrow;":"↦","RightTee;":"⊢","RightTeeVector;":"⥛","rightthreetimes;":"⋌","RightTriangleBar;":"⧐","RightTriangle;":"⊳","RightTriangleEqual;":"⊵","RightUpDownVector;":"⥏","RightUpTeeVector;":"⥜","RightUpVectorBar;":"⥔","RightUpVector;":"↾","RightVectorBar;":"⥓","RightVector;":"⇀","ring;":"˚","risingdotseq;":"≓","rlarr;":"⇄","rlhar;":"⇌","rlm;":"‏","rmoustache;":"⎱","rmoust;":"⎱","rnmid;":"⫮","roang;":"⟭","roarr;":"⇾","robrk;":"⟧","ropar;":"⦆","ropf;":"𝕣","Ropf;":"ℝ","roplus;":"⨮","rotimes;":"⨵","RoundImplies;":"⥰","rpar;":")","rpargt;":"⦔","rppolint;":"⨒","rrarr;":"⇉","Rrightarrow;":"⇛","rsaquo;":"›","rscr;":"𝓇","Rscr;":"ℛ","rsh;":"↱","Rsh;":"↱","rsqb;":"]","rsquo;":"’","rsquor;":"’","rthree;":"⋌","rtimes;":"⋊","rtri;":"▹","rtrie;":"⊵","rtrif;":"▸","rtriltri;":"⧎","RuleDelayed;":"⧴","ruluhar;":"⥨","rx;":"℞","Sacute;":"Ś","sacute;":"ś","sbquo;":"‚","scap;":"⪸","Scaron;":"Š","scaron;":"š","Sc;":"⪼","sc;":"≻","sccue;":"≽","sce;":"⪰","scE;":"⪴","Scedil;":"Ş","scedil;":"ş","Scirc;":"Ŝ","scirc;":"ŝ","scnap;":"⪺","scnE;":"⪶","scnsim;":"⋩","scpolint;":"⨓","scsim;":"≿","Scy;":"С","scy;":"с","sdotb;":"⊡","sdot;":"⋅","sdote;":"⩦","searhk;":"⤥","searr;":"↘","seArr;":"⇘","searrow;":"↘","sect;":"§",sect:"§","semi;":";","seswar;":"⤩","setminus;":"∖","setmn;":"∖","sext;":"✶","Sfr;":"𝔖","sfr;":"𝔰","sfrown;":"⌢","sharp;":"♯","SHCHcy;":"Щ","shchcy;":"щ","SHcy;":"Ш","shcy;":"ш","ShortDownArrow;":"↓","ShortLeftArrow;":"←","shortmid;":"∣","shortparallel;":"∥","ShortRightArrow;":"→","ShortUpArrow;":"↑","shy;":"­",shy:"­","Sigma;":"Σ","sigma;":"σ","sigmaf;":"ς","sigmav;":"ς","sim;":"∼","simdot;":"⩪","sime;":"≃","simeq;":"≃","simg;":"⪞","simgE;":"⪠","siml;":"⪝","simlE;":"⪟","simne;":"≆","simplus;":"⨤","simrarr;":"⥲","slarr;":"←","SmallCircle;":"∘","smallsetminus;":"∖","smashp;":"⨳","smeparsl;":"⧤","smid;":"∣","smile;":"⌣","smt;":"⪪","smte;":"⪬","smtes;":"⪬︀","SOFTcy;":"Ь","softcy;":"ь","solbar;":"⌿","solb;":"⧄","sol;":"/","Sopf;":"𝕊","sopf;":"𝕤","spades;":"♠","spadesuit;":"♠","spar;":"∥","sqcap;":"⊓","sqcaps;":"⊓︀","sqcup;":"⊔","sqcups;":"⊔︀","Sqrt;":"√","sqsub;":"⊏","sqsube;":"⊑","sqsubset;":"⊏","sqsubseteq;":"⊑","sqsup;":"⊐","sqsupe;":"⊒","sqsupset;":"⊐","sqsupseteq;":"⊒","square;":"□","Square;":"□","SquareIntersection;":"⊓","SquareSubset;":"⊏","SquareSubsetEqual;":"⊑","SquareSuperset;":"⊐","SquareSupersetEqual;":"⊒","SquareUnion;":"⊔","squarf;":"▪","squ;":"□","squf;":"▪","srarr;":"→","Sscr;":"𝒮","sscr;":"𝓈","ssetmn;":"∖","ssmile;":"⌣","sstarf;":"⋆","Star;":"⋆","star;":"☆","starf;":"★","straightepsilon;":"ϵ","straightphi;":"ϕ","strns;":"¯","sub;":"⊂","Sub;":"⋐","subdot;":"⪽","subE;":"⫅","sube;":"⊆","subedot;":"⫃","submult;":"⫁","subnE;":"⫋","subne;":"⊊","subplus;":"⪿","subrarr;":"⥹","subset;":"⊂","Subset;":"⋐","subseteq;":"⊆","subseteqq;":"⫅","SubsetEqual;":"⊆","subsetneq;":"⊊","subsetneqq;":"⫋","subsim;":"⫇","subsub;":"⫕","subsup;":"⫓","succapprox;":"⪸","succ;":"≻","succcurlyeq;":"≽","Succeeds;":"≻","SucceedsEqual;":"⪰","SucceedsSlantEqual;":"≽","SucceedsTilde;":"≿","succeq;":"⪰","succnapprox;":"⪺","succneqq;":"⪶","succnsim;":"⋩","succsim;":"≿","SuchThat;":"∋","sum;":"∑","Sum;":"∑","sung;":"♪","sup1;":"¹",sup1:"¹","sup2;":"²",sup2:"²","sup3;":"³",sup3:"³","sup;":"⊃","Sup;":"⋑","supdot;":"⪾","supdsub;":"⫘","supE;":"⫆","supe;":"⊇","supedot;":"⫄","Superset;":"⊃","SupersetEqual;":"⊇","suphsol;":"⟉","suphsub;":"⫗","suplarr;":"⥻","supmult;":"⫂","supnE;":"⫌","supne;":"⊋","supplus;":"⫀","supset;":"⊃","Supset;":"⋑","supseteq;":"⊇","supseteqq;":"⫆","supsetneq;":"⊋","supsetneqq;":"⫌","supsim;":"⫈","supsub;":"⫔","supsup;":"⫖","swarhk;":"⤦","swarr;":"↙","swArr;":"⇙","swarrow;":"↙","swnwar;":"⤪","szlig;":"ß",szlig:"ß","Tab;":"\t","target;":"⌖","Tau;":"Τ","tau;":"τ","tbrk;":"⎴","Tcaron;":"Ť","tcaron;":"ť","Tcedil;":"Ţ","tcedil;":"ţ","Tcy;":"Т","tcy;":"т","tdot;":"⃛","telrec;":"⌕","Tfr;":"𝔗","tfr;":"𝔱","there4;":"∴","therefore;":"∴","Therefore;":"∴","Theta;":"Θ","theta;":"θ","thetasym;":"ϑ","thetav;":"ϑ","thickapprox;":"≈","thicksim;":"∼","ThickSpace;":"  ","ThinSpace;":" ","thinsp;":" ","thkap;":"≈","thksim;":"∼","THORN;":"Þ",THORN:"Þ","thorn;":"þ",thorn:"þ","tilde;":"˜","Tilde;":"∼","TildeEqual;":"≃","TildeFullEqual;":"≅","TildeTilde;":"≈","timesbar;":"⨱","timesb;":"⊠","times;":"×",times:"×","timesd;":"⨰","tint;":"∭","toea;":"⤨","topbot;":"⌶","topcir;":"⫱","top;":"⊤","Topf;":"𝕋","topf;":"𝕥","topfork;":"⫚","tosa;":"⤩","tprime;":"‴","trade;":"™","TRADE;":"™","triangle;":"▵","triangledown;":"▿","triangleleft;":"◃","trianglelefteq;":"⊴","triangleq;":"≜","triangleright;":"▹","trianglerighteq;":"⊵","tridot;":"◬","trie;":"≜","triminus;":"⨺","TripleDot;":"⃛","triplus;":"⨹","trisb;":"⧍","tritime;":"⨻","trpezium;":"⏢","Tscr;":"𝒯","tscr;":"𝓉","TScy;":"Ц","tscy;":"ц","TSHcy;":"Ћ","tshcy;":"ћ","Tstrok;":"Ŧ","tstrok;":"ŧ","twixt;":"≬","twoheadleftarrow;":"↞","twoheadrightarrow;":"↠","Uacute;":"Ú",Uacute:"Ú","uacute;":"ú",uacute:"ú","uarr;":"↑","Uarr;":"↟","uArr;":"⇑","Uarrocir;":"⥉","Ubrcy;":"Ў","ubrcy;":"ў","Ubreve;":"Ŭ","ubreve;":"ŭ","Ucirc;":"Û",Ucirc:"Û","ucirc;":"û",ucirc:"û","Ucy;":"У","ucy;":"у","udarr;":"⇅","Udblac;":"Ű","udblac;":"ű","udhar;":"⥮","ufisht;":"⥾","Ufr;":"𝔘","ufr;":"𝔲","Ugrave;":"Ù",Ugrave:"Ù","ugrave;":"ù",ugrave:"ù","uHar;":"⥣","uharl;":"↿","uharr;":"↾","uhblk;":"▀","ulcorn;":"⌜","ulcorner;":"⌜","ulcrop;":"⌏","ultri;":"◸","Umacr;":"Ū","umacr;":"ū","uml;":"¨",uml:"¨","UnderBar;":"_","UnderBrace;":"⏟","UnderBracket;":"⎵","UnderParenthesis;":"⏝","Union;":"⋃","UnionPlus;":"⊎","Uogon;":"Ų","uogon;":"ų","Uopf;":"𝕌","uopf;":"𝕦","UpArrowBar;":"⤒","uparrow;":"↑","UpArrow;":"↑","Uparrow;":"⇑","UpArrowDownArrow;":"⇅","updownarrow;":"↕","UpDownArrow;":"↕","Updownarrow;":"⇕","UpEquilibrium;":"⥮","upharpoonleft;":"↿","upharpoonright;":"↾","uplus;":"⊎","UpperLeftArrow;":"↖","UpperRightArrow;":"↗","upsi;":"υ","Upsi;":"ϒ","upsih;":"ϒ","Upsilon;":"Υ","upsilon;":"υ","UpTeeArrow;":"↥","UpTee;":"⊥","upuparrows;":"⇈","urcorn;":"⌝","urcorner;":"⌝","urcrop;":"⌎","Uring;":"Ů","uring;":"ů","urtri;":"◹","Uscr;":"𝒰","uscr;":"𝓊","utdot;":"⋰","Utilde;":"Ũ","utilde;":"ũ","utri;":"▵","utrif;":"▴","uuarr;":"⇈","Uuml;":"Ü",Uuml:"Ü","uuml;":"ü",uuml:"ü","uwangle;":"⦧","vangrt;":"⦜","varepsilon;":"ϵ","varkappa;":"ϰ","varnothing;":"∅","varphi;":"ϕ","varpi;":"ϖ","varpropto;":"∝","varr;":"↕","vArr;":"⇕","varrho;":"ϱ","varsigma;":"ς","varsubsetneq;":"⊊︀","varsubsetneqq;":"⫋︀","varsupsetneq;":"⊋︀","varsupsetneqq;":"⫌︀","vartheta;":"ϑ","vartriangleleft;":"⊲","vartriangleright;":"⊳","vBar;":"⫨","Vbar;":"⫫","vBarv;":"⫩","Vcy;":"В","vcy;":"в","vdash;":"⊢","vDash;":"⊨","Vdash;":"⊩","VDash;":"⊫","Vdashl;":"⫦","veebar;":"⊻","vee;":"∨","Vee;":"⋁","veeeq;":"≚","vellip;":"⋮","verbar;":"|","Verbar;":"‖","vert;":"|","Vert;":"‖","VerticalBar;":"∣","VerticalLine;":"|","VerticalSeparator;":"❘","VerticalTilde;":"≀","VeryThinSpace;":" ","Vfr;":"𝔙","vfr;":"𝔳","vltri;":"⊲","vnsub;":"⊂⃒","vnsup;":"⊃⃒","Vopf;":"𝕍","vopf;":"𝕧","vprop;":"∝","vrtri;":"⊳","Vscr;":"𝒱","vscr;":"𝓋","vsubnE;":"⫋︀","vsubne;":"⊊︀","vsupnE;":"⫌︀","vsupne;":"⊋︀","Vvdash;":"⊪","vzigzag;":"⦚","Wcirc;":"Ŵ","wcirc;":"ŵ","wedbar;":"⩟","wedge;":"∧","Wedge;":"⋀","wedgeq;":"≙","weierp;":"℘","Wfr;":"𝔚","wfr;":"𝔴","Wopf;":"𝕎","wopf;":"𝕨","wp;":"℘","wr;":"≀","wreath;":"≀","Wscr;":"𝒲","wscr;":"𝓌","xcap;":"⋂","xcirc;":"◯","xcup;":"⋃","xdtri;":"▽","Xfr;":"𝔛","xfr;":"𝔵","xharr;":"⟷","xhArr;":"⟺","Xi;":"Ξ","xi;":"ξ","xlarr;":"⟵","xlArr;":"⟸","xmap;":"⟼","xnis;":"⋻","xodot;":"⨀","Xopf;":"𝕏","xopf;":"𝕩","xoplus;":"⨁","xotime;":"⨂","xrarr;":"⟶","xrArr;":"⟹","Xscr;":"𝒳","xscr;":"𝓍","xsqcup;":"⨆","xuplus;":"⨄","xutri;":"△","xvee;":"⋁","xwedge;":"⋀","Yacute;":"Ý",Yacute:"Ý","yacute;":"ý",yacute:"ý","YAcy;":"Я","yacy;":"я","Ycirc;":"Ŷ","ycirc;":"ŷ","Ycy;":"Ы","ycy;":"ы","yen;":"¥",yen:"¥","Yfr;":"𝔜","yfr;":"𝔶","YIcy;":"Ї","yicy;":"ї","Yopf;":"𝕐","yopf;":"𝕪","Yscr;":"𝒴","yscr;":"𝓎","YUcy;":"Ю","yucy;":"ю","yuml;":"ÿ",yuml:"ÿ","Yuml;":"Ÿ","Zacute;":"Ź","zacute;":"ź","Zcaron;":"Ž","zcaron;":"ž","Zcy;":"З","zcy;":"з","Zdot;":"Ż","zdot;":"ż","zeetrf;":"ℨ","ZeroWidthSpace;":"​","Zeta;":"Ζ","zeta;":"ζ","zfr;":"𝔷","Zfr;":"ℨ","ZHcy;":"Ж","zhcy;":"ж","zigrarr;":"⇝","zopf;":"𝕫","Zopf;":"ℤ","Zscr;":"𝒵","zscr;":"𝓏","zwj;":"‍","zwnj;":"‌"}\n},{}],13:[function(_dereq_,module){function replacer(key,value){return util.isUndefined(value)?""+value:!util.isNumber(value)||!isNaN(value)&&isFinite(value)?util.isFunction(value)||util.isRegExp(value)?""+value:value:""+value}function truncate(s,n){return util.isString(s)?n>s.length?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;actual.length>i;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?"[object RegExp]"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=_dereq_("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=Error();if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf("\\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{"util/":15}],14:[function(_dereq_,module){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],15:[function(_dereq_,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="\'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,i+"")?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,i+"",!0)):output.push("");return keys.forEach(function(key){key.match(/^\\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(0>ctx.seen.indexOf(desc.value)?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\\n")>-1&&(str=array?str.split("\\n").map(function(line){return"  "+line}).join("\\n").substr(2):"\\n"+str.split("\\n").map(function(line){return"   "+line}).join("\\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\\n")>=0&&numLinesEst++,prev+cur.replace(/\\u001b\\[\\d\\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\\n ")+" "+output.join(",\\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||arg===void 0}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;arguments.length>i;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=(f+"").replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return args[i++]+"";case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(RegExp("\\\\b"+set+"\\\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=_dereq_("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,_dereq_("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":14,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}],16:[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw er=arguments[1],er instanceof Error?er:TypeError(\'Uncaught, unspecified "error" event.\');if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],17:[function(_dereq_,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],18:[function(_dereq_,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw Error("process.chdir is not supported")}},{}],19:[function(_dereq_,module){module.exports=_dereq_(14)},{}],20:[function(_dereq_,module){module.exports=_dereq_(15)},{"./support/isBuffer":19,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}]},{},[9])(9)}),ace.define("ace/mode/html_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/html/saxparser"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop");acequire("../lib/lang");var Mirror=acequire("../worker/mirror").Mirror,SAXParser=acequire("./html/saxparser").SAXParser,errorTypes={"expected-doctype-but-got-start-tag":"info","expected-doctype-but-got-chars":"info","non-html-root":"info"},Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new SAXParser,errors=[],noop=function(){};parser.contentHandler={startDocument:noop,endDocument:noop,startElement:noop,endElement:noop,characters:noop},parser.errorHandler={error:function(message,location,code){errors.push({row:location.line,column:location.column,text:message,type:errorTypes[code]||"error"})}},this.context?parser.parseFragment(value,this.context):parser.parse(value),this.sender.emit("error",errors)}}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object\n});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {\tbackground: #2F3129;\tcolor: #8F908A\t}\t.ace-monokai .ace_print-margin {\twidth: 1px;\tbackground: #555651\t}\t.ace-monokai {\tbackground-color: #272822;\tcolor: #F8F8F2\t}\t.ace-monokai .ace_cursor {\tcolor: #F8F8F0\t}\t.ace-monokai .ace_marker-layer .ace_selection {\tbackground: #49483E\t}\t.ace-monokai.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #272822;\t}\t.ace-monokai .ace_marker-layer .ace_step {\tbackground: rgb(102, 82, 0)\t}\t.ace-monokai .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #49483E\t}\t.ace-monokai .ace_marker-layer .ace_active-line {\tbackground: #202020\t}\t.ace-monokai .ace_gutter-active-line {\tbackground-color: #272727\t}\t.ace-monokai .ace_marker-layer .ace_selected-word {\tborder: 1px solid #49483E\t}\t.ace-monokai .ace_invisible {\tcolor: #52524d\t}\t.ace-monokai .ace_entity.ace_name.ace_tag,\t.ace-monokai .ace_keyword,\t.ace-monokai .ace_meta.ace_tag,\t.ace-monokai .ace_storage {\tcolor: #F92672\t}\t.ace-monokai .ace_punctuation,\t.ace-monokai .ace_punctuation.ace_tag {\tcolor: #fff\t}\t.ace-monokai .ace_constant.ace_character,\t.ace-monokai .ace_constant.ace_language,\t.ace-monokai .ace_constant.ace_numeric,\t.ace-monokai .ace_constant.ace_other {\tcolor: #AE81FF\t}\t.ace-monokai .ace_invalid {\tcolor: #F8F8F0;\tbackground-color: #F92672\t}\t.ace-monokai .ace_invalid.ace_deprecated {\tcolor: #F8F8F0;\tbackground-color: #AE81FF\t}\t.ace-monokai .ace_support.ace_constant,\t.ace-monokai .ace_support.ace_function {\tcolor: #66D9EF\t}\t.ace-monokai .ace_fold {\tbackground-color: #A6E22E;\tborder-color: #F8F8F2\t}\t.ace-monokai .ace_storage.ace_type,\t.ace-monokai .ace_support.ace_class,\t.ace-monokai .ace_support.ace_type {\tfont-style: italic;\tcolor: #66D9EF\t}\t.ace-monokai .ace_entity.ace_name.ace_function,\t.ace-monokai .ace_entity.ace_other,\t.ace-monokai .ace_entity.ace_other.ace_attribute-name,\t.ace-monokai .ace_variable {\tcolor: #A6E22E\t}\t.ace-monokai .ace_variable.ace_parameter {\tfont-style: italic;\tcolor: #FD971F\t}\t.ace-monokai .ace_string {\tcolor: #E6DB74\t}\t.ace-monokai .ace_comment {\tcolor: #75715E\t}\t.ace-monokai .ace_indent-guide {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\t}";var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)})},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(679),s=n(170),a=n(189)(s),l=n(266),c=n(268),u=n(168),h=n(676),d=n(696),p=r.createClass({displayName:"AdvancedLayerSettings",mixins:[h,a.connect(l)],__:function(e){return c.getLocaleString(this.state.locale,e)},propTypes:{onChange:r.PropTypes.func.isRequired,layer:r.PropTypes.object.isRequired,style:r.PropTypes.object,settings:r.PropTypes.object},getDefaultProps:function(){return{style:null,layer:null,settings:null}},getInitialState:function(){return{style:this.props.style,settings:this.props.settings?this.props.settings:d.defaultSettings()}},componentDidMount:function(){u(".tooltip-advanced-layer-settings").tooltip()},componentWillReceiveProps:function(e){e.settings?this.setState({style:e.style,settings:e.settings}):this.setState({style:e.style})},onFormChange:function(e){var t=this.state.style;if(e.interactive!==this.state.settings.interactive)t=d.toggleInteractive(e.interactive,this.state.style,this.props.layer.layer_id,this.props.layer.data_type);else{if(e.showBehindBaseMapLabels===this.state.settings.showBehindBaseMapLabels)return;t=d.toggleShowBehindBaseMapLabels(e.showBehindBaseMapLabels,this.state.style)}var n=this.state.settings;Object.keys(e).map(function(t){n[t]=e[t]}),this.setState({style:t,settings:n}),this.props.onChange(t,n)},render:function(){return r.createElement("div",{className:"row",style:{marginLeft:"10px"}},r.createElement(i.Form,{ref:"form",onChange:this.onFormChange},r.createElement("div",{className:"row"},r.createElement("b",null,this.__("Interactive")),r.createElement(o,{name:"interactive",labelOff:this.__("Off"),labelOn:this.__("On"),className:"tooltip-advanced-layer-settings",checked:this.state.settings.interactive,dataPosition:"right",dataTooltip:this.__("Allow users to interact with this layer by clicking the map")})),r.createElement("div",{className:"row"},r.createElement("b",null,this.__("Show Below Base Map Labels")),r.createElement(o,{name:"showBehindBaseMapLabels",className:"tooltip-advanced-layer-settings",labelOff:this.__("Off"),labelOn:this.__("On"),checked:this.state.settings.showBehindBaseMapLabels,dataPosition:"right",dataTooltip:this.__("Allow base map labels to display on top of this layer")}))))}});e.exports=p},function(e,t,n){"use strict";var r=n(1),i=n(168),o=n(988),s=n(1002),a=n(973),l=n(1003),c=n(1004),u=n(986),h=n(170),d=n(189)(h),p=n(266),f=n(268),g=r.createClass({displayName:"LayerDesigner",mixins:[d.connect(p)],__:function(e){return f.getLocaleString(this.state.locale,e)},propTypes:{onColorChange:r.PropTypes.func,onStyleChange:r.PropTypes.func,onLabelsChange:r.PropTypes.func,onMarkersChange:r.PropTypes.func,onLegendChange:r.PropTypes.func,onSettingsChange:r.PropTypes.func,color:r.PropTypes.string,style:r.PropTypes.object,labels:r.PropTypes.object,legendCode:r.PropTypes.string,layer:r.PropTypes.object,showAdvanced:r.PropTypes.bool,settings:r.PropTypes.object},getDefaultProps:function(){return{color:"red",alpha:.5,style:null,labels:null,legendCode:null,layer:null,settings:{},showAdvanced:!0}},getInitialState:function(){return{color:this.props.color,style:this.props.style,labels:this.props.labels,legendCode:this.props.legendCode,settings:this.props.settings}},componentWillReceiveProps:function(e){this.setState({color:e.color,style:e.style,labels:e.labels,legendCode:e.legendCode,settings:e.settings?e.settings:this.state.settings})},componentDidMount:function(){i(this.refs.collapsible).collapsible({accordion:!0})},onColorChange:function(e){var t={};this.state.settings&&(t=this.state.settings),t.color=e,this.setState({color:e,settings:t}),this.props.onColorChange(e,t)},onColorPickerChange:function(e){var t="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";this.setState({color:t}),this.props.onColorChange(t)},onStyleChange:function(e){e=JSON.parse(e),this.setState({style:e}),this.props.onStyleChange(e)},onLabelsChange:function(e,t){this.setState({style:e,labels:t}),this.props.onLabelsChange(e,t)},onMarkersChange:function(e,t){this.setState({style:e,markers:t}),this.props.onMarkersChange(e,t)},onSettingsChange:function(e,t){this.setState({style:e,settings:t}),this.props.onSettingsChange(e,t)},onLegendChange:function(e){this.setState({legendCode:e}),this.props.onLegendChange(e)},showStyleEditor:function(){this.refs.styleEditor.show()},showLegendEditor:function(){this.refs.legendEditor.show()},render:function(){var e="";"point"===this.props.layer.data_type&&(e=r.createElement("li",null,r.createElement("div",{className:"collapsible-header"},r.createElement("i",{className:"material-icons"},"place"),this.__("Markers")),r.createElement("div",{className:"collapsible-body"},r.createElement(c,{onChange:this.onMarkersChange,style:this.state.style,layer:this.props.layer}))));var t="";return this.props.showAdvanced&&(t=r.createElement("li",null,r.createElement("div",{className:"collapsible-header"},r.createElement("i",{className:"material-icons"},"code"),this.__("Advanced")),r.createElement("div",{className:"collapsible-body"},r.createElement("button",{onClick:this.showStyleEditor,className:"btn",style:{margin:"10px"}},this.__("Edit Style Code")),r.createElement("br",null),r.createElement("button",{onClick:this.showLegendEditor,className:"btn",style:{marginBottom:"10px"}},this.__("Edit Legend Code")),r.createElement(u,{layer:this.props.layer,style:this.state.style,settings:this.state.settings,onChange:this.onSettingsChange})))),r.createElement("div",null,r.createElement("ul",{ref:"collapsible",className:"collapsible","data-collapsible":"accordion"},r.createElement("li",null,r.createElement("div",{className:"collapsible-header active"},r.createElement("i",{className:"material-icons"},"color_lens"),this.__("Colors")),r.createElement("div",{className:"collapsible-body"},r.createElement("div",{className:"row no-margin",style:{height:"170px",overflowY:"auto",backgroundColor:"rgba(240,240,239,1)"}},r.createElement("div",{className:"row no-margin"},r.createElement(s,{onClick:this.onColorChange,color:"rgba(255, 255, 204, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(254, 217, 118, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(254, 178, 76, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(252, 140, 59, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(240, 59, 32, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(255, 81, 34, 0.65)"})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{onClick:this.onColorChange,color:"rgba(240,194,194, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(226,133,133, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(217,93,93, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(208,53,53, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(189, 0, 38, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(145,37,37, 0.65)"})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{onClick:this.onColorChange,color:"rgba(240,247,218, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(161, 218, 180, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(201,223,138, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(119,171,89, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(54,128,45, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(35,77,32, 0.65)"})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{onClick:this.onColorChange,color:"rgba(131, 219, 232, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(25,179,202, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(102,204,204, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(44, 127, 184, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(49,105,138, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(37, 52, 148, 0.65)"})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{onClick:this.onColorChange,color:"rgba(214,140,255, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(191,78,255, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(163,0,255, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(116,0,182, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(85,0,133, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(240,21,231, 0.65)"})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{onClick:this.onColorChange,color:"rgba(161,93,26, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(151,84,32, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(126,77,30, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(118,69,20, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(87,51,15, 0.65)"}),r.createElement(s,{onClick:this.onColorChange,color:"rgba(153, 65, 17, 0.65)"}))))),r.createElement("li",null,r.createElement("div",{className:"collapsible-header"},r.createElement("i",{className:"material-icons"},"expand_more"),this.__("More Colors")),r.createElement("div",{className:"collapsible-body"},r.createElement(o,{onChange:this.onColorPickerChange,value:this.state.color}))),r.createElement("li",null,r.createElement("div",{className:"collapsible-header"},r.createElement("i",{className:"material-icons"},"label"),this.__("Labels")),r.createElement("div",{className:"collapsible-body"},r.createElement(l,{onChange:this.onLabelsChange,style:this.state.style,labels:this.state.labels,layer:this.props.layer}))),e,t),r.createElement(a,{ref:"styleEditor",id:"layer-style-editor",mode:"json",code:JSON.stringify(this.state.style,void 0,2),title:this.__("Editing Layer Style"),onSave:this.onStyleChange}),r.createElement(a,{ref:"legendEditor",id:"layer-legend-editor",mode:"html",code:this.state.legendCode,title:this.__("Edit Layer Legend"),onSave:this.onLegendChange}))}});e.exports=g},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=n(989),s=n(991),a=n(992),l=n(994),c=n(995),u=n(996),h=n(997),d=n(998),p=n(999),f=n(1e3),g=f.rgbaColor,m=f.rgb2hsv,v=f.rgb2hex,y=f.hsv2hex,b=f.hsv2rgb,w=f.colorCoords,x=f.colorCoordValue,_=f.getColor,E=f.isDark,C=function(e){return"r"===e||"g"===e||"b"===e},S=function(e){return"h"===e||"s"===e||"v"===e};e.exports=i.createClass({displayName:"exports",propTypes:{onChange:i.PropTypes.func.isRequired,colorAttribute:i.PropTypes.string,mode:i.PropTypes.string,value:i.PropTypes.string,reset:i.PropTypes.bool},getInitialState:function(){var e=this.props,t=e.value,n=e.reset,r=e.mode,i=e.colorAttribute,o="mode-"+Math.random();return{originalValue:t,reset:n,mode:r,modeInputName:o,colorAttribute:i,color:_(t)}},getDefaultProps:function(){return{value:"#3887be",reset:!0,mode:"rgb",colorAttribute:"h"}},componentWillReceiveProps:function(e){e.value&&this.setState({color:_(e.value)})},emitOnChange:function(e){var t=this.state,n=t.color,r=t.mode,i=t.colorAttribute;this.props.onChange(Object.assign({},n,{mode:r},{colorAttribute:i},e))},changeHSV:function(e,t){var n=this,r=this.state.color,i=e;"string"==typeof i&&(i={},i[e]=Math.floor(parseInt(t.target.value||0,10)));var o="h"in i?i.h:r.h,s="s"in i?i.s:r.s,a="v"in i?i.v:r.v,l=b(o,s,a),c=v(l.r,l.g,l.b);r=Object.assign({},r,i,l,{hex:c}),this.setState({color:r},function(){n.emitOnChange(r)})},changeRGB:function(e,t){var n=this,r=this.state.color,i=e;"string"==typeof i&&(i={},i[e]=Math.floor(parseInt(t.target.value||0,10)));var o="r"in i?i.r:r.r,s="g"in i?i.g:r.g,a="b"in i?i.b:r.b,l=m(o,s,a);r=Object.assign({},r,i,l,{hex:v(o,s,a)}),this.setState({color:r},function(){n.emitOnChange(r)})},changeAlpha:function(e){var t=this,n=e.target.value||"0";if(n&&"string"==typeof n){var r=Math.floor(parseFloat(n)),i=Object.assign({},this.state.color,{a:r/100});this.setState({color:i},function(){t.emitOnChange(i)})}},changeHEX:function(e){var t=this,n="#"+e.target.value.trim(),r=p(n).isValid(),i=_(n)||this.state.color;this.setState({color:r?i:Object.assign({},i,{hex:e.target.value.trim()})},function(){r&&t.emitOnChange({input:"hex"})})},reset:function(){this.setState({color:_(this.state.originalValue)},this.emitOnChange)},_onXYChange:function(e,t){var n=x(e,t);C(e)&&this.changeRGB(n),S(e)&&this.changeHSV(n)},_onColorSliderChange:function(e,t){var n={};n[e]=parseFloat(t.target.value),C(e)&&this.changeRGB(n),S(e)&&this.changeHSV(n)},_onAlphaSliderChange:function(e){this.changeHSV({a:Math.floor(parseFloat(e.target.value))/100})},setMode:function(e){var t=this,n={mode:e.target.value};this.setState(n,function(){t.emitOnChange(n)})},setColorAttribute:function(e){var t=this,n={colorAttribute:e};this.setState(n,function(){t.emitOnChange(n)})},render:function(){var e,t=this.state,n=t.colorAttribute,p=t.color,f=p.r,m=p.g,v=p.b,b=p.h,x=p.s,_=p.v,S=p.hex,k=Math.round(100*p.a),A=p[n];e=C(n)?255:"h"===n?359:100;var T=g(f,m,v,k),F="linear-gradient(to right, "+g(f,m,v,0)+", "+g(f,m,v,100)+")",L="#"+y(b,100,100),R=w(n,p),M={};"v"===n?M.background="linear-gradient(to left, "+L+" 0%, #000 100%)":"s"===n&&(M.background="linear-gradient(to left, "+L+" 0%, #bbb 100%)");var I={},D={};return["r","g","b"].indexOf(n)>=0?(I.opacity=Math.round(p[n]/255*100)/100,D.opacity=Math.round(100-p[n]/255*100)/100):["s","v"].indexOf(n)>=0&&(I.opacity=Math.round(p[n]/100*100)/100,D.opacity=Math.round(100-p[n]/100*100)/100),i.createElement("div",{className:"colorpickr"},i.createElement("div",{className:"cp-body"},i.createElement("div",{className:"cp-col"},i.createElement("div",{className:"cp-selector"},i.createElement(u,{active:"r"===n,color:"r",opacityLow:D,opacityHigh:I}),i.createElement(u,{active:"g"===n,color:"g",opacityLow:D,opacityHigh:I}),i.createElement(u,{active:"b"===n,color:"b",opacityLow:D,opacityHigh:I}),i.createElement(h,{active:"h"===n,hueBackground:L}),i.createElement(d,{active:"s"===n,color:"s",opacityLow:D,opacityHigh:I}),i.createElement(d,{active:"v"===n,color:"v",opacityLow:D,opacityHigh:I}),i.createElement(o,r({className:"cp-slider-xy"},R,{handleClass:E([f,m,v,k])?"":"dark",onChange:this._onXYChange.bind(null,n)}))),i.createElement("div",{className:"cp-colormode-slider cp-colormode-attribute-slider "+n},i.createElement("input",{type:"range",value:A,style:M,onChange:this._onColorSliderChange.bind(null,n),className:"cp-colormode-slider-input",min:0,max:e}))),i.createElement("div",{className:"cp-col"},i.createElement("div",{className:"cp-mode-tabs"},i.createElement("button",{onClick:this.setMode,className:"cp-mode-rgb "+("rgb"===this.state.mode?"cp-active":""),value:"rgb"},"RGB"),i.createElement("button",{className:"cp-mode-hsv "+("hsv"===this.state.mode?"cp-active":""),onClick:this.setMode,value:"hsv"},"HSV")),i.createElement("div",{className:"cp-inputs"},"rgb"===this.state.mode?i.createElement("div",null,i.createElement("fieldset",{className:"rgb-attribute-r "+("r"===n?"cp-active":"")},i.createElement(s,{name:this.state.modeInputName,checked:"r"===n,onChange:this.setColorAttribute.bind(null,"r")}),i.createElement(a,{value:f,onChange:this.changeRGB.bind(null,"r"),label:"R"})),i.createElement("fieldset",{className:"rgb-attribute-g "+("g"===n?"cp-active":"")},i.createElement(s,{name:this.state.modeInputName,checked:"g"===n,onChange:this.setColorAttribute.bind(null,"g")}),i.createElement(a,{value:m,onChange:this.changeRGB.bind(null,"g"),label:"G"})),i.createElement("fieldset",{className:"rgb-attribute-b "+("b"===n?"cp-active":"")},i.createElement(s,{name:this.state.modeInputName,checked:"b"===n,onChange:this.setColorAttribute.bind(null,"b")}),i.createElement(a,{value:v,onChange:this.changeRGB.bind(null,"b"),label:"B"}))):i.createElement("div",null,i.createElement("fieldset",{className:"hsv-attribute-h "+("h"===n?"cp-active":"")},i.createElement(s,{name:this.state.modeInputName,checked:"h"===n,onChange:this.setColorAttribute.bind(null,"h")}),i.createElement(l,{value:b,onChange:this.changeHSV.bind(null,"h"),label:"H"})),i.createElement("fieldset",{className:"hsv-attribute-s "+("s"===n?"cp-active":"")},i.createElement(s,{name:this.state.modeInputName,checked:"s"===n,onChange:this.setColorAttribute.bind(null,"s")}),i.createElement(c,{value:x,onChange:this.changeHSV.bind(null,"s"),label:"S"})),i.createElement("fieldset",{className:"hsv-attribute-v "+("v"===n?"cp-active":"")},i.createElement(s,{name:this.state.modeInputName,checked:"v"===n,onChange:this.setColorAttribute.bind(null,"v")}),i.createElement(c,{value:_,onChange:this.changeHSV.bind(null,"v"),label:"V"}))),i.createElement("fieldset",{className:"cp-relative"},i.createElement(c,{value:k,onChange:this.changeAlpha,label:String.fromCharCode(945)}))),i.createElement("fieldset",{className:"cp-fill-tile"},i.createElement("input",{type:"range",className:"cp-alpha-slider-input",value:k,onChange:this._onAlphaSliderChange,style:{background:F},min:0,max:100})))),i.createElement("div",{className:"cp-floor"},i.createElement("div",{className:"cp-actions cp-fl"},i.createElement("span",{className:"cp-fl cp-fill-tile"},i.createElement("div",{className:"cp-swatch",style:{backgroundColor:T}})),this.state.reset&&i.createElement("span",{className:"cp-fl cp-fill-tile"},i.createElement("button",{className:"cp-swatch cp-swatch-reset",title:"Reset color",style:{backgroundColor:this.state.originalValue},onClick:this.reset}))),i.createElement("div",{className:"cp-output cp-fr"},i.createElement("fieldset",{className:"cp-hex cp-relative cp-fr"},i.createElement("label",null,"#"),i.createElement("input",{value:S,className:"cp-hex-input",onChange:this.changeHEX,type:"text"})))))}})},function(e,t,n){"use strict";var r=n(1),i=n(28),o=n(990),s=r.createClass({displayName:"XYControl",propTypes:{x:r.PropTypes.number.isRequired,y:r.PropTypes.number.isRequired,xmax:r.PropTypes.number.isRequired,ymax:r.PropTypes.number.isRequired,handleClass:r.PropTypes.string,onChange:r.PropTypes.func.isRequired},getInitialState:function(){return{dragging:!1,isMobile:!1}},componentDidMount:function(){var e=document&&"ontouchstart"in document;e&&this.setState({isMobile:!0})},change:function(e){var t=this.getOwnBoundingRect();this.props.onChange({x:o(e.left,0,t.width)/t.width*this.props.xmax,y:o(e.top,0,t.height)/t.height*this.props.ymax})},getOwnBoundingRect:function(){return i.findDOMNode(this).getBoundingClientRect()},_dragStart:function(e){e.preventDefault();var t=this.getOwnBoundingRect(),n=this.state.isMobile?e.changedTouches[0].clientX:e.clientX,r=this.state.isMobile?e.changedTouches[0].clientY:e.clientY,i={left:n-t.left,top:r-t.top};this.change(i),this.setState({start:{x:i.left,y:i.top},offset:{x:n,y:r}}),window.addEventListener(this.state.isMobile?"touchmove":"mousemove",this._drag),window.addEventListener(this.state.isMobile?"touchend":"mouseup",this._dragEnd)},_drag:function(e){e.preventDefault(),this.setState({dragging:!0});var t=(this.state.isMobile?e.changedTouches[0].clientX:e.clientX)+this.state.start.x-this.state.offset.x,n=(this.state.isMobile?e.changedTouches[0].clientY:e.clientY)+this.state.start.y-this.state.offset.y;this.change({left:t,top:n})},_dragEnd:function(){this.setState({dragging:!1}),window.removeEventListener(this.state.isMobile?"touchmove":"mousemove",this._drag),window.removeEventListener(this.state.isMobile?"touchend":"mouseup",this._dragEnd)},render:function(){return r.createElement("div",{onTouchStart:this._dragStart,onMouseDown:this._dragStart,className:"slider-xy "+(this.state.dragging?"dragging-xy":"")},r.createElement("div",{className:"handle-xy "+this.props.handleClass,style:{top:o(this.props.y/this.props.ymax*100,0,100)+"%",left:o(this.props.x/this.props.xmax*100,0,100)+"%"}}))}});e.exports=s},function(e,t){function n(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.name,n=e.checked,r=e.onChange;return i.createElement("div",null,i.createElement("input",{type:"radio",name:t,checked:n,onChange:r}))}var i=n(1);r.propTypes={name:i.PropTypes.string.isRequired,checked:i.PropTypes.bool.isRequired,onChange:i.PropTypes.func.isRequired},e.exports=r},function(e,t,n){"use strict";function r(e){return o.createElement(s,i({},e,{min:0,max:255}))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),s=n(993);r.propTypes={label:o.PropTypes.string.isRequired,value:o.PropTypes.number.isRequired,onChange:o.PropTypes.func.isRequired},e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.label,n=e.value,r=e.onChange,o=e.min,s=e.max;return i.createElement("div",null,i.createElement("label",null,t),i.createElement("input",{value:n,onChange:r,type:"number",min:o,max:s,step:1}))}var i=n(1);r.propTypes={label:i.PropTypes.string.isRequired,value:i.PropTypes.number.isRequired,onChange:i.PropTypes.func.isRequired,min:i.PropTypes.number.isRequired,max:i.PropTypes.number.isRequired},e.exports=r},function(e,t,n){"use strict";function r(e){return o.createElement(s,i({},e,{min:0,max:359}))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),s=n(993);r.propTypes={label:o.PropTypes.string.isRequired,value:o.PropTypes.number.isRequired,onChange:o.PropTypes.func.isRequired},e.exports=r},function(e,t,n){"use strict";function r(e){return o.createElement(s,i({},e,{min:0,max:100}))}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),s=n(993);r.propTypes={label:o.PropTypes.string.isRequired,value:o.PropTypes.number.isRequired,onChange:o.PropTypes.func.isRequired},e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.color,n=e.active,r=e.opacityLow,o=e.opacityHigh;return n?i.createElement("div",null,i.createElement("div",{className:"cp-gradient cp-rgb cp-"+t+"-high",style:o}),i.createElement("div",{className:"cp-gradient cp-rgb cp-"+t+"-low",style:r})):i.createElement("noscript",null)}var i=n(1);r.propTypes={color:i.PropTypes.string.isRequired,active:i.PropTypes.bool.isRequired,opacityLow:i.PropTypes.object.isRequired,opacityHigh:i.PropTypes.object.isRequired},e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.active,n=e.hueBackground;return t?i.createElement("div",null,i.createElement("div",{className:"cp-gradient",style:{backgroundColor:n}}),i.createElement("div",{className:"cp-gradient cp-light-left"}),i.createElement("div",{className:"cp-gradient cp-dark-bottom"})):i.createElement("noscript",null)}var i=n(1);r.propTypes={active:i.PropTypes.bool.isRequired,hueBackground:i.PropTypes.string.isRequired},e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.color,n=e.active,r=e.opacityLow,o=e.opacityHigh;return n?i.createElement("div",null,i.createElement("div",{className:"cp-gradient cp-"+t+"-high",style:o}),i.createElement("div",{className:"cp-gradient cp-"+t+"-low",style:r}),i.createElement("div",{className:"cp-gradient cp-dark-bottom"})):i.createElement("noscript",null)}var i=n(1);r.propTypes={color:i.PropTypes.string.isRequired,active:i.PropTypes.bool.isRequired,opacityLow:i.PropTypes.object.isRequired,opacityHigh:i.PropTypes.object.isRequired},e.exports=r},function(e,t,n){var r;!function(i){function o(e,t){if(e=e?e:"",t=t||{},e instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=s(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=q(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=q(this._r)),this._g<1&&(this._g=q(this._g)),this._b<1&&(this._b=q(this._b)),this._ok=n.ok,this._tc_id=W++}function s(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,l=!1;return"string"==typeof e&&(e=j(e)),"object"==typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(t=a(e.r,e.g,e.b),s=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):$(e.h)&&$(e.s)&&$(e.v)?(r=P(e.s),i=P(e.v),t=h(e.h,r,i),s=!0,l="hsv"):$(e.h)&&$(e.s)&&$(e.l)&&(r=P(e.s),o=P(e.l),t=c(e.h,r,o),s=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=F(n),{ok:s,format:e.format||l,r:H(255,G(t.r,0)),g:H(255,G(t.g,0)),b:H(255,G(t.b,0)),a:n}}function a(e,t,n){return{r:255*L(e,255),g:255*L(t,255),b:255*L(n,255)}}function l(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,o=G(e,t,n),s=H(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function c(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,s;if(e=L(e,360),t=L(t,100),n=L(n,100),0===t)i=o=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=r(l,a,e+1/3),o=r(l,a,e),s=r(l,a,e-1/3)}return{r:255*i,g:255*o,b:255*s}}function u(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r,i,o=G(e,t,n),s=H(e,t,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function h(e,t,n){e=6*L(e,360),t=L(t,100),n=L(n,100);var r=i.floor(e),o=e-r,s=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),c=r%6,u=[n,a,s,s,l,n][c],h=[l,n,n,a,s,s][c],d=[s,s,l,n,n,a][c];return{r:255*u,g:255*h,b:255*d}}function d(e,t,n,r){var i=[N(q(e).toString(16)),N(q(t).toString(16)),N(q(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(e,t,n,r,i){var o=[N(q(e).toString(16)),N(q(t).toString(16)),N(q(n).toString(16)),N(O(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function f(e,t,n,r){var i=[N(O(r)),N(q(e).toString(16)),N(q(t).toString(16)),N(q(n).toString(16))];return i.join("")}function g(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=R(n.s),o(n)}function m(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=R(n.s),o(n)}function v(e){return o(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=R(n.l),o(n)}function b(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=G(0,H(255,n.r-q(255*-(t/100)))),n.g=G(0,H(255,n.g-q(255*-(t/100)))),n.b=G(0,H(255,n.b-q(255*-(t/100)))),o(n)}function w(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=R(n.l),o(n)}function x(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function _(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function E(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function C(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function S(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function k(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,s=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(o(r));return s}function A(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,s=n.v,a=[],l=1/t;t--;)a.push(o({h:r,s:i,v:s})),s=(s+l)%1;return a}function T(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function F(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(e,t){I(e)&&(e="100%");var n=D(e);return e=H(t,G(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return H(1,G(0,e))}function M(e){return parseInt(e,16)}function I(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function D(e){return"string"==typeof e&&e.indexOf("%")!=-1}function N(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function O(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return M(e)/255}function $(e){return!!J.CSS_UNIT.exec(e)}function j(e){e=e.replace(U,"").replace(V,"").toLowerCase();var t=!1;if(Y[e])e=Y[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=J.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=J.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=J.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=J.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=J.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=J.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=J.hex8.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:B(n[4]),format:t?"name":"hex8"}:(n=J.hex6.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:t?"name":"hex"}:(n=J.hex4.exec(e))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:B(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=J.hex3.exec(e))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:t?"name":"hex"}}function z(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var U=/^\s+/,V=/\s+$/,W=0,q=i.round,H=i.min,G=i.max,K=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){
return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,o,s,a=this.toRgb();return e=a.r/255,t=a.g/255,n=a.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),o=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),s=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*s},setAlpha:function(e){return this._a=F(e),this._roundA=q(100*this._a)/100,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=q(360*e.h),n=q(100*e.s),r=q(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b),t=q(360*e.h),n=q(100*e.s),r=q(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return p(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:q(this._r),g:q(this._g),b:q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+q(this._r)+", "+q(this._g)+", "+q(this._b)+")":"rgba("+q(this._r)+", "+q(this._g)+", "+q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:q(100*L(this._r,255))+"%",g:q(100*L(this._g,255))+"%",b:q(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+q(100*L(this._r,255))+"%, "+q(100*L(this._g,255))+"%, "+q(100*L(this._b,255))+"%)":"rgba("+q(100*L(this._r,255))+"%, "+q(100*L(this._g,255))+"%, "+q(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(X[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+f(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+f(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return i?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&("a"===r?n[r]=e[r]:n[r]=P(e[r]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:K(),g:K(),b:K()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return o(a)},o.readability=function(e,t){var n=o(e),r=o(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,s=o.readability(e,t);switch(i=!1,r=z(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},o.mostReadable=function(e,t,n){var r,i,s,a,l=null,c=0;n=n||{},i=n.includeFallbackColors,s=n.level,a=n.size;for(var u=0;u<t.length;u++)r=o.readability(e,t[u]),r>c&&(c=r,l=o(t[u]));return o.isReadable(e,l,{level:s,size:a})||!i?l:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var Y=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X=o.hexNames=T(Y),J=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof e&&e.exports?e.exports=o:(r=function(){return o}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}(Math)},function(e,t,n){"use strict";var r=n(1001),i=n(999),o={isDark:function(e){return.299*e[0]+.587*e[1]+.114*e[2]>186||e[3]<.5},getColor:function(e){var t=i(e),n=t.toRgb(),r=t.toHsv(),o=t.toHex(),s=7===e.length;return s||o[0]!==o[1]||o[2]!==o[3]||o[4]!==o[5]||(o=[o[0],o[2],o[4]].join("")),{h:Math.round(r.h),s:Math.round(100*r.s),v:Math.round(100*r.v),r:Math.round(n.r),g:Math.round(n.g),b:Math.round(n.b),a:n.a,hex:o}},rgbaColor:function(e,t,n,r){return"rgba("+[e,t,n,r/100].join(",")+")"},hsv2hex:function(e,t,n){var i=r.hsv.rgb([e,t,n]);return r.rgb.hex([Math.round(i[0]),Math.round(i[1]),Math.round(i[2])]).slice(1)},hsv2rgb:function(e,t,n){var i=r.hsv.rgb([e,t,n]);return{r:Math.round(i[0]),g:Math.round(i[1]),b:Math.round(i[2])}},rgb2hex:function(e,t,n){return r.rgb.hex([e,t,n]).slice(1)},rgb2hsv:function(e,t,n){var i=r.rgb.hsv([e,t,n]);return{h:Math.round(i[0]),s:Math.round(i[1]),v:Math.round(i[2])}},colorCoords:function(e,t){var n,r,i,o;return"r"===e||"g"===e||"b"===e?(i=255,o=255,"r"===e?(n=t.b,r=255-t.g):"g"===e?(n=t.b,r=255-t.r):(n=t.r,r=255-t.g)):"h"===e?(i=100,o=100,n=t.s,r=100-t.v):"s"===e?(i=359,o=100,n=t.h,r=100-t.v):"v"===e&&(i=359,o=100,n=t.h,r=100-t.s),{x:n,y:r,xmax:i,ymax:o}},colorCoordValue:function(e,t){var n={};switch(t.x=Math.round(t.x),t.y=Math.round(t.y),e){case"r":n.b=t.x,n.g=255-t.y;break;case"g":n.b=t.x,n.r=255-t.y;break;case"b":n.r=t.x,n.g=255-t.y;break;case"h":n.s=t.x,n.v=100-t.y;break;case"s":n.h=t.x,n.v=100-t.y;break;case"v":n.h=t.x,n.s=100-t.y}return n}};e.exports=o},function(e,t){"use strict";function n(e){return e<58?e-48:e<71?e-55:e-87}function r(e){var t="#"===e[0]?1:0,r=e.length;if(r-t<3)throw new Error("hex input must be at least three chars long");var i,o,s,a=n(e.charCodeAt(0+t)),l=n(e.charCodeAt(1+t)),c=n(e.charCodeAt(2+t));if(r-t>=6?(i=(a<<4)+l,o=(c<<4)+n(e.charCodeAt(3+t)),s=(n(e.charCodeAt(4+t))<<4)+n(e.charCodeAt(5+t))):(i=(a<<4)+a,o=(l<<4)+l,s=(c<<4)+c),i<0||i>255||o<0||o>255||s<0||s>255)throw new Error("hex input is invalid");return[i,o,s]}function i(e){return"#"+("000000"+((e[0]<<16)+(e[1]<<8)+e[2]).toString(16)).slice(-6)}function o(e){var t,n,r,i=e[0]/255,o=e[1]/255,s=e[2]/255,a=Math.min(i,o,s),l=Math.max(i,o,s),c=l-a;return l===a?t=0:i===l?t=(o-s)/c:o===l?t=2+(s-i)/c:s===l&&(t=4+(i-o)/c),t=Math.min(60*t,360),t<0&&(t+=360),r=(a+l)/2,n=l===a?0:r<=.5?c/(l+a):c/(2-l-a),[t,100*n,100*r]}function s(e){var t,n,r,i=e[0],o=e[1],s=e[2],a=Math.min(i,o,s),l=Math.max(i,o,s),c=l-a;return n=0===l?0:c/l*100,l===a?t=0:i===l?t=(o-s)/c:o===l?t=2+(s-i)/c:s===l&&(t=4+(i-o)/c),t=Math.min(60*t,360),t<0&&(t+=360),r=l/255*100,[t,n,r]}function a(e){var t,n,r,i=e[0]/360,o=e[1]/100,s=e[2]/100;if(0===o)t=n=r=s;else{var a,l=s<.5?s*(o+1):s+o-s*o,c=2*s-l;a=i+1/3,a<0?a+=1:a>1&&(a-=1),t=a<1/6?c+(l-c)*a*6:a<.5?l:a<2/3?c+(l-c)*(2/3-a)*6:c,a=i,a<0?a+=1:a>1&&(a-=1),n=a<1/6?c+(l-c)*a*6:a<.5?l:a<2/3?c+(l-c)*(2/3-a)*6:c,a=i-1/3,a<0?a+=1:a>1&&(a-=1),r=a<1/6?c+(l-c)*a*6:a<.5?l:a<2/3?c+(l-c)*(2/3-a)*6:c}return[255*t,255*n,255*r]}function l(e){var t,n,r=e[0],i=e[1]/100,o=e[2]/100;return 0===i?[r,0,100*o]:0===o?[r,0,0]:(o*=2,i*=o<=1?o:2-o,n=(o+i)/2,t=2*i/(o+i),[r,100*t,100*n])}function c(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,s];case 1:return[a,r,s];case 2:return[s,r,l];case 3:return[s,a,r];case 4:return[l,s,r];case 5:return[r,s,a]}}function u(e){var t,n,r=e[0],i=e[1]/100,o=e[2]/100;return 0===i?[r,0,100*o]:0===o?[r,0,0]:(n=(2-i)*o,t=i*o,t/=n<=1?n:2-n,n/=2,[r,100*t,100*n])}function h(e){return[e,e,e]}function d(e){return(299*e[0]+587*e[1]+114*e[2])/1e3}e.exports={grayscale:{rgb:h},hex:{rgb:r},rgb:{hsl:o,hsv:s,hex:i,grayscale:d},hsl:{rgb:a,hsv:l},hsv:{rgb:c,hsl:u}}},function(e,t,n){"use strict";var r=n(1),i=n(676),o=r.createClass({displayName:"ColorSwatch",mixins:[i],propTypes:{onClick:r.PropTypes.func.isRequired,color:r.PropTypes.string.isRequired},render:function(){var e=this;return r.createElement("div",{className:"col s2 no-padding"},r.createElement("div",{className:"color-swatch",onClick:function(){e.props.onClick(e.props.color)},style:{backgroundColor:this.props.color}}))}});e.exports=o},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(679),s=n(720),a=n(170),l=n(189)(a),c=n(266),u=n(268),h=n(168),d=n(676),p=n(696),f=r.createClass({displayName:"LabelSettings",mixins:[d,l.connect(c)],__:function(e){return u.getLocaleString(this.state.locale,e)},propTypes:{onChange:r.PropTypes.func.isRequired,layer:r.PropTypes.object.isRequired,style:r.PropTypes.object,labels:r.PropTypes.object},getDefaultProps:function(){return{style:null,layer:null,labels:{}}},getInitialState:function(){var e=!1,t=null;return this.props.labels&&(e=!!this.props.labels.enabled,t=this.props.labels.field),{style:this.props.style,enabled:e,field:t}},componentDidMount:function(){h(".tooltip-label-settings").tooltip()},componentWillReceiveProps:function(e){this.setState({style:e.style})},onFormChange:function(e){if(e.enabled&&e.field){var t=p.addStyleLabels(this.state.style,e.field,this.props.layer.layer_id,this.props.layer.data_type);this.setState({style:t,enabled:!0,field:e.field}),this.props.onChange(t,e)}else e.enabled&&!e.field?this.setState({enabled:!0}):(t=p.removeStyleLabels(this.state.style),this.setState({style:t,enabled:!1}),this.props.onChange(t,e));h(".tooltip-label-settings").tooltip("remove"),h(".tooltip-label-settings").tooltip()},render:function(){var e=[];this.props.layer&&this.props.layer.presets&&this.props.layer.presets.forEach(function(t){e.push({value:t.tag,label:t.label})});var t="";return this.state.enabled&&!this.state.field&&(t=r.createElement("p",{style:{color:"red"}},this.__("Please Select a Label Field"))),r.createElement("div",null,r.createElement("div",{className:"row"},r.createElement(i.Form,{ref:"form",onChange:this.onFormChange},r.createElement("div",{className:"row",style:{marginTop:"10px",marginBottom:"0px",padding:"0 .75rem"}},r.createElement("b",null,this.__("Enable Labels")),r.createElement(o,{name:"enabled",labelOff:this.__("Off"),labelOn:this.__("On"),className:"col s12 tooltip-label-settings",checked:this.state.enabled,dataPosition:"right",dataTooltip:this.__("Enable Labels for this Layer")})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{name:"field",id:"label-field-select",label:this.__("Label Field"),options:e,className:"col s10 label-field tooltip-label-settings no-margin",value:this.state.field,defaultValue:this.state.field,startEmpty:!this.state.field,dataPosition:"right",dataTooltip:this.__("Data field to use in map labels."),required:!0}))),t))}});e.exports=f},function(e,t,n){"use strict";var r=n(1),i=n(669),o=n(679),s=n(720),a=n(170),l=n(189)(a),c=n(266),u=n(268),h=n(168),d=n(662),p=n(676),f=n(696),g=r.createClass({displayName:"MarkerSettings",mixins:[p,l.connect(c)],__:function(e){return u.getLocaleString(this.state.locale,e)},propTypes:{onChange:r.PropTypes.func.isRequired,layer:r.PropTypes.object.isRequired,style:r.PropTypes.object.isRequired},getInitialState:function(){var e={shape:"MAP_PIN",size:"32",width:32,height:32,shapeFill:"red",shapeFillOpacity:1,shapeStroke:"#212121",shapeStrokeWidth:1,icon:"none",iconFill:"white",iconFillOpacity:1,iconStroke:"#212121",iconStrokeWidth:0,inverted:!1};return this.props.style.layers&&Array.isArray(this.props.style.layers)&&this.props.style.layers.length>0&&this.props.style.layers.forEach(function(t){t.id.startsWith("omh-data-point")&&(t.metadata&&t.metadata["maphubs:markers"]?d(e,t.metadata["maphubs:markers"]):e.shapeFill=t.paint["circle-color"])}),{style:this.props.style,options:e}},componentDidMount:function(){h(".tooltip-marker-settings").tooltip()},componentWillReceiveProps:function(e){this.setState({style:e.style})},onFormChange:function(e){e.size&&(e.width=parseInt(e.size),e.height=parseInt(e.size));var t=JSON.parse(JSON.stringify(this.state.options));d(t,e),e.inverted&&!this.state.options.inverted&&(t.shapeStroke=t.shapeFill,t.iconFill=t.shapeFill,t.shapeFill="white",t.shapeFillOpacity=.75,t.shapeStrokeWidth=2),!e.inverted&&this.state.options.inverted&&(t.shapeFill=t.shapeStroke,t.iconFill="white",t.shapeStroke="#212121",t.shapeFillOpacity=1,t.shapeStrokeWidth=1);var n;n=t.enabled?f.enableMarkers(this.state.style,t,this.props.layer.layer_id):f.disableMarkers(this.state.style),this.setState({style:n,options:t}),this.props.onChange(n,t),h(".tooltip-marker-settings").tooltip("remove"),h(".tooltip-marker-settings").tooltip()},render:function(){var e=[{value:"MAP_PIN",label:this.__("Map Pin")},{value:"SQUARE_PIN",label:this.__("Square Pin")},{value:"SQUARE_ROUNDED",label:this.__("Rounded Square")},{value:"SQUARE",label:this.__("Square")},{value:"CIRCLE",label:this.__("Circle")}],t=[{value:"16",label:"16"},{value:"24",label:"24"},{value:"32",label:"32"},{value:"40",label:"40"},{value:"48",label:"48"},{value:"56",label:"56"},{value:"64",label:"64"},{value:"96",label:"96"}],n=[{value:"none",label:this.__("None")},{value:"maphubs-icon-boat",label:this.__("Boat")},{value:"maphubs-icon-campfire",label:this.__("Campfire")},{value:"maphubs-icon-cargo-ship",label:this.__("Cargo Ship")},{value:"maphubs-icon-chainsaw",label:this.__("Chainsaw")},{value:"maphubs-icon-chipmunk",label:this.__("Chipmunk")},{value:"maphubs-icon-clearcutting",label:this.__("Clearcutting")},{value:"maphubs-icon-clipboard",label:this.__("Clipboard")},{value:"maphubs-icon-clinic",label:this.__("Clinic")},{value:"maphubs-icon-dam",label:this.__("Dam")},{value:"maphubs-icon-dolphin",label:this.__("Dolphin")},{value:"maphubs-icon-elephant",label:this.__("Elephant")},{value:"maphubs-icon-eye",label:this.__("Eye")},{value:"maphubs-icon-factory",label:this.__("Factory")},{value:"maphubs-icon-farmer",label:this.__("Farmer")},{value:"maphubs-icon-farmer-family",label:this.__("Farmer Family")},{value:"maphubs-icon-farmer-wife",label:this.__("Farmer Wife")},{value:"maphubs-icon-fox",label:this.__("Fox")},{value:"maphubs-icon-gorilla",label:this.__("Gorilla")},{value:"maphubs-icon-hand-one",label:this.__("Hand")},{value:"maphubs-icon-hummingbird",label:this.__("HummingBird")},{value:"maphubs-icon-log-pile",label:this.__("Log Pile")},{value:"maphubs-icon-magnifier",label:this.__("Magnifier")},{value:"maphubs-icon-mining",label:this.__("Mining")},{value:"maphubs-icon-money",label:this.__("Money")},{value:"maphubs-icon-oil",label:this.__("Oil")},{value:"maphubs-icon-palm-oil",label:this.__("Palm Oil")},{value:"maphubs-icon-play",label:this.__("Play")},{value:"maphubs-icon-sawblade",label:this.__("Sawblade")},{value:"maphubs-icon-star",label:this.__("Star")},{value:"maphubs-icon-tractor",label:this.__("Tractor")},{value:"maphubs-icon-truck",label:this.__("Truck")},{value:"maphubs-icon-tug-boat",label:this.__("Tug Boat")},{value:"maphubs-icon-turtle",label:this.__("Turtle")},{value:"maphubs-icon-turtle2",label:this.__("Turtle 2")},{value:"maphubs-icon-video",label:this.__("Video")},{value:"maphubs-icon-village",label:this.__("Village")},{value:"maphubs-icon-whale",label:this.__("Whale")},{value:"maphubs-icon-wifi",label:this.__("WiFi")},{value:"maphubs-icon-wolf",label:this.__("Wolf")}];return r.createElement("div",null,r.createElement("div",{className:"row"},r.createElement(i.Form,{ref:"form",onChange:this.onFormChange},r.createElement("div",{className:"row",style:{marginTop:"10px",marginBottom:"0px",padding:"0 .75rem"}},r.createElement("b",null,this.__("Enable Markers")),r.createElement(o,{name:"enabled",labelOff:this.__("Off"),labelOn:this.__("On"),className:"tooltip-label-settings",checked:this.state.options.enabled,dataPosition:"right",dataTooltip:this.__("Enable markers for this Layer")})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{name:"shape",id:"markers-shape-select",label:this.__("Marker Shape"),options:e,className:"col s12 tooltip-marker-settings no-margin",value:this.state.options.shape,defaultValue:this.state.options.shape,startEmpty:!this.state.options.shape,dataPosition:"right",dataTooltip:this.__("Shape of the map marker"),required:!0})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{name:"size",id:"markers-size-select",label:this.__("Marker Size"),options:t,className:"col s12 tooltip-marker-settings no-margin",value:this.state.options.size,defaultValue:this.state.options.size,startEmpty:!this.state.options.size,dataPosition:"right",dataTooltip:this.__("Size of the map marker"),required:!0})),r.createElement("div",{className:"row no-margin"},r.createElement(s,{name:"icon",id:"markers-icon-select",label:this.__("Marker Icon"),options:n,className:"col s12 tooltip-marker-settings no-margin",value:this.state.options.icon,defaultValue:this.state.options.icon,startEmpty:!this.state.options.icon,dataPosition:"right",dataTooltip:this.__("Maker icon overlay"),required:!0})),r.createElement("div",{className:"row no-margin",style:{padding:"0 .75rem"}},r.createElement("b",null,this.__("Invert Colors")),r.createElement(o,{name:"inverted",labelOff:this.__("Off"),labelOn:this.__("On"),className:"tooltip-label-settings",checked:this.state.options.inverted,dataPosition:"right",dataTooltip:this.__("Invert colors")})))))}});e.exports=g}]);